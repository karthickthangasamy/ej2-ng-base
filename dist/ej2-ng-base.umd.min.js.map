/*!
*  filename: ej2-ng-base.umd.min.js.map
*  version : 1.0.25
*  Copyright Syncfusion Inc. 2001 - 2017. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/

{"version":3,"sources":["ej2-ng-base.umd.js"],"names":["root","factory","exports","module","require","define","amd","a","i","this","__WEBPACK_EXTERNAL_MODULE_2__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","undefined","complex_array_base_1","component_base_1","form_base_1","util_1","template_1","__export","hasOwnProperty","Object","defineProperty","value","apply","ej2_base_1","ComplexBase","hasChanges","propCollection","tags","tagObjects","prototype","ngOnInit","registeredTemplate","_i","_a","length","tag","objInstance","getValue","substring","toUpperCase","push","instance","name","templateProperties","keys","filter","val","test","_b","templateProperties_1","tempName","propName","replace","setValue","ngOnChanges","changes","changedVal","currentValue","clearTemplate","templateNames","getProperties","tagObject","isChanged","result","item","ngAfterContentChecked","ngAfterViewChecked","ArrayBase","propertyName","list","isInitChanges","ngAfterContentInit","_this","index","children","map","child","property","onlyProp","RegExp","ngAfterViewInit","applyMixins","derivedClass","baseClass","forEach","getOwnPropertyNames","regTemplates","regProperties","_c","rt","destroyed","destroy","_d","_e","nameSpace","object","split","fromObj","key","core_1","ComponentBase","ngBoundedEvents","complexTemplate","complexTemplates","complexTemplates_1","setProperties","setTimeout","appendTo","element","ngOnDestroy","isUndefined","propObj","curIndex","indexOf","registerEvents","eventList","ngEventsEmitter","eventList_1","EventEmitter","addTwoWay","propList","this_1","propList_1","prop","get","properties","set","newVal","oldVal","saveChanges","isNullOrUndefined","emit","addEventListener","eventName","handler","eventObj","Map","subscribe","removeEventListener","unsubscribe","trigger","eventArgs","next","localEventObj","charAt","slice","global","rxjs_Observable","rxjs_observable_merge","rxjs_operator_share","rxjs_Subject","__extends","d","b","__","constructor","extendStatics","create","getSymbolIterator","_symbolIterator","Symbol","_global","iterator","scheduleMicroTask","fn","Zone","current","looseIdentical","isNaN","stringify","token","overriddenName","res","toString","newLineIndex","extractAnnotation","annotation","applyParams","fnOrArray","String","Function","Number","Array","Error","isArray","annotations","annoLength","paramsAnnotations","ii","paramAnnotations","j","Reflect$1","defineMetadata","Class","clsDef","proto","extends","constructorName","_nextClassId","makeDecorator","props","parentClass","chainFn","DecoratorFactory","objOrType","getOwnMetadata","metaCtor","annotationInstance","chainAnnotation","TypeDecorator","cls","makeMetadataCtor","annotationCls","args","arguments","values","makeParamDecorator","ParamDecoratorFactory","ParamDecorator","unusedKey","parameters","bind","concat","makePropDecorator","PropDecoratorFactory","decoratorInstance","target","meta","unshift","isDefaultChangeDetectionStrategy","changeDetectionStrategy","ChangeDetectionStrategy","Default","forwardRef","forwardRefFn","__forward_ref__","resolveForwardRef","type","getDebugContext","error","ERROR_DEBUG_CONTEXT","getOriginalError","ERROR_ORIGINAL_ERROR","getErrorLogger","ERROR_LOGGER","defaultErrorLogger","console","wrappedError","message","originalError","msg","findFirstClosedCycle","constructResolvingPath","reverse","k","join","injectionError","injector","constructResolvingMessage","errMsg","addKey","injectors","noProviderError","cyclicDependencyError","instantiationError","originalException","originalStack","first","invalidProviderError","provider","noAnnotationError","typeOrFunc","params","signature","parameter","outOfBoundsError","mixingMultiProvidersWithRegularProvidersError","provider1","provider2","isType","v","convertTsickleDecoratorIntoMetadata","decoratorInvocations","decoratorInvocation","decoratorType","annotationArgs","getParentCtor","ctor","parentProto","getPrototypeOf","resolveReflectiveFactory","factoryFn","resolvedDeps","useClass","reflector","_dependenciesFor","useExisting","aliasInstance","ReflectiveDependency","fromKey","ReflectiveKey","useFactory","constructDependencies","deps","useValue","_EMPTY_LIST","ResolvedReflectiveFactory","resolveReflectiveProvider","ResolvedReflectiveProvider_","provide","multi","resolveReflectiveProviders","providers","normalized","_normalizeProviders","resolved","resolvedProviderMap","mergeResolvedReflectiveProviders","from","normalizedProvidersMap","existing","multiProvider","resolvedFactories","resolvedProvider","Type","dependencies","params_1","t","_extractToken","some","metadata","optional","Inject","_createDependency","visibility","paramMetadata","Optional","Self","SkipSelf","InjectionToken","_mapProviders","_providers","getProviderAtIndex","isPromise","obj","then","isObservable","_appIdRandomProviderFactory","_randomChar","fromCharCode","Math","floor","random","_throwError","noComponentFactoryError","component","ERROR_COMPONENT","detectWTF","wtf","trace","events","createScope$1","flags","createScope","leave","scope","returnValue","leaveScope","startTimeRange","rangeType","action","beginTimeRange","endTimeRange","range","noopScope","arg0","arg1","checkStable","zone","_nesting","hasPendingMicrotasks","isStable","onMicrotaskEmpty","runOutsideAngular","onStable","forkInnerZoneWithAngularBehavior","_inner","fork","isAngularZone","onInvokeTask","delegate","task","applyThis","applyArgs","onEnter","invokeTask","onLeave","onInvoke","callback","source","invoke","onHasTask","hasTaskState","hasTask","change","microTask","hasPendingMacrotasks","macroTask","onHandleError","handleError","onError","onUnstable","setTestabilityGetter","getter","_testabilityGetter","enableProdMode","_runModeLocked","_devMode","isDevMode","createPlatform","_platform","ALLOW_MULTIPLE_PLATFORMS","PlatformRef","inits","PLATFORM_INITIALIZER","init","createPlatformFactory","parentPlatformFactory","marker","extraProviders","platform","getPlatform","ReflectiveInjector","resolveAndCreate","assertPlatform","requiredToken","destroyPlatform","_callAndReportToErrorHandler","errorHandler","ngZone","catch","e","remove","el","splice","registerModuleFactory","moduleFactories","moduleType","getModuleFactory","flatten","reduce","flat","flatItem","checkNotEmpty","modulePath","exportName","asNativeElements","debugEls","nativeElement","_queryElementChildren","predicate","matches","childNodes","node","DebugElement","_queryNodeChildren","parentNode","getDebugNode","nativeNode","_nativeNodeToDebugNode","indexDebugNode","removeDebugNodeFromIndex","delete","devModeEqual","isListLikeIterableA","isListLikeIterable","isListLikeIterableB","areIterablesEqual","isAObject","isBObject","isJsObject","comparator","iterator1","iterator2","item1","item2","done","iterateListLike","o","getPreviousIndex","addRemoveOffset","moveOffsets","previousIndex","moveOffset","getTypeNameForDebugging","_reflector","_iterableDiffersFactory","defaultIterableDiffers","_keyValueDiffersFactory","defaultKeyValueDiffers","_localeFactory","locale","asTextData","view","nodes","asElementData","asProviderData","asPureExpressionData","asQueryList","expressionChangedAfterItHasBeenCheckedError","context","oldValue","currValue","isFirstCheck","viewDebugError","viewWrappedDebugError","err","_addDebugContext","logError","isViewDebugError","viewDestroyedError","tokenKey","_tokenKeyCache","size","unwrapValue","nodeIdx","bindingIdx","WrappedValue","wrapped","globalBindingIdx","def","bindingIndex","oldValues","createRendererType2","UNDEFINED_RENDERER_TYPE_ID","styles","encapsulation","data","resolveRendererType2","isFilled","ViewEncapsulation","None","_renderCompCount","EMPTY_RENDERER_TYPE_ID","checkBinding","state","checkAndUpdateBinding","checkBindingNoChanges","Services","createDebugContext","nodeIndex","markParentViewsForCheck","currView","viewContainerParent","parent","markParentViewsForCheckProjectedViews","endView","dispatchEvent","event","componentView","handleEvent","declaredViewContainer","viewParentEl","renderNode","renderElement","renderText","elementEventFullName","isComponentView","isEmbeddedView","filterQueryId","queryId","splitMatchedQueriesDsl","matchedQueriesDsl","matchedQueries","matchedQueryIds","references","valueType","splitDepsDsl","getParentRenderElement","renderHost","renderParent","componentRendererType","Native","resolveDefinition","DEFINITION_CACHE","NOOP","rootRenderNodes","renderNodes","visitRootRenderNodes","nextSibling","renderer","visitSiblingRenderNodes","startIndex","endIndex","nodeDef","visitRenderNode","childCount","visitProjectedRenderNodes","ngContentIndex","compView","hostView","hostElDef","projectedNodes","projectableNodes","execRenderNodeAction","rn","bindingFlags","embeddedViews","_embeddedViews","appendChild","insertBefore","removeChild","splitNamespace","match","NS_PREFIX_RE","calcBindingFlags","bindings","interpolate","valueCount","constAndInterp","_toStringWithNull","inlineInterpolate","c0","a1","c1","a2","c2","a3","c3","a4","c4","a5","c5","a6","c6","a7","c7","a8","c8","a9","c9","anchorDef","templateFactory","outputIndex","checkIndex","childFlags","directChildFlags","childMatchedQueries","outputs","ns","attrs","template","componentProvider","publicProviders","allProviders","text","query","ngContent","elementDef","namespaceAndName","fixedAttrs","bindingDefs","namespaceAndName_1","suffixOrSecurityContext","ns_1","name_1","securityContext","suffix","nonMinifiedName","outputDefs","createElement","elDef","rootSelectorOrNode","selectorOrNode","createComment","parentEl","selectRootElement","setAttribute","listenToElementOutputs","output","handleEventClosure","renderEventHandlerClosure","listenTarget","listenerView","disposable","listen","checkAndUpdateElementInline","v0","v1","v2","v3","v4","v5","v6","v7","v8","v9","bindLen","changed","checkAndUpdateElementValue","checkAndUpdateElementDynamic","binding","elData","renderNode$$1","setElementAttribute","setElementClass","setElementStyle","setElementProperty","renderValue","sanitizer","sanitize","removeAttribute","addClass","removeClass","SecurityContext","STYLE","unit","setStyle","removeStyle","setProperty","moduleProvideDef","moduleDef","providersByKey","initNgModule","_def","provDef","_createProviderInstance$1","resolveNgModuleDep","depDef","notFoundValue","Injector","THROW_IF_NOT_FOUND","_parent","tokenKey$$1","InjectorRefTokenKey$1","NgModuleRefTokenKey","providerDef","providerInstance","UNDEFINED_VALUE","ngModule","injectable","_createClass","_callFactory","len","depValues","callNgModuleLifecycle","lifecycles","attachEmbeddedView","parentView","elementData","viewIndex","addToArray","attachProjectedView","dirtyParentQueries","renderAttachEmbeddedView","vcElementData","dvcElementData","projectedViews","_projectedViews","markNodeAsProjectedTemplate","viewDef","nodeFlags","parentNodeDef","detachEmbeddedView","removeFromArray","renderDetachView","detachProjectedView","moveEmbeddedView","oldViewIndex","newViewIndex","prevView","prevRenderNode","arr","pop","createComponentFactory","selector","componentType","viewDefFactory","inputs","ngContentSelectors","ComponentFactory_","getComponentViewDefinitionFactory","componentFactory","createViewContainerData","ViewContainerRef_","createChangeDetectorRef","ViewRef_","createTemplateData","TemplateRef_","createInjector","Injector_","nodeValue","createRendererV1","RendererAdapter","createNgModuleRef","bootstrapComponents","NgModuleRef_","directiveDef","pipeDef","depDefs","createProviderInstance","_createProviderInstance","createPipeInstance","createClass","createDirectiveInstance","allowPrivateServices","subscription","eventHandlerClosure","checkAndUpdateDirectiveInline","providerData","directive","updateProp","ngDoCheck","checkAndUpdateDirectiveDynamic","callFactory","resolveDep","startView","ChangeDetectorRefTokenKey","RendererV1TokenKey","findCompView","Renderer2TokenKey","ElementRefTokenKey","ElementRef","ViewContainerRefTokenKey","viewContainer","TemplateRefTokenKey","InjectorRefTokenKey","providerDef_1","NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR","SimpleChange","callLifecycleHooksChildrenFirst","callProviderLifecycles","callElementProvidersLifecycles","setCurrentNode","queryDef","bindingType","filterId","createQuery","QueryList","queryIds","nodeMatchedQueries","tplDef","end","setDirty","checkAndUpdateQuery","queryList","dirty","directiveInstance","newValues","elementDef_1","calcQueryValues","reset","notify","boundValue","notifyOnChanges","getQueryValue","embeddedView","dvc","projectedView","queryValueType","ngContentDef","appendNgContent","purePipeDef","argCount","_pureExpressionDef","pureArrayDef","pureObjectDef","propToIndex","nbKeys","propertyNames","createPureExpression","checkAndUpdatePureExpressionInline","pipe","transform","checkAndUpdatePureExpressionDynamic","textDef","staticText","prefix","createText","checkAndUpdateTextInline","_addInterpolationPart","checkAndUpdateTextDynamic","updateDirectives","updateRenderer","viewBindingCount","viewDisposableCount","viewNodeFlags","viewRootNodeFlags","viewMatchedQueries","currentParent","currentRenderParent","currentElementHasPublicProviders","currentElementHasPrivateProviders","lastRenderRootNode","validateNode","isPrivateService","isComponent","isNgContainer","newParent","rootNodeFlags","bindingCount","outputCount","nodeCount","parentEnd","createEmbeddedView","anchorDef$$1","createView","initView","createViewNodes","createRootView","createComponentView","hostElement","compRenderer","rendererType","rendererFactory","createRenderer","disposables","hostDef","nodeData","compViewDef","execComponentViewsAction","ViewAction","CreateViewNodes","execQueriesAction","checkNoChangesView","markProjectedViewsForCheck","execEmbeddedViewsAction","CheckNoChanges","checkAndUpdateView","CheckAndUpdate","checkAndUpdateNode","argStyle","checkAndUpdateNodeInline","checkAndUpdateNodeDynamic","i_1","checkNoChangesNode","checkNoChangesNodeInline","checkNoChangesNodeDynamic","checkNoChangesQuery","destroyView","Destroy","destroyNode","destroyViewNodes","callViewAction","viewState","execProjectedViewsAction","CheckNoChangesProjectedViews","CheckAndUpdateProjectedViews","queryFlags","staticDynamicQueryFlag","checkType","initServicesIfNeeded","initialized","services","createDebugServices","createProdServices","overrideProvider","clearProviderOverrides","createProdRootView","DebugContext_","prodCheckAndUpdateNode","prodCheckNoChangesNode","debugSetCurrentNode","debugCreateRootView","debugCreateEmbeddedView","debugCreateComponentView","debugCreateNgModuleRef","debugOverrideProvider","debugClearProviderOverrides","debugCheckAndUpdateView","debugCheckNoChangesView","debugDestroyView","debugHandleEvent","debugUpdateDirectives","debugUpdateRenderer","elInjector","createRootData","RendererFactory2","DebugRendererFactory2","defWithOverride","applyProviderOverridesToView","callWithDebugContext","DebugAction","Sanitizer","ErrorHandler","viewDef$$1","parentInjector","applyProviderOverridesToNgModule","override","providerOverrides","clear","elementIndicesWithOverwrittenProviders","elIndicesWithOverwrittenProviders","lastElementDef","has","elIndex","hasOverrides","hasDeprecatedOverrides","deprecatedBehavior","detectChanges","checkNoChanges","_currentView","_currentNodeIndex","debugCheckDirectivesFn","debugCheckAndUpdateNode","debugCheckNoChangesNode","nextDirectiveWithBinding","_currentAction","debugCheckRenderNodeFn","nextRenderNodeWithBinding","givenValues","bindingValues","normalizeDebugBindingName","normalizeDebugBindingValue","attr","JSON","camelCaseToDashCase","input","CAMEL_CASE_REGEXP","toLowerCase","getRenderNodeIndex","renderNodeIndex","findHostElement","collectReferences","refName","self","oldAction","oldView","oldNodeIndex","getCurrentDebugContext","createNgModuleFactory","ngModuleType","defFactory","NgModuleFactory_","trigger$1","definitions","options","animate$1","timings","group$1","steps","sequence$1","style$1","tokens","offset","state$1","keyframes$1","transition$1","stateChangeExpr","expr","animation","trigger$$1","animate$$1","group$$1","sequence$$1","style$$1","state$$1","keyframes$$1","transition$$1","setPrototypeOf","__proto__","OpaqueToken","_desc","_super","desc","__window","window","__self","WorkerGlobalScope","__global","ANALYZE_FOR_ENTRY_COMPONENTS","Attribute","attributeName","Query","ContentChildren","assign","isViewQuery","descendants","ContentChild","ViewChildren","ViewChild","OnPush","ChangeDetectorStatus","CheckOnce","Checked","CheckAlways","Detached","Errored","Destroyed","Directive","dir","Component","changeDetection","Pipe","pure","Input","bindingPropertyName","Output","HostBinding","hostPropertyName","HostListener","CUSTOM_ELEMENTS_SCHEMA","NO_ERRORS_SCHEMA","NgModule","Emulated","ViewMetadata","opts","templateUrl","styleUrls","animations","interpolation","Version","full","enumerable","configurable","VERSION","Injectable","Host","_THROW_IF_NOT_FOUND","_NullInjector","NULL","deprecatedParameter","_console","_findOriginalError","_findContext","errorLogger","_globalKeyRegistry","numberOfKeys","KeyRegistry","_allKeys","newKey","DELEGATE_CTOR","ReflectionCapabilities","reflect","_reflect","isReflectionEnabled","_zipTypesAndAnnotations","paramTypes","_ownParameters","parentCtor","exec","tsickleCtorParams","ctorParameters","ctorParam","decorators","fill","_ownAnnotations","ownAnnotations","_ownPropMetadata","propMetadata","propDecorators","propDecorators_1","propMetadata_1","parentPropMetadata_1","ownPropMetadata","hasLifecycleHook","lcProperty","setter","method","functionBody","importUri","resourceUri","resolveIdentifier","moduleUrl","members","runtime","resolveEnum","enumIdentifier","Reflector","reflectionCapabilities","updateCapabilities","caps","identifier","UNDEFINED","resolve","ResolvedReflectiveProviders","fromResolvedProviders","ReflectiveInjector_","resolveAndCreateChild","createChildFromResolved","resolveAndInstantiate","instantiateResolved","_constructionCounter","keyIds","objs","_getByKey","inj","_instantiateProvider","_new","_getMaxNumberOfObjects","_instantiate","ResolvedReflectiveFactory$$1","dep","_getByReflectiveDependency","stack","INJECTOR_KEY","_getByKeySelf","_getByKeyDefault","_getObjByKeyId","keyId","_throwOrNull","inj_","displayName","APP_INITIALIZER","ApplicationInitStatus","appInits","_done","_donePromise","Promise","rej","reject","runInitializers","asyncInitPromises","complete","initResult","all","APP_ID","APP_ID_RANDOM_PROVIDER","PLATFORM_ID","APP_BOOTSTRAP_LISTENER","PACKAGE_ROOT_URL","Console","log","warn","ModuleWithComponentFactories","ngModuleFactory","componentFactories","Compiler","compileModuleSync","compileModuleAsync","compileModuleAndAllComponentsSync","compileModuleAndAllComponentsAsync","getNgContentSelectors","clearCache","clearCacheFor","COMPILER_OPTIONS","CompilerFactory","createCompiler","ComponentRef","location","changeDetectorRef","onDestroy","ComponentFactory","_NullComponentFactoryResolver","resolveComponentFactory","ComponentFactoryResolver","CodegenComponentFactoryResolver","factories","_ngModule","_factories","ComponentFactoryBoundToModule","NgModuleRef","componentFactoryResolver","NgModuleFactory","wtfEnabled","wtfCreateScope","wtfLeave","s","r","wtfStartTimeRange","wtfEndTimeRange","isAsync","__isAsync","generatorOrNext","schedulerFn","errorFn","completeFn","Subject","NgZone","enableLongStackTrace","assertZonePatched","_outer","isInAngularZone","assertInAngularZone","assertNotInAngularZone","run","runGuarded","Testability","_ngZone","_pendingCount","_isZoneStable","_didWork","_callbacks","_watchAngularEvents","_runCallbacksIfReady","increasePendingRequestCount","decreasePendingRequestCount","whenStable","getPendingRequestCount","findBindings","using","exactMatch","findProviders","TestabilityRegistry","_applications","addToWindow","registerApplication","testability","getTestability","elem","getAllTestabilities","getAllRootElements","findTestabilityInTree","findInAncestors","_NoopGetTestability","registry","NgProbeToken","bootstrapModuleFactory","moduleFactory","bootstrapModule","compilerOptions","PlatformRef_","_injector","_modules","_destroyListeners","_destroyed","listener","_bootstrapModuleFactoryWithZone","ngZoneInjector","moduleRef","exceptionHandler","initStatus","donePromise","_moduleDoBootstrap","_bootstrapModuleWithZone","appRef","ApplicationRef","_bootstrapComponents","f","bootstrap","ngDoBootstrap","tick","componentTypes","components","attachView","detachView","viewCount","ApplicationRef_","_zone","_exceptionHandler","_componentFactoryResolver","_initStatus","_bootstrapListeners","_rootComponents","_rootComponentTypes","_views","_runningTick","_enforceNoNewChanges","_stable","isCurrentlyStable","Observable","observer","stableSub","unstableSub","_isStable","merge","share","viewRef","attachToAppRef","detachFromAppRef","componentOrFactory","compRef","_unloadComponent","_loadComponent","componentRef","_tickScope","RenderComponentType","slotCount","RenderDebugInfo","providerTokens","Renderer","debugInfo","parentElement","createViewRoot","createTemplateAnchor","projectNodes","attachViewAfter","viewRootNodes","viewAllNodes","listenGlobal","propertyValue","attributeValue","setBindingDebugInfo","className","isAdd","styleName","styleValue","invokeElementMethod","methodName","setText","animate","startingStyles","keyframes","duration","delay","easing","previousPlayers","RootRenderer","renderComponent","begin","whenRenderingDone","RendererStyleFlags2","Important","DashCase","Renderer2","namespace","newChild","refChild","oldChild","style","NgModuleFactoryLoader","load","path","_dirty","_results","_emitter","find","toArray","SystemJsNgModuleLoaderConfig","DEFAULT_CONFIG","factoryPathPrefix","factoryPathSuffix","SystemJsNgModuleLoader","_compiler","config","_config","loadFactory","loadAndCompile","System","import","factoryClassSuffix","TemplateRef","elementRef","ViewContainerRef","templateRef","createComponent","insert","move","currentIndex","detach","ChangeDetectorRef","markForCheck","reattach","ViewRef","EmbeddedViewRef","rootNodes","EventListener","DebugNode","_debugContext","addChild","listeners","attributes","classes","childIndex","insertChildrenAfter","newChildren","siblingIndex","refIndex","queryAll","queryAllNodes","triggerEventHandler","wrap","ValueUnwrapper","hasWrappedValue","unwrap","previousValue","firstChange","isFirstChange","DefaultIterableDifferFactory","supports","cdRefOrTrackBy","trackByFn","DefaultIterableDiffer","trackByIdentity","_length","_collection","_linkedRecords","_unlinkedRecords","_previousItHead","_itHead","_itTail","_additionsHead","_additionsTail","_movesHead","_movesTail","_removalsHead","_removalsTail","_identityChangesHead","_identityChangesTail","_trackByFn","forEachItem","record","_next","forEachOperation","nextIt","nextRemove","adjPreviousIndex","_nextRemoved","localMovePreviousIndex","localCurrentIndex","forEachPreviousItem","_nextPrevious","forEachAddedItem","_nextAdded","forEachMovedItem","_nextMoved","forEachRemovedItem","forEachIdentityChange","_nextIdentityChange","diff","collection","check","_reset","itemTrackBy","mayBeDirty","index_1","trackById","_verifyReinsertion","_addIdentityChange","_mismatch","_truncate","isDirty","nextRecord","previousRecord","_prev","_remove","_moveAfter","_reinsertAfter","_addAfter","IterableChangeRecord_","reinsertRecord","_addToMoves","_addToRemovals","_unlink","prevRecord","prev","_prevRemoved","_insertAfter","_DuplicateMap","put","toIndex","previous","additions","moves","removals","identityChanges","_prevDup","_nextDup","_DuplicateItemRecordList","_head","_tail","add","atOrAfterIndex","duplicates","recordList","DefaultKeyValueDifferFactory","cd","DefaultKeyValueDiffer","_records","_mapHead","_appendAfter","_previousMapHead","_changesHead","_changesTail","forEachChangedItem","_nextChanged","_forEach","_maybeAddToChanges","_getOrCreateRecordForKey","_insertBeforeOrAppend","before","record_1","KeyValueChangeRecord_","_addToAdditions","newValue","_addToChanges","IterableDiffers","copied","extend","iterable","KeyValueDiffers","kv","keyValDiff","iterableDiff","_CORE_PLATFORM_PROVIDERS","platformCore","LOCALE_ID","TRANSLATIONS","TRANSLATIONS_FORMAT","MissingTranslationStrategy","Warning","Ignore","ApplicationModule","NONE","HTML","SCRIPT","URL","RESOURCE_URL","DebugContext","componentRenderElement","WeakMap","EMPTY_ARRAY","EMPTY_MAP","EMPTY_CONTEXT","_inputs","_outputs","inputsArr","templateName","outputsArr","componentNodeIndex","ComponentRef_","_view","_viewRef","_component","_elDef","_data","ref","attachToViewContainerRef","ngModuleRef","contextInjector","viewRef_","viewData","_viewContainerRef","_appRef","fs","vcRef","_parentView","comment","_moduleType","elView","elOrCompView","childDef","logViewDef","logNodeIndex","currRenderNodeIndex","nodeLogger","renderData","DebugRenderer2","debugCtx","debugEl","debugChildEl","debugRefEl","fullName","_ngModuleDefFactory","ɵALLOW_MULTIPLE_PLATFORMS","ɵAPP_ID_RANDOM_PROVIDER","ɵValueUnwrapper","ɵdevModeEqual","ɵisListLikeIterable","ɵChangeDetectorStatus","ɵisDefaultChangeDetectionStrategy","ɵConsole","ɵERROR_COMPONENT_TYPE","ɵComponentFactory","ɵCodegenComponentFactoryResolver","ɵViewMetadata","ɵReflectionCapabilities","ɵRenderDebugInfo","ɵglobal","ɵlooseIdentical","ɵstringify","ɵmakeDecorator","ɵisObservable","ɵisPromise","ɵclearProviderOverrides","ɵoverrideProvider","ɵNOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR","ɵregisterModuleFactory","ɵEMPTY_ARRAY","ɵEMPTY_MAP","ɵand","ɵccf","ɵcmf","ɵcrt","ɵdid","ɵeld","ɵelementEventFullName","ɵgetComponentViewDefinitionFactory","ɵinlineInterpolate","ɵinterpolate","ɵmod","ɵmpd","ɵncd","ɵnov","ɵpid","ɵprd","ɵpad","ɵpod","ɵppd","ɵqud","ɵted","ɵunv","ɵvid","AUTO_STYLE","group","sequence","transition","ɵx","ɵy","ɵbc","ɵz","ɵbb","ɵba","ɵbd","ɵw","ɵk","ɵl","ɵm","ɵe","ɵf","ɵg","ɵh","ɵi","ɵj","ɵb","ɵc","ɵd","ɵn","ɵp","ɵo","ɵs","ɵq","ɵr","ɵa","ɵt","ɵu","root_1","toSubscriber_1","observable_1","pipe_1","_isScalar","_subscribe","lift","operator","observable","observerOrNext","sink","toSubscriber","_trySubscribe","syncErrorThrowable","syncErrorThrown","syncErrorValue","PromiseCtor","Rx","subscriber","operations","pipeFromArray","toPromise","x","_root","nextOrObserver","Subscriber_1","Subscriber","rxSubscriber_1","rxSubscriber","Observer_1","empty","isFunction_1","Subscription_1","destinationOrNext","isStopped","destination","SafeSubscriber","_error","_complete","closed","_unsubscribeAndRecycle","_parents","Subscription","_parentSubscriber","isFunction","_context","__tryOrSetError","__tryOrUnsub","wrappedComplete","_unsubscribe","flattenUnsubscriptionErrors","errors","errs","UnsubscriptionError_1","UnsubscriptionError","isArray_1","isObject_1","tryCatch_1","errorObject_1","_subscriptions","hasErrors","trial","tryCatch","errorObject","sub","isObject","teardown","EMPTY","_addParent","tmp","subscriptions","subscriptionIndex","tryCatcher","tryCatchTarget","for","$$rxSubscriber","getSymbolObservable","$$observable","fns","noop_1","noop","merge_1","mergeStatic","observables","merge_2","concurrent","POSITIVE_INFINITY","scheduler","last","isScheduler_1","isScheduler","Observable_1","mergeAll_1","mergeAll","ArrayObservable_1","ArrayObservable","ScalarObservable_1","EmptyObservable_1","array","of","ScalarObservable","EmptyObservable","dispatch","count","schedule","arg","mergeMap_1","mergeMap","identity_1","identity","project","resultSelector","MergeMapOperator","subscribeToResult_1","OuterSubscriber_1","MergeMapSubscriber","hasCompleted","buffer","active","_tryNext","_innerSub","ish","subscribeToResult","notifyNext","outerValue","innerValue","outerIndex","innerIndex","innerSub","_notifyResultSelector","notifyComplete","shift","OuterSubscriber","outerSubscriber","InnerSubscriber_1","InnerSubscriber","isArrayLike_1","isArrayLike","isPromise_1","iterator_1","obs","TypeError","symbolIteratorPonyfill","Set_1","Set","Map_1","$$iterator","notifyError","share_1","shareSubjectFactory","Subject_1","refCount_1","refCount","multicast_1","multicast","subjectOrSubjectFactory","subjectFactory","MulticastOperator","connectable","ConnectableObservable_1","connectableObservableDescriptor","subject","ConnectableObservable","_refCount","_isComplete","getSubject","_subject","connect","connection","_connection","ConnectableSubscriber","connectableProto","writable","SubjectSubscriber","RefCountSubscriber","RefCountOperator","refCounter","sharedConnection","ObjectUnsubscribedError_1","SubjectSubscription_1","observers","hasError","thrownError","AnonymousSubject","ObjectUnsubscribedError","copy","SubjectSubscription","asObservable","subscriberIndex","FormBase","localChange","propagateChange","checked","registerOnChange","registerFunction","registerOnTouched","propagateTouch","ngEle","nodeName","ngOnFocus","ngOnBlur","writeValue","focus","blur","ej2_base_2","compile","templateEle","helper","stringCompiler","contRef_1","pName_1","$implicit","conRef","viewContainerRef","viewCollection","Template","defaultValue","propertyDescriptor","dataBind","getTemplateEngine","setTemplateEngine"],"mappings":"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","file":"ej2-ng-base.umd.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"@syncfusion/ej2-base\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"@syncfusion/ej2-base\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"@syncfusion/ej2-base\")) : factory(root[\"@syncfusion/ej2-base\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(1), __webpack_require__(4), __webpack_require__(46), __webpack_require__(3), __webpack_require__(47)], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, complex_array_base_1, component_base_1, form_base_1, util_1, template_1) {\n\t    \"use strict\";\n\t    function __export(m) {\n\t        for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n\t    }\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    __export(complex_array_base_1);\n\t    __export(component_base_1);\n\t    __export(form_base_1);\n\t    __export(util_1);\n\t    __export(template_1);\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(2), __webpack_require__(3)], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, ej2_base_1, util_1) {\n\t    \"use strict\";\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    var ComplexBase = (function () {\n\t        function ComplexBase() {\n\t            this.hasChanges = false;\n\t            this.propCollection = {};\n\t            this.tags = [];\n\t            this.tagObjects = [];\n\t        }\n\t        ComplexBase.prototype.ngOnInit = function () {\n\t            this.registeredTemplate = {};\n\t            for (var _i = 0, _a = this.tags; _i < _a.length; _i++) {\n\t                var tag = _a[_i];\n\t                var objInstance = ej2_base_1.getValue('child' + tag.substring(0, 1).toUpperCase() + tag.substring(1), this);\n\t                if (objInstance) {\n\t                    this.tagObjects.push({ instance: objInstance, name: tag });\n\t                }\n\t            }\n\t            var templateProperties = Object.keys(this);\n\t            templateProperties = templateProperties.filter(function (val) {\n\t                return /Ref$/i.test(val);\n\t            });\n\t            for (var _b = 0, templateProperties_1 = templateProperties; _b < templateProperties_1.length; _b++) {\n\t                var tempName = templateProperties_1[_b];\n\t                var propName = tempName.replace('Ref', '');\n\t                ej2_base_1.setValue(propName.replace('_', '.'), ej2_base_1.getValue(propName, this), this.propCollection);\n\t            }\n\t        };\n\t        ComplexBase.prototype.ngOnChanges = function (changes) {\n\t            for (var _i = 0, _a = Object.keys(changes); _i < _a.length; _i++) {\n\t                var propName = _a[_i];\n\t                var changedVal = changes[propName];\n\t                this.propCollection[propName] = changedVal.currentValue;\n\t            }\n\t            this.hasChanges = true;\n\t        };\n\t        ComplexBase.prototype.clearTemplate = function (templateNames) {\n\t            util_1.clearTemplate(this, templateNames);\n\t        };\n\t        ;\n\t        ComplexBase.prototype.getProperties = function () {\n\t            for (var _i = 0, _a = this.tagObjects; _i < _a.length; _i++) {\n\t                var tagObject = _a[_i];\n\t                this.propCollection[tagObject.name] = tagObject.instance.getProperties();\n\t            }\n\t            return this.propCollection;\n\t        };\n\t        ComplexBase.prototype.isChanged = function () {\n\t            var result = this.hasChanges;\n\t            for (var _i = 0, _a = this.tagObjects; _i < _a.length; _i++) {\n\t                var item = _a[_i];\n\t                result = result || item.instance.hasChanges;\n\t            }\n\t            return result;\n\t        };\n\t        ComplexBase.prototype.ngAfterContentChecked = function () {\n\t            this.hasChanges = this.isChanged();\n\t            var templateProperties = Object.keys(this);\n\t            templateProperties = templateProperties.filter(function (val) {\n\t                return /Ref$/i.test(val);\n\t            });\n\t        };\n\t        ComplexBase.prototype.ngAfterViewChecked = function () {\n\t            this.hasChanges = false;\n\t        };\n\t        return ComplexBase;\n\t    }());\n\t    exports.ComplexBase = ComplexBase;\n\t    var ArrayBase = (function () {\n\t        function ArrayBase(propertyName) {\n\t            this.list = [];\n\t            this.hasChanges = false;\n\t            this.propertyName = propertyName;\n\t        }\n\t        ArrayBase.prototype.ngOnInit = function () {\n\t            this.isInitChanges = true;\n\t        };\n\t        ArrayBase.prototype.ngAfterContentInit = function () {\n\t            var _this = this;\n\t            var index = 0;\n\t            this.list = this.children.map(function (child) {\n\t                child.index = index++;\n\t                child.property = _this.propertyName;\n\t                return child;\n\t            });\n\t            this.hasChanges = true;\n\t        };\n\t        ArrayBase.prototype.getProperties = function () {\n\t            var onlyProp = [];\n\t            for (var _i = 0, _a = this.list; _i < _a.length; _i++) {\n\t                var item = _a[_i];\n\t                onlyProp.push(item.getProperties());\n\t            }\n\t            return onlyProp;\n\t        };\n\t        ArrayBase.prototype.isChanged = function () {\n\t            var result = false;\n\t            for (var _i = 0, _a = this.list; _i < _a.length; _i++) {\n\t                var item = _a[_i];\n\t                result = result || item.hasChanges;\n\t            }\n\t            return !!this.list.length && result;\n\t        };\n\t        ArrayBase.prototype.clearTemplate = function (templateNames) {\n\t            var _this = this;\n\t            for (var _i = 0, _a = this.list; _i < _a.length; _i++) {\n\t                var item = _a[_i];\n\t                item.clearTemplate(templateNames && templateNames.map(function (val) {\n\t                    return new RegExp(_this.propertyName).test(val) ? val.replace(_this.propertyName + '.', '') : val;\n\t                }));\n\t            }\n\t        };\n\t        ArrayBase.prototype.ngAfterContentChecked = function () {\n\t            this.hasChanges = this.isChanged();\n\t        };\n\t        ArrayBase.prototype.ngAfterViewInit = function () {\n\t            this.isInitChanges = false;\n\t        };\n\t        return ArrayBase;\n\t    }());\n\t    exports.ArrayBase = ArrayBase;\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports) {\n\t    \"use strict\";\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    function applyMixins(derivedClass, baseClass) {\n\t        baseClass.forEach(function (baseClass) {\n\t            Object.getOwnPropertyNames(baseClass.prototype).forEach(function (name) {\n\t                derivedClass.prototype[name] = baseClass.prototype[name];\n\t            });\n\t        });\n\t    }\n\t    exports.applyMixins = applyMixins;\n\t    function clearTemplate(_this, templateNames) {\n\t        var regTemplates = Object.keys(_this.registeredTemplate);\n\t        if (regTemplates.length) {\n\t            var regProperties = templateNames && templateNames.filter(function (val) {\n\t                return (/\\./g.test(val) ? false : true);\n\t            });\n\t            for (var _i = 0, _a = (regProperties && regProperties || regTemplates); _i < _a.length; _i++) {\n\t                var registeredTemplate = _a[_i];\n\t                for (var _b = 0, _c = _this.registeredTemplate[registeredTemplate]; _b < _c.length; _b++) {\n\t                    var rt = _c[_b];\n\t                    if (!rt.destroyed) {\n\t                        rt.destroy();\n\t                    }\n\t                }\n\t                delete _this.registeredTemplate[registeredTemplate];\n\t            }\n\t        }\n\t        var _loop_1 = function (tagObject) {\n\t            if (tagObject.instance) {\n\t                tagObject.instance.clearTemplate((templateNames && templateNames.filter(function (val) {\n\t                    return (new RegExp(tagObject.name).test(val) ? true : false);\n\t                })));\n\t            }\n\t        };\n\t        for (var _d = 0, _e = _this.tagObjects; _d < _e.length; _d++) {\n\t            var tagObject = _e[_d];\n\t            _loop_1(tagObject);\n\t        }\n\t    }\n\t    exports.clearTemplate = clearTemplate;\n\t    function setValue(nameSpace, value, object) {\n\t        var keys = nameSpace.split('.');\n\t        var fromObj = object || {};\n\t        for (var i = 0; i < keys.length; i++) {\n\t            var key = keys[i];\n\t            if (i + 1 === keys.length) {\n\t                fromObj[key] = value === undefined ? {} : value;\n\t            }\n\t            else if (fromObj[key] === undefined) {\n\t                fromObj[key] = {};\n\t            }\n\t            fromObj = fromObj[key];\n\t        }\n\t        return fromObj;\n\t    }\n\t    exports.setValue = setValue;\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(2), __webpack_require__(5), __webpack_require__(3)], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, ej2_base_1, core_1, util_1) {\n\t    \"use strict\";\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    var ComponentBase = (function () {\n\t        function ComponentBase() {\n\t        }\n\t        ComponentBase.prototype.ngOnInit = function () {\n\t            this.registeredTemplate = {};\n\t            this.ngBoundedEvents = {};\n\t            this.tags = this.tags || [];\n\t            this.complexTemplate = this.complexTemplate || [];\n\t            this.tagObjects = [];\n\t            for (var _i = 0, _a = this.tags; _i < _a.length; _i++) {\n\t                var tag = _a[_i];\n\t                var tagObject = {\n\t                    instance: ej2_base_1.getValue('child' + tag.substring(0, 1).toUpperCase() + tag.substring(1), this),\n\t                    name: tag\n\t                };\n\t                this.tagObjects.push(tagObject);\n\t            }\n\t            var complexTemplates = Object.keys(this);\n\t            complexTemplates = complexTemplates.filter(function (val) {\n\t                return /Ref$/i.test(val) && /\\_/i.test(val);\n\t            });\n\t            for (var _b = 0, complexTemplates_1 = complexTemplates; _b < complexTemplates_1.length; _b++) {\n\t                var tempName = complexTemplates_1[_b];\n\t                var propName = tempName.replace('Ref', '');\n\t                var val = {};\n\t                ej2_base_1.setValue(propName.replace('_', '.'), ej2_base_1.getValue(propName, this), val);\n\t                this.setProperties(val, true);\n\t            }\n\t        };\n\t        ComponentBase.prototype.ngAfterViewInit = function () {\n\t            var _this = this;\n\t            setTimeout(function () {\n\t                _this.appendTo(_this.element);\n\t            });\n\t        };\n\t        ComponentBase.prototype.ngOnDestroy = function () {\n\t            this.destroy();\n\t            this.clearTemplate(null);\n\t        };\n\t        ComponentBase.prototype.clearTemplate = function (templateNames) {\n\t            util_1.clearTemplate(this, templateNames);\n\t        };\n\t        ;\n\t        ComponentBase.prototype.ngAfterContentChecked = function () {\n\t            for (var _i = 0, _a = this.tagObjects; _i < _a.length; _i++) {\n\t                var tagObject = _a[_i];\n\t                if (!ej2_base_1.isUndefined(tagObject.instance) && tagObject.instance.hasChanges) {\n\t                    if (tagObject.instance.isInitChanges) {\n\t                        var propObj = {};\n\t                        propObj[tagObject.name] = tagObject.instance.getProperties();\n\t                        this.setProperties(propObj, tagObject.instance.isInitChanges);\n\t                    }\n\t                    else {\n\t                        for (var _b = 0, _c = tagObject.instance.list; _b < _c.length; _b++) {\n\t                            var list = _c[_b];\n\t                            if (list.hasChanges) {\n\t                                var curIndex = tagObject.instance.list.indexOf(list);\n\t                                ej2_base_1.getValue(tagObject.name, this)[curIndex].setProperties(list.getProperties());\n\t                            }\n\t                        }\n\t                    }\n\t                }\n\t            }\n\t        };\n\t        ComponentBase.prototype.registerEvents = function (eventList) {\n\t            var ngEventsEmitter = {};\n\t            if (eventList && eventList.length) {\n\t                for (var _i = 0, eventList_1 = eventList; _i < eventList_1.length; _i++) {\n\t                    var event_1 = eventList_1[_i];\n\t                    ngEventsEmitter[event_1] = new core_1.EventEmitter(false);\n\t                }\n\t                this.setProperties(ngEventsEmitter, true);\n\t            }\n\t        };\n\t        ComponentBase.prototype.addTwoWay = function (propList) {\n\t            var _this = this;\n\t            var _loop_1 = function (prop) {\n\t                ej2_base_1.getValue(prop, this_1);\n\t                Object.defineProperty(this_1, prop, {\n\t                    get: function () {\n\t                        return ej2_base_1.getValue(prop, _this.properties);\n\t                    },\n\t                    set: function (newVal) {\n\t                        var oldVal = ej2_base_1.getValue(prop, _this.properties);\n\t                        if (oldVal === newVal) {\n\t                            return;\n\t                        }\n\t                        _this.saveChanges(prop, newVal, oldVal);\n\t                        ej2_base_1.setValue(prop, (ej2_base_1.isNullOrUndefined(newVal) ? null : newVal), _this.properties);\n\t                        ej2_base_1.getValue(prop + 'Change', _this).emit(newVal);\n\t                    }\n\t                });\n\t                ej2_base_1.setValue(prop + 'Change', new core_1.EventEmitter(), this_1);\n\t            };\n\t            var this_1 = this;\n\t            for (var _i = 0, propList_1 = propList; _i < propList_1.length; _i++) {\n\t                var prop = propList_1[_i];\n\t                _loop_1(prop);\n\t            }\n\t        };\n\t        ComponentBase.prototype.addEventListener = function (eventName, handler) {\n\t            var eventObj = ej2_base_1.getValue(eventName, this);\n\t            if (!ej2_base_1.isUndefined(eventObj)) {\n\t                if (!this.ngBoundedEvents[eventName]) {\n\t                    this.ngBoundedEvents[eventName] = new Map();\n\t                }\n\t                this.ngBoundedEvents[eventName].set(handler, eventObj.subscribe(handler));\n\t            }\n\t        };\n\t        ComponentBase.prototype.removeEventListener = function (eventName, handler) {\n\t            var eventObj = ej2_base_1.getValue(eventName, this);\n\t            if (!ej2_base_1.isUndefined(eventObj)) {\n\t                this.ngBoundedEvents[eventName].get(handler).unsubscribe();\n\t            }\n\t        };\n\t        ComponentBase.prototype.trigger = function (eventName, eventArgs) {\n\t            var eventObj = ej2_base_1.getValue(eventName, this);\n\t            if (!ej2_base_1.isUndefined(eventObj)) {\n\t                eventObj.next(eventArgs);\n\t            }\n\t            var localEventObj = ej2_base_1.getValue('local' + eventName.charAt(0).toUpperCase() + eventName.slice(1), this);\n\t            if (!ej2_base_1.isUndefined(localEventObj)) {\n\t                localEventObj.call(this, eventArgs);\n\t            }\n\t        };\n\t        return ComponentBase;\n\t    }());\n\t    exports.ComponentBase = ComponentBase;\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {/**\n\t * @license Angular v4.4.6\n\t * (c) 2010-2017 Google, Inc. https://angular.io/\n\t * License: MIT\n\t */\n\t(function (global, factory) {\n\t\t true ? factory(exports, __webpack_require__(6), __webpack_require__(22), __webpack_require__(38), __webpack_require__(42)) :\n\t\ttypeof define === 'function' && define.amd ? define(['exports', 'rxjs/Observable', 'rxjs/observable/merge', 'rxjs/operator/share', 'rxjs/Subject'], factory) :\n\t\t(factory((global.ng = global.ng || {}, global.ng.core = global.ng.core || {}),global.Rx,global.Rx.Observable,global.Rx.Observable.prototype,global.Rx));\n\t}(this, (function (exports,rxjs_Observable,rxjs_observable_merge,rxjs_operator_share,rxjs_Subject) { 'use strict';\n\t\n\t/*! *****************************************************************************\r\n\tCopyright (c) Microsoft Corporation. All rights reserved.\r\n\tLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\n\tthis file except in compliance with the License. You may obtain a copy of the\r\n\tLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\t\r\n\tTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n\tKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\n\tWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\n\tMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\t\r\n\tSee the Apache Version 2.0 License for specific language governing permissions\r\n\tand limitations under the License.\r\n\t***************************************************************************** */\r\n\t/* global Reflect, Promise */\r\n\t\r\n\tvar extendStatics = Object.setPrototypeOf ||\r\n\t    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n\t    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\t\r\n\tfunction __extends(d, b) {\r\n\t    extendStatics(d, b);\r\n\t    function __() { this.constructor = d; }\r\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n\t}\n\t\n\t/**\n\t * @license Angular v4.4.6\n\t * (c) 2010-2017 Google, Inc. https://angular.io/\n\t * License: MIT\n\t */\n\t/**\n\t * Creates a token that can be used in a DI Provider.\n\t *\n\t * ### Example ([live demo](http://plnkr.co/edit/Ys9ezXpj2Mnoy3Uc8KBp?p=preview))\n\t *\n\t * ```typescript\n\t * var t = new OpaqueToken(\"value\");\n\t *\n\t * var injector = Injector.resolveAndCreate([\n\t *   {provide: t, useValue: \"bindingValue\"}\n\t * ]);\n\t *\n\t * expect(injector.get(t)).toEqual(\"bindingValue\");\n\t * ```\n\t *\n\t * Using an `OpaqueToken` is preferable to using strings as tokens because of possible collisions\n\t * caused by multiple providers using the same string as two different tokens.\n\t *\n\t * Using an `OpaqueToken` is preferable to using an `Object` as tokens because it provides better\n\t * error messages.\n\t * @deprecated since v4.0.0 because it does not support type information, use `InjectionToken<?>`\n\t * instead.\n\t */\n\tvar OpaqueToken = (function () {\n\t    /**\n\t     * @param {?} _desc\n\t     */\n\t    function OpaqueToken(_desc) {\n\t        this._desc = _desc;\n\t    }\n\t    /**\n\t     * @return {?}\n\t     */\n\t    OpaqueToken.prototype.toString = function () { return \"Token \" + this._desc; };\n\t    return OpaqueToken;\n\t}());\n\t/**\n\t * Creates a token that can be used in a DI Provider.\n\t *\n\t * Use an `InjectionToken` whenever the type you are injecting is not reified (does not have a\n\t * runtime representation) such as when injecting an interface, callable type, array or\n\t * parametrized type.\n\t *\n\t * `InjectionToken` is parameterized on `T` which is the type of object which will be returned by\n\t * the `Injector`. This provides additional level of type safety.\n\t *\n\t * ```\n\t * interface MyInterface {...}\n\t * var myInterface = injector.get(new InjectionToken<MyInterface>('SomeToken'));\n\t * // myInterface is inferred to be MyInterface.\n\t * ```\n\t *\n\t * ### Example\n\t *\n\t * {\\@example core/di/ts/injector_spec.ts region='InjectionToken'}\n\t *\n\t * \\@stable\n\t */\n\tvar InjectionToken = (function (_super) {\n\t    __extends(InjectionToken, _super);\n\t    /**\n\t     * @param {?} desc\n\t     */\n\t    function InjectionToken(desc) {\n\t        return _super.call(this, desc) || this;\n\t    }\n\t    /**\n\t     * @return {?}\n\t     */\n\t    InjectionToken.prototype.toString = function () { return \"InjectionToken \" + this._desc; };\n\t    return InjectionToken;\n\t}(OpaqueToken));\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\tvar __window = typeof window !== 'undefined' && window;\n\tvar __self = typeof self !== 'undefined' && typeof WorkerGlobalScope !== 'undefined' &&\n\t    self instanceof WorkerGlobalScope && self;\n\tvar __global = typeof global !== 'undefined' && global;\n\tvar _global = __window || __global || __self;\n\tvar _symbolIterator = null;\n\t/**\n\t * @return {?}\n\t */\n\tfunction getSymbolIterator() {\n\t    if (!_symbolIterator) {\n\t        var /** @type {?} */ Symbol = _global['Symbol'];\n\t        if (Symbol && Symbol.iterator) {\n\t            _symbolIterator = Symbol.iterator;\n\t        }\n\t        else {\n\t            // es6-shim specific logic\n\t            var /** @type {?} */ keys = Object.getOwnPropertyNames(Map.prototype);\n\t            for (var /** @type {?} */ i = 0; i < keys.length; ++i) {\n\t                var /** @type {?} */ key = keys[i];\n\t                if (key !== 'entries' && key !== 'size' &&\n\t                    ((Map)).prototype[key] === Map.prototype['entries']) {\n\t                    _symbolIterator = key;\n\t                }\n\t            }\n\t        }\n\t    }\n\t    return _symbolIterator;\n\t}\n\t/**\n\t * @param {?} fn\n\t * @return {?}\n\t */\n\tfunction scheduleMicroTask(fn) {\n\t    Zone.current.scheduleMicroTask('scheduleMicrotask', fn);\n\t}\n\t/**\n\t * @param {?} a\n\t * @param {?} b\n\t * @return {?}\n\t */\n\tfunction looseIdentical(a, b) {\n\t    return a === b || typeof a === 'number' && typeof b === 'number' && isNaN(a) && isNaN(b);\n\t}\n\t/**\n\t * @param {?} token\n\t * @return {?}\n\t */\n\tfunction stringify(token) {\n\t    if (typeof token === 'string') {\n\t        return token;\n\t    }\n\t    if (token == null) {\n\t        return '' + token;\n\t    }\n\t    if (token.overriddenName) {\n\t        return \"\" + token.overriddenName;\n\t    }\n\t    if (token.name) {\n\t        return \"\" + token.name;\n\t    }\n\t    var /** @type {?} */ res = token.toString();\n\t    if (res == null) {\n\t        return '' + res;\n\t    }\n\t    var /** @type {?} */ newLineIndex = res.indexOf('\\n');\n\t    return newLineIndex === -1 ? res : res.substring(0, newLineIndex);\n\t}\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\tvar _nextClassId = 0;\n\tvar Reflect$1 = _global['Reflect'];\n\t/**\n\t * @param {?} annotation\n\t * @return {?}\n\t */\n\tfunction extractAnnotation(annotation) {\n\t    if (typeof annotation === 'function' && annotation.hasOwnProperty('annotation')) {\n\t        // it is a decorator, extract annotation\n\t        annotation = annotation.annotation;\n\t    }\n\t    return annotation;\n\t}\n\t/**\n\t * @param {?} fnOrArray\n\t * @param {?} key\n\t * @return {?}\n\t */\n\tfunction applyParams(fnOrArray, key) {\n\t    if (fnOrArray === Object || fnOrArray === String || fnOrArray === Function ||\n\t        fnOrArray === Number || fnOrArray === Array) {\n\t        throw new Error(\"Can not use native \" + stringify(fnOrArray) + \" as constructor\");\n\t    }\n\t    if (typeof fnOrArray === 'function') {\n\t        return fnOrArray;\n\t    }\n\t    if (Array.isArray(fnOrArray)) {\n\t        var /** @type {?} */ annotations = (fnOrArray);\n\t        var /** @type {?} */ annoLength = annotations.length - 1;\n\t        var /** @type {?} */ fn = fnOrArray[annoLength];\n\t        if (typeof fn !== 'function') {\n\t            throw new Error(\"Last position of Class method array must be Function in key \" + key + \" was '\" + stringify(fn) + \"'\");\n\t        }\n\t        if (annoLength != fn.length) {\n\t            throw new Error(\"Number of annotations (\" + annoLength + \") does not match number of arguments (\" + fn.length + \") in the function: \" + stringify(fn));\n\t        }\n\t        var /** @type {?} */ paramsAnnotations = [];\n\t        for (var /** @type {?} */ i = 0, /** @type {?} */ ii = annotations.length - 1; i < ii; i++) {\n\t            var /** @type {?} */ paramAnnotations = [];\n\t            paramsAnnotations.push(paramAnnotations);\n\t            var /** @type {?} */ annotation = annotations[i];\n\t            if (Array.isArray(annotation)) {\n\t                for (var /** @type {?} */ j = 0; j < annotation.length; j++) {\n\t                    paramAnnotations.push(extractAnnotation(annotation[j]));\n\t                }\n\t            }\n\t            else if (typeof annotation === 'function') {\n\t                paramAnnotations.push(extractAnnotation(annotation));\n\t            }\n\t            else {\n\t                paramAnnotations.push(annotation);\n\t            }\n\t        }\n\t        Reflect$1.defineMetadata('parameters', paramsAnnotations, fn);\n\t        return fn;\n\t    }\n\t    throw new Error(\"Only Function or Array is supported in Class definition for key '\" + key + \"' is '\" + stringify(fnOrArray) + \"'\");\n\t}\n\t/**\n\t * Provides a way for expressing ES6 classes with parameter annotations in ES5.\n\t *\n\t * ## Basic Example\n\t *\n\t * ```\n\t * var Greeter = ng.Class({\n\t *   constructor: function(name) {\n\t *     this.name = name;\n\t *   },\n\t *\n\t *   greet: function() {\n\t *     alert('Hello ' + this.name + '!');\n\t *   }\n\t * });\n\t * ```\n\t *\n\t * is equivalent to ES6:\n\t *\n\t * ```\n\t * class Greeter {\n\t *   constructor(name) {\n\t *     this.name = name;\n\t *   }\n\t *\n\t *   greet() {\n\t *     alert('Hello ' + this.name + '!');\n\t *   }\n\t * }\n\t * ```\n\t *\n\t * or equivalent to ES5:\n\t *\n\t * ```\n\t * var Greeter = function (name) {\n\t *   this.name = name;\n\t * }\n\t *\n\t * Greeter.prototype.greet = function () {\n\t *   alert('Hello ' + this.name + '!');\n\t * }\n\t * ```\n\t *\n\t * ### Example with parameter annotations\n\t *\n\t * ```\n\t * var MyService = ng.Class({\n\t *   constructor: [String, [new Optional(), Service], function(name, myService) {\n\t *     ...\n\t *   }]\n\t * });\n\t * ```\n\t *\n\t * is equivalent to ES6:\n\t *\n\t * ```\n\t * class MyService {\n\t *   constructor(name: string, \\@Optional() myService: Service) {\n\t *     ...\n\t *   }\n\t * }\n\t * ```\n\t *\n\t * ### Example with inheritance\n\t *\n\t * ```\n\t * var Shape = ng.Class({\n\t *   constructor: (color) {\n\t *     this.color = color;\n\t *   }\n\t * });\n\t *\n\t * var Square = ng.Class({\n\t *   extends: Shape,\n\t *   constructor: function(color, size) {\n\t *     Shape.call(this, color);\n\t *     this.size = size;\n\t *   }\n\t * });\n\t * ```\n\t * @suppress {globalThis}\n\t * \\@stable\n\t * @param {?} clsDef\n\t * @return {?}\n\t */\n\tfunction Class(clsDef) {\n\t    var /** @type {?} */ constructor = applyParams(clsDef.hasOwnProperty('constructor') ? clsDef.constructor : undefined, 'constructor');\n\t    var /** @type {?} */ proto = constructor.prototype;\n\t    if (clsDef.hasOwnProperty('extends')) {\n\t        if (typeof clsDef.extends === 'function') {\n\t            ((constructor)).prototype = proto =\n\t                Object.create(((clsDef.extends)).prototype);\n\t        }\n\t        else {\n\t            throw new Error(\"Class definition 'extends' property must be a constructor function was: \" + stringify(clsDef.extends));\n\t        }\n\t    }\n\t    for (var /** @type {?} */ key in clsDef) {\n\t        if (key !== 'extends' && key !== 'prototype' && clsDef.hasOwnProperty(key)) {\n\t            proto[key] = applyParams(clsDef[key], key);\n\t        }\n\t    }\n\t    if (this && this.annotations instanceof Array) {\n\t        Reflect$1.defineMetadata('annotations', this.annotations, constructor);\n\t    }\n\t    var /** @type {?} */ constructorName = constructor['name'];\n\t    if (!constructorName || constructorName === 'constructor') {\n\t        ((constructor))['overriddenName'] = \"class\" + _nextClassId++;\n\t    }\n\t    return (constructor);\n\t}\n\t/**\n\t * @suppress {globalThis}\n\t * @param {?} name\n\t * @param {?=} props\n\t * @param {?=} parentClass\n\t * @param {?=} chainFn\n\t * @return {?}\n\t */\n\tfunction makeDecorator(name, props, parentClass, chainFn) {\n\t    var /** @type {?} */ metaCtor = makeMetadataCtor(props);\n\t    /**\n\t     * @param {?} objOrType\n\t     * @return {?}\n\t     */\n\t    function DecoratorFactory(objOrType) {\n\t        if (!(Reflect$1 && Reflect$1.getOwnMetadata)) {\n\t            throw 'reflect-metadata shim is required when using class decorators';\n\t        }\n\t        if (this instanceof DecoratorFactory) {\n\t            metaCtor.call(this, objOrType);\n\t            return this;\n\t        }\n\t        var /** @type {?} */ annotationInstance = new ((DecoratorFactory))(objOrType);\n\t        var /** @type {?} */ chainAnnotation = typeof this === 'function' && Array.isArray(this.annotations) ? this.annotations : [];\n\t        chainAnnotation.push(annotationInstance);\n\t        var /** @type {?} */ TypeDecorator = (function TypeDecorator(cls) {\n\t            var /** @type {?} */ annotations = Reflect$1.getOwnMetadata('annotations', cls) || [];\n\t            annotations.push(annotationInstance);\n\t            Reflect$1.defineMetadata('annotations', annotations, cls);\n\t            return cls;\n\t        });\n\t        TypeDecorator.annotations = chainAnnotation;\n\t        TypeDecorator.Class = Class;\n\t        if (chainFn)\n\t            chainFn(TypeDecorator);\n\t        return TypeDecorator;\n\t    }\n\t    if (parentClass) {\n\t        DecoratorFactory.prototype = Object.create(parentClass.prototype);\n\t    }\n\t    DecoratorFactory.prototype.toString = function () { return \"@\" + name; };\n\t    ((DecoratorFactory)).annotationCls = DecoratorFactory;\n\t    return DecoratorFactory;\n\t}\n\t/**\n\t * @param {?=} props\n\t * @return {?}\n\t */\n\tfunction makeMetadataCtor(props) {\n\t    return function ctor() {\n\t        var args = [];\n\t        for (var _i = 0; _i < arguments.length; _i++) {\n\t            args[_i] = arguments[_i];\n\t        }\n\t        if (props) {\n\t            var /** @type {?} */ values = props.apply(void 0, args);\n\t            for (var /** @type {?} */ propName in values) {\n\t                this[propName] = values[propName];\n\t            }\n\t        }\n\t    };\n\t}\n\t/**\n\t * @param {?} name\n\t * @param {?=} props\n\t * @param {?=} parentClass\n\t * @return {?}\n\t */\n\tfunction makeParamDecorator(name, props, parentClass) {\n\t    var /** @type {?} */ metaCtor = makeMetadataCtor(props);\n\t    /**\n\t     * @param {...?} args\n\t     * @return {?}\n\t     */\n\t    function ParamDecoratorFactory() {\n\t        var args = [];\n\t        for (var _i = 0; _i < arguments.length; _i++) {\n\t            args[_i] = arguments[_i];\n\t        }\n\t        if (this instanceof ParamDecoratorFactory) {\n\t            metaCtor.apply(this, args);\n\t            return this;\n\t        }\n\t        var /** @type {?} */ annotationInstance = new (((ParamDecoratorFactory)).bind.apply(((ParamDecoratorFactory)), [void 0].concat(args)))();\n\t        ((ParamDecorator)).annotation = annotationInstance;\n\t        return ParamDecorator;\n\t        /**\n\t         * @param {?} cls\n\t         * @param {?} unusedKey\n\t         * @param {?} index\n\t         * @return {?}\n\t         */\n\t        function ParamDecorator(cls, unusedKey, index) {\n\t            var /** @type {?} */ parameters = Reflect$1.getOwnMetadata('parameters', cls) || [];\n\t            // there might be gaps if some in between parameters do not have annotations.\n\t            // we pad with nulls.\n\t            while (parameters.length <= index) {\n\t                parameters.push(null);\n\t            }\n\t            parameters[index] = parameters[index] || []; /** @type {?} */\n\t            ((parameters[index])).push(annotationInstance);\n\t            Reflect$1.defineMetadata('parameters', parameters, cls);\n\t            return cls;\n\t        }\n\t    }\n\t    if (parentClass) {\n\t        ParamDecoratorFactory.prototype = Object.create(parentClass.prototype);\n\t    }\n\t    ParamDecoratorFactory.prototype.toString = function () { return \"@\" + name; };\n\t    ((ParamDecoratorFactory)).annotationCls = ParamDecoratorFactory;\n\t    return ParamDecoratorFactory;\n\t}\n\t/**\n\t * @param {?} name\n\t * @param {?=} props\n\t * @param {?=} parentClass\n\t * @return {?}\n\t */\n\tfunction makePropDecorator(name, props, parentClass) {\n\t    var /** @type {?} */ metaCtor = makeMetadataCtor(props);\n\t    /**\n\t     * @param {...?} args\n\t     * @return {?}\n\t     */\n\t    function PropDecoratorFactory() {\n\t        var args = [];\n\t        for (var _i = 0; _i < arguments.length; _i++) {\n\t            args[_i] = arguments[_i];\n\t        }\n\t        if (this instanceof PropDecoratorFactory) {\n\t            metaCtor.apply(this, args);\n\t            return this;\n\t        }\n\t        var /** @type {?} */ decoratorInstance = new (((PropDecoratorFactory)).bind.apply(((PropDecoratorFactory)), [void 0].concat(args)))();\n\t        return function PropDecorator(target, name) {\n\t            var /** @type {?} */ meta = Reflect$1.getOwnMetadata('propMetadata', target.constructor) || {};\n\t            meta[name] = meta.hasOwnProperty(name) && meta[name] || [];\n\t            meta[name].unshift(decoratorInstance);\n\t            Reflect$1.defineMetadata('propMetadata', meta, target.constructor);\n\t        };\n\t    }\n\t    if (parentClass) {\n\t        PropDecoratorFactory.prototype = Object.create(parentClass.prototype);\n\t    }\n\t    PropDecoratorFactory.prototype.toString = function () { return \"@\" + name; };\n\t    ((PropDecoratorFactory)).annotationCls = PropDecoratorFactory;\n\t    return PropDecoratorFactory;\n\t}\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t/**\n\t * This token can be used to create a virtual provider that will populate the\n\t * `entryComponents` fields of components and ng modules based on its `useValue`.\n\t * All components that are referenced in the `useValue` value (either directly\n\t * or in a nested array or map) will be added to the `entryComponents` property.\n\t *\n\t * ### Example\n\t * The following example shows how the router can populate the `entryComponents`\n\t * field of an NgModule based on the router configuration which refers\n\t * to components.\n\t *\n\t * ```typescript\n\t * // helper function inside the router\n\t * function provideRoutes(routes) {\n\t *   return [\n\t *     {provide: ROUTES, useValue: routes},\n\t *     {provide: ANALYZE_FOR_ENTRY_COMPONENTS, useValue: routes, multi: true}\n\t *   ];\n\t * }\n\t *\n\t * // user code\n\t * let routes = [\n\t *   {path: '/root', component: RootComp},\n\t *   {path: '/teams', component: TeamsComp}\n\t * ];\n\t *\n\t * \\@NgModule({\n\t *   providers: [provideRoutes(routes)]\n\t * })\n\t * class ModuleWithRoutes {}\n\t * ```\n\t *\n\t * \\@experimental\n\t */\n\tvar ANALYZE_FOR_ENTRY_COMPONENTS = new InjectionToken('AnalyzeForEntryComponents');\n\t/**\n\t * Attribute decorator and metadata.\n\t *\n\t * \\@stable\n\t * \\@Annotation\n\t */\n\tvar Attribute = makeParamDecorator('Attribute', function (attributeName) { return ({ attributeName: attributeName }); });\n\t/**\n\t * Base class for query metadata.\n\t *\n\t * See {\\@link ContentChildren}, {\\@link ContentChild}, {\\@link ViewChildren}, {\\@link ViewChild} for\n\t * more information.\n\t *\n\t * \\@stable\n\t * @abstract\n\t */\n\tvar Query = (function () {\n\t    function Query() {\n\t    }\n\t    return Query;\n\t}());\n\t/**\n\t * ContentChildren decorator and metadata.\n\t *\n\t *  \\@stable\n\t *  \\@Annotation\n\t */\n\tvar ContentChildren = makePropDecorator('ContentChildren', function (selector, data) {\n\t    if (data === void 0) { data = {}; }\n\t    return (Object.assign({ selector: selector, first: false, isViewQuery: false, descendants: false }, data));\n\t}, Query);\n\t/**\n\t * ContentChild decorator and metadata.\n\t *\n\t * \\@stable\n\t * \\@Annotation\n\t */\n\tvar ContentChild = makePropDecorator('ContentChild', function (selector, data) {\n\t    if (data === void 0) { data = {}; }\n\t    return (Object.assign({ selector: selector, first: true, isViewQuery: false, descendants: true }, data));\n\t}, Query);\n\t/**\n\t * ViewChildren decorator and metadata.\n\t *\n\t * \\@stable\n\t * \\@Annotation\n\t */\n\tvar ViewChildren = makePropDecorator('ViewChildren', function (selector, data) {\n\t    if (data === void 0) { data = {}; }\n\t    return (Object.assign({ selector: selector, first: false, isViewQuery: true, descendants: true }, data));\n\t}, Query);\n\t/**\n\t * ViewChild decorator and metadata.\n\t *\n\t * \\@stable\n\t * \\@Annotation\n\t */\n\tvar ViewChild = makePropDecorator('ViewChild', function (selector, data) { return (Object.assign({ selector: selector, first: true, isViewQuery: true, descendants: true }, data)); }, Query);\n\tvar ChangeDetectionStrategy = {};\n\tChangeDetectionStrategy.OnPush = 0;\n\tChangeDetectionStrategy.Default = 1;\n\tChangeDetectionStrategy[ChangeDetectionStrategy.OnPush] = \"OnPush\";\n\tChangeDetectionStrategy[ChangeDetectionStrategy.Default] = \"Default\";\n\tvar ChangeDetectorStatus = {};\n\tChangeDetectorStatus.CheckOnce = 0;\n\tChangeDetectorStatus.Checked = 1;\n\tChangeDetectorStatus.CheckAlways = 2;\n\tChangeDetectorStatus.Detached = 3;\n\tChangeDetectorStatus.Errored = 4;\n\tChangeDetectorStatus.Destroyed = 5;\n\tChangeDetectorStatus[ChangeDetectorStatus.CheckOnce] = \"CheckOnce\";\n\tChangeDetectorStatus[ChangeDetectorStatus.Checked] = \"Checked\";\n\tChangeDetectorStatus[ChangeDetectorStatus.CheckAlways] = \"CheckAlways\";\n\tChangeDetectorStatus[ChangeDetectorStatus.Detached] = \"Detached\";\n\tChangeDetectorStatus[ChangeDetectorStatus.Errored] = \"Errored\";\n\tChangeDetectorStatus[ChangeDetectorStatus.Destroyed] = \"Destroyed\";\n\t/**\n\t * @param {?} changeDetectionStrategy\n\t * @return {?}\n\t */\n\tfunction isDefaultChangeDetectionStrategy(changeDetectionStrategy) {\n\t    return changeDetectionStrategy == null ||\n\t        changeDetectionStrategy === ChangeDetectionStrategy.Default;\n\t}\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t/**\n\t * Directive decorator and metadata.\n\t *\n\t * \\@stable\n\t * \\@Annotation\n\t */\n\tvar Directive = makeDecorator('Directive', function (dir) {\n\t    if (dir === void 0) { dir = {}; }\n\t    return dir;\n\t});\n\t/**\n\t * Component decorator and metadata.\n\t *\n\t * \\@stable\n\t * \\@Annotation\n\t */\n\tvar Component = makeDecorator('Component', function (c) {\n\t    if (c === void 0) { c = {}; }\n\t    return (Object.assign({ changeDetection: ChangeDetectionStrategy.Default }, c));\n\t}, Directive);\n\t/**\n\t * Pipe decorator and metadata.\n\t *\n\t * \\@stable\n\t * \\@Annotation\n\t */\n\tvar Pipe = makeDecorator('Pipe', function (p) { return (Object.assign({ pure: true }, p)); });\n\t/**\n\t * Input decorator and metadata.\n\t *\n\t * \\@stable\n\t * \\@Annotation\n\t */\n\tvar Input = makePropDecorator('Input', function (bindingPropertyName) { return ({ bindingPropertyName: bindingPropertyName }); });\n\t/**\n\t * Output decorator and metadata.\n\t *\n\t * \\@stable\n\t * \\@Annotation\n\t */\n\tvar Output = makePropDecorator('Output', function (bindingPropertyName) { return ({ bindingPropertyName: bindingPropertyName }); });\n\t/**\n\t * HostBinding decorator and metadata.\n\t *\n\t * \\@stable\n\t * \\@Annotation\n\t */\n\tvar HostBinding = makePropDecorator('HostBinding', function (hostPropertyName) { return ({ hostPropertyName: hostPropertyName }); });\n\t/**\n\t * HostListener decorator and metadata.\n\t *\n\t * \\@stable\n\t * \\@Annotation\n\t */\n\tvar HostListener = makePropDecorator('HostListener', function (eventName, args) { return ({ eventName: eventName, args: args }); });\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t/**\n\t * Defines a schema that will allow:\n\t * - any non-Angular elements with a `-` in their name,\n\t * - any properties on elements with a `-` in their name which is the common rule for custom\n\t * elements.\n\t *\n\t * \\@stable\n\t */\n\tvar CUSTOM_ELEMENTS_SCHEMA = {\n\t    name: 'custom-elements'\n\t};\n\t/**\n\t * Defines a schema that will allow any property on any element.\n\t *\n\t * \\@experimental\n\t */\n\tvar NO_ERRORS_SCHEMA = {\n\t    name: 'no-errors-schema'\n\t};\n\t/**\n\t * NgModule decorator and metadata.\n\t *\n\t * \\@stable\n\t * \\@Annotation\n\t */\n\tvar NgModule = makeDecorator('NgModule', function (ngModule) { return ngModule; });\n\tvar ViewEncapsulation = {};\n\tViewEncapsulation.Emulated = 0;\n\tViewEncapsulation.Native = 1;\n\tViewEncapsulation.None = 2;\n\tViewEncapsulation[ViewEncapsulation.Emulated] = \"Emulated\";\n\tViewEncapsulation[ViewEncapsulation.Native] = \"Native\";\n\tViewEncapsulation[ViewEncapsulation.None] = \"None\";\n\t/**\n\t * Metadata properties available for configuring Views.\n\t *\n\t * For details on the `\\@Component` annotation, see {\\@link Component}.\n\t *\n\t * ### Example\n\t *\n\t * ```\n\t * \\@Component({\n\t *   selector: 'greet',\n\t *   template: 'Hello {{name}}!',\n\t * })\n\t * class Greet {\n\t *   name: string;\n\t *\n\t *   constructor() {\n\t *     this.name = 'World';\n\t *   }\n\t * }\n\t * ```\n\t *\n\t * @deprecated Use Component instead.\n\t *\n\t * {\\@link Component}\n\t */\n\tvar ViewMetadata = (function () {\n\t    /**\n\t     * @param {?=} opts\n\t     */\n\t    function ViewMetadata(opts) {\n\t        if (opts === void 0) { opts = {}; }\n\t        this.templateUrl = opts.templateUrl;\n\t        this.template = opts.template;\n\t        this.styleUrls = opts.styleUrls;\n\t        this.styles = opts.styles;\n\t        this.encapsulation = opts.encapsulation;\n\t        this.animations = opts.animations;\n\t        this.interpolation = opts.interpolation;\n\t    }\n\t    return ViewMetadata;\n\t}());\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t/**\n\t * \\@whatItDoes Represents the version of Angular\n\t *\n\t * \\@stable\n\t */\n\tvar Version = (function () {\n\t    /**\n\t     * @param {?} full\n\t     */\n\t    function Version(full) {\n\t        this.full = full;\n\t    }\n\t    Object.defineProperty(Version.prototype, \"major\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () { return this.full.split('.')[0]; },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(Version.prototype, \"minor\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () { return this.full.split('.')[1]; },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(Version.prototype, \"patch\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () { return this.full.split('.').slice(2).join('.'); },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    return Version;\n\t}());\n\t/**\n\t * \\@stable\n\t */\n\tvar VERSION = new Version('4.4.6');\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t/**\n\t * Inject decorator and metadata.\n\t *\n\t * \\@stable\n\t * \\@Annotation\n\t */\n\tvar Inject = makeParamDecorator('Inject', function (token) { return ({ token: token }); });\n\t/**\n\t * Optional decorator and metadata.\n\t *\n\t * \\@stable\n\t * \\@Annotation\n\t */\n\tvar Optional = makeParamDecorator('Optional');\n\t/**\n\t * Injectable decorator and metadata.\n\t *\n\t * \\@stable\n\t * \\@Annotation\n\t */\n\tvar Injectable = makeDecorator('Injectable');\n\t/**\n\t * Self decorator and metadata.\n\t *\n\t * \\@stable\n\t * \\@Annotation\n\t */\n\tvar Self = makeParamDecorator('Self');\n\t/**\n\t * SkipSelf decorator and metadata.\n\t *\n\t * \\@stable\n\t * \\@Annotation\n\t */\n\tvar SkipSelf = makeParamDecorator('SkipSelf');\n\t/**\n\t * Host decorator and metadata.\n\t *\n\t * \\@stable\n\t * \\@Annotation\n\t */\n\tvar Host = makeParamDecorator('Host');\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t/**\n\t * Allows to refer to references which are not yet defined.\n\t *\n\t * For instance, `forwardRef` is used when the `token` which we need to refer to for the purposes of\n\t * DI is declared,\n\t * but not yet defined. It is also used when the `token` which we use when creating a query is not\n\t * yet defined.\n\t *\n\t * ### Example\n\t * {\\@example core/di/ts/forward_ref/forward_ref_spec.ts region='forward_ref'}\n\t * \\@experimental\n\t * @param {?} forwardRefFn\n\t * @return {?}\n\t */\n\tfunction forwardRef(forwardRefFn) {\n\t    ((forwardRefFn)).__forward_ref__ = forwardRef;\n\t    ((forwardRefFn)).toString = function () { return stringify(this()); };\n\t    return (((forwardRefFn)));\n\t}\n\t/**\n\t * Lazily retrieves the reference value from a forwardRef.\n\t *\n\t * Acts as the identity function when given a non-forward-ref value.\n\t *\n\t * ### Example ([live demo](http://plnkr.co/edit/GU72mJrk1fiodChcmiDR?p=preview))\n\t *\n\t * {\\@example core/di/ts/forward_ref/forward_ref_spec.ts region='resolve_forward_ref'}\n\t *\n\t * See: {\\@link forwardRef}\n\t * \\@experimental\n\t * @param {?} type\n\t * @return {?}\n\t */\n\tfunction resolveForwardRef(type) {\n\t    if (typeof type === 'function' && type.hasOwnProperty('__forward_ref__') &&\n\t        type.__forward_ref__ === forwardRef) {\n\t        return ((type))();\n\t    }\n\t    else {\n\t        return type;\n\t    }\n\t}\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\tvar _THROW_IF_NOT_FOUND = new Object();\n\tvar THROW_IF_NOT_FOUND = _THROW_IF_NOT_FOUND;\n\tvar _NullInjector = (function () {\n\t    function _NullInjector() {\n\t    }\n\t    /**\n\t     * @param {?} token\n\t     * @param {?=} notFoundValue\n\t     * @return {?}\n\t     */\n\t    _NullInjector.prototype.get = function (token, notFoundValue) {\n\t        if (notFoundValue === void 0) { notFoundValue = _THROW_IF_NOT_FOUND; }\n\t        if (notFoundValue === _THROW_IF_NOT_FOUND) {\n\t            throw new Error(\"No provider for \" + stringify(token) + \"!\");\n\t        }\n\t        return notFoundValue;\n\t    };\n\t    return _NullInjector;\n\t}());\n\t/**\n\t * \\@whatItDoes Injector interface\n\t * \\@howToUse\n\t * ```\n\t * const injector: Injector = ...;\n\t * injector.get(...);\n\t * ```\n\t *\n\t * \\@description\n\t * For more details, see the {\\@linkDocs guide/dependency-injection \"Dependency Injection Guide\"}.\n\t *\n\t * ### Example\n\t *\n\t * {\\@example core/di/ts/injector_spec.ts region='Injector'}\n\t *\n\t * `Injector` returns itself when given `Injector` as a token:\n\t * {\\@example core/di/ts/injector_spec.ts region='injectInjector'}\n\t *\n\t * \\@stable\n\t * @abstract\n\t */\n\tvar Injector = (function () {\n\t    function Injector() {\n\t    }\n\t    /**\n\t     * Retrieves an instance from the injector based on the provided token.\n\t     * If not found:\n\t     * - Throws an error if no `notFoundValue` that is not equal to\n\t     * Injector.THROW_IF_NOT_FOUND is given\n\t     * - Returns the `notFoundValue` otherwise\n\t     * @abstract\n\t     * @template T\n\t     * @param {?} token\n\t     * @param {?=} notFoundValue\n\t     * @return {?}\n\t     */\n\t    Injector.prototype.get = function (token, notFoundValue) { };\n\t    /**\n\t     * @deprecated from v4.0.0 use Type<T> or InjectionToken<T>\n\t     * @suppress {duplicate}\n\t     * @abstract\n\t     * @param {?} token\n\t     * @param {?=} notFoundValue\n\t     * @return {?}\n\t     */\n\t    Injector.prototype.get = function (token, notFoundValue) { };\n\t    return Injector;\n\t}());\n\tInjector.THROW_IF_NOT_FOUND = _THROW_IF_NOT_FOUND;\n\tInjector.NULL = new _NullInjector();\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\tvar ERROR_COMPONENT_TYPE = 'ngComponentType';\n\tvar ERROR_DEBUG_CONTEXT = 'ngDebugContext';\n\tvar ERROR_ORIGINAL_ERROR = 'ngOriginalError';\n\tvar ERROR_LOGGER = 'ngErrorLogger';\n\t/**\n\t * @param {?} error\n\t * @return {?}\n\t */\n\t/**\n\t * @param {?} error\n\t * @return {?}\n\t */\n\tfunction getDebugContext(error) {\n\t    return ((error))[ERROR_DEBUG_CONTEXT];\n\t}\n\t/**\n\t * @param {?} error\n\t * @return {?}\n\t */\n\tfunction getOriginalError(error) {\n\t    return ((error))[ERROR_ORIGINAL_ERROR];\n\t}\n\t/**\n\t * @param {?} error\n\t * @return {?}\n\t */\n\tfunction getErrorLogger(error) {\n\t    return ((error))[ERROR_LOGGER] || defaultErrorLogger;\n\t}\n\t/**\n\t * @param {?} console\n\t * @param {...?} values\n\t * @return {?}\n\t */\n\tfunction defaultErrorLogger(console) {\n\t    var values = [];\n\t    for (var _i = 1; _i < arguments.length; _i++) {\n\t        values[_i - 1] = arguments[_i];\n\t    }\n\t    console.error.apply(console, values);\n\t}\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t/**\n\t * \\@whatItDoes Provides a hook for centralized exception handling.\n\t *\n\t * \\@description\n\t *\n\t * The default implementation of `ErrorHandler` prints error messages to the `console`. To\n\t * intercept error handling, write a custom exception handler that replaces this default as\n\t * appropriate for your app.\n\t *\n\t * ### Example\n\t *\n\t * ```\n\t * class MyErrorHandler implements ErrorHandler {\n\t *   handleError(error) {\n\t *     // do something with the exception\n\t *   }\n\t * }\n\t *\n\t * \\@NgModule({\n\t *   providers: [{provide: ErrorHandler, useClass: MyErrorHandler}]\n\t * })\n\t * class MyModule {}\n\t * ```\n\t *\n\t * \\@stable\n\t */\n\tvar ErrorHandler = (function () {\n\t    /**\n\t     * @param {?=} deprecatedParameter\n\t     */\n\t    function ErrorHandler(\n\t        /**\n\t         * @deprecated since v4.0 parameter no longer has an effect, as ErrorHandler will never\n\t         * rethrow.\n\t         */\n\t        deprecatedParameter) {\n\t        /**\n\t         * \\@internal\n\t         */\n\t        this._console = console;\n\t    }\n\t    /**\n\t     * @param {?} error\n\t     * @return {?}\n\t     */\n\t    ErrorHandler.prototype.handleError = function (error) {\n\t        var /** @type {?} */ originalError = this._findOriginalError(error);\n\t        var /** @type {?} */ context = this._findContext(error);\n\t        // Note: Browser consoles show the place from where console.error was called.\n\t        // We can use this to give users additional information about the error.\n\t        var /** @type {?} */ errorLogger = getErrorLogger(error);\n\t        errorLogger(this._console, \"ERROR\", error);\n\t        if (originalError) {\n\t            errorLogger(this._console, \"ORIGINAL ERROR\", originalError);\n\t        }\n\t        if (context) {\n\t            errorLogger(this._console, 'ERROR CONTEXT', context);\n\t        }\n\t    };\n\t    /**\n\t     * \\@internal\n\t     * @param {?} error\n\t     * @return {?}\n\t     */\n\t    ErrorHandler.prototype._findContext = function (error) {\n\t        if (error) {\n\t            return getDebugContext(error) ? getDebugContext(error) :\n\t                this._findContext(getOriginalError(error));\n\t        }\n\t        return null;\n\t    };\n\t    /**\n\t     * \\@internal\n\t     * @param {?} error\n\t     * @return {?}\n\t     */\n\t    ErrorHandler.prototype._findOriginalError = function (error) {\n\t        var /** @type {?} */ e = getOriginalError(error);\n\t        while (e && getOriginalError(e)) {\n\t            e = getOriginalError(e);\n\t        }\n\t        return e;\n\t    };\n\t    return ErrorHandler;\n\t}());\n\t/**\n\t * @param {?} message\n\t * @param {?} originalError\n\t * @return {?}\n\t */\n\tfunction wrappedError(message, originalError) {\n\t    var /** @type {?} */ msg = message + \" caused by: \" + (originalError instanceof Error ? originalError.message : originalError);\n\t    var /** @type {?} */ error = Error(msg);\n\t    ((error))[ERROR_ORIGINAL_ERROR] = originalError;\n\t    return error;\n\t}\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t/**\n\t * @param {?} keys\n\t * @return {?}\n\t */\n\tfunction findFirstClosedCycle(keys) {\n\t    var /** @type {?} */ res = [];\n\t    for (var /** @type {?} */ i = 0; i < keys.length; ++i) {\n\t        if (res.indexOf(keys[i]) > -1) {\n\t            res.push(keys[i]);\n\t            return res;\n\t        }\n\t        res.push(keys[i]);\n\t    }\n\t    return res;\n\t}\n\t/**\n\t * @param {?} keys\n\t * @return {?}\n\t */\n\tfunction constructResolvingPath(keys) {\n\t    if (keys.length > 1) {\n\t        var /** @type {?} */ reversed = findFirstClosedCycle(keys.slice().reverse());\n\t        var /** @type {?} */ tokenStrs = reversed.map(function (k) { return stringify(k.token); });\n\t        return ' (' + tokenStrs.join(' -> ') + ')';\n\t    }\n\t    return '';\n\t}\n\t/**\n\t * @param {?} injector\n\t * @param {?} key\n\t * @param {?} constructResolvingMessage\n\t * @param {?=} originalError\n\t * @return {?}\n\t */\n\tfunction injectionError(injector, key, constructResolvingMessage, originalError) {\n\t    var /** @type {?} */ keys = [key];\n\t    var /** @type {?} */ errMsg = constructResolvingMessage(keys);\n\t    var /** @type {?} */ error = ((originalError ? wrappedError(errMsg, originalError) : Error(errMsg)));\n\t    error.addKey = addKey;\n\t    error.keys = keys;\n\t    error.injectors = [injector];\n\t    error.constructResolvingMessage = constructResolvingMessage;\n\t    ((error))[ERROR_ORIGINAL_ERROR] = originalError;\n\t    return error;\n\t}\n\t/**\n\t * @this {?}\n\t * @param {?} injector\n\t * @param {?} key\n\t * @return {?}\n\t */\n\tfunction addKey(injector, key) {\n\t    this.injectors.push(injector);\n\t    this.keys.push(key);\n\t    // Note: This updated message won't be reflected in the `.stack` property\n\t    this.message = this.constructResolvingMessage(this.keys);\n\t}\n\t/**\n\t * Thrown when trying to retrieve a dependency by key from {\\@link Injector}, but the\n\t * {\\@link Injector} does not have a {\\@link Provider} for the given key.\n\t *\n\t * ### Example ([live demo](http://plnkr.co/edit/vq8D3FRB9aGbnWJqtEPE?p=preview))\n\t *\n\t * ```typescript\n\t * class A {\n\t *   constructor(b:B) {}\n\t * }\n\t *\n\t * expect(() => Injector.resolveAndCreate([A])).toThrowError();\n\t * ```\n\t * @param {?} injector\n\t * @param {?} key\n\t * @return {?}\n\t */\n\tfunction noProviderError(injector, key) {\n\t    return injectionError(injector, key, function (keys) {\n\t        var /** @type {?} */ first = stringify(keys[0].token);\n\t        return \"No provider for \" + first + \"!\" + constructResolvingPath(keys);\n\t    });\n\t}\n\t/**\n\t * Thrown when dependencies form a cycle.\n\t *\n\t * ### Example ([live demo](http://plnkr.co/edit/wYQdNos0Tzql3ei1EV9j?p=info))\n\t *\n\t * ```typescript\n\t * var injector = Injector.resolveAndCreate([\n\t *   {provide: \"one\", useFactory: (two) => \"two\", deps: [[new Inject(\"two\")]]},\n\t *   {provide: \"two\", useFactory: (one) => \"one\", deps: [[new Inject(\"one\")]]}\n\t * ]);\n\t *\n\t * expect(() => injector.get(\"one\")).toThrowError();\n\t * ```\n\t *\n\t * Retrieving `A` or `B` throws a `CyclicDependencyError` as the graph above cannot be constructed.\n\t * @param {?} injector\n\t * @param {?} key\n\t * @return {?}\n\t */\n\tfunction cyclicDependencyError(injector, key) {\n\t    return injectionError(injector, key, function (keys) {\n\t        return \"Cannot instantiate cyclic dependency!\" + constructResolvingPath(keys);\n\t    });\n\t}\n\t/**\n\t * Thrown when a constructing type returns with an Error.\n\t *\n\t * The `InstantiationError` class contains the original error plus the dependency graph which caused\n\t * this object to be instantiated.\n\t *\n\t * ### Example ([live demo](http://plnkr.co/edit/7aWYdcqTQsP0eNqEdUAf?p=preview))\n\t *\n\t * ```typescript\n\t * class A {\n\t *   constructor() {\n\t *     throw new Error('message');\n\t *   }\n\t * }\n\t *\n\t * var injector = Injector.resolveAndCreate([A]);\n\t * try {\n\t *   injector.get(A);\n\t * } catch (e) {\n\t *   expect(e instanceof InstantiationError).toBe(true);\n\t *   expect(e.originalException.message).toEqual(\"message\");\n\t *   expect(e.originalStack).toBeDefined();\n\t * }\n\t * ```\n\t * @param {?} injector\n\t * @param {?} originalException\n\t * @param {?} originalStack\n\t * @param {?} key\n\t * @return {?}\n\t */\n\tfunction instantiationError(injector, originalException, originalStack, key) {\n\t    return injectionError(injector, key, function (keys) {\n\t        var /** @type {?} */ first = stringify(keys[0].token);\n\t        return originalException.message + \": Error during instantiation of \" + first + \"!\" + constructResolvingPath(keys) + \".\";\n\t    }, originalException);\n\t}\n\t/**\n\t * Thrown when an object other then {\\@link Provider} (or `Type`) is passed to {\\@link Injector}\n\t * creation.\n\t *\n\t * ### Example ([live demo](http://plnkr.co/edit/YatCFbPAMCL0JSSQ4mvH?p=preview))\n\t *\n\t * ```typescript\n\t * expect(() => Injector.resolveAndCreate([\"not a type\"])).toThrowError();\n\t * ```\n\t * @param {?} provider\n\t * @return {?}\n\t */\n\tfunction invalidProviderError(provider) {\n\t    return Error(\"Invalid provider - only instances of Provider and Type are allowed, got: \" + provider);\n\t}\n\t/**\n\t * Thrown when the class has no annotation information.\n\t *\n\t * Lack of annotation information prevents the {\\@link Injector} from determining which dependencies\n\t * need to be injected into the constructor.\n\t *\n\t * ### Example ([live demo](http://plnkr.co/edit/rHnZtlNS7vJOPQ6pcVkm?p=preview))\n\t *\n\t * ```typescript\n\t * class A {\n\t *   constructor(b) {}\n\t * }\n\t *\n\t * expect(() => Injector.resolveAndCreate([A])).toThrowError();\n\t * ```\n\t *\n\t * This error is also thrown when the class not marked with {\\@link Injectable} has parameter types.\n\t *\n\t * ```typescript\n\t * class B {}\n\t *\n\t * class A {\n\t *   constructor(b:B) {} // no information about the parameter types of A is available at runtime.\n\t * }\n\t *\n\t * expect(() => Injector.resolveAndCreate([A,B])).toThrowError();\n\t * ```\n\t * \\@stable\n\t * @param {?} typeOrFunc\n\t * @param {?} params\n\t * @return {?}\n\t */\n\tfunction noAnnotationError(typeOrFunc, params) {\n\t    var /** @type {?} */ signature = [];\n\t    for (var /** @type {?} */ i = 0, /** @type {?} */ ii = params.length; i < ii; i++) {\n\t        var /** @type {?} */ parameter = params[i];\n\t        if (!parameter || parameter.length == 0) {\n\t            signature.push('?');\n\t        }\n\t        else {\n\t            signature.push(parameter.map(stringify).join(' '));\n\t        }\n\t    }\n\t    return Error('Cannot resolve all parameters for \\'' + stringify(typeOrFunc) + '\\'(' +\n\t        signature.join(', ') + '). ' +\n\t        'Make sure that all the parameters are decorated with Inject or have valid type annotations and that \\'' +\n\t        stringify(typeOrFunc) + '\\' is decorated with Injectable.');\n\t}\n\t/**\n\t * Thrown when getting an object by index.\n\t *\n\t * ### Example ([live demo](http://plnkr.co/edit/bRs0SX2OTQiJzqvjgl8P?p=preview))\n\t *\n\t * ```typescript\n\t * class A {}\n\t *\n\t * var injector = Injector.resolveAndCreate([A]);\n\t *\n\t * expect(() => injector.getAt(100)).toThrowError();\n\t * ```\n\t * \\@stable\n\t * @param {?} index\n\t * @return {?}\n\t */\n\tfunction outOfBoundsError(index) {\n\t    return Error(\"Index \" + index + \" is out-of-bounds.\");\n\t}\n\t/**\n\t * Thrown when a multi provider and a regular provider are bound to the same token.\n\t *\n\t * ### Example\n\t *\n\t * ```typescript\n\t * expect(() => Injector.resolveAndCreate([\n\t *   { provide: \"Strings\", useValue: \"string1\", multi: true},\n\t *   { provide: \"Strings\", useValue: \"string2\", multi: false}\n\t * ])).toThrowError();\n\t * ```\n\t * @param {?} provider1\n\t * @param {?} provider2\n\t * @return {?}\n\t */\n\tfunction mixingMultiProvidersWithRegularProvidersError(provider1, provider2) {\n\t    return Error(\"Cannot mix multi providers and regular providers, got: \" + provider1 + \" \" + provider2);\n\t}\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t/**\n\t * A unique object used for retrieving items from the {\\@link ReflectiveInjector}.\n\t *\n\t * Keys have:\n\t * - a system-wide unique `id`.\n\t * - a `token`.\n\t *\n\t * `Key` is used internally by {\\@link ReflectiveInjector} because its system-wide unique `id` allows\n\t * the\n\t * injector to store created objects in a more efficient way.\n\t *\n\t * `Key` should not be created directly. {\\@link ReflectiveInjector} creates keys automatically when\n\t * resolving\n\t * providers.\n\t * \\@experimental\n\t */\n\tvar ReflectiveKey = (function () {\n\t    /**\n\t     * Private\n\t     * @param {?} token\n\t     * @param {?} id\n\t     */\n\t    function ReflectiveKey(token, id) {\n\t        this.token = token;\n\t        this.id = id;\n\t        if (!token) {\n\t            throw new Error('Token must be defined!');\n\t        }\n\t    }\n\t    Object.defineProperty(ReflectiveKey.prototype, \"displayName\", {\n\t        /**\n\t         * Returns a stringified token.\n\t         * @return {?}\n\t         */\n\t        get: function () { return stringify(this.token); },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    /**\n\t     * Retrieves a `Key` for a token.\n\t     * @param {?} token\n\t     * @return {?}\n\t     */\n\t    ReflectiveKey.get = function (token) {\n\t        return _globalKeyRegistry.get(resolveForwardRef(token));\n\t    };\n\t    Object.defineProperty(ReflectiveKey, \"numberOfKeys\", {\n\t        /**\n\t         * @return {?} the number of keys registered in the system.\n\t         */\n\t        get: function () { return _globalKeyRegistry.numberOfKeys; },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    return ReflectiveKey;\n\t}());\n\t/**\n\t * \\@internal\n\t */\n\tvar KeyRegistry = (function () {\n\t    function KeyRegistry() {\n\t        this._allKeys = new Map();\n\t    }\n\t    /**\n\t     * @param {?} token\n\t     * @return {?}\n\t     */\n\t    KeyRegistry.prototype.get = function (token) {\n\t        if (token instanceof ReflectiveKey)\n\t            return token;\n\t        if (this._allKeys.has(token)) {\n\t            return ((this._allKeys.get(token)));\n\t        }\n\t        var /** @type {?} */ newKey = new ReflectiveKey(token, ReflectiveKey.numberOfKeys);\n\t        this._allKeys.set(token, newKey);\n\t        return newKey;\n\t    };\n\t    Object.defineProperty(KeyRegistry.prototype, \"numberOfKeys\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () { return this._allKeys.size; },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    return KeyRegistry;\n\t}());\n\tvar _globalKeyRegistry = new KeyRegistry();\n\t/**\n\t * \\@whatItDoes Represents a type that a Component or other object is instances of.\n\t *\n\t * \\@description\n\t *\n\t * An example of a `Type` is `MyCustomComponent` class, which in JavaScript is be represented by\n\t * the `MyCustomComponent` constructor function.\n\t *\n\t * \\@stable\n\t */\n\tvar Type = Function;\n\t/**\n\t * @param {?} v\n\t * @return {?}\n\t */\n\tfunction isType(v) {\n\t    return typeof v === 'function';\n\t}\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t/**\n\t * Attention: This regex has to hold even if the code is minified!\n\t */\n\tvar DELEGATE_CTOR = /^function\\s+\\S+\\(\\)\\s*{[\\s\\S]+\\.apply\\(this,\\s*arguments\\)/;\n\tvar ReflectionCapabilities = (function () {\n\t    /**\n\t     * @param {?=} reflect\n\t     */\n\t    function ReflectionCapabilities(reflect) {\n\t        this._reflect = reflect || _global['Reflect'];\n\t    }\n\t    /**\n\t     * @return {?}\n\t     */\n\t    ReflectionCapabilities.prototype.isReflectionEnabled = function () { return true; };\n\t    /**\n\t     * @template T\n\t     * @param {?} t\n\t     * @return {?}\n\t     */\n\t    ReflectionCapabilities.prototype.factory = function (t) { return function () {\n\t        var args = [];\n\t        for (var _i = 0; _i < arguments.length; _i++) {\n\t            args[_i] = arguments[_i];\n\t        }\n\t        return new (t.bind.apply(t, [void 0].concat(args)))();\n\t    }; };\n\t    /**\n\t     * \\@internal\n\t     * @param {?} paramTypes\n\t     * @param {?} paramAnnotations\n\t     * @return {?}\n\t     */\n\t    ReflectionCapabilities.prototype._zipTypesAndAnnotations = function (paramTypes, paramAnnotations) {\n\t        var /** @type {?} */ result;\n\t        if (typeof paramTypes === 'undefined') {\n\t            result = new Array(paramAnnotations.length);\n\t        }\n\t        else {\n\t            result = new Array(paramTypes.length);\n\t        }\n\t        for (var /** @type {?} */ i = 0; i < result.length; i++) {\n\t            // TS outputs Object for parameters without types, while Traceur omits\n\t            // the annotations. For now we preserve the Traceur behavior to aid\n\t            // migration, but this can be revisited.\n\t            if (typeof paramTypes === 'undefined') {\n\t                result[i] = [];\n\t            }\n\t            else if (paramTypes[i] != Object) {\n\t                result[i] = [paramTypes[i]];\n\t            }\n\t            else {\n\t                result[i] = [];\n\t            }\n\t            if (paramAnnotations && paramAnnotations[i] != null) {\n\t                result[i] = result[i].concat(paramAnnotations[i]);\n\t            }\n\t        }\n\t        return result;\n\t    };\n\t    /**\n\t     * @param {?} type\n\t     * @param {?} parentCtor\n\t     * @return {?}\n\t     */\n\t    ReflectionCapabilities.prototype._ownParameters = function (type, parentCtor) {\n\t        // If we have no decorators, we only have function.length as metadata.\n\t        // In that case, to detect whether a child class declared an own constructor or not,\n\t        // we need to look inside of that constructor to check whether it is\n\t        // just calling the parent.\n\t        // This also helps to work around for https://github.com/Microsoft/TypeScript/issues/12439\n\t        // that sets 'design:paramtypes' to []\n\t        // if a class inherits from another class but has no ctor declared itself.\n\t        if (DELEGATE_CTOR.exec(type.toString())) {\n\t            return null;\n\t        }\n\t        // Prefer the direct API.\n\t        if (((type)).parameters && ((type)).parameters !== parentCtor.parameters) {\n\t            return ((type)).parameters;\n\t        }\n\t        // API of tsickle for lowering decorators to properties on the class.\n\t        var /** @type {?} */ tsickleCtorParams = ((type)).ctorParameters;\n\t        if (tsickleCtorParams && tsickleCtorParams !== parentCtor.ctorParameters) {\n\t            // Newer tsickle uses a function closure\n\t            // Retain the non-function case for compatibility with older tsickle\n\t            var /** @type {?} */ ctorParameters = typeof tsickleCtorParams === 'function' ? tsickleCtorParams() : tsickleCtorParams;\n\t            var /** @type {?} */ paramTypes = ctorParameters.map(function (ctorParam) { return ctorParam && ctorParam.type; });\n\t            var /** @type {?} */ paramAnnotations = ctorParameters.map(function (ctorParam) { return ctorParam && convertTsickleDecoratorIntoMetadata(ctorParam.decorators); });\n\t            return this._zipTypesAndAnnotations(paramTypes, paramAnnotations);\n\t        }\n\t        // API for metadata created by invoking the decorators.\n\t        if (this._reflect != null && this._reflect.getOwnMetadata != null) {\n\t            var /** @type {?} */ paramAnnotations = this._reflect.getOwnMetadata('parameters', type);\n\t            var /** @type {?} */ paramTypes = this._reflect.getOwnMetadata('design:paramtypes', type);\n\t            if (paramTypes || paramAnnotations) {\n\t                return this._zipTypesAndAnnotations(paramTypes, paramAnnotations);\n\t            }\n\t        }\n\t        // If a class has no decorators, at least create metadata\n\t        // based on function.length.\n\t        // Note: We know that this is a real constructor as we checked\n\t        // the content of the constructor above.\n\t        return new Array(((type.length))).fill(undefined);\n\t    };\n\t    /**\n\t     * @param {?} type\n\t     * @return {?}\n\t     */\n\t    ReflectionCapabilities.prototype.parameters = function (type) {\n\t        // Note: only report metadata if we have at least one class decorator\n\t        // to stay in sync with the static reflector.\n\t        if (!isType(type)) {\n\t            return [];\n\t        }\n\t        var /** @type {?} */ parentCtor = getParentCtor(type);\n\t        var /** @type {?} */ parameters = this._ownParameters(type, parentCtor);\n\t        if (!parameters && parentCtor !== Object) {\n\t            parameters = this.parameters(parentCtor);\n\t        }\n\t        return parameters || [];\n\t    };\n\t    /**\n\t     * @param {?} typeOrFunc\n\t     * @param {?} parentCtor\n\t     * @return {?}\n\t     */\n\t    ReflectionCapabilities.prototype._ownAnnotations = function (typeOrFunc, parentCtor) {\n\t        // Prefer the direct API.\n\t        if (((typeOrFunc)).annotations && ((typeOrFunc)).annotations !== parentCtor.annotations) {\n\t            var /** @type {?} */ annotations = ((typeOrFunc)).annotations;\n\t            if (typeof annotations === 'function' && annotations.annotations) {\n\t                annotations = annotations.annotations;\n\t            }\n\t            return annotations;\n\t        }\n\t        // API of tsickle for lowering decorators to properties on the class.\n\t        if (((typeOrFunc)).decorators && ((typeOrFunc)).decorators !== parentCtor.decorators) {\n\t            return convertTsickleDecoratorIntoMetadata(((typeOrFunc)).decorators);\n\t        }\n\t        // API for metadata created by invoking the decorators.\n\t        if (this._reflect && this._reflect.getOwnMetadata) {\n\t            return this._reflect.getOwnMetadata('annotations', typeOrFunc);\n\t        }\n\t        return null;\n\t    };\n\t    /**\n\t     * @param {?} typeOrFunc\n\t     * @return {?}\n\t     */\n\t    ReflectionCapabilities.prototype.annotations = function (typeOrFunc) {\n\t        if (!isType(typeOrFunc)) {\n\t            return [];\n\t        }\n\t        var /** @type {?} */ parentCtor = getParentCtor(typeOrFunc);\n\t        var /** @type {?} */ ownAnnotations = this._ownAnnotations(typeOrFunc, parentCtor) || [];\n\t        var /** @type {?} */ parentAnnotations = parentCtor !== Object ? this.annotations(parentCtor) : [];\n\t        return parentAnnotations.concat(ownAnnotations);\n\t    };\n\t    /**\n\t     * @param {?} typeOrFunc\n\t     * @param {?} parentCtor\n\t     * @return {?}\n\t     */\n\t    ReflectionCapabilities.prototype._ownPropMetadata = function (typeOrFunc, parentCtor) {\n\t        // Prefer the direct API.\n\t        if (((typeOrFunc)).propMetadata &&\n\t            ((typeOrFunc)).propMetadata !== parentCtor.propMetadata) {\n\t            var /** @type {?} */ propMetadata = ((typeOrFunc)).propMetadata;\n\t            if (typeof propMetadata === 'function' && propMetadata.propMetadata) {\n\t                propMetadata = propMetadata.propMetadata;\n\t            }\n\t            return propMetadata;\n\t        }\n\t        // API of tsickle for lowering decorators to properties on the class.\n\t        if (((typeOrFunc)).propDecorators &&\n\t            ((typeOrFunc)).propDecorators !== parentCtor.propDecorators) {\n\t            var /** @type {?} */ propDecorators_1 = ((typeOrFunc)).propDecorators;\n\t            var /** @type {?} */ propMetadata_1 = ({});\n\t            Object.keys(propDecorators_1).forEach(function (prop) {\n\t                propMetadata_1[prop] = convertTsickleDecoratorIntoMetadata(propDecorators_1[prop]);\n\t            });\n\t            return propMetadata_1;\n\t        }\n\t        // API for metadata created by invoking the decorators.\n\t        if (this._reflect && this._reflect.getOwnMetadata) {\n\t            return this._reflect.getOwnMetadata('propMetadata', typeOrFunc);\n\t        }\n\t        return null;\n\t    };\n\t    /**\n\t     * @param {?} typeOrFunc\n\t     * @return {?}\n\t     */\n\t    ReflectionCapabilities.prototype.propMetadata = function (typeOrFunc) {\n\t        if (!isType(typeOrFunc)) {\n\t            return {};\n\t        }\n\t        var /** @type {?} */ parentCtor = getParentCtor(typeOrFunc);\n\t        var /** @type {?} */ propMetadata = {};\n\t        if (parentCtor !== Object) {\n\t            var /** @type {?} */ parentPropMetadata_1 = this.propMetadata(parentCtor);\n\t            Object.keys(parentPropMetadata_1).forEach(function (propName) {\n\t                propMetadata[propName] = parentPropMetadata_1[propName];\n\t            });\n\t        }\n\t        var /** @type {?} */ ownPropMetadata = this._ownPropMetadata(typeOrFunc, parentCtor);\n\t        if (ownPropMetadata) {\n\t            Object.keys(ownPropMetadata).forEach(function (propName) {\n\t                var /** @type {?} */ decorators = [];\n\t                if (propMetadata.hasOwnProperty(propName)) {\n\t                    decorators.push.apply(decorators, propMetadata[propName]);\n\t                }\n\t                decorators.push.apply(decorators, ownPropMetadata[propName]);\n\t                propMetadata[propName] = decorators;\n\t            });\n\t        }\n\t        return propMetadata;\n\t    };\n\t    /**\n\t     * @param {?} type\n\t     * @param {?} lcProperty\n\t     * @return {?}\n\t     */\n\t    ReflectionCapabilities.prototype.hasLifecycleHook = function (type, lcProperty) {\n\t        return type instanceof Type && lcProperty in type.prototype;\n\t    };\n\t    /**\n\t     * @param {?} name\n\t     * @return {?}\n\t     */\n\t    ReflectionCapabilities.prototype.getter = function (name) { return (new Function('o', 'return o.' + name + ';')); };\n\t    /**\n\t     * @param {?} name\n\t     * @return {?}\n\t     */\n\t    ReflectionCapabilities.prototype.setter = function (name) {\n\t        return (new Function('o', 'v', 'return o.' + name + ' = v;'));\n\t    };\n\t    /**\n\t     * @param {?} name\n\t     * @return {?}\n\t     */\n\t    ReflectionCapabilities.prototype.method = function (name) {\n\t        var /** @type {?} */ functionBody = \"if (!o.\" + name + \") throw new Error('\\\"\" + name + \"\\\" is undefined');\\n        return o.\" + name + \".apply(o, args);\";\n\t        return (new Function('o', 'args', functionBody));\n\t    };\n\t    /**\n\t     * @param {?} type\n\t     * @return {?}\n\t     */\n\t    ReflectionCapabilities.prototype.importUri = function (type) {\n\t        // StaticSymbol\n\t        if (typeof type === 'object' && type['filePath']) {\n\t            return type['filePath'];\n\t        }\n\t        // Runtime type\n\t        return \"./\" + stringify(type);\n\t    };\n\t    /**\n\t     * @param {?} type\n\t     * @return {?}\n\t     */\n\t    ReflectionCapabilities.prototype.resourceUri = function (type) { return \"./\" + stringify(type); };\n\t    /**\n\t     * @param {?} name\n\t     * @param {?} moduleUrl\n\t     * @param {?} members\n\t     * @param {?} runtime\n\t     * @return {?}\n\t     */\n\t    ReflectionCapabilities.prototype.resolveIdentifier = function (name, moduleUrl, members, runtime) {\n\t        return runtime;\n\t    };\n\t    /**\n\t     * @param {?} enumIdentifier\n\t     * @param {?} name\n\t     * @return {?}\n\t     */\n\t    ReflectionCapabilities.prototype.resolveEnum = function (enumIdentifier, name) { return enumIdentifier[name]; };\n\t    return ReflectionCapabilities;\n\t}());\n\t/**\n\t * @param {?} decoratorInvocations\n\t * @return {?}\n\t */\n\tfunction convertTsickleDecoratorIntoMetadata(decoratorInvocations) {\n\t    if (!decoratorInvocations) {\n\t        return [];\n\t    }\n\t    return decoratorInvocations.map(function (decoratorInvocation) {\n\t        var /** @type {?} */ decoratorType = decoratorInvocation.type;\n\t        var /** @type {?} */ annotationCls = decoratorType.annotationCls;\n\t        var /** @type {?} */ annotationArgs = decoratorInvocation.args ? decoratorInvocation.args : [];\n\t        return new (annotationCls.bind.apply(annotationCls, [void 0].concat(annotationArgs)))();\n\t    });\n\t}\n\t/**\n\t * @param {?} ctor\n\t * @return {?}\n\t */\n\tfunction getParentCtor(ctor) {\n\t    var /** @type {?} */ parentProto = Object.getPrototypeOf(ctor.prototype);\n\t    var /** @type {?} */ parentCtor = parentProto ? parentProto.constructor : null;\n\t    // Note: We always use `Object` as the null value\n\t    // to simplify checking later on.\n\t    return parentCtor || Object;\n\t}\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t/**\n\t * Provides access to reflection data about symbols. Used internally by Angular\n\t * to power dependency injection and compilation.\n\t */\n\tvar Reflector = (function () {\n\t    /**\n\t     * @param {?} reflectionCapabilities\n\t     */\n\t    function Reflector(reflectionCapabilities) {\n\t        this.reflectionCapabilities = reflectionCapabilities;\n\t    }\n\t    /**\n\t     * @param {?} caps\n\t     * @return {?}\n\t     */\n\t    Reflector.prototype.updateCapabilities = function (caps) { this.reflectionCapabilities = caps; };\n\t    /**\n\t     * @param {?} type\n\t     * @return {?}\n\t     */\n\t    Reflector.prototype.factory = function (type) { return this.reflectionCapabilities.factory(type); };\n\t    /**\n\t     * @param {?} typeOrFunc\n\t     * @return {?}\n\t     */\n\t    Reflector.prototype.parameters = function (typeOrFunc) {\n\t        return this.reflectionCapabilities.parameters(typeOrFunc);\n\t    };\n\t    /**\n\t     * @param {?} typeOrFunc\n\t     * @return {?}\n\t     */\n\t    Reflector.prototype.annotations = function (typeOrFunc) {\n\t        return this.reflectionCapabilities.annotations(typeOrFunc);\n\t    };\n\t    /**\n\t     * @param {?} typeOrFunc\n\t     * @return {?}\n\t     */\n\t    Reflector.prototype.propMetadata = function (typeOrFunc) {\n\t        return this.reflectionCapabilities.propMetadata(typeOrFunc);\n\t    };\n\t    /**\n\t     * @param {?} type\n\t     * @param {?} lcProperty\n\t     * @return {?}\n\t     */\n\t    Reflector.prototype.hasLifecycleHook = function (type, lcProperty) {\n\t        return this.reflectionCapabilities.hasLifecycleHook(type, lcProperty);\n\t    };\n\t    /**\n\t     * @param {?} name\n\t     * @return {?}\n\t     */\n\t    Reflector.prototype.getter = function (name) { return this.reflectionCapabilities.getter(name); };\n\t    /**\n\t     * @param {?} name\n\t     * @return {?}\n\t     */\n\t    Reflector.prototype.setter = function (name) { return this.reflectionCapabilities.setter(name); };\n\t    /**\n\t     * @param {?} name\n\t     * @return {?}\n\t     */\n\t    Reflector.prototype.method = function (name) { return this.reflectionCapabilities.method(name); };\n\t    /**\n\t     * @param {?} type\n\t     * @return {?}\n\t     */\n\t    Reflector.prototype.importUri = function (type) { return this.reflectionCapabilities.importUri(type); };\n\t    /**\n\t     * @param {?} type\n\t     * @return {?}\n\t     */\n\t    Reflector.prototype.resourceUri = function (type) { return this.reflectionCapabilities.resourceUri(type); };\n\t    /**\n\t     * @param {?} name\n\t     * @param {?} moduleUrl\n\t     * @param {?} members\n\t     * @param {?} runtime\n\t     * @return {?}\n\t     */\n\t    Reflector.prototype.resolveIdentifier = function (name, moduleUrl, members, runtime) {\n\t        return this.reflectionCapabilities.resolveIdentifier(name, moduleUrl, members, runtime);\n\t    };\n\t    /**\n\t     * @param {?} identifier\n\t     * @param {?} name\n\t     * @return {?}\n\t     */\n\t    Reflector.prototype.resolveEnum = function (identifier, name) {\n\t        return this.reflectionCapabilities.resolveEnum(identifier, name);\n\t    };\n\t    return Reflector;\n\t}());\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t/**\n\t * The {\\@link Reflector} used internally in Angular to access metadata\n\t * about symbols.\n\t */\n\tvar reflector = new Reflector(new ReflectionCapabilities());\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t/**\n\t * `Dependency` is used by the framework to extend DI.\n\t * This is internal to Angular and should not be used directly.\n\t */\n\tvar ReflectiveDependency = (function () {\n\t    /**\n\t     * @param {?} key\n\t     * @param {?} optional\n\t     * @param {?} visibility\n\t     */\n\t    function ReflectiveDependency(key, optional, visibility) {\n\t        this.key = key;\n\t        this.optional = optional;\n\t        this.visibility = visibility;\n\t    }\n\t    /**\n\t     * @param {?} key\n\t     * @return {?}\n\t     */\n\t    ReflectiveDependency.fromKey = function (key) {\n\t        return new ReflectiveDependency(key, false, null);\n\t    };\n\t    return ReflectiveDependency;\n\t}());\n\tvar _EMPTY_LIST = [];\n\tvar ResolvedReflectiveProvider_ = (function () {\n\t    /**\n\t     * @param {?} key\n\t     * @param {?} resolvedFactories\n\t     * @param {?} multiProvider\n\t     */\n\t    function ResolvedReflectiveProvider_(key, resolvedFactories, multiProvider) {\n\t        this.key = key;\n\t        this.resolvedFactories = resolvedFactories;\n\t        this.multiProvider = multiProvider;\n\t    }\n\t    Object.defineProperty(ResolvedReflectiveProvider_.prototype, \"resolvedFactory\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () { return this.resolvedFactories[0]; },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    return ResolvedReflectiveProvider_;\n\t}());\n\t/**\n\t * An internal resolved representation of a factory function created by resolving {\\@link\n\t * Provider}.\n\t * \\@experimental\n\t */\n\tvar ResolvedReflectiveFactory = (function () {\n\t    /**\n\t     * @param {?} factory\n\t     * @param {?} dependencies\n\t     */\n\t    function ResolvedReflectiveFactory(factory, dependencies) {\n\t        this.factory = factory;\n\t        this.dependencies = dependencies;\n\t    }\n\t    return ResolvedReflectiveFactory;\n\t}());\n\t/**\n\t * Resolve a single provider.\n\t * @param {?} provider\n\t * @return {?}\n\t */\n\tfunction resolveReflectiveFactory(provider) {\n\t    var /** @type {?} */ factoryFn;\n\t    var /** @type {?} */ resolvedDeps;\n\t    if (provider.useClass) {\n\t        var /** @type {?} */ useClass = resolveForwardRef(provider.useClass);\n\t        factoryFn = reflector.factory(useClass);\n\t        resolvedDeps = _dependenciesFor(useClass);\n\t    }\n\t    else if (provider.useExisting) {\n\t        factoryFn = function (aliasInstance) { return aliasInstance; };\n\t        resolvedDeps = [ReflectiveDependency.fromKey(ReflectiveKey.get(provider.useExisting))];\n\t    }\n\t    else if (provider.useFactory) {\n\t        factoryFn = provider.useFactory;\n\t        resolvedDeps = constructDependencies(provider.useFactory, provider.deps);\n\t    }\n\t    else {\n\t        factoryFn = function () { return provider.useValue; };\n\t        resolvedDeps = _EMPTY_LIST;\n\t    }\n\t    return new ResolvedReflectiveFactory(factoryFn, resolvedDeps);\n\t}\n\t/**\n\t * Converts the {\\@link Provider} into {\\@link ResolvedProvider}.\n\t *\n\t * {\\@link Injector} internally only uses {\\@link ResolvedProvider}, {\\@link Provider} contains\n\t * convenience provider syntax.\n\t * @param {?} provider\n\t * @return {?}\n\t */\n\tfunction resolveReflectiveProvider(provider) {\n\t    return new ResolvedReflectiveProvider_(ReflectiveKey.get(provider.provide), [resolveReflectiveFactory(provider)], provider.multi || false);\n\t}\n\t/**\n\t * Resolve a list of Providers.\n\t * @param {?} providers\n\t * @return {?}\n\t */\n\tfunction resolveReflectiveProviders(providers) {\n\t    var /** @type {?} */ normalized = _normalizeProviders(providers, []);\n\t    var /** @type {?} */ resolved = normalized.map(resolveReflectiveProvider);\n\t    var /** @type {?} */ resolvedProviderMap = mergeResolvedReflectiveProviders(resolved, new Map());\n\t    return Array.from(resolvedProviderMap.values());\n\t}\n\t/**\n\t * Merges a list of ResolvedProviders into a list where\n\t * each key is contained exactly once and multi providers\n\t * have been merged.\n\t * @param {?} providers\n\t * @param {?} normalizedProvidersMap\n\t * @return {?}\n\t */\n\tfunction mergeResolvedReflectiveProviders(providers, normalizedProvidersMap) {\n\t    for (var /** @type {?} */ i = 0; i < providers.length; i++) {\n\t        var /** @type {?} */ provider = providers[i];\n\t        var /** @type {?} */ existing = normalizedProvidersMap.get(provider.key.id);\n\t        if (existing) {\n\t            if (provider.multiProvider !== existing.multiProvider) {\n\t                throw mixingMultiProvidersWithRegularProvidersError(existing, provider);\n\t            }\n\t            if (provider.multiProvider) {\n\t                for (var /** @type {?} */ j = 0; j < provider.resolvedFactories.length; j++) {\n\t                    existing.resolvedFactories.push(provider.resolvedFactories[j]);\n\t                }\n\t            }\n\t            else {\n\t                normalizedProvidersMap.set(provider.key.id, provider);\n\t            }\n\t        }\n\t        else {\n\t            var /** @type {?} */ resolvedProvider = void 0;\n\t            if (provider.multiProvider) {\n\t                resolvedProvider = new ResolvedReflectiveProvider_(provider.key, provider.resolvedFactories.slice(), provider.multiProvider);\n\t            }\n\t            else {\n\t                resolvedProvider = provider;\n\t            }\n\t            normalizedProvidersMap.set(provider.key.id, resolvedProvider);\n\t        }\n\t    }\n\t    return normalizedProvidersMap;\n\t}\n\t/**\n\t * @param {?} providers\n\t * @param {?} res\n\t * @return {?}\n\t */\n\tfunction _normalizeProviders(providers, res) {\n\t    providers.forEach(function (b) {\n\t        if (b instanceof Type) {\n\t            res.push({ provide: b, useClass: b });\n\t        }\n\t        else if (b && typeof b == 'object' && ((b)).provide !== undefined) {\n\t            res.push(/** @type {?} */ (b));\n\t        }\n\t        else if (b instanceof Array) {\n\t            _normalizeProviders(b, res);\n\t        }\n\t        else {\n\t            throw invalidProviderError(b);\n\t        }\n\t    });\n\t    return res;\n\t}\n\t/**\n\t * @param {?} typeOrFunc\n\t * @param {?=} dependencies\n\t * @return {?}\n\t */\n\tfunction constructDependencies(typeOrFunc, dependencies) {\n\t    if (!dependencies) {\n\t        return _dependenciesFor(typeOrFunc);\n\t    }\n\t    else {\n\t        var /** @type {?} */ params_1 = dependencies.map(function (t) { return [t]; });\n\t        return dependencies.map(function (t) { return _extractToken(typeOrFunc, t, params_1); });\n\t    }\n\t}\n\t/**\n\t * @param {?} typeOrFunc\n\t * @return {?}\n\t */\n\tfunction _dependenciesFor(typeOrFunc) {\n\t    var /** @type {?} */ params = reflector.parameters(typeOrFunc);\n\t    if (!params)\n\t        return [];\n\t    if (params.some(function (p) { return p == null; })) {\n\t        throw noAnnotationError(typeOrFunc, params);\n\t    }\n\t    return params.map(function (p) { return _extractToken(typeOrFunc, p, params); });\n\t}\n\t/**\n\t * @param {?} typeOrFunc\n\t * @param {?} metadata\n\t * @param {?} params\n\t * @return {?}\n\t */\n\tfunction _extractToken(typeOrFunc, metadata, params) {\n\t    var /** @type {?} */ token = null;\n\t    var /** @type {?} */ optional = false;\n\t    if (!Array.isArray(metadata)) {\n\t        if (metadata instanceof Inject) {\n\t            return _createDependency(metadata.token, optional, null);\n\t        }\n\t        else {\n\t            return _createDependency(metadata, optional, null);\n\t        }\n\t    }\n\t    var /** @type {?} */ visibility = null;\n\t    for (var /** @type {?} */ i = 0; i < metadata.length; ++i) {\n\t        var /** @type {?} */ paramMetadata = metadata[i];\n\t        if (paramMetadata instanceof Type) {\n\t            token = paramMetadata;\n\t        }\n\t        else if (paramMetadata instanceof Inject) {\n\t            token = paramMetadata.token;\n\t        }\n\t        else if (paramMetadata instanceof Optional) {\n\t            optional = true;\n\t        }\n\t        else if (paramMetadata instanceof Self || paramMetadata instanceof SkipSelf) {\n\t            visibility = paramMetadata;\n\t        }\n\t        else if (paramMetadata instanceof InjectionToken) {\n\t            token = paramMetadata;\n\t        }\n\t    }\n\t    token = resolveForwardRef(token);\n\t    if (token != null) {\n\t        return _createDependency(token, optional, visibility);\n\t    }\n\t    else {\n\t        throw noAnnotationError(typeOrFunc, params);\n\t    }\n\t}\n\t/**\n\t * @param {?} token\n\t * @param {?} optional\n\t * @param {?} visibility\n\t * @return {?}\n\t */\n\tfunction _createDependency(token, optional, visibility) {\n\t    return new ReflectiveDependency(ReflectiveKey.get(token), optional, visibility);\n\t}\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t// Threshold for the dynamic version\n\tvar UNDEFINED = new Object();\n\t/**\n\t * A ReflectiveDependency injection container used for instantiating objects and resolving\n\t * dependencies.\n\t *\n\t * An `Injector` is a replacement for a `new` operator, which can automatically resolve the\n\t * constructor dependencies.\n\t *\n\t * In typical use, application code asks for the dependencies in the constructor and they are\n\t * resolved by the `Injector`.\n\t *\n\t * ### Example ([live demo](http://plnkr.co/edit/jzjec0?p=preview))\n\t *\n\t * The following example creates an `Injector` configured to create `Engine` and `Car`.\n\t *\n\t * ```typescript\n\t * \\@Injectable()\n\t * class Engine {\n\t * }\n\t *\n\t * \\@Injectable()\n\t * class Car {\n\t *   constructor(public engine:Engine) {}\n\t * }\n\t *\n\t * var injector = ReflectiveInjector.resolveAndCreate([Car, Engine]);\n\t * var car = injector.get(Car);\n\t * expect(car instanceof Car).toBe(true);\n\t * expect(car.engine instanceof Engine).toBe(true);\n\t * ```\n\t *\n\t * Notice, we don't use the `new` operator because we explicitly want to have the `Injector`\n\t * resolve all of the object's dependencies automatically.\n\t *\n\t * \\@stable\n\t * @abstract\n\t */\n\tvar ReflectiveInjector = (function () {\n\t    function ReflectiveInjector() {\n\t    }\n\t    /**\n\t     * Turns an array of provider definitions into an array of resolved providers.\n\t     *\n\t     * A resolution is a process of flattening multiple nested arrays and converting individual\n\t     * providers into an array of {\\@link ResolvedReflectiveProvider}s.\n\t     *\n\t     * ### Example ([live demo](http://plnkr.co/edit/AiXTHi?p=preview))\n\t     *\n\t     * ```typescript\n\t     * \\@Injectable()\n\t     * class Engine {\n\t     * }\n\t     *\n\t     * \\@Injectable()\n\t     * class Car {\n\t     *   constructor(public engine:Engine) {}\n\t     * }\n\t     *\n\t     * var providers = ReflectiveInjector.resolve([Car, [[Engine]]]);\n\t     *\n\t     * expect(providers.length).toEqual(2);\n\t     *\n\t     * expect(providers[0] instanceof ResolvedReflectiveProvider).toBe(true);\n\t     * expect(providers[0].key.displayName).toBe(\"Car\");\n\t     * expect(providers[0].dependencies.length).toEqual(1);\n\t     * expect(providers[0].factory).toBeDefined();\n\t     *\n\t     * expect(providers[1].key.displayName).toBe(\"Engine\");\n\t     * });\n\t     * ```\n\t     *\n\t     * See {\\@link ReflectiveInjector#fromResolvedProviders} for more info.\n\t     * @param {?} providers\n\t     * @return {?}\n\t     */\n\t    ReflectiveInjector.resolve = function (providers) {\n\t        return resolveReflectiveProviders(providers);\n\t    };\n\t    /**\n\t     * Resolves an array of providers and creates an injector from those providers.\n\t     *\n\t     * The passed-in providers can be an array of `Type`, {\\@link Provider},\n\t     * or a recursive array of more providers.\n\t     *\n\t     * ### Example ([live demo](http://plnkr.co/edit/ePOccA?p=preview))\n\t     *\n\t     * ```typescript\n\t     * \\@Injectable()\n\t     * class Engine {\n\t     * }\n\t     *\n\t     * \\@Injectable()\n\t     * class Car {\n\t     *   constructor(public engine:Engine) {}\n\t     * }\n\t     *\n\t     * var injector = ReflectiveInjector.resolveAndCreate([Car, Engine]);\n\t     * expect(injector.get(Car) instanceof Car).toBe(true);\n\t     * ```\n\t     *\n\t     * This function is slower than the corresponding `fromResolvedProviders`\n\t     * because it needs to resolve the passed-in providers first.\n\t     * See {\\@link ReflectiveInjector#resolve} and {\\@link ReflectiveInjector#fromResolvedProviders}.\n\t     * @param {?} providers\n\t     * @param {?=} parent\n\t     * @return {?}\n\t     */\n\t    ReflectiveInjector.resolveAndCreate = function (providers, parent) {\n\t        var /** @type {?} */ ResolvedReflectiveProviders = ReflectiveInjector.resolve(providers);\n\t        return ReflectiveInjector.fromResolvedProviders(ResolvedReflectiveProviders, parent);\n\t    };\n\t    /**\n\t     * Creates an injector from previously resolved providers.\n\t     *\n\t     * This API is the recommended way to construct injectors in performance-sensitive parts.\n\t     *\n\t     * ### Example ([live demo](http://plnkr.co/edit/KrSMci?p=preview))\n\t     *\n\t     * ```typescript\n\t     * \\@Injectable()\n\t     * class Engine {\n\t     * }\n\t     *\n\t     * \\@Injectable()\n\t     * class Car {\n\t     *   constructor(public engine:Engine) {}\n\t     * }\n\t     *\n\t     * var providers = ReflectiveInjector.resolve([Car, Engine]);\n\t     * var injector = ReflectiveInjector.fromResolvedProviders(providers);\n\t     * expect(injector.get(Car) instanceof Car).toBe(true);\n\t     * ```\n\t     * \\@experimental\n\t     * @param {?} providers\n\t     * @param {?=} parent\n\t     * @return {?}\n\t     */\n\t    ReflectiveInjector.fromResolvedProviders = function (providers, parent) {\n\t        return new ReflectiveInjector_(providers, parent);\n\t    };\n\t    /**\n\t     * Parent of this injector.\n\t     *\n\t     * <!-- TODO: Add a link to the section of the user guide talking about hierarchical injection.\n\t     * -->\n\t     *\n\t     * ### Example ([live demo](http://plnkr.co/edit/eosMGo?p=preview))\n\t     *\n\t     * ```typescript\n\t     * var parent = ReflectiveInjector.resolveAndCreate([]);\n\t     * var child = parent.resolveAndCreateChild([]);\n\t     * expect(child.parent).toBe(parent);\n\t     * ```\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    ReflectiveInjector.prototype.parent = function () { };\n\t    /**\n\t     * Resolves an array of providers and creates a child injector from those providers.\n\t     *\n\t     * <!-- TODO: Add a link to the section of the user guide talking about hierarchical injection.\n\t     * -->\n\t     *\n\t     * The passed-in providers can be an array of `Type`, {\\@link Provider},\n\t     * or a recursive array of more providers.\n\t     *\n\t     * ### Example ([live demo](http://plnkr.co/edit/opB3T4?p=preview))\n\t     *\n\t     * ```typescript\n\t     * class ParentProvider {}\n\t     * class ChildProvider {}\n\t     *\n\t     * var parent = ReflectiveInjector.resolveAndCreate([ParentProvider]);\n\t     * var child = parent.resolveAndCreateChild([ChildProvider]);\n\t     *\n\t     * expect(child.get(ParentProvider) instanceof ParentProvider).toBe(true);\n\t     * expect(child.get(ChildProvider) instanceof ChildProvider).toBe(true);\n\t     * expect(child.get(ParentProvider)).toBe(parent.get(ParentProvider));\n\t     * ```\n\t     *\n\t     * This function is slower than the corresponding `createChildFromResolved`\n\t     * because it needs to resolve the passed-in providers first.\n\t     * See {\\@link ReflectiveInjector#resolve} and {\\@link ReflectiveInjector#createChildFromResolved}.\n\t     * @abstract\n\t     * @param {?} providers\n\t     * @return {?}\n\t     */\n\t    ReflectiveInjector.prototype.resolveAndCreateChild = function (providers) { };\n\t    /**\n\t     * Creates a child injector from previously resolved providers.\n\t     *\n\t     * <!-- TODO: Add a link to the section of the user guide talking about hierarchical injection.\n\t     * -->\n\t     *\n\t     * This API is the recommended way to construct injectors in performance-sensitive parts.\n\t     *\n\t     * ### Example ([live demo](http://plnkr.co/edit/VhyfjN?p=preview))\n\t     *\n\t     * ```typescript\n\t     * class ParentProvider {}\n\t     * class ChildProvider {}\n\t     *\n\t     * var parentProviders = ReflectiveInjector.resolve([ParentProvider]);\n\t     * var childProviders = ReflectiveInjector.resolve([ChildProvider]);\n\t     *\n\t     * var parent = ReflectiveInjector.fromResolvedProviders(parentProviders);\n\t     * var child = parent.createChildFromResolved(childProviders);\n\t     *\n\t     * expect(child.get(ParentProvider) instanceof ParentProvider).toBe(true);\n\t     * expect(child.get(ChildProvider) instanceof ChildProvider).toBe(true);\n\t     * expect(child.get(ParentProvider)).toBe(parent.get(ParentProvider));\n\t     * ```\n\t     * @abstract\n\t     * @param {?} providers\n\t     * @return {?}\n\t     */\n\t    ReflectiveInjector.prototype.createChildFromResolved = function (providers) { };\n\t    /**\n\t     * Resolves a provider and instantiates an object in the context of the injector.\n\t     *\n\t     * The created object does not get cached by the injector.\n\t     *\n\t     * ### Example ([live demo](http://plnkr.co/edit/yvVXoB?p=preview))\n\t     *\n\t     * ```typescript\n\t     * \\@Injectable()\n\t     * class Engine {\n\t     * }\n\t     *\n\t     * \\@Injectable()\n\t     * class Car {\n\t     *   constructor(public engine:Engine) {}\n\t     * }\n\t     *\n\t     * var injector = ReflectiveInjector.resolveAndCreate([Engine]);\n\t     *\n\t     * var car = injector.resolveAndInstantiate(Car);\n\t     * expect(car.engine).toBe(injector.get(Engine));\n\t     * expect(car).not.toBe(injector.resolveAndInstantiate(Car));\n\t     * ```\n\t     * @abstract\n\t     * @param {?} provider\n\t     * @return {?}\n\t     */\n\t    ReflectiveInjector.prototype.resolveAndInstantiate = function (provider) { };\n\t    /**\n\t     * Instantiates an object using a resolved provider in the context of the injector.\n\t     *\n\t     * The created object does not get cached by the injector.\n\t     *\n\t     * ### Example ([live demo](http://plnkr.co/edit/ptCImQ?p=preview))\n\t     *\n\t     * ```typescript\n\t     * \\@Injectable()\n\t     * class Engine {\n\t     * }\n\t     *\n\t     * \\@Injectable()\n\t     * class Car {\n\t     *   constructor(public engine:Engine) {}\n\t     * }\n\t     *\n\t     * var injector = ReflectiveInjector.resolveAndCreate([Engine]);\n\t     * var carProvider = ReflectiveInjector.resolve([Car])[0];\n\t     * var car = injector.instantiateResolved(carProvider);\n\t     * expect(car.engine).toBe(injector.get(Engine));\n\t     * expect(car).not.toBe(injector.instantiateResolved(carProvider));\n\t     * ```\n\t     * @abstract\n\t     * @param {?} provider\n\t     * @return {?}\n\t     */\n\t    ReflectiveInjector.prototype.instantiateResolved = function (provider) { };\n\t    /**\n\t     * @abstract\n\t     * @param {?} token\n\t     * @param {?=} notFoundValue\n\t     * @return {?}\n\t     */\n\t    ReflectiveInjector.prototype.get = function (token, notFoundValue) { };\n\t    return ReflectiveInjector;\n\t}());\n\tvar ReflectiveInjector_ = (function () {\n\t    /**\n\t     * Private\n\t     * @param {?} _providers\n\t     * @param {?=} _parent\n\t     */\n\t    function ReflectiveInjector_(_providers, _parent) {\n\t        /**\n\t         * \\@internal\n\t         */\n\t        this._constructionCounter = 0;\n\t        this._providers = _providers;\n\t        this._parent = _parent || null;\n\t        var len = _providers.length;\n\t        this.keyIds = new Array(len);\n\t        this.objs = new Array(len);\n\t        for (var i = 0; i < len; i++) {\n\t            this.keyIds[i] = _providers[i].key.id;\n\t            this.objs[i] = UNDEFINED;\n\t        }\n\t    }\n\t    /**\n\t     * @param {?} token\n\t     * @param {?=} notFoundValue\n\t     * @return {?}\n\t     */\n\t    ReflectiveInjector_.prototype.get = function (token, notFoundValue) {\n\t        if (notFoundValue === void 0) { notFoundValue = THROW_IF_NOT_FOUND; }\n\t        return this._getByKey(ReflectiveKey.get(token), null, notFoundValue);\n\t    };\n\t    Object.defineProperty(ReflectiveInjector_.prototype, \"parent\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () { return this._parent; },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    /**\n\t     * @param {?} providers\n\t     * @return {?}\n\t     */\n\t    ReflectiveInjector_.prototype.resolveAndCreateChild = function (providers) {\n\t        var /** @type {?} */ ResolvedReflectiveProviders = ReflectiveInjector.resolve(providers);\n\t        return this.createChildFromResolved(ResolvedReflectiveProviders);\n\t    };\n\t    /**\n\t     * @param {?} providers\n\t     * @return {?}\n\t     */\n\t    ReflectiveInjector_.prototype.createChildFromResolved = function (providers) {\n\t        var /** @type {?} */ inj = new ReflectiveInjector_(providers);\n\t        inj._parent = this;\n\t        return inj;\n\t    };\n\t    /**\n\t     * @param {?} provider\n\t     * @return {?}\n\t     */\n\t    ReflectiveInjector_.prototype.resolveAndInstantiate = function (provider) {\n\t        return this.instantiateResolved(ReflectiveInjector.resolve([provider])[0]);\n\t    };\n\t    /**\n\t     * @param {?} provider\n\t     * @return {?}\n\t     */\n\t    ReflectiveInjector_.prototype.instantiateResolved = function (provider) {\n\t        return this._instantiateProvider(provider);\n\t    };\n\t    /**\n\t     * @param {?} index\n\t     * @return {?}\n\t     */\n\t    ReflectiveInjector_.prototype.getProviderAtIndex = function (index) {\n\t        if (index < 0 || index >= this._providers.length) {\n\t            throw outOfBoundsError(index);\n\t        }\n\t        return this._providers[index];\n\t    };\n\t    /**\n\t     * \\@internal\n\t     * @param {?} provider\n\t     * @return {?}\n\t     */\n\t    ReflectiveInjector_.prototype._new = function (provider) {\n\t        if (this._constructionCounter++ > this._getMaxNumberOfObjects()) {\n\t            throw cyclicDependencyError(this, provider.key);\n\t        }\n\t        return this._instantiateProvider(provider);\n\t    };\n\t    /**\n\t     * @return {?}\n\t     */\n\t    ReflectiveInjector_.prototype._getMaxNumberOfObjects = function () { return this.objs.length; };\n\t    /**\n\t     * @param {?} provider\n\t     * @return {?}\n\t     */\n\t    ReflectiveInjector_.prototype._instantiateProvider = function (provider) {\n\t        if (provider.multiProvider) {\n\t            var /** @type {?} */ res = new Array(provider.resolvedFactories.length);\n\t            for (var /** @type {?} */ i = 0; i < provider.resolvedFactories.length; ++i) {\n\t                res[i] = this._instantiate(provider, provider.resolvedFactories[i]);\n\t            }\n\t            return res;\n\t        }\n\t        else {\n\t            return this._instantiate(provider, provider.resolvedFactories[0]);\n\t        }\n\t    };\n\t    /**\n\t     * @param {?} provider\n\t     * @param {?} ResolvedReflectiveFactory\n\t     * @return {?}\n\t     */\n\t    ReflectiveInjector_.prototype._instantiate = function (provider, ResolvedReflectiveFactory$$1) {\n\t        var _this = this;\n\t        var /** @type {?} */ factory = ResolvedReflectiveFactory$$1.factory;\n\t        var /** @type {?} */ deps;\n\t        try {\n\t            deps =\n\t                ResolvedReflectiveFactory$$1.dependencies.map(function (dep) { return _this._getByReflectiveDependency(dep); });\n\t        }\n\t        catch (e) {\n\t            if (e.addKey) {\n\t                e.addKey(this, provider.key);\n\t            }\n\t            throw e;\n\t        }\n\t        var /** @type {?} */ obj;\n\t        try {\n\t            obj = factory.apply(void 0, deps);\n\t        }\n\t        catch (e) {\n\t            throw instantiationError(this, e, e.stack, provider.key);\n\t        }\n\t        return obj;\n\t    };\n\t    /**\n\t     * @param {?} dep\n\t     * @return {?}\n\t     */\n\t    ReflectiveInjector_.prototype._getByReflectiveDependency = function (dep) {\n\t        return this._getByKey(dep.key, dep.visibility, dep.optional ? null : THROW_IF_NOT_FOUND);\n\t    };\n\t    /**\n\t     * @param {?} key\n\t     * @param {?} visibility\n\t     * @param {?} notFoundValue\n\t     * @return {?}\n\t     */\n\t    ReflectiveInjector_.prototype._getByKey = function (key, visibility, notFoundValue) {\n\t        if (key === INJECTOR_KEY) {\n\t            return this;\n\t        }\n\t        if (visibility instanceof Self) {\n\t            return this._getByKeySelf(key, notFoundValue);\n\t        }\n\t        else {\n\t            return this._getByKeyDefault(key, notFoundValue, visibility);\n\t        }\n\t    };\n\t    /**\n\t     * @param {?} keyId\n\t     * @return {?}\n\t     */\n\t    ReflectiveInjector_.prototype._getObjByKeyId = function (keyId) {\n\t        for (var /** @type {?} */ i = 0; i < this.keyIds.length; i++) {\n\t            if (this.keyIds[i] === keyId) {\n\t                if (this.objs[i] === UNDEFINED) {\n\t                    this.objs[i] = this._new(this._providers[i]);\n\t                }\n\t                return this.objs[i];\n\t            }\n\t        }\n\t        return UNDEFINED;\n\t    };\n\t    /**\n\t     * \\@internal\n\t     * @param {?} key\n\t     * @param {?} notFoundValue\n\t     * @return {?}\n\t     */\n\t    ReflectiveInjector_.prototype._throwOrNull = function (key, notFoundValue) {\n\t        if (notFoundValue !== THROW_IF_NOT_FOUND) {\n\t            return notFoundValue;\n\t        }\n\t        else {\n\t            throw noProviderError(this, key);\n\t        }\n\t    };\n\t    /**\n\t     * \\@internal\n\t     * @param {?} key\n\t     * @param {?} notFoundValue\n\t     * @return {?}\n\t     */\n\t    ReflectiveInjector_.prototype._getByKeySelf = function (key, notFoundValue) {\n\t        var /** @type {?} */ obj = this._getObjByKeyId(key.id);\n\t        return (obj !== UNDEFINED) ? obj : this._throwOrNull(key, notFoundValue);\n\t    };\n\t    /**\n\t     * \\@internal\n\t     * @param {?} key\n\t     * @param {?} notFoundValue\n\t     * @param {?} visibility\n\t     * @return {?}\n\t     */\n\t    ReflectiveInjector_.prototype._getByKeyDefault = function (key, notFoundValue, visibility) {\n\t        var /** @type {?} */ inj;\n\t        if (visibility instanceof SkipSelf) {\n\t            inj = this._parent;\n\t        }\n\t        else {\n\t            inj = this;\n\t        }\n\t        while (inj instanceof ReflectiveInjector_) {\n\t            var /** @type {?} */ inj_ = (inj);\n\t            var /** @type {?} */ obj = inj_._getObjByKeyId(key.id);\n\t            if (obj !== UNDEFINED)\n\t                return obj;\n\t            inj = inj_._parent;\n\t        }\n\t        if (inj !== null) {\n\t            return inj.get(key.token, notFoundValue);\n\t        }\n\t        else {\n\t            return this._throwOrNull(key, notFoundValue);\n\t        }\n\t    };\n\t    Object.defineProperty(ReflectiveInjector_.prototype, \"displayName\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () {\n\t            var /** @type {?} */ providers = _mapProviders(this, function (b) { return ' \"' + b.key.displayName + '\" '; })\n\t                .join(', ');\n\t            return \"ReflectiveInjector(providers: [\" + providers + \"])\";\n\t        },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    /**\n\t     * @return {?}\n\t     */\n\t    ReflectiveInjector_.prototype.toString = function () { return this.displayName; };\n\t    return ReflectiveInjector_;\n\t}());\n\tvar INJECTOR_KEY = ReflectiveKey.get(Injector);\n\t/**\n\t * @param {?} injector\n\t * @param {?} fn\n\t * @return {?}\n\t */\n\tfunction _mapProviders(injector, fn) {\n\t    var /** @type {?} */ res = new Array(injector._providers.length);\n\t    for (var /** @type {?} */ i = 0; i < injector._providers.length; ++i) {\n\t        res[i] = fn(injector.getProviderAtIndex(i));\n\t    }\n\t    return res;\n\t}\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t/**\n\t * @module\n\t * @description\n\t * The `di` module provides dependency injection container services.\n\t */\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t/**\n\t * Determine if the argument is shaped like a Promise\n\t * @param {?} obj\n\t * @return {?}\n\t */\n\tfunction isPromise(obj) {\n\t    // allow any Promise/A+ compliant thenable.\n\t    // It's up to the caller to ensure that obj.then conforms to the spec\n\t    return !!obj && typeof obj.then === 'function';\n\t}\n\t/**\n\t * Determine if the argument is an Observable\n\t * @param {?} obj\n\t * @return {?}\n\t */\n\tfunction isObservable(obj) {\n\t    // TODO use Symbol.observable when https://github.com/ReactiveX/rxjs/issues/2415 will be resolved\n\t    return !!obj && typeof obj.subscribe === 'function';\n\t}\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t/**\n\t * A function that will be executed when an application is initialized.\n\t * \\@experimental\n\t */\n\tvar APP_INITIALIZER = new InjectionToken('Application Initializer');\n\t/**\n\t * A class that reflects the state of running {\\@link APP_INITIALIZER}s.\n\t *\n\t * \\@experimental\n\t */\n\tvar ApplicationInitStatus = (function () {\n\t    /**\n\t     * @param {?} appInits\n\t     */\n\t    function ApplicationInitStatus(appInits) {\n\t        var _this = this;\n\t        this.appInits = appInits;\n\t        this.initialized = false;\n\t        this._done = false;\n\t        this._donePromise = new Promise(function (res, rej) {\n\t            _this.resolve = res;\n\t            _this.reject = rej;\n\t        });\n\t    }\n\t    /**\n\t     * \\@internal\n\t     * @return {?}\n\t     */\n\t    ApplicationInitStatus.prototype.runInitializers = function () {\n\t        var _this = this;\n\t        if (this.initialized) {\n\t            return;\n\t        }\n\t        var /** @type {?} */ asyncInitPromises = [];\n\t        var /** @type {?} */ complete = function () {\n\t            _this._done = true;\n\t            _this.resolve();\n\t        };\n\t        if (this.appInits) {\n\t            for (var /** @type {?} */ i = 0; i < this.appInits.length; i++) {\n\t                var /** @type {?} */ initResult = this.appInits[i]();\n\t                if (isPromise(initResult)) {\n\t                    asyncInitPromises.push(initResult);\n\t                }\n\t            }\n\t        }\n\t        Promise.all(asyncInitPromises).then(function () { complete(); }).catch(function (e) { _this.reject(e); });\n\t        if (asyncInitPromises.length === 0) {\n\t            complete();\n\t        }\n\t        this.initialized = true;\n\t    };\n\t    Object.defineProperty(ApplicationInitStatus.prototype, \"done\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () { return this._done; },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(ApplicationInitStatus.prototype, \"donePromise\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () { return this._donePromise; },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    return ApplicationInitStatus;\n\t}());\n\tApplicationInitStatus.decorators = [\n\t    { type: Injectable },\n\t];\n\t/**\n\t * @nocollapse\n\t */\n\tApplicationInitStatus.ctorParameters = function () { return [\n\t    { type: Array, decorators: [{ type: Inject, args: [APP_INITIALIZER,] }, { type: Optional },] },\n\t]; };\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t/**\n\t * A DI Token representing a unique string id assigned to the application by Angular and used\n\t * primarily for prefixing application attributes and CSS styles when\n\t * {\\@link ViewEncapsulation#Emulated} is being used.\n\t *\n\t * If you need to avoid randomly generated value to be used as an application id, you can provide\n\t * a custom value via a DI provider <!-- TODO: provider --> configuring the root {\\@link Injector}\n\t * using this token.\n\t * \\@experimental\n\t */\n\tvar APP_ID = new InjectionToken('AppId');\n\t/**\n\t * @return {?}\n\t */\n\tfunction _appIdRandomProviderFactory() {\n\t    return \"\" + _randomChar() + _randomChar() + _randomChar();\n\t}\n\t/**\n\t * Providers that will generate a random APP_ID_TOKEN.\n\t * \\@experimental\n\t */\n\tvar APP_ID_RANDOM_PROVIDER = {\n\t    provide: APP_ID,\n\t    useFactory: _appIdRandomProviderFactory,\n\t    deps: [],\n\t};\n\t/**\n\t * @return {?}\n\t */\n\tfunction _randomChar() {\n\t    return String.fromCharCode(97 + Math.floor(Math.random() * 25));\n\t}\n\t/**\n\t * A function that will be executed when a platform is initialized.\n\t * \\@experimental\n\t */\n\tvar PLATFORM_INITIALIZER = new InjectionToken('Platform Initializer');\n\t/**\n\t * A token that indicates an opaque platform id.\n\t * \\@experimental\n\t */\n\tvar PLATFORM_ID = new InjectionToken('Platform ID');\n\t/**\n\t * All callbacks provided via this token will be called for every component that is bootstrapped.\n\t * Signature of the callback:\n\t *\n\t * `(componentRef: ComponentRef) => void`.\n\t *\n\t * \\@experimental\n\t */\n\tvar APP_BOOTSTRAP_LISTENER = new InjectionToken('appBootstrapListener');\n\t/**\n\t * A token which indicates the root directory of the application\n\t * \\@experimental\n\t */\n\tvar PACKAGE_ROOT_URL = new InjectionToken('Application Packages Root URL');\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\tvar Console = (function () {\n\t    function Console() {\n\t    }\n\t    /**\n\t     * @param {?} message\n\t     * @return {?}\n\t     */\n\t    Console.prototype.log = function (message) {\n\t        // tslint:disable-next-line:no-console\n\t        console.log(message);\n\t    };\n\t    /**\n\t     * @param {?} message\n\t     * @return {?}\n\t     */\n\t    Console.prototype.warn = function (message) {\n\t        // tslint:disable-next-line:no-console\n\t        console.warn(message);\n\t    };\n\t    return Console;\n\t}());\n\tConsole.decorators = [\n\t    { type: Injectable },\n\t];\n\t/**\n\t * @nocollapse\n\t */\n\tConsole.ctorParameters = function () { return []; };\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t/**\n\t * Combination of NgModuleFactory and ComponentFactorys.\n\t *\n\t * \\@experimental\n\t */\n\tvar ModuleWithComponentFactories = (function () {\n\t    /**\n\t     * @param {?} ngModuleFactory\n\t     * @param {?} componentFactories\n\t     */\n\t    function ModuleWithComponentFactories(ngModuleFactory, componentFactories) {\n\t        this.ngModuleFactory = ngModuleFactory;\n\t        this.componentFactories = componentFactories;\n\t    }\n\t    return ModuleWithComponentFactories;\n\t}());\n\t/**\n\t * @return {?}\n\t */\n\tfunction _throwError() {\n\t    throw new Error(\"Runtime compiler is not loaded\");\n\t}\n\t/**\n\t * Low-level service for running the angular compiler during runtime\n\t * to create {\\@link ComponentFactory}s, which\n\t * can later be used to create and render a Component instance.\n\t *\n\t * Each `\\@NgModule` provides an own `Compiler` to its injector,\n\t * that will use the directives/pipes of the ng module for compilation\n\t * of components.\n\t * \\@stable\n\t */\n\tvar Compiler = (function () {\n\t    function Compiler() {\n\t    }\n\t    /**\n\t     * Compiles the given NgModule and all of its components. All templates of the components listed\n\t     * in `entryComponents` have to be inlined.\n\t     * @template T\n\t     * @param {?} moduleType\n\t     * @return {?}\n\t     */\n\t    Compiler.prototype.compileModuleSync = function (moduleType) { throw _throwError(); };\n\t    /**\n\t     * Compiles the given NgModule and all of its components\n\t     * @template T\n\t     * @param {?} moduleType\n\t     * @return {?}\n\t     */\n\t    Compiler.prototype.compileModuleAsync = function (moduleType) { throw _throwError(); };\n\t    /**\n\t     * Same as {\\@link #compileModuleSync} but also creates ComponentFactories for all components.\n\t     * @template T\n\t     * @param {?} moduleType\n\t     * @return {?}\n\t     */\n\t    Compiler.prototype.compileModuleAndAllComponentsSync = function (moduleType) {\n\t        throw _throwError();\n\t    };\n\t    /**\n\t     * Same as {\\@link #compileModuleAsync} but also creates ComponentFactories for all components.\n\t     * @template T\n\t     * @param {?} moduleType\n\t     * @return {?}\n\t     */\n\t    Compiler.prototype.compileModuleAndAllComponentsAsync = function (moduleType) {\n\t        throw _throwError();\n\t    };\n\t    /**\n\t     * Exposes the CSS-style selectors that have been used in `ngContent` directives within\n\t     * the template of the given component.\n\t     * This is used by the `upgrade` library to compile the appropriate transclude content\n\t     * in the AngularJS wrapper component.\n\t     *\n\t     * @deprecated since v4. Use ComponentFactory.ngContentSelectors instead.\n\t     * @param {?} component\n\t     * @return {?}\n\t     */\n\t    Compiler.prototype.getNgContentSelectors = function (component) { throw _throwError(); };\n\t    /**\n\t     * Clears all caches.\n\t     * @return {?}\n\t     */\n\t    Compiler.prototype.clearCache = function () { };\n\t    /**\n\t     * Clears the cache for the given component/ngModule.\n\t     * @param {?} type\n\t     * @return {?}\n\t     */\n\t    Compiler.prototype.clearCacheFor = function (type) { };\n\t    return Compiler;\n\t}());\n\tCompiler.decorators = [\n\t    { type: Injectable },\n\t];\n\t/**\n\t * @nocollapse\n\t */\n\tCompiler.ctorParameters = function () { return []; };\n\t/**\n\t * Token to provide CompilerOptions in the platform injector.\n\t *\n\t * \\@experimental\n\t */\n\tvar COMPILER_OPTIONS = new InjectionToken('compilerOptions');\n\t/**\n\t * A factory for creating a Compiler\n\t *\n\t * \\@experimental\n\t * @abstract\n\t */\n\tvar CompilerFactory = (function () {\n\t    function CompilerFactory() {\n\t    }\n\t    /**\n\t     * @abstract\n\t     * @param {?=} options\n\t     * @return {?}\n\t     */\n\t    CompilerFactory.prototype.createCompiler = function (options) { };\n\t    return CompilerFactory;\n\t}());\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t/**\n\t * Represents an instance of a Component created via a {\\@link ComponentFactory}.\n\t *\n\t * `ComponentRef` provides access to the Component Instance as well other objects related to this\n\t * Component Instance and allows you to destroy the Component Instance via the {\\@link #destroy}\n\t * method.\n\t * \\@stable\n\t * @abstract\n\t */\n\tvar ComponentRef = (function () {\n\t    function ComponentRef() {\n\t    }\n\t    /**\n\t     * Location of the Host Element of this Component Instance.\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    ComponentRef.prototype.location = function () { };\n\t    /**\n\t     * The injector on which the component instance exists.\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    ComponentRef.prototype.injector = function () { };\n\t    /**\n\t     * The instance of the Component.\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    ComponentRef.prototype.instance = function () { };\n\t    /**\n\t     * The {\\@link ViewRef} of the Host View of this Component instance.\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    ComponentRef.prototype.hostView = function () { };\n\t    /**\n\t     * The {\\@link ChangeDetectorRef} of the Component instance.\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    ComponentRef.prototype.changeDetectorRef = function () { };\n\t    /**\n\t     * The component type.\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    ComponentRef.prototype.componentType = function () { };\n\t    /**\n\t     * Destroys the component instance and all of the data structures associated with it.\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    ComponentRef.prototype.destroy = function () { };\n\t    /**\n\t     * Allows to register a callback that will be called when the component is destroyed.\n\t     * @abstract\n\t     * @param {?} callback\n\t     * @return {?}\n\t     */\n\t    ComponentRef.prototype.onDestroy = function (callback) { };\n\t    return ComponentRef;\n\t}());\n\t/**\n\t * \\@stable\n\t * @abstract\n\t */\n\tvar ComponentFactory = (function () {\n\t    function ComponentFactory() {\n\t    }\n\t    /**\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    ComponentFactory.prototype.selector = function () { };\n\t    /**\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    ComponentFactory.prototype.componentType = function () { };\n\t    /**\n\t     * selector for all <ng-content> elements in the component.\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    ComponentFactory.prototype.ngContentSelectors = function () { };\n\t    /**\n\t     * the inputs of the component.\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    ComponentFactory.prototype.inputs = function () { };\n\t    /**\n\t     * the outputs of the component.\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    ComponentFactory.prototype.outputs = function () { };\n\t    /**\n\t     * Creates a new component.\n\t     * @abstract\n\t     * @param {?} injector\n\t     * @param {?=} projectableNodes\n\t     * @param {?=} rootSelectorOrNode\n\t     * @param {?=} ngModule\n\t     * @return {?}\n\t     */\n\t    ComponentFactory.prototype.create = function (injector, projectableNodes, rootSelectorOrNode, ngModule) { };\n\t    return ComponentFactory;\n\t}());\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t/**\n\t * @param {?} component\n\t * @return {?}\n\t */\n\tfunction noComponentFactoryError(component) {\n\t    var /** @type {?} */ error = Error(\"No component factory found for \" + stringify(component) + \". Did you add it to @NgModule.entryComponents?\");\n\t    ((error))[ERROR_COMPONENT] = component;\n\t    return error;\n\t}\n\tvar ERROR_COMPONENT = 'ngComponent';\n\t/**\n\t * @param {?} error\n\t * @return {?}\n\t */\n\tvar _NullComponentFactoryResolver = (function () {\n\t    function _NullComponentFactoryResolver() {\n\t    }\n\t    /**\n\t     * @template T\n\t     * @param {?} component\n\t     * @return {?}\n\t     */\n\t    _NullComponentFactoryResolver.prototype.resolveComponentFactory = function (component) {\n\t        throw noComponentFactoryError(component);\n\t    };\n\t    return _NullComponentFactoryResolver;\n\t}());\n\t/**\n\t * \\@stable\n\t * @abstract\n\t */\n\tvar ComponentFactoryResolver = (function () {\n\t    function ComponentFactoryResolver() {\n\t    }\n\t    /**\n\t     * @abstract\n\t     * @template T\n\t     * @param {?} component\n\t     * @return {?}\n\t     */\n\t    ComponentFactoryResolver.prototype.resolveComponentFactory = function (component) { };\n\t    return ComponentFactoryResolver;\n\t}());\n\tComponentFactoryResolver.NULL = new _NullComponentFactoryResolver();\n\tvar CodegenComponentFactoryResolver = (function () {\n\t    /**\n\t     * @param {?} factories\n\t     * @param {?} _parent\n\t     * @param {?} _ngModule\n\t     */\n\t    function CodegenComponentFactoryResolver(factories, _parent, _ngModule) {\n\t        this._parent = _parent;\n\t        this._ngModule = _ngModule;\n\t        this._factories = new Map();\n\t        for (var i = 0; i < factories.length; i++) {\n\t            var factory = factories[i];\n\t            this._factories.set(factory.componentType, factory);\n\t        }\n\t    }\n\t    /**\n\t     * @template T\n\t     * @param {?} component\n\t     * @return {?}\n\t     */\n\t    CodegenComponentFactoryResolver.prototype.resolveComponentFactory = function (component) {\n\t        var /** @type {?} */ factory = this._factories.get(component);\n\t        if (!factory && this._parent) {\n\t            factory = this._parent.resolveComponentFactory(component);\n\t        }\n\t        if (!factory) {\n\t            throw noComponentFactoryError(component);\n\t        }\n\t        return new ComponentFactoryBoundToModule(factory, this._ngModule);\n\t    };\n\t    return CodegenComponentFactoryResolver;\n\t}());\n\tvar ComponentFactoryBoundToModule = (function (_super) {\n\t    __extends(ComponentFactoryBoundToModule, _super);\n\t    /**\n\t     * @param {?} factory\n\t     * @param {?} ngModule\n\t     */\n\t    function ComponentFactoryBoundToModule(factory, ngModule) {\n\t        var _this = _super.call(this) || this;\n\t        _this.factory = factory;\n\t        _this.ngModule = ngModule;\n\t        return _this;\n\t    }\n\t    Object.defineProperty(ComponentFactoryBoundToModule.prototype, \"selector\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () { return this.factory.selector; },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(ComponentFactoryBoundToModule.prototype, \"componentType\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () { return this.factory.componentType; },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(ComponentFactoryBoundToModule.prototype, \"ngContentSelectors\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () { return this.factory.ngContentSelectors; },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(ComponentFactoryBoundToModule.prototype, \"inputs\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () { return this.factory.inputs; },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(ComponentFactoryBoundToModule.prototype, \"outputs\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () { return this.factory.outputs; },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    /**\n\t     * @param {?} injector\n\t     * @param {?=} projectableNodes\n\t     * @param {?=} rootSelectorOrNode\n\t     * @param {?=} ngModule\n\t     * @return {?}\n\t     */\n\t    ComponentFactoryBoundToModule.prototype.create = function (injector, projectableNodes, rootSelectorOrNode, ngModule) {\n\t        return this.factory.create(injector, projectableNodes, rootSelectorOrNode, ngModule || this.ngModule);\n\t    };\n\t    return ComponentFactoryBoundToModule;\n\t}(ComponentFactory));\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t/**\n\t * Represents an instance of an NgModule created via a {\\@link NgModuleFactory}.\n\t *\n\t * `NgModuleRef` provides access to the NgModule Instance as well other objects related to this\n\t * NgModule Instance.\n\t *\n\t * \\@stable\n\t * @abstract\n\t */\n\tvar NgModuleRef = (function () {\n\t    function NgModuleRef() {\n\t    }\n\t    /**\n\t     * The injector that contains all of the providers of the NgModule.\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    NgModuleRef.prototype.injector = function () { };\n\t    /**\n\t     * The ComponentFactoryResolver to get hold of the ComponentFactories\n\t     * declared in the `entryComponents` property of the module.\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    NgModuleRef.prototype.componentFactoryResolver = function () { };\n\t    /**\n\t     * The NgModule instance.\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    NgModuleRef.prototype.instance = function () { };\n\t    /**\n\t     * Destroys the module instance and all of the data structures associated with it.\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    NgModuleRef.prototype.destroy = function () { };\n\t    /**\n\t     * Allows to register a callback that will be called when the module is destroyed.\n\t     * @abstract\n\t     * @param {?} callback\n\t     * @return {?}\n\t     */\n\t    NgModuleRef.prototype.onDestroy = function (callback) { };\n\t    return NgModuleRef;\n\t}());\n\t/**\n\t * \\@experimental\n\t * @abstract\n\t */\n\tvar NgModuleFactory = (function () {\n\t    function NgModuleFactory() {\n\t    }\n\t    /**\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    NgModuleFactory.prototype.moduleType = function () { };\n\t    /**\n\t     * @abstract\n\t     * @param {?} parentInjector\n\t     * @return {?}\n\t     */\n\t    NgModuleFactory.prototype.create = function (parentInjector) { };\n\t    return NgModuleFactory;\n\t}());\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\tvar trace;\n\tvar events;\n\t/**\n\t * @return {?}\n\t */\n\tfunction detectWTF() {\n\t    var /** @type {?} */ wtf = ((_global) /** TODO #9100 */)['wtf'];\n\t    if (wtf) {\n\t        trace = wtf['trace'];\n\t        if (trace) {\n\t            events = trace['events'];\n\t            return true;\n\t        }\n\t    }\n\t    return false;\n\t}\n\t/**\n\t * @param {?} signature\n\t * @param {?=} flags\n\t * @return {?}\n\t */\n\tfunction createScope$1(signature, flags) {\n\t    if (flags === void 0) { flags = null; }\n\t    return events.createScope(signature, flags);\n\t}\n\t/**\n\t * @template T\n\t * @param {?} scope\n\t * @param {?=} returnValue\n\t * @return {?}\n\t */\n\tfunction leave(scope, returnValue) {\n\t    trace.leaveScope(scope, returnValue);\n\t    return returnValue;\n\t}\n\t/**\n\t * @param {?} rangeType\n\t * @param {?} action\n\t * @return {?}\n\t */\n\tfunction startTimeRange(rangeType, action) {\n\t    return trace.beginTimeRange(rangeType, action);\n\t}\n\t/**\n\t * @param {?} range\n\t * @return {?}\n\t */\n\tfunction endTimeRange(range) {\n\t    trace.endTimeRange(range);\n\t}\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t/**\n\t * True if WTF is enabled.\n\t */\n\tvar wtfEnabled = detectWTF();\n\t/**\n\t * @param {?=} arg0\n\t * @param {?=} arg1\n\t * @return {?}\n\t */\n\tfunction noopScope(arg0, arg1) {\n\t    return null;\n\t}\n\t/**\n\t * Create trace scope.\n\t *\n\t * Scopes must be strictly nested and are analogous to stack frames, but\n\t * do not have to follow the stack frames. Instead it is recommended that they follow logical\n\t * nesting. You may want to use\n\t * [Event\n\t * Signatures](http://google.github.io/tracing-framework/instrumenting-code.html#custom-events)\n\t * as they are defined in WTF.\n\t *\n\t * Used to mark scope entry. The return value is used to leave the scope.\n\t *\n\t *     var myScope = wtfCreateScope('MyClass#myMethod(ascii someVal)');\n\t *\n\t *     someMethod() {\n\t *        var s = myScope('Foo'); // 'Foo' gets stored in tracing UI\n\t *        // DO SOME WORK HERE\n\t *        return wtfLeave(s, 123); // Return value 123\n\t *     }\n\t *\n\t * Note, adding try-finally block around the work to ensure that `wtfLeave` gets called can\n\t * negatively impact the performance of your application. For this reason we recommend that\n\t * you don't add them to ensure that `wtfLeave` gets called. In production `wtfLeave` is a noop and\n\t * so try-finally block has no value. When debugging perf issues, skipping `wtfLeave`, do to\n\t * exception, will produce incorrect trace, but presence of exception signifies logic error which\n\t * needs to be fixed before the app should be profiled. Add try-finally only when you expect that\n\t * an exception is expected during normal execution while profiling.\n\t *\n\t * \\@experimental\n\t */\n\tvar wtfCreateScope = wtfEnabled ? createScope$1 : function (signature, flags) { return noopScope; };\n\t/**\n\t * Used to mark end of Scope.\n\t *\n\t * - `scope` to end.\n\t * - `returnValue` (optional) to be passed to the WTF.\n\t *\n\t * Returns the `returnValue for easy chaining.\n\t * \\@experimental\n\t */\n\tvar wtfLeave = wtfEnabled ? leave : function (s, r) { return r; };\n\t/**\n\t * Used to mark Async start. Async are similar to scope but they don't have to be strictly nested.\n\t * The return value is used in the call to [endAsync]. Async ranges only work if WTF has been\n\t * enabled.\n\t *\n\t *     someMethod() {\n\t *        var s = wtfStartTimeRange('HTTP:GET', 'some.url');\n\t *        var future = new Future.delay(5).then((_) {\n\t *          wtfEndTimeRange(s);\n\t *        });\n\t *     }\n\t * \\@experimental\n\t */\n\tvar wtfStartTimeRange = wtfEnabled ? startTimeRange : function (rangeType, action) { return null; };\n\t/**\n\t * Ends a async time range operation.\n\t * [range] is the return value from [wtfStartTimeRange] Async ranges only work if WTF has been\n\t * enabled.\n\t * \\@experimental\n\t */\n\tvar wtfEndTimeRange = wtfEnabled ? endTimeRange : function (r) { return null; };\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t/**\n\t * Use by directives and components to emit custom Events.\n\t *\n\t * ### Examples\n\t *\n\t * In the following example, `Zippy` alternatively emits `open` and `close` events when its\n\t * title gets clicked:\n\t *\n\t * ```\n\t * \\@Component({\n\t *   selector: 'zippy',\n\t *   template: `\n\t *   <div class=\"zippy\">\n\t *     <div (click)=\"toggle()\">Toggle</div>\n\t *     <div [hidden]=\"!visible\">\n\t *       <ng-content></ng-content>\n\t *     </div>\n\t *  </div>`})\n\t * export class Zippy {\n\t *   visible: boolean = true;\n\t *   \\@Output() open: EventEmitter<any> = new EventEmitter();\n\t *   \\@Output() close: EventEmitter<any> = new EventEmitter();\n\t *\n\t *   toggle() {\n\t *     this.visible = !this.visible;\n\t *     if (this.visible) {\n\t *       this.open.emit(null);\n\t *     } else {\n\t *       this.close.emit(null);\n\t *     }\n\t *   }\n\t * }\n\t * ```\n\t *\n\t * The events payload can be accessed by the parameter `$event` on the components output event\n\t * handler:\n\t *\n\t * ```\n\t * <zippy (open)=\"onOpen($event)\" (close)=\"onClose($event)\"></zippy>\n\t * ```\n\t *\n\t * Uses Rx.Observable but provides an adapter to make it work as specified here:\n\t * https://github.com/jhusain/observable-spec\n\t *\n\t * Once a reference implementation of the spec is available, switch to it.\n\t * \\@stable\n\t */\n\tvar EventEmitter = (function (_super) {\n\t    __extends(EventEmitter, _super);\n\t    /**\n\t     * Creates an instance of {\\@link EventEmitter}, which depending on `isAsync`,\n\t     * delivers events synchronously or asynchronously.\n\t     *\n\t     * @param {?=} isAsync By default, events are delivered synchronously (default value: `false`).\n\t     * Set to `true` for asynchronous event delivery.\n\t     */\n\t    function EventEmitter(isAsync) {\n\t        if (isAsync === void 0) { isAsync = false; }\n\t        var _this = _super.call(this) || this;\n\t        _this.__isAsync = isAsync;\n\t        return _this;\n\t    }\n\t    /**\n\t     * @param {?=} value\n\t     * @return {?}\n\t     */\n\t    EventEmitter.prototype.emit = function (value) { _super.prototype.next.call(this, value); };\n\t    /**\n\t     * @param {?=} generatorOrNext\n\t     * @param {?=} error\n\t     * @param {?=} complete\n\t     * @return {?}\n\t     */\n\t    EventEmitter.prototype.subscribe = function (generatorOrNext, error, complete) {\n\t        var /** @type {?} */ schedulerFn;\n\t        var /** @type {?} */ errorFn = function (err) { return null; };\n\t        var /** @type {?} */ completeFn = function () { return null; };\n\t        if (generatorOrNext && typeof generatorOrNext === 'object') {\n\t            schedulerFn = this.__isAsync ? function (value) {\n\t                setTimeout(function () { return generatorOrNext.next(value); });\n\t            } : function (value) { generatorOrNext.next(value); };\n\t            if (generatorOrNext.error) {\n\t                errorFn = this.__isAsync ? function (err) { setTimeout(function () { return generatorOrNext.error(err); }); } :\n\t                    function (err) { generatorOrNext.error(err); };\n\t            }\n\t            if (generatorOrNext.complete) {\n\t                completeFn = this.__isAsync ? function () { setTimeout(function () { return generatorOrNext.complete(); }); } :\n\t                    function () { generatorOrNext.complete(); };\n\t            }\n\t        }\n\t        else {\n\t            schedulerFn = this.__isAsync ? function (value) { setTimeout(function () { return generatorOrNext(value); }); } :\n\t                function (value) { generatorOrNext(value); };\n\t            if (error) {\n\t                errorFn =\n\t                    this.__isAsync ? function (err) { setTimeout(function () { return error(err); }); } : function (err) { error(err); };\n\t            }\n\t            if (complete) {\n\t                completeFn =\n\t                    this.__isAsync ? function () { setTimeout(function () { return complete(); }); } : function () { complete(); };\n\t            }\n\t        }\n\t        return _super.prototype.subscribe.call(this, schedulerFn, errorFn, completeFn);\n\t    };\n\t    return EventEmitter;\n\t}(rxjs_Subject.Subject));\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t/**\n\t * An injectable service for executing work inside or outside of the Angular zone.\n\t *\n\t * The most common use of this service is to optimize performance when starting a work consisting of\n\t * one or more asynchronous tasks that don't require UI updates or error handling to be handled by\n\t * Angular. Such tasks can be kicked off via {\\@link #runOutsideAngular} and if needed, these tasks\n\t * can reenter the Angular zone via {\\@link #run}.\n\t *\n\t * <!-- TODO: add/fix links to:\n\t *   - docs explaining zones and the use of zones in Angular and change-detection\n\t *   - link to runOutsideAngular/run (throughout this file!)\n\t *   -->\n\t *\n\t * ### Example\n\t *\n\t * ```\n\t * import {Component, NgZone} from '\\@angular/core';\n\t * import {NgIf} from '\\@angular/common';\n\t *\n\t * \\@Component({\n\t *   selector: 'ng-zone-demo'.\n\t *   template: `\n\t *     <h2>Demo: NgZone</h2>\n\t *\n\t *     <p>Progress: {{progress}}%</p>\n\t *     <p *ngIf=\"progress >= 100\">Done processing {{label}} of Angular zone!</p>\n\t *\n\t *     <button (click)=\"processWithinAngularZone()\">Process within Angular zone</button>\n\t *     <button (click)=\"processOutsideOfAngularZone()\">Process outside of Angular zone</button>\n\t *   `,\n\t * })\n\t * export class NgZoneDemo {\n\t *   progress: number = 0;\n\t *   label: string;\n\t *\n\t *   constructor(private _ngZone: NgZone) {}\n\t *\n\t *   // Loop inside the Angular zone\n\t *   // so the UI DOES refresh after each setTimeout cycle\n\t *   processWithinAngularZone() {\n\t *     this.label = 'inside';\n\t *     this.progress = 0;\n\t *     this._increaseProgress(() => console.log('Inside Done!'));\n\t *   }\n\t *\n\t *   // Loop outside of the Angular zone\n\t *   // so the UI DOES NOT refresh after each setTimeout cycle\n\t *   processOutsideOfAngularZone() {\n\t *     this.label = 'outside';\n\t *     this.progress = 0;\n\t *     this._ngZone.runOutsideAngular(() => {\n\t *       this._increaseProgress(() => {\n\t *       // reenter the Angular zone and display done\n\t *       this._ngZone.run(() => {console.log('Outside Done!') });\n\t *     }}));\n\t *   }\n\t *\n\t *   _increaseProgress(doneCallback: () => void) {\n\t *     this.progress += 1;\n\t *     console.log(`Current progress: ${this.progress}%`);\n\t *\n\t *     if (this.progress < 100) {\n\t *       window.setTimeout(() => this._increaseProgress(doneCallback)), 10)\n\t *     } else {\n\t *       doneCallback();\n\t *     }\n\t *   }\n\t * }\n\t * ```\n\t *\n\t * \\@experimental\n\t */\n\tvar NgZone = (function () {\n\t    /**\n\t     * @param {?} __0\n\t     */\n\t    function NgZone(_a) {\n\t        var _b = _a.enableLongStackTrace, enableLongStackTrace = _b === void 0 ? false : _b;\n\t        this.hasPendingMicrotasks = false;\n\t        this.hasPendingMacrotasks = false;\n\t        /**\n\t         * Whether there are no outstanding microtasks or macrotasks.\n\t         */\n\t        this.isStable = true;\n\t        /**\n\t         * Notifies when code enters Angular Zone. This gets fired first on VM Turn.\n\t         */\n\t        this.onUnstable = new EventEmitter(false);\n\t        /**\n\t         * Notifies when there is no more microtasks enqueue in the current VM Turn.\n\t         * This is a hint for Angular to do change detection, which may enqueue more microtasks.\n\t         * For this reason this event can fire multiple times per VM Turn.\n\t         */\n\t        this.onMicrotaskEmpty = new EventEmitter(false);\n\t        /**\n\t         * Notifies when the last `onMicrotaskEmpty` has run and there are no more microtasks, which\n\t         * implies we are about to relinquish VM turn.\n\t         * This event gets called just once.\n\t         */\n\t        this.onStable = new EventEmitter(false);\n\t        /**\n\t         * Notifies that an error has been delivered.\n\t         */\n\t        this.onError = new EventEmitter(false);\n\t        if (typeof Zone == 'undefined') {\n\t            throw new Error('Angular requires Zone.js prolyfill.');\n\t        }\n\t        Zone.assertZonePatched();\n\t        var self = this;\n\t        self._nesting = 0;\n\t        self._outer = self._inner = Zone.current;\n\t        if (Zone['wtfZoneSpec']) {\n\t            self._inner = self._inner.fork(Zone['wtfZoneSpec']);\n\t        }\n\t        if (enableLongStackTrace && Zone['longStackTraceZoneSpec']) {\n\t            self._inner = self._inner.fork(Zone['longStackTraceZoneSpec']);\n\t        }\n\t        forkInnerZoneWithAngularBehavior(self);\n\t    }\n\t    /**\n\t     * @return {?}\n\t     */\n\t    NgZone.isInAngularZone = function () { return Zone.current.get('isAngularZone') === true; };\n\t    /**\n\t     * @return {?}\n\t     */\n\t    NgZone.assertInAngularZone = function () {\n\t        if (!NgZone.isInAngularZone()) {\n\t            throw new Error('Expected to be in Angular Zone, but it is not!');\n\t        }\n\t    };\n\t    /**\n\t     * @return {?}\n\t     */\n\t    NgZone.assertNotInAngularZone = function () {\n\t        if (NgZone.isInAngularZone()) {\n\t            throw new Error('Expected to not be in Angular Zone, but it is!');\n\t        }\n\t    };\n\t    /**\n\t     * Executes the `fn` function synchronously within the Angular zone and returns value returned by\n\t     * the function.\n\t     *\n\t     * Running functions via `run` allows you to reenter Angular zone from a task that was executed\n\t     * outside of the Angular zone (typically started via {\\@link #runOutsideAngular}).\n\t     *\n\t     * Any future tasks or microtasks scheduled from within this function will continue executing from\n\t     * within the Angular zone.\n\t     *\n\t     * If a synchronous error happens it will be rethrown and not reported via `onError`.\n\t     * @param {?} fn\n\t     * @return {?}\n\t     */\n\t    NgZone.prototype.run = function (fn) { return (((this)))._inner.run(fn); };\n\t    /**\n\t     * Same as `run`, except that synchronous errors are caught and forwarded via `onError` and not\n\t     * rethrown.\n\t     * @param {?} fn\n\t     * @return {?}\n\t     */\n\t    NgZone.prototype.runGuarded = function (fn) { return (((this)))._inner.runGuarded(fn); };\n\t    /**\n\t     * Executes the `fn` function synchronously in Angular's parent zone and returns value returned by\n\t     * the function.\n\t     *\n\t     * Running functions via {\\@link #runOutsideAngular} allows you to escape Angular's zone and do\n\t     * work that\n\t     * doesn't trigger Angular change-detection or is subject to Angular's error handling.\n\t     *\n\t     * Any future tasks or microtasks scheduled from within this function will continue executing from\n\t     * outside of the Angular zone.\n\t     *\n\t     * Use {\\@link #run} to reenter the Angular zone and do work that updates the application model.\n\t     * @param {?} fn\n\t     * @return {?}\n\t     */\n\t    NgZone.prototype.runOutsideAngular = function (fn) { return (((this)))._outer.run(fn); };\n\t    return NgZone;\n\t}());\n\t/**\n\t * @param {?} zone\n\t * @return {?}\n\t */\n\tfunction checkStable(zone) {\n\t    if (zone._nesting == 0 && !zone.hasPendingMicrotasks && !zone.isStable) {\n\t        try {\n\t            zone._nesting++;\n\t            zone.onMicrotaskEmpty.emit(null);\n\t        }\n\t        finally {\n\t            zone._nesting--;\n\t            if (!zone.hasPendingMicrotasks) {\n\t                try {\n\t                    zone.runOutsideAngular(function () { return zone.onStable.emit(null); });\n\t                }\n\t                finally {\n\t                    zone.isStable = true;\n\t                }\n\t            }\n\t        }\n\t    }\n\t}\n\t/**\n\t * @param {?} zone\n\t * @return {?}\n\t */\n\tfunction forkInnerZoneWithAngularBehavior(zone) {\n\t    zone._inner = zone._inner.fork({\n\t        name: 'angular',\n\t        properties: /** @type {?} */ ({ 'isAngularZone': true }),\n\t        onInvokeTask: function (delegate, current, target, task, applyThis, applyArgs) {\n\t            try {\n\t                onEnter(zone);\n\t                return delegate.invokeTask(target, task, applyThis, applyArgs);\n\t            }\n\t            finally {\n\t                onLeave(zone);\n\t            }\n\t        },\n\t        onInvoke: function (delegate, current, target, callback, applyThis, applyArgs, source) {\n\t            try {\n\t                onEnter(zone);\n\t                return delegate.invoke(target, callback, applyThis, applyArgs, source);\n\t            }\n\t            finally {\n\t                onLeave(zone);\n\t            }\n\t        },\n\t        onHasTask: function (delegate, current, target, hasTaskState) {\n\t            delegate.hasTask(target, hasTaskState);\n\t            if (current === target) {\n\t                // We are only interested in hasTask events which originate from our zone\n\t                // (A child hasTask event is not interesting to us)\n\t                if (hasTaskState.change == 'microTask') {\n\t                    zone.hasPendingMicrotasks = hasTaskState.microTask;\n\t                    checkStable(zone);\n\t                }\n\t                else if (hasTaskState.change == 'macroTask') {\n\t                    zone.hasPendingMacrotasks = hasTaskState.macroTask;\n\t                }\n\t            }\n\t        },\n\t        onHandleError: function (delegate, current, target, error) {\n\t            delegate.handleError(target, error);\n\t            zone.runOutsideAngular(function () { return zone.onError.emit(error); });\n\t            return false;\n\t        }\n\t    });\n\t}\n\t/**\n\t * @param {?} zone\n\t * @return {?}\n\t */\n\tfunction onEnter(zone) {\n\t    zone._nesting++;\n\t    if (zone.isStable) {\n\t        zone.isStable = false;\n\t        zone.onUnstable.emit(null);\n\t    }\n\t}\n\t/**\n\t * @param {?} zone\n\t * @return {?}\n\t */\n\tfunction onLeave(zone) {\n\t    zone._nesting--;\n\t    checkStable(zone);\n\t}\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t/**\n\t * The Testability service provides testing hooks that can be accessed from\n\t * the browser and by services such as Protractor. Each bootstrapped Angular\n\t * application on the page will have an instance of Testability.\n\t * \\@experimental\n\t */\n\tvar Testability = (function () {\n\t    /**\n\t     * @param {?} _ngZone\n\t     */\n\t    function Testability(_ngZone) {\n\t        this._ngZone = _ngZone;\n\t        /**\n\t         * \\@internal\n\t         */\n\t        this._pendingCount = 0;\n\t        /**\n\t         * \\@internal\n\t         */\n\t        this._isZoneStable = true;\n\t        /**\n\t         * Whether any work was done since the last 'whenStable' callback. This is\n\t         * useful to detect if this could have potentially destabilized another\n\t         * component while it is stabilizing.\n\t         * \\@internal\n\t         */\n\t        this._didWork = false;\n\t        /**\n\t         * \\@internal\n\t         */\n\t        this._callbacks = [];\n\t        this._watchAngularEvents();\n\t    }\n\t    /**\n\t     * \\@internal\n\t     * @return {?}\n\t     */\n\t    Testability.prototype._watchAngularEvents = function () {\n\t        var _this = this;\n\t        this._ngZone.onUnstable.subscribe({\n\t            next: function () {\n\t                _this._didWork = true;\n\t                _this._isZoneStable = false;\n\t            }\n\t        });\n\t        this._ngZone.runOutsideAngular(function () {\n\t            _this._ngZone.onStable.subscribe({\n\t                next: function () {\n\t                    NgZone.assertNotInAngularZone();\n\t                    scheduleMicroTask(function () {\n\t                        _this._isZoneStable = true;\n\t                        _this._runCallbacksIfReady();\n\t                    });\n\t                }\n\t            });\n\t        });\n\t    };\n\t    /**\n\t     * @return {?}\n\t     */\n\t    Testability.prototype.increasePendingRequestCount = function () {\n\t        this._pendingCount += 1;\n\t        this._didWork = true;\n\t        return this._pendingCount;\n\t    };\n\t    /**\n\t     * @return {?}\n\t     */\n\t    Testability.prototype.decreasePendingRequestCount = function () {\n\t        this._pendingCount -= 1;\n\t        if (this._pendingCount < 0) {\n\t            throw new Error('pending async requests below zero');\n\t        }\n\t        this._runCallbacksIfReady();\n\t        return this._pendingCount;\n\t    };\n\t    /**\n\t     * @return {?}\n\t     */\n\t    Testability.prototype.isStable = function () {\n\t        return this._isZoneStable && this._pendingCount == 0 && !this._ngZone.hasPendingMacrotasks;\n\t    };\n\t    /**\n\t     * \\@internal\n\t     * @return {?}\n\t     */\n\t    Testability.prototype._runCallbacksIfReady = function () {\n\t        var _this = this;\n\t        if (this.isStable()) {\n\t            // Schedules the call backs in a new frame so that it is always async.\n\t            scheduleMicroTask(function () {\n\t                while (_this._callbacks.length !== 0) {\n\t                    (((_this._callbacks.pop())))(_this._didWork);\n\t                }\n\t                _this._didWork = false;\n\t            });\n\t        }\n\t        else {\n\t            // Not Ready\n\t            this._didWork = true;\n\t        }\n\t    };\n\t    /**\n\t     * @param {?} callback\n\t     * @return {?}\n\t     */\n\t    Testability.prototype.whenStable = function (callback) {\n\t        this._callbacks.push(callback);\n\t        this._runCallbacksIfReady();\n\t    };\n\t    /**\n\t     * @return {?}\n\t     */\n\t    Testability.prototype.getPendingRequestCount = function () { return this._pendingCount; };\n\t    /**\n\t     * @deprecated use findProviders\n\t     * @param {?} using\n\t     * @param {?} provider\n\t     * @param {?} exactMatch\n\t     * @return {?}\n\t     */\n\t    Testability.prototype.findBindings = function (using, provider, exactMatch) {\n\t        // TODO(juliemr): implement.\n\t        return [];\n\t    };\n\t    /**\n\t     * @param {?} using\n\t     * @param {?} provider\n\t     * @param {?} exactMatch\n\t     * @return {?}\n\t     */\n\t    Testability.prototype.findProviders = function (using, provider, exactMatch) {\n\t        // TODO(juliemr): implement.\n\t        return [];\n\t    };\n\t    return Testability;\n\t}());\n\tTestability.decorators = [\n\t    { type: Injectable },\n\t];\n\t/**\n\t * @nocollapse\n\t */\n\tTestability.ctorParameters = function () { return [\n\t    { type: NgZone, },\n\t]; };\n\t/**\n\t * A global registry of {\\@link Testability} instances for specific elements.\n\t * \\@experimental\n\t */\n\tvar TestabilityRegistry = (function () {\n\t    function TestabilityRegistry() {\n\t        /**\n\t         * \\@internal\n\t         */\n\t        this._applications = new Map();\n\t        _testabilityGetter.addToWindow(this);\n\t    }\n\t    /**\n\t     * @param {?} token\n\t     * @param {?} testability\n\t     * @return {?}\n\t     */\n\t    TestabilityRegistry.prototype.registerApplication = function (token, testability) {\n\t        this._applications.set(token, testability);\n\t    };\n\t    /**\n\t     * @param {?} elem\n\t     * @return {?}\n\t     */\n\t    TestabilityRegistry.prototype.getTestability = function (elem) { return this._applications.get(elem) || null; };\n\t    /**\n\t     * @return {?}\n\t     */\n\t    TestabilityRegistry.prototype.getAllTestabilities = function () { return Array.from(this._applications.values()); };\n\t    /**\n\t     * @return {?}\n\t     */\n\t    TestabilityRegistry.prototype.getAllRootElements = function () { return Array.from(this._applications.keys()); };\n\t    /**\n\t     * @param {?} elem\n\t     * @param {?=} findInAncestors\n\t     * @return {?}\n\t     */\n\t    TestabilityRegistry.prototype.findTestabilityInTree = function (elem, findInAncestors) {\n\t        if (findInAncestors === void 0) { findInAncestors = true; }\n\t        return _testabilityGetter.findTestabilityInTree(this, elem, findInAncestors);\n\t    };\n\t    return TestabilityRegistry;\n\t}());\n\tTestabilityRegistry.decorators = [\n\t    { type: Injectable },\n\t];\n\t/**\n\t * @nocollapse\n\t */\n\tTestabilityRegistry.ctorParameters = function () { return []; };\n\tvar _NoopGetTestability = (function () {\n\t    function _NoopGetTestability() {\n\t    }\n\t    /**\n\t     * @param {?} registry\n\t     * @return {?}\n\t     */\n\t    _NoopGetTestability.prototype.addToWindow = function (registry) { };\n\t    /**\n\t     * @param {?} registry\n\t     * @param {?} elem\n\t     * @param {?} findInAncestors\n\t     * @return {?}\n\t     */\n\t    _NoopGetTestability.prototype.findTestabilityInTree = function (registry, elem, findInAncestors) {\n\t        return null;\n\t    };\n\t    return _NoopGetTestability;\n\t}());\n\t/**\n\t * Set the {\\@link GetTestability} implementation used by the Angular testing framework.\n\t * \\@experimental\n\t * @param {?} getter\n\t * @return {?}\n\t */\n\tfunction setTestabilityGetter(getter) {\n\t    _testabilityGetter = getter;\n\t}\n\tvar _testabilityGetter = new _NoopGetTestability();\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\tvar _devMode = true;\n\tvar _runModeLocked = false;\n\tvar _platform;\n\tvar ALLOW_MULTIPLE_PLATFORMS = new InjectionToken('AllowMultipleToken');\n\t/**\n\t * Disable Angular's development mode, which turns off assertions and other\n\t * checks within the framework.\n\t *\n\t * One important assertion this disables verifies that a change detection pass\n\t * does not result in additional changes to any bindings (also known as\n\t * unidirectional data flow).\n\t *\n\t * \\@stable\n\t * @return {?}\n\t */\n\tfunction enableProdMode() {\n\t    if (_runModeLocked) {\n\t        throw new Error('Cannot enable prod mode after platform setup.');\n\t    }\n\t    _devMode = false;\n\t}\n\t/**\n\t * Returns whether Angular is in development mode. After called once,\n\t * the value is locked and won't change any more.\n\t *\n\t * By default, this is true, unless a user calls `enableProdMode` before calling this.\n\t *\n\t * \\@experimental APIs related to application bootstrap are currently under review.\n\t * @return {?}\n\t */\n\tfunction isDevMode() {\n\t    _runModeLocked = true;\n\t    return _devMode;\n\t}\n\t/**\n\t * A token for third-party components that can register themselves with NgProbe.\n\t *\n\t * \\@experimental\n\t */\n\tvar NgProbeToken = (function () {\n\t    /**\n\t     * @param {?} name\n\t     * @param {?} token\n\t     */\n\t    function NgProbeToken(name, token) {\n\t        this.name = name;\n\t        this.token = token;\n\t    }\n\t    return NgProbeToken;\n\t}());\n\t/**\n\t * Creates a platform.\n\t * Platforms have to be eagerly created via this function.\n\t *\n\t * \\@experimental APIs related to application bootstrap are currently under review.\n\t * @param {?} injector\n\t * @return {?}\n\t */\n\tfunction createPlatform(injector) {\n\t    if (_platform && !_platform.destroyed &&\n\t        !_platform.injector.get(ALLOW_MULTIPLE_PLATFORMS, false)) {\n\t        throw new Error('There can be only one platform. Destroy the previous one to create a new one.');\n\t    }\n\t    _platform = injector.get(PlatformRef);\n\t    var /** @type {?} */ inits = injector.get(PLATFORM_INITIALIZER, null);\n\t    if (inits)\n\t        inits.forEach(function (init) { return init(); });\n\t    return _platform;\n\t}\n\t/**\n\t * Creates a factory for a platform\n\t *\n\t * \\@experimental APIs related to application bootstrap are currently under review.\n\t * @param {?} parentPlatformFactory\n\t * @param {?} name\n\t * @param {?=} providers\n\t * @return {?}\n\t */\n\tfunction createPlatformFactory(parentPlatformFactory, name, providers) {\n\t    if (providers === void 0) { providers = []; }\n\t    var /** @type {?} */ marker = new InjectionToken(\"Platform: \" + name);\n\t    return function (extraProviders) {\n\t        if (extraProviders === void 0) { extraProviders = []; }\n\t        var /** @type {?} */ platform = getPlatform();\n\t        if (!platform || platform.injector.get(ALLOW_MULTIPLE_PLATFORMS, false)) {\n\t            if (parentPlatformFactory) {\n\t                parentPlatformFactory(providers.concat(extraProviders).concat({ provide: marker, useValue: true }));\n\t            }\n\t            else {\n\t                createPlatform(ReflectiveInjector.resolveAndCreate(providers.concat(extraProviders).concat({ provide: marker, useValue: true })));\n\t            }\n\t        }\n\t        return assertPlatform(marker);\n\t    };\n\t}\n\t/**\n\t * Checks that there currently is a platform which contains the given token as a provider.\n\t *\n\t * \\@experimental APIs related to application bootstrap are currently under review.\n\t * @param {?} requiredToken\n\t * @return {?}\n\t */\n\tfunction assertPlatform(requiredToken) {\n\t    var /** @type {?} */ platform = getPlatform();\n\t    if (!platform) {\n\t        throw new Error('No platform exists!');\n\t    }\n\t    if (!platform.injector.get(requiredToken, null)) {\n\t        throw new Error('A platform with a different configuration has been created. Please destroy it first.');\n\t    }\n\t    return platform;\n\t}\n\t/**\n\t * Destroy the existing platform.\n\t *\n\t * \\@experimental APIs related to application bootstrap are currently under review.\n\t * @return {?}\n\t */\n\tfunction destroyPlatform() {\n\t    if (_platform && !_platform.destroyed) {\n\t        _platform.destroy();\n\t    }\n\t}\n\t/**\n\t * Returns the current platform.\n\t *\n\t * \\@experimental APIs related to application bootstrap are currently under review.\n\t * @return {?}\n\t */\n\tfunction getPlatform() {\n\t    return _platform && !_platform.destroyed ? _platform : null;\n\t}\n\t/**\n\t * The Angular platform is the entry point for Angular on a web page. Each page\n\t * has exactly one platform, and services (such as reflection) which are common\n\t * to every Angular application running on the page are bound in its scope.\n\t *\n\t * A page's platform is initialized implicitly when a platform is created via a platform factory\n\t * (e.g. {\\@link platformBrowser}), or explicitly by calling the {\\@link createPlatform} function.\n\t *\n\t * \\@stable\n\t * @abstract\n\t */\n\tvar PlatformRef = (function () {\n\t    function PlatformRef() {\n\t    }\n\t    /**\n\t     * Creates an instance of an `\\@NgModule` for the given platform\n\t     * for offline compilation.\n\t     *\n\t     * ## Simple Example\n\t     *\n\t     * ```typescript\n\t     * my_module.ts:\n\t     *\n\t     * \\@NgModule({\n\t     *   imports: [BrowserModule]\n\t     * })\n\t     * class MyModule {}\n\t     *\n\t     * main.ts:\n\t     * import {MyModuleNgFactory} from './my_module.ngfactory';\n\t     * import {platformBrowser} from '\\@angular/platform-browser';\n\t     *\n\t     * let moduleRef = platformBrowser().bootstrapModuleFactory(MyModuleNgFactory);\n\t     * ```\n\t     *\n\t     * \\@experimental APIs related to application bootstrap are currently under review.\n\t     * @abstract\n\t     * @template M\n\t     * @param {?} moduleFactory\n\t     * @return {?}\n\t     */\n\t    PlatformRef.prototype.bootstrapModuleFactory = function (moduleFactory) { };\n\t    /**\n\t     * Creates an instance of an `\\@NgModule` for a given platform using the given runtime compiler.\n\t     *\n\t     * ## Simple Example\n\t     *\n\t     * ```typescript\n\t     * \\@NgModule({\n\t     *   imports: [BrowserModule]\n\t     * })\n\t     * class MyModule {}\n\t     *\n\t     * let moduleRef = platformBrowser().bootstrapModule(MyModule);\n\t     * ```\n\t     * \\@stable\n\t     * @abstract\n\t     * @template M\n\t     * @param {?} moduleType\n\t     * @param {?=} compilerOptions\n\t     * @return {?}\n\t     */\n\t    PlatformRef.prototype.bootstrapModule = function (moduleType, compilerOptions) { };\n\t    /**\n\t     * Register a listener to be called when the platform is disposed.\n\t     * @abstract\n\t     * @param {?} callback\n\t     * @return {?}\n\t     */\n\t    PlatformRef.prototype.onDestroy = function (callback) { };\n\t    /**\n\t     * Retrieve the platform {\\@link Injector}, which is the parent injector for\n\t     * every Angular application on the page and provides singleton providers.\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    PlatformRef.prototype.injector = function () { };\n\t    /**\n\t     * Destroy the Angular platform and all Angular applications on the page.\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    PlatformRef.prototype.destroy = function () { };\n\t    /**\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    PlatformRef.prototype.destroyed = function () { };\n\t    return PlatformRef;\n\t}());\n\t/**\n\t * @param {?} errorHandler\n\t * @param {?} ngZone\n\t * @param {?} callback\n\t * @return {?}\n\t */\n\tfunction _callAndReportToErrorHandler(errorHandler, ngZone, callback) {\n\t    try {\n\t        var /** @type {?} */ result = callback();\n\t        if (isPromise(result)) {\n\t            return result.catch(function (e) {\n\t                ngZone.runOutsideAngular(function () { return errorHandler.handleError(e); });\n\t                // rethrow as the exception handler might not do it\n\t                throw e;\n\t            });\n\t        }\n\t        return result;\n\t    }\n\t    catch (e) {\n\t        ngZone.runOutsideAngular(function () { return errorHandler.handleError(e); });\n\t        // rethrow as the exception handler might not do it\n\t        throw e;\n\t    }\n\t}\n\t/**\n\t * workaround https://github.com/angular/tsickle/issues/350\n\t * @suppress {checkTypes}\n\t */\n\tvar PlatformRef_ = (function (_super) {\n\t    __extends(PlatformRef_, _super);\n\t    /**\n\t     * @param {?} _injector\n\t     */\n\t    function PlatformRef_(_injector) {\n\t        var _this = _super.call(this) || this;\n\t        _this._injector = _injector;\n\t        _this._modules = [];\n\t        _this._destroyListeners = [];\n\t        _this._destroyed = false;\n\t        return _this;\n\t    }\n\t    /**\n\t     * @param {?} callback\n\t     * @return {?}\n\t     */\n\t    PlatformRef_.prototype.onDestroy = function (callback) { this._destroyListeners.push(callback); };\n\t    Object.defineProperty(PlatformRef_.prototype, \"injector\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () { return this._injector; },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(PlatformRef_.prototype, \"destroyed\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () { return this._destroyed; },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    /**\n\t     * @return {?}\n\t     */\n\t    PlatformRef_.prototype.destroy = function () {\n\t        if (this._destroyed) {\n\t            throw new Error('The platform has already been destroyed!');\n\t        }\n\t        this._modules.slice().forEach(function (module) { return module.destroy(); });\n\t        this._destroyListeners.forEach(function (listener) { return listener(); });\n\t        this._destroyed = true;\n\t    };\n\t    /**\n\t     * @template M\n\t     * @param {?} moduleFactory\n\t     * @return {?}\n\t     */\n\t    PlatformRef_.prototype.bootstrapModuleFactory = function (moduleFactory) {\n\t        return this._bootstrapModuleFactoryWithZone(moduleFactory);\n\t    };\n\t    /**\n\t     * @template M\n\t     * @param {?} moduleFactory\n\t     * @param {?=} ngZone\n\t     * @return {?}\n\t     */\n\t    PlatformRef_.prototype._bootstrapModuleFactoryWithZone = function (moduleFactory, ngZone) {\n\t        var _this = this;\n\t        // Note: We need to create the NgZone _before_ we instantiate the module,\n\t        // as instantiating the module creates some providers eagerly.\n\t        // So we create a mini parent injector that just contains the new NgZone and\n\t        // pass that as parent to the NgModuleFactory.\n\t        if (!ngZone)\n\t            ngZone = new NgZone({ enableLongStackTrace: isDevMode() });\n\t        // Attention: Don't use ApplicationRef.run here,\n\t        // as we want to be sure that all possible constructor calls are inside `ngZone.run`!\n\t        return ngZone.run(function () {\n\t            var /** @type {?} */ ngZoneInjector = ReflectiveInjector.resolveAndCreate([{ provide: NgZone, useValue: ngZone }], _this.injector);\n\t            var /** @type {?} */ moduleRef = (moduleFactory.create(ngZoneInjector));\n\t            var /** @type {?} */ exceptionHandler = moduleRef.injector.get(ErrorHandler, null);\n\t            if (!exceptionHandler) {\n\t                throw new Error('No ErrorHandler. Is platform module (BrowserModule) included?');\n\t            }\n\t            moduleRef.onDestroy(function () { return remove(_this._modules, moduleRef); }); /** @type {?} */\n\t            ((ngZone)).runOutsideAngular(function () { return ((ngZone)).onError.subscribe({ next: function (error) { exceptionHandler.handleError(error); } }); });\n\t            return _callAndReportToErrorHandler(exceptionHandler, /** @type {?} */ ((ngZone)), function () {\n\t                var /** @type {?} */ initStatus = moduleRef.injector.get(ApplicationInitStatus);\n\t                initStatus.runInitializers();\n\t                return initStatus.donePromise.then(function () {\n\t                    _this._moduleDoBootstrap(moduleRef);\n\t                    return moduleRef;\n\t                });\n\t            });\n\t        });\n\t    };\n\t    /**\n\t     * @template M\n\t     * @param {?} moduleType\n\t     * @param {?=} compilerOptions\n\t     * @return {?}\n\t     */\n\t    PlatformRef_.prototype.bootstrapModule = function (moduleType, compilerOptions) {\n\t        if (compilerOptions === void 0) { compilerOptions = []; }\n\t        return this._bootstrapModuleWithZone(moduleType, compilerOptions);\n\t    };\n\t    /**\n\t     * @template M\n\t     * @param {?} moduleType\n\t     * @param {?=} compilerOptions\n\t     * @param {?=} ngZone\n\t     * @return {?}\n\t     */\n\t    PlatformRef_.prototype._bootstrapModuleWithZone = function (moduleType, compilerOptions, ngZone) {\n\t        var _this = this;\n\t        if (compilerOptions === void 0) { compilerOptions = []; }\n\t        var /** @type {?} */ compilerFactory = this.injector.get(CompilerFactory);\n\t        var /** @type {?} */ compiler = compilerFactory.createCompiler(Array.isArray(compilerOptions) ? compilerOptions : [compilerOptions]);\n\t        return compiler.compileModuleAsync(moduleType)\n\t            .then(function (moduleFactory) { return _this._bootstrapModuleFactoryWithZone(moduleFactory, ngZone); });\n\t    };\n\t    /**\n\t     * @param {?} moduleRef\n\t     * @return {?}\n\t     */\n\t    PlatformRef_.prototype._moduleDoBootstrap = function (moduleRef) {\n\t        var /** @type {?} */ appRef = (moduleRef.injector.get(ApplicationRef));\n\t        if (moduleRef._bootstrapComponents.length > 0) {\n\t            moduleRef._bootstrapComponents.forEach(function (f) { return appRef.bootstrap(f); });\n\t        }\n\t        else if (moduleRef.instance.ngDoBootstrap) {\n\t            moduleRef.instance.ngDoBootstrap(appRef);\n\t        }\n\t        else {\n\t            throw new Error(\"The module \" + stringify(moduleRef.instance.constructor) + \" was bootstrapped, but it does not declare \\\"@NgModule.bootstrap\\\" components nor a \\\"ngDoBootstrap\\\" method. \" +\n\t                \"Please define one of these.\");\n\t        }\n\t        this._modules.push(moduleRef);\n\t    };\n\t    return PlatformRef_;\n\t}(PlatformRef));\n\tPlatformRef_.decorators = [\n\t    { type: Injectable },\n\t];\n\t/**\n\t * @nocollapse\n\t */\n\tPlatformRef_.ctorParameters = function () { return [\n\t    { type: Injector, },\n\t]; };\n\t/**\n\t * A reference to an Angular application running on a page.\n\t *\n\t * \\@stable\n\t * @abstract\n\t */\n\tvar ApplicationRef = (function () {\n\t    function ApplicationRef() {\n\t    }\n\t    /**\n\t     * Bootstrap a new component at the root level of the application.\n\t     *\n\t     * ### Bootstrap process\n\t     *\n\t     * When bootstrapping a new root component into an application, Angular mounts the\n\t     * specified application component onto DOM elements identified by the [componentType]'s\n\t     * selector and kicks off automatic change detection to finish initializing the component.\n\t     *\n\t     * Optionally, a component can be mounted onto a DOM element that does not match the\n\t     * [componentType]'s selector.\n\t     *\n\t     * ### Example\n\t     * {\\@example core/ts/platform/platform.ts region='longform'}\n\t     * @abstract\n\t     * @template C\n\t     * @param {?} componentFactory\n\t     * @param {?=} rootSelectorOrNode\n\t     * @return {?}\n\t     */\n\t    ApplicationRef.prototype.bootstrap = function (componentFactory, rootSelectorOrNode) { };\n\t    /**\n\t     * Invoke this method to explicitly process change detection and its side-effects.\n\t     *\n\t     * In development mode, `tick()` also performs a second change detection cycle to ensure that no\n\t     * further changes are detected. If additional changes are picked up during this second cycle,\n\t     * bindings in the app have side-effects that cannot be resolved in a single change detection\n\t     * pass.\n\t     * In this case, Angular throws an error, since an Angular application can only have one change\n\t     * detection pass during which all change detection must complete.\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    ApplicationRef.prototype.tick = function () { };\n\t    /**\n\t     * Get a list of component types registered to this application.\n\t     * This list is populated even before the component is created.\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    ApplicationRef.prototype.componentTypes = function () { };\n\t    /**\n\t     * Get a list of components registered to this application.\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    ApplicationRef.prototype.components = function () { };\n\t    /**\n\t     * Attaches a view so that it will be dirty checked.\n\t     * The view will be automatically detached when it is destroyed.\n\t     * This will throw if the view is already attached to a ViewContainer.\n\t     * @abstract\n\t     * @param {?} view\n\t     * @return {?}\n\t     */\n\t    ApplicationRef.prototype.attachView = function (view) { };\n\t    /**\n\t     * Detaches a view from dirty checking again.\n\t     * @abstract\n\t     * @param {?} view\n\t     * @return {?}\n\t     */\n\t    ApplicationRef.prototype.detachView = function (view) { };\n\t    /**\n\t     * Returns the number of attached views.\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    ApplicationRef.prototype.viewCount = function () { };\n\t    /**\n\t     * Returns an Observable that indicates when the application is stable or unstable.\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    ApplicationRef.prototype.isStable = function () { };\n\t    return ApplicationRef;\n\t}());\n\t/**\n\t * workaround https://github.com/angular/tsickle/issues/350\n\t * @suppress {checkTypes}\n\t */\n\tvar ApplicationRef_ = (function (_super) {\n\t    __extends(ApplicationRef_, _super);\n\t    /**\n\t     * @param {?} _zone\n\t     * @param {?} _console\n\t     * @param {?} _injector\n\t     * @param {?} _exceptionHandler\n\t     * @param {?} _componentFactoryResolver\n\t     * @param {?} _initStatus\n\t     */\n\t    function ApplicationRef_(_zone, _console, _injector, _exceptionHandler, _componentFactoryResolver, _initStatus) {\n\t        var _this = _super.call(this) || this;\n\t        _this._zone = _zone;\n\t        _this._console = _console;\n\t        _this._injector = _injector;\n\t        _this._exceptionHandler = _exceptionHandler;\n\t        _this._componentFactoryResolver = _componentFactoryResolver;\n\t        _this._initStatus = _initStatus;\n\t        _this._bootstrapListeners = [];\n\t        _this._rootComponents = [];\n\t        _this._rootComponentTypes = [];\n\t        _this._views = [];\n\t        _this._runningTick = false;\n\t        _this._enforceNoNewChanges = false;\n\t        _this._stable = true;\n\t        _this._enforceNoNewChanges = isDevMode();\n\t        _this._zone.onMicrotaskEmpty.subscribe({ next: function () { _this._zone.run(function () { _this.tick(); }); } });\n\t        var isCurrentlyStable = new rxjs_Observable.Observable(function (observer) {\n\t            _this._stable = _this._zone.isStable && !_this._zone.hasPendingMacrotasks &&\n\t                !_this._zone.hasPendingMicrotasks;\n\t            _this._zone.runOutsideAngular(function () {\n\t                observer.next(_this._stable);\n\t                observer.complete();\n\t            });\n\t        });\n\t        var isStable = new rxjs_Observable.Observable(function (observer) {\n\t            // Create the subscription to onStable outside the Angular Zone so that\n\t            // the callback is run outside the Angular Zone.\n\t            var stableSub;\n\t            _this._zone.runOutsideAngular(function () {\n\t                stableSub = _this._zone.onStable.subscribe(function () {\n\t                    NgZone.assertNotInAngularZone();\n\t                    // Check whether there are no pending macro/micro tasks in the next tick\n\t                    // to allow for NgZone to update the state.\n\t                    scheduleMicroTask(function () {\n\t                        if (!_this._stable && !_this._zone.hasPendingMacrotasks &&\n\t                            !_this._zone.hasPendingMicrotasks) {\n\t                            _this._stable = true;\n\t                            observer.next(true);\n\t                        }\n\t                    });\n\t                });\n\t            });\n\t            var unstableSub = _this._zone.onUnstable.subscribe(function () {\n\t                NgZone.assertInAngularZone();\n\t                if (_this._stable) {\n\t                    _this._stable = false;\n\t                    _this._zone.runOutsideAngular(function () { observer.next(false); });\n\t                }\n\t            });\n\t            return function () {\n\t                stableSub.unsubscribe();\n\t                unstableSub.unsubscribe();\n\t            };\n\t        });\n\t        _this._isStable = rxjs_observable_merge.merge(isCurrentlyStable, rxjs_operator_share.share.call(isStable));\n\t        return _this;\n\t    }\n\t    /**\n\t     * @param {?} viewRef\n\t     * @return {?}\n\t     */\n\t    ApplicationRef_.prototype.attachView = function (viewRef) {\n\t        var /** @type {?} */ view = ((viewRef));\n\t        this._views.push(view);\n\t        view.attachToAppRef(this);\n\t    };\n\t    /**\n\t     * @param {?} viewRef\n\t     * @return {?}\n\t     */\n\t    ApplicationRef_.prototype.detachView = function (viewRef) {\n\t        var /** @type {?} */ view = ((viewRef));\n\t        remove(this._views, view);\n\t        view.detachFromAppRef();\n\t    };\n\t    /**\n\t     * @template C\n\t     * @param {?} componentOrFactory\n\t     * @param {?=} rootSelectorOrNode\n\t     * @return {?}\n\t     */\n\t    ApplicationRef_.prototype.bootstrap = function (componentOrFactory, rootSelectorOrNode) {\n\t        var _this = this;\n\t        if (!this._initStatus.done) {\n\t            throw new Error('Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.');\n\t        }\n\t        var /** @type {?} */ componentFactory;\n\t        if (componentOrFactory instanceof ComponentFactory) {\n\t            componentFactory = componentOrFactory;\n\t        }\n\t        else {\n\t            componentFactory = ((this._componentFactoryResolver.resolveComponentFactory(componentOrFactory)));\n\t        }\n\t        this._rootComponentTypes.push(componentFactory.componentType);\n\t        // Create a factory associated with the current module if it's not bound to some other\n\t        var /** @type {?} */ ngModule = componentFactory instanceof ComponentFactoryBoundToModule ?\n\t            null :\n\t            this._injector.get(NgModuleRef);\n\t        var /** @type {?} */ selectorOrNode = rootSelectorOrNode || componentFactory.selector;\n\t        var /** @type {?} */ compRef = componentFactory.create(Injector.NULL, [], selectorOrNode, ngModule);\n\t        compRef.onDestroy(function () { _this._unloadComponent(compRef); });\n\t        var /** @type {?} */ testability = compRef.injector.get(Testability, null);\n\t        if (testability) {\n\t            compRef.injector.get(TestabilityRegistry)\n\t                .registerApplication(compRef.location.nativeElement, testability);\n\t        }\n\t        this._loadComponent(compRef);\n\t        if (isDevMode()) {\n\t            this._console.log(\"Angular is running in the development mode. Call enableProdMode() to enable the production mode.\");\n\t        }\n\t        return compRef;\n\t    };\n\t    /**\n\t     * @param {?} componentRef\n\t     * @return {?}\n\t     */\n\t    ApplicationRef_.prototype._loadComponent = function (componentRef) {\n\t        this.attachView(componentRef.hostView);\n\t        this.tick();\n\t        this._rootComponents.push(componentRef);\n\t        // Get the listeners lazily to prevent DI cycles.\n\t        var /** @type {?} */ listeners = this._injector.get(APP_BOOTSTRAP_LISTENER, []).concat(this._bootstrapListeners);\n\t        listeners.forEach(function (listener) { return listener(componentRef); });\n\t    };\n\t    /**\n\t     * @param {?} componentRef\n\t     * @return {?}\n\t     */\n\t    ApplicationRef_.prototype._unloadComponent = function (componentRef) {\n\t        this.detachView(componentRef.hostView);\n\t        remove(this._rootComponents, componentRef);\n\t    };\n\t    /**\n\t     * @return {?}\n\t     */\n\t    ApplicationRef_.prototype.tick = function () {\n\t        var _this = this;\n\t        if (this._runningTick) {\n\t            throw new Error('ApplicationRef.tick is called recursively');\n\t        }\n\t        var /** @type {?} */ scope = ApplicationRef_._tickScope();\n\t        try {\n\t            this._runningTick = true;\n\t            this._views.forEach(function (view) { return view.detectChanges(); });\n\t            if (this._enforceNoNewChanges) {\n\t                this._views.forEach(function (view) { return view.checkNoChanges(); });\n\t            }\n\t        }\n\t        catch (e) {\n\t            // Attention: Don't rethrow as it could cancel subscriptions to Observables!\n\t            this._zone.runOutsideAngular(function () { return _this._exceptionHandler.handleError(e); });\n\t        }\n\t        finally {\n\t            this._runningTick = false;\n\t            wtfLeave(scope);\n\t        }\n\t    };\n\t    /**\n\t     * @return {?}\n\t     */\n\t    ApplicationRef_.prototype.ngOnDestroy = function () {\n\t        // TODO(alxhub): Dispose of the NgZone.\n\t        this._views.slice().forEach(function (view) { return view.destroy(); });\n\t    };\n\t    Object.defineProperty(ApplicationRef_.prototype, \"viewCount\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () { return this._views.length; },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(ApplicationRef_.prototype, \"componentTypes\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () { return this._rootComponentTypes; },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(ApplicationRef_.prototype, \"components\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () { return this._rootComponents; },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(ApplicationRef_.prototype, \"isStable\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () { return this._isStable; },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    return ApplicationRef_;\n\t}(ApplicationRef));\n\t/**\n\t * \\@internal\n\t */\n\tApplicationRef_._tickScope = wtfCreateScope('ApplicationRef#tick()');\n\tApplicationRef_.decorators = [\n\t    { type: Injectable },\n\t];\n\t/**\n\t * @nocollapse\n\t */\n\tApplicationRef_.ctorParameters = function () { return [\n\t    { type: NgZone, },\n\t    { type: Console, },\n\t    { type: Injector, },\n\t    { type: ErrorHandler, },\n\t    { type: ComponentFactoryResolver, },\n\t    { type: ApplicationInitStatus, },\n\t]; };\n\t/**\n\t * @template T\n\t * @param {?} list\n\t * @param {?} el\n\t * @return {?}\n\t */\n\tfunction remove(list, el) {\n\t    var /** @type {?} */ index = list.indexOf(el);\n\t    if (index > -1) {\n\t        list.splice(index, 1);\n\t    }\n\t}\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t// Public API for Zone\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t/**\n\t * @deprecated Use `RendererType2` (and `Renderer2`) instead.\n\t */\n\tvar RenderComponentType = (function () {\n\t    /**\n\t     * @param {?} id\n\t     * @param {?} templateUrl\n\t     * @param {?} slotCount\n\t     * @param {?} encapsulation\n\t     * @param {?} styles\n\t     * @param {?} animations\n\t     */\n\t    function RenderComponentType(id, templateUrl, slotCount, encapsulation, styles, animations) {\n\t        this.id = id;\n\t        this.templateUrl = templateUrl;\n\t        this.slotCount = slotCount;\n\t        this.encapsulation = encapsulation;\n\t        this.styles = styles;\n\t        this.animations = animations;\n\t    }\n\t    return RenderComponentType;\n\t}());\n\t/**\n\t * @deprecated Debug info is handeled internally in the view engine now.\n\t * @abstract\n\t */\n\tvar RenderDebugInfo = (function () {\n\t    function RenderDebugInfo() {\n\t    }\n\t    /**\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    RenderDebugInfo.prototype.injector = function () { };\n\t    /**\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    RenderDebugInfo.prototype.component = function () { };\n\t    /**\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    RenderDebugInfo.prototype.providerTokens = function () { };\n\t    /**\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    RenderDebugInfo.prototype.references = function () { };\n\t    /**\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    RenderDebugInfo.prototype.context = function () { };\n\t    /**\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    RenderDebugInfo.prototype.source = function () { };\n\t    return RenderDebugInfo;\n\t}());\n\t/**\n\t * @deprecated Use the `Renderer2` instead.\n\t * @abstract\n\t */\n\tvar Renderer = (function () {\n\t    function Renderer() {\n\t    }\n\t    /**\n\t     * @abstract\n\t     * @param {?} selectorOrNode\n\t     * @param {?=} debugInfo\n\t     * @return {?}\n\t     */\n\t    Renderer.prototype.selectRootElement = function (selectorOrNode, debugInfo) { };\n\t    /**\n\t     * @abstract\n\t     * @param {?} parentElement\n\t     * @param {?} name\n\t     * @param {?=} debugInfo\n\t     * @return {?}\n\t     */\n\t    Renderer.prototype.createElement = function (parentElement, name, debugInfo) { };\n\t    /**\n\t     * @abstract\n\t     * @param {?} hostElement\n\t     * @return {?}\n\t     */\n\t    Renderer.prototype.createViewRoot = function (hostElement) { };\n\t    /**\n\t     * @abstract\n\t     * @param {?} parentElement\n\t     * @param {?=} debugInfo\n\t     * @return {?}\n\t     */\n\t    Renderer.prototype.createTemplateAnchor = function (parentElement, debugInfo) { };\n\t    /**\n\t     * @abstract\n\t     * @param {?} parentElement\n\t     * @param {?} value\n\t     * @param {?=} debugInfo\n\t     * @return {?}\n\t     */\n\t    Renderer.prototype.createText = function (parentElement, value, debugInfo) { };\n\t    /**\n\t     * @abstract\n\t     * @param {?} parentElement\n\t     * @param {?} nodes\n\t     * @return {?}\n\t     */\n\t    Renderer.prototype.projectNodes = function (parentElement, nodes) { };\n\t    /**\n\t     * @abstract\n\t     * @param {?} node\n\t     * @param {?} viewRootNodes\n\t     * @return {?}\n\t     */\n\t    Renderer.prototype.attachViewAfter = function (node, viewRootNodes) { };\n\t    /**\n\t     * @abstract\n\t     * @param {?} viewRootNodes\n\t     * @return {?}\n\t     */\n\t    Renderer.prototype.detachView = function (viewRootNodes) { };\n\t    /**\n\t     * @abstract\n\t     * @param {?} hostElement\n\t     * @param {?} viewAllNodes\n\t     * @return {?}\n\t     */\n\t    Renderer.prototype.destroyView = function (hostElement, viewAllNodes) { };\n\t    /**\n\t     * @abstract\n\t     * @param {?} renderElement\n\t     * @param {?} name\n\t     * @param {?} callback\n\t     * @return {?}\n\t     */\n\t    Renderer.prototype.listen = function (renderElement, name, callback) { };\n\t    /**\n\t     * @abstract\n\t     * @param {?} target\n\t     * @param {?} name\n\t     * @param {?} callback\n\t     * @return {?}\n\t     */\n\t    Renderer.prototype.listenGlobal = function (target, name, callback) { };\n\t    /**\n\t     * @abstract\n\t     * @param {?} renderElement\n\t     * @param {?} propertyName\n\t     * @param {?} propertyValue\n\t     * @return {?}\n\t     */\n\t    Renderer.prototype.setElementProperty = function (renderElement, propertyName, propertyValue) { };\n\t    /**\n\t     * @abstract\n\t     * @param {?} renderElement\n\t     * @param {?} attributeName\n\t     * @param {?} attributeValue\n\t     * @return {?}\n\t     */\n\t    Renderer.prototype.setElementAttribute = function (renderElement, attributeName, attributeValue) { };\n\t    /**\n\t     * Used only in debug mode to serialize property changes to dom nodes as attributes.\n\t     * @abstract\n\t     * @param {?} renderElement\n\t     * @param {?} propertyName\n\t     * @param {?} propertyValue\n\t     * @return {?}\n\t     */\n\t    Renderer.prototype.setBindingDebugInfo = function (renderElement, propertyName, propertyValue) { };\n\t    /**\n\t     * @abstract\n\t     * @param {?} renderElement\n\t     * @param {?} className\n\t     * @param {?} isAdd\n\t     * @return {?}\n\t     */\n\t    Renderer.prototype.setElementClass = function (renderElement, className, isAdd) { };\n\t    /**\n\t     * @abstract\n\t     * @param {?} renderElement\n\t     * @param {?} styleName\n\t     * @param {?} styleValue\n\t     * @return {?}\n\t     */\n\t    Renderer.prototype.setElementStyle = function (renderElement, styleName, styleValue) { };\n\t    /**\n\t     * @abstract\n\t     * @param {?} renderElement\n\t     * @param {?} methodName\n\t     * @param {?=} args\n\t     * @return {?}\n\t     */\n\t    Renderer.prototype.invokeElementMethod = function (renderElement, methodName, args) { };\n\t    /**\n\t     * @abstract\n\t     * @param {?} renderNode\n\t     * @param {?} text\n\t     * @return {?}\n\t     */\n\t    Renderer.prototype.setText = function (renderNode, text) { };\n\t    /**\n\t     * @abstract\n\t     * @param {?} element\n\t     * @param {?} startingStyles\n\t     * @param {?} keyframes\n\t     * @param {?} duration\n\t     * @param {?} delay\n\t     * @param {?} easing\n\t     * @param {?=} previousPlayers\n\t     * @return {?}\n\t     */\n\t    Renderer.prototype.animate = function (element, startingStyles, keyframes, duration, delay, easing, previousPlayers) { };\n\t    return Renderer;\n\t}());\n\tvar Renderer2Interceptor = new InjectionToken('Renderer2Interceptor');\n\t/**\n\t * Injectable service that provides a low-level interface for modifying the UI.\n\t *\n\t * Use this service to bypass Angular's templating and make custom UI changes that can't be\n\t * expressed declaratively. For example if you need to set a property or an attribute whose name is\n\t * not statically known, use {\\@link Renderer#setElementProperty} or {\\@link\n\t * Renderer#setElementAttribute}\n\t * respectively.\n\t *\n\t * If you are implementing a custom renderer, you must implement this interface.\n\t *\n\t * The default Renderer implementation is `DomRenderer`. Also available is `WebWorkerRenderer`.\n\t *\n\t * @deprecated Use `RendererFactory2` instead.\n\t * @abstract\n\t */\n\tvar RootRenderer = (function () {\n\t    function RootRenderer() {\n\t    }\n\t    /**\n\t     * @abstract\n\t     * @param {?} componentType\n\t     * @return {?}\n\t     */\n\t    RootRenderer.prototype.renderComponent = function (componentType) { };\n\t    return RootRenderer;\n\t}());\n\t/**\n\t * \\@experimental\n\t * @abstract\n\t */\n\tvar RendererFactory2 = (function () {\n\t    function RendererFactory2() {\n\t    }\n\t    /**\n\t     * @abstract\n\t     * @param {?} hostElement\n\t     * @param {?} type\n\t     * @return {?}\n\t     */\n\t    RendererFactory2.prototype.createRenderer = function (hostElement, type) { };\n\t    /**\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    RendererFactory2.prototype.begin = function () { };\n\t    /**\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    RendererFactory2.prototype.end = function () { };\n\t    /**\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    RendererFactory2.prototype.whenRenderingDone = function () { };\n\t    return RendererFactory2;\n\t}());\n\tvar RendererStyleFlags2 = {};\n\tRendererStyleFlags2.Important = 1;\n\tRendererStyleFlags2.DashCase = 2;\n\tRendererStyleFlags2[RendererStyleFlags2.Important] = \"Important\";\n\tRendererStyleFlags2[RendererStyleFlags2.DashCase] = \"DashCase\";\n\t/**\n\t * \\@experimental\n\t * @abstract\n\t */\n\tvar Renderer2 = (function () {\n\t    function Renderer2() {\n\t    }\n\t    /**\n\t     * This field can be used to store arbitrary data on this renderer instance.\n\t     * This is useful for renderers that delegate to other renderers.\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    Renderer2.prototype.data = function () { };\n\t    /**\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    Renderer2.prototype.destroy = function () { };\n\t    /**\n\t     * @abstract\n\t     * @param {?} name\n\t     * @param {?=} namespace\n\t     * @return {?}\n\t     */\n\t    Renderer2.prototype.createElement = function (name, namespace) { };\n\t    /**\n\t     * @abstract\n\t     * @param {?} value\n\t     * @return {?}\n\t     */\n\t    Renderer2.prototype.createComment = function (value) { };\n\t    /**\n\t     * @abstract\n\t     * @param {?} value\n\t     * @return {?}\n\t     */\n\t    Renderer2.prototype.createText = function (value) { };\n\t    /**\n\t     * @abstract\n\t     * @param {?} parent\n\t     * @param {?} newChild\n\t     * @return {?}\n\t     */\n\t    Renderer2.prototype.appendChild = function (parent, newChild) { };\n\t    /**\n\t     * @abstract\n\t     * @param {?} parent\n\t     * @param {?} newChild\n\t     * @param {?} refChild\n\t     * @return {?}\n\t     */\n\t    Renderer2.prototype.insertBefore = function (parent, newChild, refChild) { };\n\t    /**\n\t     * @abstract\n\t     * @param {?} parent\n\t     * @param {?} oldChild\n\t     * @return {?}\n\t     */\n\t    Renderer2.prototype.removeChild = function (parent, oldChild) { };\n\t    /**\n\t     * @abstract\n\t     * @param {?} selectorOrNode\n\t     * @return {?}\n\t     */\n\t    Renderer2.prototype.selectRootElement = function (selectorOrNode) { };\n\t    /**\n\t     * Attention: On WebWorkers, this will always return a value,\n\t     * as we are asking for a result synchronously. I.e.\n\t     * the caller can't rely on checking whether this is null or not.\n\t     * @abstract\n\t     * @param {?} node\n\t     * @return {?}\n\t     */\n\t    Renderer2.prototype.parentNode = function (node) { };\n\t    /**\n\t     * Attention: On WebWorkers, this will always return a value,\n\t     * as we are asking for a result synchronously. I.e.\n\t     * the caller can't rely on checking whether this is null or not.\n\t     * @abstract\n\t     * @param {?} node\n\t     * @return {?}\n\t     */\n\t    Renderer2.prototype.nextSibling = function (node) { };\n\t    /**\n\t     * @abstract\n\t     * @param {?} el\n\t     * @param {?} name\n\t     * @param {?} value\n\t     * @param {?=} namespace\n\t     * @return {?}\n\t     */\n\t    Renderer2.prototype.setAttribute = function (el, name, value, namespace) { };\n\t    /**\n\t     * @abstract\n\t     * @param {?} el\n\t     * @param {?} name\n\t     * @param {?=} namespace\n\t     * @return {?}\n\t     */\n\t    Renderer2.prototype.removeAttribute = function (el, name, namespace) { };\n\t    /**\n\t     * @abstract\n\t     * @param {?} el\n\t     * @param {?} name\n\t     * @return {?}\n\t     */\n\t    Renderer2.prototype.addClass = function (el, name) { };\n\t    /**\n\t     * @abstract\n\t     * @param {?} el\n\t     * @param {?} name\n\t     * @return {?}\n\t     */\n\t    Renderer2.prototype.removeClass = function (el, name) { };\n\t    /**\n\t     * @abstract\n\t     * @param {?} el\n\t     * @param {?} style\n\t     * @param {?} value\n\t     * @param {?=} flags\n\t     * @return {?}\n\t     */\n\t    Renderer2.prototype.setStyle = function (el, style, value, flags) { };\n\t    /**\n\t     * @abstract\n\t     * @param {?} el\n\t     * @param {?} style\n\t     * @param {?=} flags\n\t     * @return {?}\n\t     */\n\t    Renderer2.prototype.removeStyle = function (el, style, flags) { };\n\t    /**\n\t     * @abstract\n\t     * @param {?} el\n\t     * @param {?} name\n\t     * @param {?} value\n\t     * @return {?}\n\t     */\n\t    Renderer2.prototype.setProperty = function (el, name, value) { };\n\t    /**\n\t     * @abstract\n\t     * @param {?} node\n\t     * @param {?} value\n\t     * @return {?}\n\t     */\n\t    Renderer2.prototype.setValue = function (node, value) { };\n\t    /**\n\t     * @abstract\n\t     * @param {?} target\n\t     * @param {?} eventName\n\t     * @param {?} callback\n\t     * @return {?}\n\t     */\n\t    Renderer2.prototype.listen = function (target, eventName, callback) { };\n\t    return Renderer2;\n\t}());\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t// Public API for render\n\tvar ElementRef = (function () {\n\t    /**\n\t     * @param {?} nativeElement\n\t     */\n\t    function ElementRef(nativeElement) {\n\t        this.nativeElement = nativeElement;\n\t    }\n\t    return ElementRef;\n\t}());\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t/**\n\t * Used to load ng module factories.\n\t * \\@stable\n\t * @abstract\n\t */\n\tvar NgModuleFactoryLoader = (function () {\n\t    function NgModuleFactoryLoader() {\n\t    }\n\t    /**\n\t     * @abstract\n\t     * @param {?} path\n\t     * @return {?}\n\t     */\n\t    NgModuleFactoryLoader.prototype.load = function (path) { };\n\t    return NgModuleFactoryLoader;\n\t}());\n\tvar moduleFactories = new Map();\n\t/**\n\t * Registers a loaded module. Should only be called from generated NgModuleFactory code.\n\t * \\@experimental\n\t * @param {?} id\n\t * @param {?} factory\n\t * @return {?}\n\t */\n\tfunction registerModuleFactory(id, factory) {\n\t    var /** @type {?} */ existing = moduleFactories.get(id);\n\t    if (existing) {\n\t        throw new Error(\"Duplicate module registered for \" + id + \" - \" + existing.moduleType.name + \" vs \" + factory.moduleType.name);\n\t    }\n\t    moduleFactories.set(id, factory);\n\t}\n\t/**\n\t * @return {?}\n\t */\n\t/**\n\t * Returns the NgModuleFactory with the given id, if it exists and has been loaded.\n\t * Factories for modules that do not specify an `id` cannot be retrieved. Throws if the module\n\t * cannot be found.\n\t * \\@experimental\n\t * @param {?} id\n\t * @return {?}\n\t */\n\tfunction getModuleFactory(id) {\n\t    var /** @type {?} */ factory = moduleFactories.get(id);\n\t    if (!factory)\n\t        throw new Error(\"No module with ID \" + id + \" loaded\");\n\t    return factory;\n\t}\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t/**\n\t * An unmodifiable list of items that Angular keeps up to date when the state\n\t * of the application changes.\n\t *\n\t * The type of object that {\\@link ViewChildren}, {\\@link ContentChildren}, and {\\@link QueryList}\n\t * provide.\n\t *\n\t * Implements an iterable interface, therefore it can be used in both ES6\n\t * javascript `for (var i of items)` loops as well as in Angular templates with\n\t * `*ngFor=\"let i of myList\"`.\n\t *\n\t * Changes can be observed by subscribing to the changes `Observable`.\n\t *\n\t * NOTE: In the future this class will implement an `Observable` interface.\n\t *\n\t * ### Example ([live demo](http://plnkr.co/edit/RX8sJnQYl9FWuSCWme5z?p=preview))\n\t * ```typescript\n\t * \\@Component({...})\n\t * class Container {\n\t *   \\@ViewChildren(Item) items:QueryList<Item>;\n\t * }\n\t * ```\n\t * \\@stable\n\t */\n\tvar QueryList = (function () {\n\t    function QueryList() {\n\t        this._dirty = true;\n\t        this._results = [];\n\t        this._emitter = new EventEmitter();\n\t    }\n\t    Object.defineProperty(QueryList.prototype, \"changes\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () { return this._emitter; },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(QueryList.prototype, \"length\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () { return this._results.length; },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(QueryList.prototype, \"first\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () { return this._results[0]; },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(QueryList.prototype, \"last\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () { return this._results[this.length - 1]; },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    /**\n\t     * See\n\t     * [Array.map](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map)\n\t     * @template U\n\t     * @param {?} fn\n\t     * @return {?}\n\t     */\n\t    QueryList.prototype.map = function (fn) { return this._results.map(fn); };\n\t    /**\n\t     * See\n\t     * [Array.filter](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter)\n\t     * @param {?} fn\n\t     * @return {?}\n\t     */\n\t    QueryList.prototype.filter = function (fn) {\n\t        return this._results.filter(fn);\n\t    };\n\t    /**\n\t     * See\n\t     * [Array.find](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find)\n\t     * @param {?} fn\n\t     * @return {?}\n\t     */\n\t    QueryList.prototype.find = function (fn) {\n\t        return this._results.find(fn);\n\t    };\n\t    /**\n\t     * See\n\t     * [Array.reduce](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce)\n\t     * @template U\n\t     * @param {?} fn\n\t     * @param {?} init\n\t     * @return {?}\n\t     */\n\t    QueryList.prototype.reduce = function (fn, init) {\n\t        return this._results.reduce(fn, init);\n\t    };\n\t    /**\n\t     * See\n\t     * [Array.forEach](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach)\n\t     * @param {?} fn\n\t     * @return {?}\n\t     */\n\t    QueryList.prototype.forEach = function (fn) { this._results.forEach(fn); };\n\t    /**\n\t     * See\n\t     * [Array.some](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/some)\n\t     * @param {?} fn\n\t     * @return {?}\n\t     */\n\t    QueryList.prototype.some = function (fn) {\n\t        return this._results.some(fn);\n\t    };\n\t    /**\n\t     * @return {?}\n\t     */\n\t    QueryList.prototype.toArray = function () { return this._results.slice(); };\n\t    /**\n\t     * @return {?}\n\t     */\n\t    QueryList.prototype[getSymbolIterator()] = function () { return ((this._results))[getSymbolIterator()](); };\n\t    /**\n\t     * @return {?}\n\t     */\n\t    QueryList.prototype.toString = function () { return this._results.toString(); };\n\t    /**\n\t     * @param {?} res\n\t     * @return {?}\n\t     */\n\t    QueryList.prototype.reset = function (res) {\n\t        this._results = flatten(res);\n\t        this._dirty = false;\n\t    };\n\t    /**\n\t     * @return {?}\n\t     */\n\t    QueryList.prototype.notifyOnChanges = function () { this._emitter.emit(this); };\n\t    /**\n\t     * internal\n\t     * @return {?}\n\t     */\n\t    QueryList.prototype.setDirty = function () { this._dirty = true; };\n\t    Object.defineProperty(QueryList.prototype, \"dirty\", {\n\t        /**\n\t         * internal\n\t         * @return {?}\n\t         */\n\t        get: function () { return this._dirty; },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    /**\n\t     * internal\n\t     * @return {?}\n\t     */\n\t    QueryList.prototype.destroy = function () {\n\t        this._emitter.complete();\n\t        this._emitter.unsubscribe();\n\t    };\n\t    return QueryList;\n\t}());\n\t/**\n\t * @template T\n\t * @param {?} list\n\t * @return {?}\n\t */\n\tfunction flatten(list) {\n\t    return list.reduce(function (flat, item) {\n\t        var /** @type {?} */ flatItem = Array.isArray(item) ? flatten(item) : item;\n\t        return ((flat)).concat(flatItem);\n\t    }, []);\n\t}\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\tvar _SEPARATOR = '#';\n\tvar FACTORY_CLASS_SUFFIX = 'NgFactory';\n\t/**\n\t * Configuration for SystemJsNgModuleLoader.\n\t * token.\n\t *\n\t * \\@experimental\n\t * @abstract\n\t */\n\tvar SystemJsNgModuleLoaderConfig = (function () {\n\t    function SystemJsNgModuleLoaderConfig() {\n\t    }\n\t    return SystemJsNgModuleLoaderConfig;\n\t}());\n\tvar DEFAULT_CONFIG = {\n\t    factoryPathPrefix: '',\n\t    factoryPathSuffix: '.ngfactory',\n\t};\n\t/**\n\t * NgModuleFactoryLoader that uses SystemJS to load NgModuleFactory\n\t * \\@experimental\n\t */\n\tvar SystemJsNgModuleLoader = (function () {\n\t    /**\n\t     * @param {?} _compiler\n\t     * @param {?=} config\n\t     */\n\t    function SystemJsNgModuleLoader(_compiler, config) {\n\t        this._compiler = _compiler;\n\t        this._config = config || DEFAULT_CONFIG;\n\t    }\n\t    /**\n\t     * @param {?} path\n\t     * @return {?}\n\t     */\n\t    SystemJsNgModuleLoader.prototype.load = function (path) {\n\t        var /** @type {?} */ offlineMode = this._compiler instanceof Compiler;\n\t        return offlineMode ? this.loadFactory(path) : this.loadAndCompile(path);\n\t    };\n\t    /**\n\t     * @param {?} path\n\t     * @return {?}\n\t     */\n\t    SystemJsNgModuleLoader.prototype.loadAndCompile = function (path) {\n\t        var _this = this;\n\t        var _a = path.split(_SEPARATOR), module = _a[0], exportName = _a[1];\n\t        if (exportName === undefined) {\n\t            exportName = 'default';\n\t        }\n\t        return System.import(module)\n\t            .then(function (module) { return module[exportName]; })\n\t            .then(function (type) { return checkNotEmpty(type, module, exportName); })\n\t            .then(function (type) { return _this._compiler.compileModuleAsync(type); });\n\t    };\n\t    /**\n\t     * @param {?} path\n\t     * @return {?}\n\t     */\n\t    SystemJsNgModuleLoader.prototype.loadFactory = function (path) {\n\t        var _a = path.split(_SEPARATOR), module = _a[0], exportName = _a[1];\n\t        var /** @type {?} */ factoryClassSuffix = FACTORY_CLASS_SUFFIX;\n\t        if (exportName === undefined) {\n\t            exportName = 'default';\n\t            factoryClassSuffix = '';\n\t        }\n\t        return System.import(this._config.factoryPathPrefix + module + this._config.factoryPathSuffix)\n\t            .then(function (module) { return module[exportName + factoryClassSuffix]; })\n\t            .then(function (factory) { return checkNotEmpty(factory, module, exportName); });\n\t    };\n\t    return SystemJsNgModuleLoader;\n\t}());\n\tSystemJsNgModuleLoader.decorators = [\n\t    { type: Injectable },\n\t];\n\t/**\n\t * @nocollapse\n\t */\n\tSystemJsNgModuleLoader.ctorParameters = function () { return [\n\t    { type: Compiler, },\n\t    { type: SystemJsNgModuleLoaderConfig, decorators: [{ type: Optional },] },\n\t]; };\n\t/**\n\t * @param {?} value\n\t * @param {?} modulePath\n\t * @param {?} exportName\n\t * @return {?}\n\t */\n\tfunction checkNotEmpty(value, modulePath, exportName) {\n\t    if (!value) {\n\t        throw new Error(\"Cannot find '\" + exportName + \"' in '\" + modulePath + \"'\");\n\t    }\n\t    return value;\n\t}\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t/**\n\t * Represents an Embedded Template that can be used to instantiate Embedded Views.\n\t *\n\t * You can access a `TemplateRef`, in two ways. Via a directive placed on a `<ng-template>` element\n\t * (or directive prefixed with `*`) and have the `TemplateRef` for this Embedded View injected into\n\t * the constructor of the directive using the `TemplateRef` Token. Alternatively you can query for\n\t * the `TemplateRef` from a Component or a Directive via {\\@link Query}.\n\t *\n\t * To instantiate Embedded Views based on a Template, use\n\t * {\\@link ViewContainerRef#createEmbeddedView}, which will create the View and attach it to the\n\t * View Container.\n\t * \\@stable\n\t * @abstract\n\t */\n\tvar TemplateRef = (function () {\n\t    function TemplateRef() {\n\t    }\n\t    /**\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    TemplateRef.prototype.elementRef = function () { };\n\t    /**\n\t     * @abstract\n\t     * @param {?} context\n\t     * @return {?}\n\t     */\n\t    TemplateRef.prototype.createEmbeddedView = function (context) { };\n\t    return TemplateRef;\n\t}());\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t/**\n\t * Represents a container where one or more Views can be attached.\n\t *\n\t * The container can contain two kinds of Views. Host Views, created by instantiating a\n\t * {\\@link Component} via {\\@link #createComponent}, and Embedded Views, created by instantiating an\n\t * {\\@link TemplateRef Embedded Template} via {\\@link #createEmbeddedView}.\n\t *\n\t * The location of the View Container within the containing View is specified by the Anchor\n\t * `element`. Each View Container can have only one Anchor Element and each Anchor Element can only\n\t * have a single View Container.\n\t *\n\t * Root elements of Views attached to this container become siblings of the Anchor Element in\n\t * the Rendered View.\n\t *\n\t * To access a `ViewContainerRef` of an Element, you can either place a {\\@link Directive} injected\n\t * with `ViewContainerRef` on the Element, or you obtain it via a {\\@link ViewChild} query.\n\t * \\@stable\n\t * @abstract\n\t */\n\tvar ViewContainerRef = (function () {\n\t    function ViewContainerRef() {\n\t    }\n\t    /**\n\t     * Anchor element that specifies the location of this container in the containing View.\n\t     * <!-- TODO: rename to anchorElement -->\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    ViewContainerRef.prototype.element = function () { };\n\t    /**\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    ViewContainerRef.prototype.injector = function () { };\n\t    /**\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    ViewContainerRef.prototype.parentInjector = function () { };\n\t    /**\n\t     * Destroys all Views in this container.\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    ViewContainerRef.prototype.clear = function () { };\n\t    /**\n\t     * Returns the {\\@link ViewRef} for the View located in this container at the specified index.\n\t     * @abstract\n\t     * @param {?} index\n\t     * @return {?}\n\t     */\n\t    ViewContainerRef.prototype.get = function (index) { };\n\t    /**\n\t     * Returns the number of Views currently attached to this container.\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    ViewContainerRef.prototype.length = function () { };\n\t    /**\n\t     * Instantiates an Embedded View based on the {\\@link TemplateRef `templateRef`} and inserts it\n\t     * into this container at the specified `index`.\n\t     *\n\t     * If `index` is not specified, the new View will be inserted as the last View in the container.\n\t     *\n\t     * Returns the {\\@link ViewRef} for the newly created View.\n\t     * @abstract\n\t     * @template C\n\t     * @param {?} templateRef\n\t     * @param {?=} context\n\t     * @param {?=} index\n\t     * @return {?}\n\t     */\n\t    ViewContainerRef.prototype.createEmbeddedView = function (templateRef, context, index) { };\n\t    /**\n\t     * Instantiates a single {\\@link Component} and inserts its Host View into this container at the\n\t     * specified `index`.\n\t     *\n\t     * The component is instantiated using its {\\@link ComponentFactory} which can be\n\t     * obtained via {\\@link ComponentFactoryResolver#resolveComponentFactory}.\n\t     *\n\t     * If `index` is not specified, the new View will be inserted as the last View in the container.\n\t     *\n\t     * You can optionally specify the {\\@link Injector} that will be used as parent for the Component.\n\t     *\n\t     * Returns the {\\@link ComponentRef} of the Host View created for the newly instantiated Component.\n\t     * @abstract\n\t     * @template C\n\t     * @param {?} componentFactory\n\t     * @param {?=} index\n\t     * @param {?=} injector\n\t     * @param {?=} projectableNodes\n\t     * @param {?=} ngModule\n\t     * @return {?}\n\t     */\n\t    ViewContainerRef.prototype.createComponent = function (componentFactory, index, injector, projectableNodes, ngModule) { };\n\t    /**\n\t     * Inserts a View identified by a {\\@link ViewRef} into the container at the specified `index`.\n\t     *\n\t     * If `index` is not specified, the new View will be inserted as the last View in the container.\n\t     *\n\t     * Returns the inserted {\\@link ViewRef}.\n\t     * @abstract\n\t     * @param {?} viewRef\n\t     * @param {?=} index\n\t     * @return {?}\n\t     */\n\t    ViewContainerRef.prototype.insert = function (viewRef, index) { };\n\t    /**\n\t     * Moves a View identified by a {\\@link ViewRef} into the container at the specified `index`.\n\t     *\n\t     * Returns the inserted {\\@link ViewRef}.\n\t     * @abstract\n\t     * @param {?} viewRef\n\t     * @param {?} currentIndex\n\t     * @return {?}\n\t     */\n\t    ViewContainerRef.prototype.move = function (viewRef, currentIndex) { };\n\t    /**\n\t     * Returns the index of the View, specified via {\\@link ViewRef}, within the current container or\n\t     * `-1` if this container doesn't contain the View.\n\t     * @abstract\n\t     * @param {?} viewRef\n\t     * @return {?}\n\t     */\n\t    ViewContainerRef.prototype.indexOf = function (viewRef) { };\n\t    /**\n\t     * Destroys a View attached to this container at the specified `index`.\n\t     *\n\t     * If `index` is not specified, the last View in the container will be removed.\n\t     * @abstract\n\t     * @param {?=} index\n\t     * @return {?}\n\t     */\n\t    ViewContainerRef.prototype.remove = function (index) { };\n\t    /**\n\t     * Use along with {\\@link #insert} to move a View within the current container.\n\t     *\n\t     * If the `index` param is omitted, the last {\\@link ViewRef} is detached.\n\t     * @abstract\n\t     * @param {?=} index\n\t     * @return {?}\n\t     */\n\t    ViewContainerRef.prototype.detach = function (index) { };\n\t    return ViewContainerRef;\n\t}());\n\t/**\n\t * \\@stable\n\t * @abstract\n\t */\n\tvar ChangeDetectorRef = (function () {\n\t    function ChangeDetectorRef() {\n\t    }\n\t    /**\n\t     * Marks all {\\@link ChangeDetectionStrategy#OnPush} ancestors as to be checked.\n\t     *\n\t     * <!-- TODO: Add a link to a chapter on OnPush components -->\n\t     *\n\t     * ### Example ([live demo](http://plnkr.co/edit/GC512b?p=preview))\n\t     *\n\t     * ```typescript\n\t     * \\@Component({\n\t     *   selector: 'cmp',\n\t     *   changeDetection: ChangeDetectionStrategy.OnPush,\n\t     *   template: `Number of ticks: {{numberOfTicks}}`\n\t     * })\n\t     * class Cmp {\n\t     *   numberOfTicks = 0;\n\t     *\n\t     *   constructor(private ref: ChangeDetectorRef) {\n\t     *     setInterval(() => {\n\t     *       this.numberOfTicks++;\n\t     *       // the following is required, otherwise the view will not be updated\n\t     *       this.ref.markForCheck();\n\t     *     }, 1000);\n\t     *   }\n\t     * }\n\t     *\n\t     * \\@Component({\n\t     *   selector: 'app',\n\t     *   changeDetection: ChangeDetectionStrategy.OnPush,\n\t     *   template: `\n\t     *     <cmp><cmp>\n\t     *   `,\n\t     * })\n\t     * class App {\n\t     * }\n\t     * ```\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    ChangeDetectorRef.prototype.markForCheck = function () { };\n\t    /**\n\t     * Detaches the change detector from the change detector tree.\n\t     *\n\t     * The detached change detector will not be checked until it is reattached.\n\t     *\n\t     * This can also be used in combination with {\\@link ChangeDetectorRef#detectChanges} to implement\n\t     * local change\n\t     * detection checks.\n\t     *\n\t     * <!-- TODO: Add a link to a chapter on detach/reattach/local digest -->\n\t     * <!-- TODO: Add a live demo once ref.detectChanges is merged into master -->\n\t     *\n\t     * ### Example\n\t     *\n\t     * The following example defines a component with a large list of readonly data.\n\t     * Imagine the data changes constantly, many times per second. For performance reasons,\n\t     * we want to check and update the list every five seconds. We can do that by detaching\n\t     * the component's change detector and doing a local check every five seconds.\n\t     *\n\t     * ```typescript\n\t     * class DataProvider {\n\t     *   // in a real application the returned data will be different every time\n\t     *   get data() {\n\t     *     return [1,2,3,4,5];\n\t     *   }\n\t     * }\n\t     *\n\t     * \\@Component({\n\t     *   selector: 'giant-list',\n\t     *   template: `\n\t     *     <li *ngFor=\"let d of dataProvider.data\">Data {{d}}</li>\n\t     *   `,\n\t     * })\n\t     * class GiantList {\n\t     *   constructor(private ref: ChangeDetectorRef, private dataProvider: DataProvider) {\n\t     *     ref.detach();\n\t     *     setInterval(() => {\n\t     *       this.ref.detectChanges();\n\t     *     }, 5000);\n\t     *   }\n\t     * }\n\t     *\n\t     * \\@Component({\n\t     *   selector: 'app',\n\t     *   providers: [DataProvider],\n\t     *   template: `\n\t     *     <giant-list><giant-list>\n\t     *   `,\n\t     * })\n\t     * class App {\n\t     * }\n\t     * ```\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    ChangeDetectorRef.prototype.detach = function () { };\n\t    /**\n\t     * Checks the change detector and its children.\n\t     *\n\t     * This can also be used in combination with {\\@link ChangeDetectorRef#detach} to implement local\n\t     * change detection\n\t     * checks.\n\t     *\n\t     * <!-- TODO: Add a link to a chapter on detach/reattach/local digest -->\n\t     * <!-- TODO: Add a live demo once ref.detectChanges is merged into master -->\n\t     *\n\t     * ### Example\n\t     *\n\t     * The following example defines a component with a large list of readonly data.\n\t     * Imagine, the data changes constantly, many times per second. For performance reasons,\n\t     * we want to check and update the list every five seconds.\n\t     *\n\t     * We can do that by detaching the component's change detector and doing a local change detection\n\t     * check\n\t     * every five seconds.\n\t     *\n\t     * See {\\@link ChangeDetectorRef#detach} for more information.\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    ChangeDetectorRef.prototype.detectChanges = function () { };\n\t    /**\n\t     * Checks the change detector and its children, and throws if any changes are detected.\n\t     *\n\t     * This is used in development mode to verify that running change detection doesn't introduce\n\t     * other changes.\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    ChangeDetectorRef.prototype.checkNoChanges = function () { };\n\t    /**\n\t     * Reattach the change detector to the change detector tree.\n\t     *\n\t     * This also marks OnPush ancestors as to be checked. This reattached change detector will be\n\t     * checked during the next change detection run.\n\t     *\n\t     * <!-- TODO: Add a link to a chapter on detach/reattach/local digest -->\n\t     *\n\t     * ### Example ([live demo](http://plnkr.co/edit/aUhZha?p=preview))\n\t     *\n\t     * The following example creates a component displaying `live` data. The component will detach\n\t     * its change detector from the main change detector tree when the component's live property\n\t     * is set to false.\n\t     *\n\t     * ```typescript\n\t     * class DataProvider {\n\t     *   data = 1;\n\t     *\n\t     *   constructor() {\n\t     *     setInterval(() => {\n\t     *       this.data = this.data * 2;\n\t     *     }, 500);\n\t     *   }\n\t     * }\n\t     *\n\t     * \\@Component({\n\t     *   selector: 'live-data',\n\t     *   inputs: ['live'],\n\t     *   template: 'Data: {{dataProvider.data}}'\n\t     * })\n\t     * class LiveData {\n\t     *   constructor(private ref: ChangeDetectorRef, private dataProvider: DataProvider) {}\n\t     *\n\t     *   set live(value) {\n\t     *     if (value) {\n\t     *       this.ref.reattach();\n\t     *     } else {\n\t     *       this.ref.detach();\n\t     *     }\n\t     *   }\n\t     * }\n\t     *\n\t     * \\@Component({\n\t     *   selector: 'app',\n\t     *   providers: [DataProvider],\n\t     *   template: `\n\t     *     Live Update: <input type=\"checkbox\" [(ngModel)]=\"live\">\n\t     *     <live-data [live]=\"live\"><live-data>\n\t     *   `,\n\t     * })\n\t     * class App {\n\t     *   live = true;\n\t     * }\n\t     * ```\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    ChangeDetectorRef.prototype.reattach = function () { };\n\t    return ChangeDetectorRef;\n\t}());\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t/**\n\t * \\@stable\n\t * @abstract\n\t */\n\tvar ViewRef = (function (_super) {\n\t    __extends(ViewRef, _super);\n\t    function ViewRef() {\n\t        return _super !== null && _super.apply(this, arguments) || this;\n\t    }\n\t    /**\n\t     * Destroys the view and all of the data structures associated with it.\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    ViewRef.prototype.destroy = function () { };\n\t    /**\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    ViewRef.prototype.destroyed = function () { };\n\t    /**\n\t     * @abstract\n\t     * @param {?} callback\n\t     * @return {?}\n\t     */\n\t    ViewRef.prototype.onDestroy = function (callback) { };\n\t    return ViewRef;\n\t}(ChangeDetectorRef));\n\t/**\n\t * Represents an Angular View.\n\t *\n\t * <!-- TODO: move the next two paragraphs to the dev guide -->\n\t * A View is a fundamental building block of the application UI. It is the smallest grouping of\n\t * Elements which are created and destroyed together.\n\t *\n\t * Properties of elements in a View can change, but the structure (number and order) of elements in\n\t * a View cannot. Changing the structure of Elements can only be done by inserting, moving or\n\t * removing nested Views via a {\\@link ViewContainerRef}. Each View can contain many View Containers.\n\t * <!-- /TODO -->\n\t *\n\t * ### Example\n\t *\n\t * Given this template...\n\t *\n\t * ```\n\t * Count: {{items.length}}\n\t * <ul>\n\t *   <li *ngFor=\"let  item of items\">{{item}}</li>\n\t * </ul>\n\t * ```\n\t *\n\t * We have two {\\@link TemplateRef}s:\n\t *\n\t * Outer {\\@link TemplateRef}:\n\t * ```\n\t * Count: {{items.length}}\n\t * <ul>\n\t *   <ng-template ngFor let-item [ngForOf]=\"items\"></ng-template>\n\t * </ul>\n\t * ```\n\t *\n\t * Inner {\\@link TemplateRef}:\n\t * ```\n\t *   <li>{{item}}</li>\n\t * ```\n\t *\n\t * Notice that the original template is broken down into two separate {\\@link TemplateRef}s.\n\t *\n\t * The outer/inner {\\@link TemplateRef}s are then assembled into views like so:\n\t *\n\t * ```\n\t * <!-- ViewRef: outer-0 -->\n\t * Count: 2\n\t * <ul>\n\t *   <ng-template view-container-ref></ng-template>\n\t *   <!-- ViewRef: inner-1 --><li>first</li><!-- /ViewRef: inner-1 -->\n\t *   <!-- ViewRef: inner-2 --><li>second</li><!-- /ViewRef: inner-2 -->\n\t * </ul>\n\t * <!-- /ViewRef: outer-0 -->\n\t * ```\n\t * \\@experimental\n\t * @abstract\n\t */\n\tvar EmbeddedViewRef = (function (_super) {\n\t    __extends(EmbeddedViewRef, _super);\n\t    function EmbeddedViewRef() {\n\t        return _super !== null && _super.apply(this, arguments) || this;\n\t    }\n\t    /**\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    EmbeddedViewRef.prototype.context = function () { };\n\t    /**\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    EmbeddedViewRef.prototype.rootNodes = function () { };\n\t    return EmbeddedViewRef;\n\t}(ViewRef));\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t// Public API for compiler\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\tvar EventListener = (function () {\n\t    /**\n\t     * @param {?} name\n\t     * @param {?} callback\n\t     */\n\t    function EventListener(name, callback) {\n\t        this.name = name;\n\t        this.callback = callback;\n\t    }\n\t    return EventListener;\n\t}());\n\t/**\n\t * \\@experimental All debugging apis are currently experimental.\n\t */\n\tvar DebugNode = (function () {\n\t    /**\n\t     * @param {?} nativeNode\n\t     * @param {?} parent\n\t     * @param {?} _debugContext\n\t     */\n\t    function DebugNode(nativeNode, parent, _debugContext) {\n\t        this._debugContext = _debugContext;\n\t        this.nativeNode = nativeNode;\n\t        if (parent && parent instanceof DebugElement) {\n\t            parent.addChild(this);\n\t        }\n\t        else {\n\t            this.parent = null;\n\t        }\n\t        this.listeners = [];\n\t    }\n\t    Object.defineProperty(DebugNode.prototype, \"injector\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () { return this._debugContext.injector; },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(DebugNode.prototype, \"componentInstance\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () { return this._debugContext.component; },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(DebugNode.prototype, \"context\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () { return this._debugContext.context; },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(DebugNode.prototype, \"references\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () { return this._debugContext.references; },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(DebugNode.prototype, \"providerTokens\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () { return this._debugContext.providerTokens; },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(DebugNode.prototype, \"source\", {\n\t        /**\n\t         * @deprecated since v4\n\t         * @return {?}\n\t         */\n\t        get: function () { return 'Deprecated since v4'; },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    return DebugNode;\n\t}());\n\t/**\n\t * \\@experimental All debugging apis are currently experimental.\n\t */\n\tvar DebugElement = (function (_super) {\n\t    __extends(DebugElement, _super);\n\t    /**\n\t     * @param {?} nativeNode\n\t     * @param {?} parent\n\t     * @param {?} _debugContext\n\t     */\n\t    function DebugElement(nativeNode, parent, _debugContext) {\n\t        var _this = _super.call(this, nativeNode, parent, _debugContext) || this;\n\t        _this.properties = {};\n\t        _this.attributes = {};\n\t        _this.classes = {};\n\t        _this.styles = {};\n\t        _this.childNodes = [];\n\t        _this.nativeElement = nativeNode;\n\t        return _this;\n\t    }\n\t    /**\n\t     * @param {?} child\n\t     * @return {?}\n\t     */\n\t    DebugElement.prototype.addChild = function (child) {\n\t        if (child) {\n\t            this.childNodes.push(child);\n\t            child.parent = this;\n\t        }\n\t    };\n\t    /**\n\t     * @param {?} child\n\t     * @return {?}\n\t     */\n\t    DebugElement.prototype.removeChild = function (child) {\n\t        var /** @type {?} */ childIndex = this.childNodes.indexOf(child);\n\t        if (childIndex !== -1) {\n\t            child.parent = null;\n\t            this.childNodes.splice(childIndex, 1);\n\t        }\n\t    };\n\t    /**\n\t     * @param {?} child\n\t     * @param {?} newChildren\n\t     * @return {?}\n\t     */\n\t    DebugElement.prototype.insertChildrenAfter = function (child, newChildren) {\n\t        var _this = this;\n\t        var /** @type {?} */ siblingIndex = this.childNodes.indexOf(child);\n\t        if (siblingIndex !== -1) {\n\t            (_a = this.childNodes).splice.apply(_a, [siblingIndex + 1, 0].concat(newChildren));\n\t            newChildren.forEach(function (c) {\n\t                if (c.parent) {\n\t                    c.parent.removeChild(c);\n\t                }\n\t                c.parent = _this;\n\t            });\n\t        }\n\t        var _a;\n\t    };\n\t    /**\n\t     * @param {?} refChild\n\t     * @param {?} newChild\n\t     * @return {?}\n\t     */\n\t    DebugElement.prototype.insertBefore = function (refChild, newChild) {\n\t        var /** @type {?} */ refIndex = this.childNodes.indexOf(refChild);\n\t        if (refIndex === -1) {\n\t            this.addChild(newChild);\n\t        }\n\t        else {\n\t            if (newChild.parent) {\n\t                newChild.parent.removeChild(newChild);\n\t            }\n\t            newChild.parent = this;\n\t            this.childNodes.splice(refIndex, 0, newChild);\n\t        }\n\t    };\n\t    /**\n\t     * @param {?} predicate\n\t     * @return {?}\n\t     */\n\t    DebugElement.prototype.query = function (predicate) {\n\t        var /** @type {?} */ results = this.queryAll(predicate);\n\t        return results[0] || null;\n\t    };\n\t    /**\n\t     * @param {?} predicate\n\t     * @return {?}\n\t     */\n\t    DebugElement.prototype.queryAll = function (predicate) {\n\t        var /** @type {?} */ matches = [];\n\t        _queryElementChildren(this, predicate, matches);\n\t        return matches;\n\t    };\n\t    /**\n\t     * @param {?} predicate\n\t     * @return {?}\n\t     */\n\t    DebugElement.prototype.queryAllNodes = function (predicate) {\n\t        var /** @type {?} */ matches = [];\n\t        _queryNodeChildren(this, predicate, matches);\n\t        return matches;\n\t    };\n\t    Object.defineProperty(DebugElement.prototype, \"children\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () {\n\t            return (this.childNodes.filter(function (node) { return node instanceof DebugElement; }));\n\t        },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    /**\n\t     * @param {?} eventName\n\t     * @param {?} eventObj\n\t     * @return {?}\n\t     */\n\t    DebugElement.prototype.triggerEventHandler = function (eventName, eventObj) {\n\t        this.listeners.forEach(function (listener) {\n\t            if (listener.name == eventName) {\n\t                listener.callback(eventObj);\n\t            }\n\t        });\n\t    };\n\t    return DebugElement;\n\t}(DebugNode));\n\t/**\n\t * \\@experimental\n\t * @param {?} debugEls\n\t * @return {?}\n\t */\n\tfunction asNativeElements(debugEls) {\n\t    return debugEls.map(function (el) { return el.nativeElement; });\n\t}\n\t/**\n\t * @param {?} element\n\t * @param {?} predicate\n\t * @param {?} matches\n\t * @return {?}\n\t */\n\tfunction _queryElementChildren(element, predicate, matches) {\n\t    element.childNodes.forEach(function (node) {\n\t        if (node instanceof DebugElement) {\n\t            if (predicate(node)) {\n\t                matches.push(node);\n\t            }\n\t            _queryElementChildren(node, predicate, matches);\n\t        }\n\t    });\n\t}\n\t/**\n\t * @param {?} parentNode\n\t * @param {?} predicate\n\t * @param {?} matches\n\t * @return {?}\n\t */\n\tfunction _queryNodeChildren(parentNode, predicate, matches) {\n\t    if (parentNode instanceof DebugElement) {\n\t        parentNode.childNodes.forEach(function (node) {\n\t            if (predicate(node)) {\n\t                matches.push(node);\n\t            }\n\t            if (node instanceof DebugElement) {\n\t                _queryNodeChildren(node, predicate, matches);\n\t            }\n\t        });\n\t    }\n\t}\n\t// Need to keep the nodes in a global Map so that multiple angular apps are supported.\n\tvar _nativeNodeToDebugNode = new Map();\n\t/**\n\t * \\@experimental\n\t * @param {?} nativeNode\n\t * @return {?}\n\t */\n\tfunction getDebugNode(nativeNode) {\n\t    return _nativeNodeToDebugNode.get(nativeNode) || null;\n\t}\n\t/**\n\t * @return {?}\n\t */\n\t/**\n\t * @param {?} node\n\t * @return {?}\n\t */\n\tfunction indexDebugNode(node) {\n\t    _nativeNodeToDebugNode.set(node.nativeNode, node);\n\t}\n\t/**\n\t * @param {?} node\n\t * @return {?}\n\t */\n\tfunction removeDebugNodeFromIndex(node) {\n\t    _nativeNodeToDebugNode.delete(node.nativeNode);\n\t}\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t/**\n\t * @param {?} a\n\t * @param {?} b\n\t * @return {?}\n\t */\n\tfunction devModeEqual(a, b) {\n\t    var /** @type {?} */ isListLikeIterableA = isListLikeIterable(a);\n\t    var /** @type {?} */ isListLikeIterableB = isListLikeIterable(b);\n\t    if (isListLikeIterableA && isListLikeIterableB) {\n\t        return areIterablesEqual(a, b, devModeEqual);\n\t    }\n\t    else {\n\t        var /** @type {?} */ isAObject = a && (typeof a === 'object' || typeof a === 'function');\n\t        var /** @type {?} */ isBObject = b && (typeof b === 'object' || typeof b === 'function');\n\t        if (!isListLikeIterableA && isAObject && !isListLikeIterableB && isBObject) {\n\t            return true;\n\t        }\n\t        else {\n\t            return looseIdentical(a, b);\n\t        }\n\t    }\n\t}\n\t/**\n\t * Indicates that the result of a {\\@link Pipe} transformation has changed even though the\n\t * reference\n\t * has not changed.\n\t *\n\t * The wrapped value will be unwrapped by change detection, and the unwrapped value will be stored.\n\t *\n\t * Example:\n\t *\n\t * ```\n\t * if (this._latestValue === this._latestReturnedValue) {\n\t *    return this._latestReturnedValue;\n\t *  } else {\n\t *    this._latestReturnedValue = this._latestValue;\n\t *    return WrappedValue.wrap(this._latestValue); // this will force update\n\t *  }\n\t * ```\n\t * \\@stable\n\t */\n\tvar WrappedValue = (function () {\n\t    /**\n\t     * @param {?} wrapped\n\t     */\n\t    function WrappedValue(wrapped) {\n\t        this.wrapped = wrapped;\n\t    }\n\t    /**\n\t     * @param {?} value\n\t     * @return {?}\n\t     */\n\t    WrappedValue.wrap = function (value) { return new WrappedValue(value); };\n\t    return WrappedValue;\n\t}());\n\t/**\n\t * Helper class for unwrapping WrappedValue s\n\t */\n\tvar ValueUnwrapper = (function () {\n\t    function ValueUnwrapper() {\n\t        this.hasWrappedValue = false;\n\t    }\n\t    /**\n\t     * @param {?} value\n\t     * @return {?}\n\t     */\n\t    ValueUnwrapper.prototype.unwrap = function (value) {\n\t        if (value instanceof WrappedValue) {\n\t            this.hasWrappedValue = true;\n\t            return value.wrapped;\n\t        }\n\t        return value;\n\t    };\n\t    /**\n\t     * @return {?}\n\t     */\n\t    ValueUnwrapper.prototype.reset = function () { this.hasWrappedValue = false; };\n\t    return ValueUnwrapper;\n\t}());\n\t/**\n\t * Represents a basic change from a previous to a new value.\n\t * \\@stable\n\t */\n\tvar SimpleChange = (function () {\n\t    /**\n\t     * @param {?} previousValue\n\t     * @param {?} currentValue\n\t     * @param {?} firstChange\n\t     */\n\t    function SimpleChange(previousValue, currentValue, firstChange) {\n\t        this.previousValue = previousValue;\n\t        this.currentValue = currentValue;\n\t        this.firstChange = firstChange;\n\t    }\n\t    /**\n\t     * Check whether the new value is the first value assigned.\n\t     * @return {?}\n\t     */\n\t    SimpleChange.prototype.isFirstChange = function () { return this.firstChange; };\n\t    return SimpleChange;\n\t}());\n\t/**\n\t * @param {?} obj\n\t * @return {?}\n\t */\n\tfunction isListLikeIterable(obj) {\n\t    if (!isJsObject(obj))\n\t        return false;\n\t    return Array.isArray(obj) ||\n\t        (!(obj instanceof Map) &&\n\t            getSymbolIterator() in obj); // JS Iterable have a Symbol.iterator prop\n\t}\n\t/**\n\t * @param {?} a\n\t * @param {?} b\n\t * @param {?} comparator\n\t * @return {?}\n\t */\n\tfunction areIterablesEqual(a, b, comparator) {\n\t    var /** @type {?} */ iterator1 = a[getSymbolIterator()]();\n\t    var /** @type {?} */ iterator2 = b[getSymbolIterator()]();\n\t    while (true) {\n\t        var /** @type {?} */ item1 = iterator1.next();\n\t        var /** @type {?} */ item2 = iterator2.next();\n\t        if (item1.done && item2.done)\n\t            return true;\n\t        if (item1.done || item2.done)\n\t            return false;\n\t        if (!comparator(item1.value, item2.value))\n\t            return false;\n\t    }\n\t}\n\t/**\n\t * @param {?} obj\n\t * @param {?} fn\n\t * @return {?}\n\t */\n\tfunction iterateListLike(obj, fn) {\n\t    if (Array.isArray(obj)) {\n\t        for (var /** @type {?} */ i = 0; i < obj.length; i++) {\n\t            fn(obj[i]);\n\t        }\n\t    }\n\t    else {\n\t        var /** @type {?} */ iterator = obj[getSymbolIterator()]();\n\t        var /** @type {?} */ item = void 0;\n\t        while (!((item = iterator.next()).done)) {\n\t            fn(item.value);\n\t        }\n\t    }\n\t}\n\t/**\n\t * @param {?} o\n\t * @return {?}\n\t */\n\tfunction isJsObject(o) {\n\t    return o !== null && (typeof o === 'function' || typeof o === 'object');\n\t}\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\tvar DefaultIterableDifferFactory = (function () {\n\t    function DefaultIterableDifferFactory() {\n\t    }\n\t    /**\n\t     * @param {?} obj\n\t     * @return {?}\n\t     */\n\t    DefaultIterableDifferFactory.prototype.supports = function (obj) { return isListLikeIterable(obj); };\n\t    /**\n\t     * @deprecated v4.0.0 - ChangeDetectorRef is not used and is no longer a parameter\n\t     * @template V\n\t     * @param {?=} cdRefOrTrackBy\n\t     * @param {?=} trackByFn\n\t     * @return {?}\n\t     */\n\t    DefaultIterableDifferFactory.prototype.create = function (cdRefOrTrackBy, trackByFn) {\n\t        return new DefaultIterableDiffer(trackByFn || (cdRefOrTrackBy));\n\t    };\n\t    return DefaultIterableDifferFactory;\n\t}());\n\tvar trackByIdentity = function (index, item) { return item; };\n\t/**\n\t * @deprecated v4.0.0 - Should not be part of public API.\n\t */\n\tvar DefaultIterableDiffer = (function () {\n\t    /**\n\t     * @param {?=} trackByFn\n\t     */\n\t    function DefaultIterableDiffer(trackByFn) {\n\t        this._length = 0;\n\t        this._collection = null;\n\t        this._linkedRecords = null;\n\t        this._unlinkedRecords = null;\n\t        this._previousItHead = null;\n\t        this._itHead = null;\n\t        this._itTail = null;\n\t        this._additionsHead = null;\n\t        this._additionsTail = null;\n\t        this._movesHead = null;\n\t        this._movesTail = null;\n\t        this._removalsHead = null;\n\t        this._removalsTail = null;\n\t        this._identityChangesHead = null;\n\t        this._identityChangesTail = null;\n\t        this._trackByFn = trackByFn || trackByIdentity;\n\t    }\n\t    Object.defineProperty(DefaultIterableDiffer.prototype, \"collection\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () { return this._collection; },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(DefaultIterableDiffer.prototype, \"length\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () { return this._length; },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    /**\n\t     * @param {?} fn\n\t     * @return {?}\n\t     */\n\t    DefaultIterableDiffer.prototype.forEachItem = function (fn) {\n\t        var /** @type {?} */ record;\n\t        for (record = this._itHead; record !== null; record = record._next) {\n\t            fn(record);\n\t        }\n\t    };\n\t    /**\n\t     * @param {?} fn\n\t     * @return {?}\n\t     */\n\t    DefaultIterableDiffer.prototype.forEachOperation = function (fn) {\n\t        var /** @type {?} */ nextIt = this._itHead;\n\t        var /** @type {?} */ nextRemove = this._removalsHead;\n\t        var /** @type {?} */ addRemoveOffset = 0;\n\t        var /** @type {?} */ moveOffsets = null;\n\t        while (nextIt || nextRemove) {\n\t            // Figure out which is the next record to process\n\t            // Order: remove, add, move\n\t            var /** @type {?} */ record = !nextRemove ||\n\t                nextIt && ((nextIt.currentIndex)) <\n\t                    getPreviousIndex(nextRemove, addRemoveOffset, moveOffsets) ? ((nextIt)) :\n\t                nextRemove;\n\t            var /** @type {?} */ adjPreviousIndex = getPreviousIndex(record, addRemoveOffset, moveOffsets);\n\t            var /** @type {?} */ currentIndex = record.currentIndex;\n\t            // consume the item, and adjust the addRemoveOffset and update moveDistance if necessary\n\t            if (record === nextRemove) {\n\t                addRemoveOffset--;\n\t                nextRemove = nextRemove._nextRemoved;\n\t            }\n\t            else {\n\t                nextIt = ((nextIt))._next;\n\t                if (record.previousIndex == null) {\n\t                    addRemoveOffset++;\n\t                }\n\t                else {\n\t                    // INVARIANT:  currentIndex < previousIndex\n\t                    if (!moveOffsets)\n\t                        moveOffsets = [];\n\t                    var /** @type {?} */ localMovePreviousIndex = adjPreviousIndex - addRemoveOffset;\n\t                    var /** @type {?} */ localCurrentIndex = ((currentIndex)) - addRemoveOffset;\n\t                    if (localMovePreviousIndex != localCurrentIndex) {\n\t                        for (var /** @type {?} */ i = 0; i < localMovePreviousIndex; i++) {\n\t                            var /** @type {?} */ offset = i < moveOffsets.length ? moveOffsets[i] : (moveOffsets[i] = 0);\n\t                            var /** @type {?} */ index = offset + i;\n\t                            if (localCurrentIndex <= index && index < localMovePreviousIndex) {\n\t                                moveOffsets[i] = offset + 1;\n\t                            }\n\t                        }\n\t                        var /** @type {?} */ previousIndex = record.previousIndex;\n\t                        moveOffsets[previousIndex] = localCurrentIndex - localMovePreviousIndex;\n\t                    }\n\t                }\n\t            }\n\t            if (adjPreviousIndex !== currentIndex) {\n\t                fn(record, adjPreviousIndex, currentIndex);\n\t            }\n\t        }\n\t    };\n\t    /**\n\t     * @param {?} fn\n\t     * @return {?}\n\t     */\n\t    DefaultIterableDiffer.prototype.forEachPreviousItem = function (fn) {\n\t        var /** @type {?} */ record;\n\t        for (record = this._previousItHead; record !== null; record = record._nextPrevious) {\n\t            fn(record);\n\t        }\n\t    };\n\t    /**\n\t     * @param {?} fn\n\t     * @return {?}\n\t     */\n\t    DefaultIterableDiffer.prototype.forEachAddedItem = function (fn) {\n\t        var /** @type {?} */ record;\n\t        for (record = this._additionsHead; record !== null; record = record._nextAdded) {\n\t            fn(record);\n\t        }\n\t    };\n\t    /**\n\t     * @param {?} fn\n\t     * @return {?}\n\t     */\n\t    DefaultIterableDiffer.prototype.forEachMovedItem = function (fn) {\n\t        var /** @type {?} */ record;\n\t        for (record = this._movesHead; record !== null; record = record._nextMoved) {\n\t            fn(record);\n\t        }\n\t    };\n\t    /**\n\t     * @param {?} fn\n\t     * @return {?}\n\t     */\n\t    DefaultIterableDiffer.prototype.forEachRemovedItem = function (fn) {\n\t        var /** @type {?} */ record;\n\t        for (record = this._removalsHead; record !== null; record = record._nextRemoved) {\n\t            fn(record);\n\t        }\n\t    };\n\t    /**\n\t     * @param {?} fn\n\t     * @return {?}\n\t     */\n\t    DefaultIterableDiffer.prototype.forEachIdentityChange = function (fn) {\n\t        var /** @type {?} */ record;\n\t        for (record = this._identityChangesHead; record !== null; record = record._nextIdentityChange) {\n\t            fn(record);\n\t        }\n\t    };\n\t    /**\n\t     * @param {?} collection\n\t     * @return {?}\n\t     */\n\t    DefaultIterableDiffer.prototype.diff = function (collection) {\n\t        if (collection == null)\n\t            collection = [];\n\t        if (!isListLikeIterable(collection)) {\n\t            throw new Error(\"Error trying to diff '\" + stringify(collection) + \"'. Only arrays and iterables are allowed\");\n\t        }\n\t        if (this.check(collection)) {\n\t            return this;\n\t        }\n\t        else {\n\t            return null;\n\t        }\n\t    };\n\t    /**\n\t     * @return {?}\n\t     */\n\t    DefaultIterableDiffer.prototype.onDestroy = function () { };\n\t    /**\n\t     * @param {?} collection\n\t     * @return {?}\n\t     */\n\t    DefaultIterableDiffer.prototype.check = function (collection) {\n\t        var _this = this;\n\t        this._reset();\n\t        var /** @type {?} */ record = this._itHead;\n\t        var /** @type {?} */ mayBeDirty = false;\n\t        var /** @type {?} */ index;\n\t        var /** @type {?} */ item;\n\t        var /** @type {?} */ itemTrackBy;\n\t        if (Array.isArray(collection)) {\n\t            this._length = collection.length;\n\t            for (var /** @type {?} */ index_1 = 0; index_1 < this._length; index_1++) {\n\t                item = collection[index_1];\n\t                itemTrackBy = this._trackByFn(index_1, item);\n\t                if (record === null || !looseIdentical(record.trackById, itemTrackBy)) {\n\t                    record = this._mismatch(record, item, itemTrackBy, index_1);\n\t                    mayBeDirty = true;\n\t                }\n\t                else {\n\t                    if (mayBeDirty) {\n\t                        // TODO(misko): can we limit this to duplicates only?\n\t                        record = this._verifyReinsertion(record, item, itemTrackBy, index_1);\n\t                    }\n\t                    if (!looseIdentical(record.item, item))\n\t                        this._addIdentityChange(record, item);\n\t                }\n\t                record = record._next;\n\t            }\n\t        }\n\t        else {\n\t            index = 0;\n\t            iterateListLike(collection, function (item) {\n\t                itemTrackBy = _this._trackByFn(index, item);\n\t                if (record === null || !looseIdentical(record.trackById, itemTrackBy)) {\n\t                    record = _this._mismatch(record, item, itemTrackBy, index);\n\t                    mayBeDirty = true;\n\t                }\n\t                else {\n\t                    if (mayBeDirty) {\n\t                        // TODO(misko): can we limit this to duplicates only?\n\t                        record = _this._verifyReinsertion(record, item, itemTrackBy, index);\n\t                    }\n\t                    if (!looseIdentical(record.item, item))\n\t                        _this._addIdentityChange(record, item);\n\t                }\n\t                record = record._next;\n\t                index++;\n\t            });\n\t            this._length = index;\n\t        }\n\t        this._truncate(record);\n\t        this._collection = collection;\n\t        return this.isDirty;\n\t    };\n\t    Object.defineProperty(DefaultIterableDiffer.prototype, \"isDirty\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () {\n\t            return this._additionsHead !== null || this._movesHead !== null ||\n\t                this._removalsHead !== null || this._identityChangesHead !== null;\n\t        },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    /**\n\t     * Reset the state of the change objects to show no changes. This means set previousKey to\n\t     * currentKey, and clear all of the queues (additions, moves, removals).\n\t     * Set the previousIndexes of moved and added items to their currentIndexes\n\t     * Reset the list of additions, moves and removals\n\t     *\n\t     * \\@internal\n\t     * @return {?}\n\t     */\n\t    DefaultIterableDiffer.prototype._reset = function () {\n\t        if (this.isDirty) {\n\t            var /** @type {?} */ record = void 0;\n\t            var /** @type {?} */ nextRecord = void 0;\n\t            for (record = this._previousItHead = this._itHead; record !== null; record = record._next) {\n\t                record._nextPrevious = record._next;\n\t            }\n\t            for (record = this._additionsHead; record !== null; record = record._nextAdded) {\n\t                record.previousIndex = record.currentIndex;\n\t            }\n\t            this._additionsHead = this._additionsTail = null;\n\t            for (record = this._movesHead; record !== null; record = nextRecord) {\n\t                record.previousIndex = record.currentIndex;\n\t                nextRecord = record._nextMoved;\n\t            }\n\t            this._movesHead = this._movesTail = null;\n\t            this._removalsHead = this._removalsTail = null;\n\t            this._identityChangesHead = this._identityChangesTail = null;\n\t            // todo(vicb) when assert gets supported\n\t            // assert(!this.isDirty);\n\t        }\n\t    };\n\t    /**\n\t     * This is the core function which handles differences between collections.\n\t     *\n\t     * - `record` is the record which we saw at this position last time. If null then it is a new\n\t     *   item.\n\t     * - `item` is the current item in the collection\n\t     * - `index` is the position of the item in the collection\n\t     *\n\t     * \\@internal\n\t     * @param {?} record\n\t     * @param {?} item\n\t     * @param {?} itemTrackBy\n\t     * @param {?} index\n\t     * @return {?}\n\t     */\n\t    DefaultIterableDiffer.prototype._mismatch = function (record, item, itemTrackBy, index) {\n\t        // The previous record after which we will append the current one.\n\t        var /** @type {?} */ previousRecord;\n\t        if (record === null) {\n\t            previousRecord = this._itTail;\n\t        }\n\t        else {\n\t            previousRecord = record._prev;\n\t            // Remove the record from the collection since we know it does not match the item.\n\t            this._remove(record);\n\t        }\n\t        // Attempt to see if we have seen the item before.\n\t        record = this._linkedRecords === null ? null : this._linkedRecords.get(itemTrackBy, index);\n\t        if (record !== null) {\n\t            // We have seen this before, we need to move it forward in the collection.\n\t            // But first we need to check if identity changed, so we can update in view if necessary\n\t            if (!looseIdentical(record.item, item))\n\t                this._addIdentityChange(record, item);\n\t            this._moveAfter(record, previousRecord, index);\n\t        }\n\t        else {\n\t            // Never seen it, check evicted list.\n\t            record = this._unlinkedRecords === null ? null : this._unlinkedRecords.get(itemTrackBy, null);\n\t            if (record !== null) {\n\t                // It is an item which we have evicted earlier: reinsert it back into the list.\n\t                // But first we need to check if identity changed, so we can update in view if necessary\n\t                if (!looseIdentical(record.item, item))\n\t                    this._addIdentityChange(record, item);\n\t                this._reinsertAfter(record, previousRecord, index);\n\t            }\n\t            else {\n\t                // It is a new item: add it.\n\t                record =\n\t                    this._addAfter(new IterableChangeRecord_(item, itemTrackBy), previousRecord, index);\n\t            }\n\t        }\n\t        return record;\n\t    };\n\t    /**\n\t     * This check is only needed if an array contains duplicates. (Short circuit of nothing dirty)\n\t     *\n\t     * Use case: `[a, a]` => `[b, a, a]`\n\t     *\n\t     * If we did not have this check then the insertion of `b` would:\n\t     *   1) evict first `a`\n\t     *   2) insert `b` at `0` index.\n\t     *   3) leave `a` at index `1` as is. <-- this is wrong!\n\t     *   3) reinsert `a` at index 2. <-- this is wrong!\n\t     *\n\t     * The correct behavior is:\n\t     *   1) evict first `a`\n\t     *   2) insert `b` at `0` index.\n\t     *   3) reinsert `a` at index 1.\n\t     *   3) move `a` at from `1` to `2`.\n\t     *\n\t     *\n\t     * Double check that we have not evicted a duplicate item. We need to check if the item type may\n\t     * have already been removed:\n\t     * The insertion of b will evict the first 'a'. If we don't reinsert it now it will be reinserted\n\t     * at the end. Which will show up as the two 'a's switching position. This is incorrect, since a\n\t     * better way to think of it is as insert of 'b' rather then switch 'a' with 'b' and then add 'a'\n\t     * at the end.\n\t     *\n\t     * \\@internal\n\t     * @param {?} record\n\t     * @param {?} item\n\t     * @param {?} itemTrackBy\n\t     * @param {?} index\n\t     * @return {?}\n\t     */\n\t    DefaultIterableDiffer.prototype._verifyReinsertion = function (record, item, itemTrackBy, index) {\n\t        var /** @type {?} */ reinsertRecord = this._unlinkedRecords === null ? null : this._unlinkedRecords.get(itemTrackBy, null);\n\t        if (reinsertRecord !== null) {\n\t            record = this._reinsertAfter(reinsertRecord, /** @type {?} */ ((record._prev)), index);\n\t        }\n\t        else if (record.currentIndex != index) {\n\t            record.currentIndex = index;\n\t            this._addToMoves(record, index);\n\t        }\n\t        return record;\n\t    };\n\t    /**\n\t     * Get rid of any excess {\\@link IterableChangeRecord_}s from the previous collection\n\t     *\n\t     * - `record` The first excess {\\@link IterableChangeRecord_}.\n\t     *\n\t     * \\@internal\n\t     * @param {?} record\n\t     * @return {?}\n\t     */\n\t    DefaultIterableDiffer.prototype._truncate = function (record) {\n\t        // Anything after that needs to be removed;\n\t        while (record !== null) {\n\t            var /** @type {?} */ nextRecord = record._next;\n\t            this._addToRemovals(this._unlink(record));\n\t            record = nextRecord;\n\t        }\n\t        if (this._unlinkedRecords !== null) {\n\t            this._unlinkedRecords.clear();\n\t        }\n\t        if (this._additionsTail !== null) {\n\t            this._additionsTail._nextAdded = null;\n\t        }\n\t        if (this._movesTail !== null) {\n\t            this._movesTail._nextMoved = null;\n\t        }\n\t        if (this._itTail !== null) {\n\t            this._itTail._next = null;\n\t        }\n\t        if (this._removalsTail !== null) {\n\t            this._removalsTail._nextRemoved = null;\n\t        }\n\t        if (this._identityChangesTail !== null) {\n\t            this._identityChangesTail._nextIdentityChange = null;\n\t        }\n\t    };\n\t    /**\n\t     * \\@internal\n\t     * @param {?} record\n\t     * @param {?} prevRecord\n\t     * @param {?} index\n\t     * @return {?}\n\t     */\n\t    DefaultIterableDiffer.prototype._reinsertAfter = function (record, prevRecord, index) {\n\t        if (this._unlinkedRecords !== null) {\n\t            this._unlinkedRecords.remove(record);\n\t        }\n\t        var /** @type {?} */ prev = record._prevRemoved;\n\t        var /** @type {?} */ next = record._nextRemoved;\n\t        if (prev === null) {\n\t            this._removalsHead = next;\n\t        }\n\t        else {\n\t            prev._nextRemoved = next;\n\t        }\n\t        if (next === null) {\n\t            this._removalsTail = prev;\n\t        }\n\t        else {\n\t            next._prevRemoved = prev;\n\t        }\n\t        this._insertAfter(record, prevRecord, index);\n\t        this._addToMoves(record, index);\n\t        return record;\n\t    };\n\t    /**\n\t     * \\@internal\n\t     * @param {?} record\n\t     * @param {?} prevRecord\n\t     * @param {?} index\n\t     * @return {?}\n\t     */\n\t    DefaultIterableDiffer.prototype._moveAfter = function (record, prevRecord, index) {\n\t        this._unlink(record);\n\t        this._insertAfter(record, prevRecord, index);\n\t        this._addToMoves(record, index);\n\t        return record;\n\t    };\n\t    /**\n\t     * \\@internal\n\t     * @param {?} record\n\t     * @param {?} prevRecord\n\t     * @param {?} index\n\t     * @return {?}\n\t     */\n\t    DefaultIterableDiffer.prototype._addAfter = function (record, prevRecord, index) {\n\t        this._insertAfter(record, prevRecord, index);\n\t        if (this._additionsTail === null) {\n\t            // todo(vicb)\n\t            // assert(this._additionsHead === null);\n\t            this._additionsTail = this._additionsHead = record;\n\t        }\n\t        else {\n\t            // todo(vicb)\n\t            // assert(_additionsTail._nextAdded === null);\n\t            // assert(record._nextAdded === null);\n\t            this._additionsTail = this._additionsTail._nextAdded = record;\n\t        }\n\t        return record;\n\t    };\n\t    /**\n\t     * \\@internal\n\t     * @param {?} record\n\t     * @param {?} prevRecord\n\t     * @param {?} index\n\t     * @return {?}\n\t     */\n\t    DefaultIterableDiffer.prototype._insertAfter = function (record, prevRecord, index) {\n\t        // todo(vicb)\n\t        // assert(record != prevRecord);\n\t        // assert(record._next === null);\n\t        // assert(record._prev === null);\n\t        var /** @type {?} */ next = prevRecord === null ? this._itHead : prevRecord._next;\n\t        // todo(vicb)\n\t        // assert(next != record);\n\t        // assert(prevRecord != record);\n\t        record._next = next;\n\t        record._prev = prevRecord;\n\t        if (next === null) {\n\t            this._itTail = record;\n\t        }\n\t        else {\n\t            next._prev = record;\n\t        }\n\t        if (prevRecord === null) {\n\t            this._itHead = record;\n\t        }\n\t        else {\n\t            prevRecord._next = record;\n\t        }\n\t        if (this._linkedRecords === null) {\n\t            this._linkedRecords = new _DuplicateMap();\n\t        }\n\t        this._linkedRecords.put(record);\n\t        record.currentIndex = index;\n\t        return record;\n\t    };\n\t    /**\n\t     * \\@internal\n\t     * @param {?} record\n\t     * @return {?}\n\t     */\n\t    DefaultIterableDiffer.prototype._remove = function (record) {\n\t        return this._addToRemovals(this._unlink(record));\n\t    };\n\t    /**\n\t     * \\@internal\n\t     * @param {?} record\n\t     * @return {?}\n\t     */\n\t    DefaultIterableDiffer.prototype._unlink = function (record) {\n\t        if (this._linkedRecords !== null) {\n\t            this._linkedRecords.remove(record);\n\t        }\n\t        var /** @type {?} */ prev = record._prev;\n\t        var /** @type {?} */ next = record._next;\n\t        // todo(vicb)\n\t        // assert((record._prev = null) === null);\n\t        // assert((record._next = null) === null);\n\t        if (prev === null) {\n\t            this._itHead = next;\n\t        }\n\t        else {\n\t            prev._next = next;\n\t        }\n\t        if (next === null) {\n\t            this._itTail = prev;\n\t        }\n\t        else {\n\t            next._prev = prev;\n\t        }\n\t        return record;\n\t    };\n\t    /**\n\t     * \\@internal\n\t     * @param {?} record\n\t     * @param {?} toIndex\n\t     * @return {?}\n\t     */\n\t    DefaultIterableDiffer.prototype._addToMoves = function (record, toIndex) {\n\t        // todo(vicb)\n\t        // assert(record._nextMoved === null);\n\t        if (record.previousIndex === toIndex) {\n\t            return record;\n\t        }\n\t        if (this._movesTail === null) {\n\t            // todo(vicb)\n\t            // assert(_movesHead === null);\n\t            this._movesTail = this._movesHead = record;\n\t        }\n\t        else {\n\t            // todo(vicb)\n\t            // assert(_movesTail._nextMoved === null);\n\t            this._movesTail = this._movesTail._nextMoved = record;\n\t        }\n\t        return record;\n\t    };\n\t    /**\n\t     * @param {?} record\n\t     * @return {?}\n\t     */\n\t    DefaultIterableDiffer.prototype._addToRemovals = function (record) {\n\t        if (this._unlinkedRecords === null) {\n\t            this._unlinkedRecords = new _DuplicateMap();\n\t        }\n\t        this._unlinkedRecords.put(record);\n\t        record.currentIndex = null;\n\t        record._nextRemoved = null;\n\t        if (this._removalsTail === null) {\n\t            // todo(vicb)\n\t            // assert(_removalsHead === null);\n\t            this._removalsTail = this._removalsHead = record;\n\t            record._prevRemoved = null;\n\t        }\n\t        else {\n\t            // todo(vicb)\n\t            // assert(_removalsTail._nextRemoved === null);\n\t            // assert(record._nextRemoved === null);\n\t            record._prevRemoved = this._removalsTail;\n\t            this._removalsTail = this._removalsTail._nextRemoved = record;\n\t        }\n\t        return record;\n\t    };\n\t    /**\n\t     * \\@internal\n\t     * @param {?} record\n\t     * @param {?} item\n\t     * @return {?}\n\t     */\n\t    DefaultIterableDiffer.prototype._addIdentityChange = function (record, item) {\n\t        record.item = item;\n\t        if (this._identityChangesTail === null) {\n\t            this._identityChangesTail = this._identityChangesHead = record;\n\t        }\n\t        else {\n\t            this._identityChangesTail = this._identityChangesTail._nextIdentityChange = record;\n\t        }\n\t        return record;\n\t    };\n\t    /**\n\t     * @return {?}\n\t     */\n\t    DefaultIterableDiffer.prototype.toString = function () {\n\t        var /** @type {?} */ list = [];\n\t        this.forEachItem(function (record) { return list.push(record); });\n\t        var /** @type {?} */ previous = [];\n\t        this.forEachPreviousItem(function (record) { return previous.push(record); });\n\t        var /** @type {?} */ additions = [];\n\t        this.forEachAddedItem(function (record) { return additions.push(record); });\n\t        var /** @type {?} */ moves = [];\n\t        this.forEachMovedItem(function (record) { return moves.push(record); });\n\t        var /** @type {?} */ removals = [];\n\t        this.forEachRemovedItem(function (record) { return removals.push(record); });\n\t        var /** @type {?} */ identityChanges = [];\n\t        this.forEachIdentityChange(function (record) { return identityChanges.push(record); });\n\t        return 'collection: ' + list.join(', ') + '\\n' +\n\t            'previous: ' + previous.join(', ') + '\\n' +\n\t            'additions: ' + additions.join(', ') + '\\n' +\n\t            'moves: ' + moves.join(', ') + '\\n' +\n\t            'removals: ' + removals.join(', ') + '\\n' +\n\t            'identityChanges: ' + identityChanges.join(', ') + '\\n';\n\t    };\n\t    return DefaultIterableDiffer;\n\t}());\n\t/**\n\t * \\@stable\n\t */\n\tvar IterableChangeRecord_ = (function () {\n\t    /**\n\t     * @param {?} item\n\t     * @param {?} trackById\n\t     */\n\t    function IterableChangeRecord_(item, trackById) {\n\t        this.item = item;\n\t        this.trackById = trackById;\n\t        this.currentIndex = null;\n\t        this.previousIndex = null;\n\t        /**\n\t         * \\@internal\n\t         */\n\t        this._nextPrevious = null;\n\t        /**\n\t         * \\@internal\n\t         */\n\t        this._prev = null;\n\t        /**\n\t         * \\@internal\n\t         */\n\t        this._next = null;\n\t        /**\n\t         * \\@internal\n\t         */\n\t        this._prevDup = null;\n\t        /**\n\t         * \\@internal\n\t         */\n\t        this._nextDup = null;\n\t        /**\n\t         * \\@internal\n\t         */\n\t        this._prevRemoved = null;\n\t        /**\n\t         * \\@internal\n\t         */\n\t        this._nextRemoved = null;\n\t        /**\n\t         * \\@internal\n\t         */\n\t        this._nextAdded = null;\n\t        /**\n\t         * \\@internal\n\t         */\n\t        this._nextMoved = null;\n\t        /**\n\t         * \\@internal\n\t         */\n\t        this._nextIdentityChange = null;\n\t    }\n\t    /**\n\t     * @return {?}\n\t     */\n\t    IterableChangeRecord_.prototype.toString = function () {\n\t        return this.previousIndex === this.currentIndex ? stringify(this.item) :\n\t            stringify(this.item) + '[' +\n\t                stringify(this.previousIndex) + '->' + stringify(this.currentIndex) + ']';\n\t    };\n\t    return IterableChangeRecord_;\n\t}());\n\tvar _DuplicateItemRecordList = (function () {\n\t    function _DuplicateItemRecordList() {\n\t        /**\n\t         * \\@internal\n\t         */\n\t        this._head = null;\n\t        /**\n\t         * \\@internal\n\t         */\n\t        this._tail = null;\n\t    }\n\t    /**\n\t     * Append the record to the list of duplicates.\n\t     *\n\t     * Note: by design all records in the list of duplicates hold the same value in record.item.\n\t     * @param {?} record\n\t     * @return {?}\n\t     */\n\t    _DuplicateItemRecordList.prototype.add = function (record) {\n\t        if (this._head === null) {\n\t            this._head = this._tail = record;\n\t            record._nextDup = null;\n\t            record._prevDup = null;\n\t        }\n\t        else {\n\t            ((\n\t            // todo(vicb)\n\t            // assert(record.item ==  _head.item ||\n\t            //       record.item is num && record.item.isNaN && _head.item is num && _head.item.isNaN);\n\t            this._tail))._nextDup = record;\n\t            record._prevDup = this._tail;\n\t            record._nextDup = null;\n\t            this._tail = record;\n\t        }\n\t    };\n\t    /**\n\t     * @param {?} trackById\n\t     * @param {?} atOrAfterIndex\n\t     * @return {?}\n\t     */\n\t    _DuplicateItemRecordList.prototype.get = function (trackById, atOrAfterIndex) {\n\t        var /** @type {?} */ record;\n\t        for (record = this._head; record !== null; record = record._nextDup) {\n\t            if ((atOrAfterIndex === null || atOrAfterIndex <= ((record.currentIndex))) &&\n\t                looseIdentical(record.trackById, trackById)) {\n\t                return record;\n\t            }\n\t        }\n\t        return null;\n\t    };\n\t    /**\n\t     * Remove one {\\@link IterableChangeRecord_} from the list of duplicates.\n\t     *\n\t     * Returns whether the list of duplicates is empty.\n\t     * @param {?} record\n\t     * @return {?}\n\t     */\n\t    _DuplicateItemRecordList.prototype.remove = function (record) {\n\t        // todo(vicb)\n\t        // assert(() {\n\t        //  // verify that the record being removed is in the list.\n\t        //  for (IterableChangeRecord_ cursor = _head; cursor != null; cursor = cursor._nextDup) {\n\t        //    if (identical(cursor, record)) return true;\n\t        //  }\n\t        //  return false;\n\t        //});\n\t        var /** @type {?} */ prev = record._prevDup;\n\t        var /** @type {?} */ next = record._nextDup;\n\t        if (prev === null) {\n\t            this._head = next;\n\t        }\n\t        else {\n\t            prev._nextDup = next;\n\t        }\n\t        if (next === null) {\n\t            this._tail = prev;\n\t        }\n\t        else {\n\t            next._prevDup = prev;\n\t        }\n\t        return this._head === null;\n\t    };\n\t    return _DuplicateItemRecordList;\n\t}());\n\tvar _DuplicateMap = (function () {\n\t    function _DuplicateMap() {\n\t        this.map = new Map();\n\t    }\n\t    /**\n\t     * @param {?} record\n\t     * @return {?}\n\t     */\n\t    _DuplicateMap.prototype.put = function (record) {\n\t        var /** @type {?} */ key = record.trackById;\n\t        var /** @type {?} */ duplicates = this.map.get(key);\n\t        if (!duplicates) {\n\t            duplicates = new _DuplicateItemRecordList();\n\t            this.map.set(key, duplicates);\n\t        }\n\t        duplicates.add(record);\n\t    };\n\t    /**\n\t     * Retrieve the `value` using key. Because the IterableChangeRecord_ value may be one which we\n\t     * have already iterated over, we use the `atOrAfterIndex` to pretend it is not there.\n\t     *\n\t     * Use case: `[a, b, c, a, a]` if we are at index `3` which is the second `a` then asking if we\n\t     * have any more `a`s needs to return the second `a`.\n\t     * @param {?} trackById\n\t     * @param {?} atOrAfterIndex\n\t     * @return {?}\n\t     */\n\t    _DuplicateMap.prototype.get = function (trackById, atOrAfterIndex) {\n\t        var /** @type {?} */ key = trackById;\n\t        var /** @type {?} */ recordList = this.map.get(key);\n\t        return recordList ? recordList.get(trackById, atOrAfterIndex) : null;\n\t    };\n\t    /**\n\t     * Removes a {\\@link IterableChangeRecord_} from the list of duplicates.\n\t     *\n\t     * The list of duplicates also is removed from the map if it gets empty.\n\t     * @param {?} record\n\t     * @return {?}\n\t     */\n\t    _DuplicateMap.prototype.remove = function (record) {\n\t        var /** @type {?} */ key = record.trackById;\n\t        var /** @type {?} */ recordList = ((this.map.get(key)));\n\t        // Remove the list of duplicates when it gets empty\n\t        if (recordList.remove(record)) {\n\t            this.map.delete(key);\n\t        }\n\t        return record;\n\t    };\n\t    Object.defineProperty(_DuplicateMap.prototype, \"isEmpty\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () { return this.map.size === 0; },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    /**\n\t     * @return {?}\n\t     */\n\t    _DuplicateMap.prototype.clear = function () { this.map.clear(); };\n\t    /**\n\t     * @return {?}\n\t     */\n\t    _DuplicateMap.prototype.toString = function () { return '_DuplicateMap(' + stringify(this.map) + ')'; };\n\t    return _DuplicateMap;\n\t}());\n\t/**\n\t * @param {?} item\n\t * @param {?} addRemoveOffset\n\t * @param {?} moveOffsets\n\t * @return {?}\n\t */\n\tfunction getPreviousIndex(item, addRemoveOffset, moveOffsets) {\n\t    var /** @type {?} */ previousIndex = item.previousIndex;\n\t    if (previousIndex === null)\n\t        return previousIndex;\n\t    var /** @type {?} */ moveOffset = 0;\n\t    if (moveOffsets && previousIndex < moveOffsets.length) {\n\t        moveOffset = moveOffsets[previousIndex];\n\t    }\n\t    return previousIndex + addRemoveOffset + moveOffset;\n\t}\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\tvar DefaultKeyValueDifferFactory = (function () {\n\t    function DefaultKeyValueDifferFactory() {\n\t    }\n\t    /**\n\t     * @param {?} obj\n\t     * @return {?}\n\t     */\n\t    DefaultKeyValueDifferFactory.prototype.supports = function (obj) { return obj instanceof Map || isJsObject(obj); };\n\t    /**\n\t     * @deprecated v4.0.0 - ChangeDetectorRef is not used and is no longer a parameter\n\t     * @template K, V\n\t     * @param {?=} cd\n\t     * @return {?}\n\t     */\n\t    DefaultKeyValueDifferFactory.prototype.create = function (cd) {\n\t        return new DefaultKeyValueDiffer();\n\t    };\n\t    return DefaultKeyValueDifferFactory;\n\t}());\n\tvar DefaultKeyValueDiffer = (function () {\n\t    function DefaultKeyValueDiffer() {\n\t        this._records = new Map();\n\t        this._mapHead = null;\n\t        this._appendAfter = null;\n\t        this._previousMapHead = null;\n\t        this._changesHead = null;\n\t        this._changesTail = null;\n\t        this._additionsHead = null;\n\t        this._additionsTail = null;\n\t        this._removalsHead = null;\n\t        this._removalsTail = null;\n\t    }\n\t    Object.defineProperty(DefaultKeyValueDiffer.prototype, \"isDirty\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () {\n\t            return this._additionsHead !== null || this._changesHead !== null ||\n\t                this._removalsHead !== null;\n\t        },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    /**\n\t     * @param {?} fn\n\t     * @return {?}\n\t     */\n\t    DefaultKeyValueDiffer.prototype.forEachItem = function (fn) {\n\t        var /** @type {?} */ record;\n\t        for (record = this._mapHead; record !== null; record = record._next) {\n\t            fn(record);\n\t        }\n\t    };\n\t    /**\n\t     * @param {?} fn\n\t     * @return {?}\n\t     */\n\t    DefaultKeyValueDiffer.prototype.forEachPreviousItem = function (fn) {\n\t        var /** @type {?} */ record;\n\t        for (record = this._previousMapHead; record !== null; record = record._nextPrevious) {\n\t            fn(record);\n\t        }\n\t    };\n\t    /**\n\t     * @param {?} fn\n\t     * @return {?}\n\t     */\n\t    DefaultKeyValueDiffer.prototype.forEachChangedItem = function (fn) {\n\t        var /** @type {?} */ record;\n\t        for (record = this._changesHead; record !== null; record = record._nextChanged) {\n\t            fn(record);\n\t        }\n\t    };\n\t    /**\n\t     * @param {?} fn\n\t     * @return {?}\n\t     */\n\t    DefaultKeyValueDiffer.prototype.forEachAddedItem = function (fn) {\n\t        var /** @type {?} */ record;\n\t        for (record = this._additionsHead; record !== null; record = record._nextAdded) {\n\t            fn(record);\n\t        }\n\t    };\n\t    /**\n\t     * @param {?} fn\n\t     * @return {?}\n\t     */\n\t    DefaultKeyValueDiffer.prototype.forEachRemovedItem = function (fn) {\n\t        var /** @type {?} */ record;\n\t        for (record = this._removalsHead; record !== null; record = record._nextRemoved) {\n\t            fn(record);\n\t        }\n\t    };\n\t    /**\n\t     * @param {?=} map\n\t     * @return {?}\n\t     */\n\t    DefaultKeyValueDiffer.prototype.diff = function (map) {\n\t        if (!map) {\n\t            map = new Map();\n\t        }\n\t        else if (!(map instanceof Map || isJsObject(map))) {\n\t            throw new Error(\"Error trying to diff '\" + stringify(map) + \"'. Only maps and objects are allowed\");\n\t        }\n\t        return this.check(map) ? this : null;\n\t    };\n\t    /**\n\t     * @return {?}\n\t     */\n\t    DefaultKeyValueDiffer.prototype.onDestroy = function () { };\n\t    /**\n\t     * Check the current state of the map vs the previous.\n\t     * The algorithm is optimised for when the keys do no change.\n\t     * @param {?} map\n\t     * @return {?}\n\t     */\n\t    DefaultKeyValueDiffer.prototype.check = function (map) {\n\t        var _this = this;\n\t        this._reset();\n\t        var /** @type {?} */ insertBefore = this._mapHead;\n\t        this._appendAfter = null;\n\t        this._forEach(map, function (value, key) {\n\t            if (insertBefore && insertBefore.key === key) {\n\t                _this._maybeAddToChanges(insertBefore, value);\n\t                _this._appendAfter = insertBefore;\n\t                insertBefore = insertBefore._next;\n\t            }\n\t            else {\n\t                var /** @type {?} */ record = _this._getOrCreateRecordForKey(key, value);\n\t                insertBefore = _this._insertBeforeOrAppend(insertBefore, record);\n\t            }\n\t        });\n\t        // Items remaining at the end of the list have been deleted\n\t        if (insertBefore) {\n\t            if (insertBefore._prev) {\n\t                insertBefore._prev._next = null;\n\t            }\n\t            this._removalsHead = insertBefore;\n\t            for (var /** @type {?} */ record = insertBefore; record !== null; record = record._nextRemoved) {\n\t                if (record === this._mapHead) {\n\t                    this._mapHead = null;\n\t                }\n\t                this._records.delete(record.key);\n\t                record._nextRemoved = record._next;\n\t                record.previousValue = record.currentValue;\n\t                record.currentValue = null;\n\t                record._prev = null;\n\t                record._next = null;\n\t            }\n\t        }\n\t        // Make sure tails have no next records from previous runs\n\t        if (this._changesTail)\n\t            this._changesTail._nextChanged = null;\n\t        if (this._additionsTail)\n\t            this._additionsTail._nextAdded = null;\n\t        return this.isDirty;\n\t    };\n\t    /**\n\t     * Inserts a record before `before` or append at the end of the list when `before` is null.\n\t     *\n\t     * Notes:\n\t     * - This method appends at `this._appendAfter`,\n\t     * - This method updates `this._appendAfter`,\n\t     * - The return value is the new value for the insertion pointer.\n\t     * @param {?} before\n\t     * @param {?} record\n\t     * @return {?}\n\t     */\n\t    DefaultKeyValueDiffer.prototype._insertBeforeOrAppend = function (before, record) {\n\t        if (before) {\n\t            var /** @type {?} */ prev = before._prev;\n\t            record._next = before;\n\t            record._prev = prev;\n\t            before._prev = record;\n\t            if (prev) {\n\t                prev._next = record;\n\t            }\n\t            if (before === this._mapHead) {\n\t                this._mapHead = record;\n\t            }\n\t            this._appendAfter = before;\n\t            return before;\n\t        }\n\t        if (this._appendAfter) {\n\t            this._appendAfter._next = record;\n\t            record._prev = this._appendAfter;\n\t        }\n\t        else {\n\t            this._mapHead = record;\n\t        }\n\t        this._appendAfter = record;\n\t        return null;\n\t    };\n\t    /**\n\t     * @param {?} key\n\t     * @param {?} value\n\t     * @return {?}\n\t     */\n\t    DefaultKeyValueDiffer.prototype._getOrCreateRecordForKey = function (key, value) {\n\t        if (this._records.has(key)) {\n\t            var /** @type {?} */ record_1 = ((this._records.get(key)));\n\t            this._maybeAddToChanges(record_1, value);\n\t            var /** @type {?} */ prev = record_1._prev;\n\t            var /** @type {?} */ next = record_1._next;\n\t            if (prev) {\n\t                prev._next = next;\n\t            }\n\t            if (next) {\n\t                next._prev = prev;\n\t            }\n\t            record_1._next = null;\n\t            record_1._prev = null;\n\t            return record_1;\n\t        }\n\t        var /** @type {?} */ record = new KeyValueChangeRecord_(key);\n\t        this._records.set(key, record);\n\t        record.currentValue = value;\n\t        this._addToAdditions(record);\n\t        return record;\n\t    };\n\t    /**\n\t     * \\@internal\n\t     * @return {?}\n\t     */\n\t    DefaultKeyValueDiffer.prototype._reset = function () {\n\t        if (this.isDirty) {\n\t            var /** @type {?} */ record = void 0;\n\t            // let `_previousMapHead` contain the state of the map before the changes\n\t            this._previousMapHead = this._mapHead;\n\t            for (record = this._previousMapHead; record !== null; record = record._next) {\n\t                record._nextPrevious = record._next;\n\t            }\n\t            // Update `record.previousValue` with the value of the item before the changes\n\t            // We need to update all changed items (that's those which have been added and changed)\n\t            for (record = this._changesHead; record !== null; record = record._nextChanged) {\n\t                record.previousValue = record.currentValue;\n\t            }\n\t            for (record = this._additionsHead; record != null; record = record._nextAdded) {\n\t                record.previousValue = record.currentValue;\n\t            }\n\t            this._changesHead = this._changesTail = null;\n\t            this._additionsHead = this._additionsTail = null;\n\t            this._removalsHead = null;\n\t        }\n\t    };\n\t    /**\n\t     * @param {?} record\n\t     * @param {?} newValue\n\t     * @return {?}\n\t     */\n\t    DefaultKeyValueDiffer.prototype._maybeAddToChanges = function (record, newValue) {\n\t        if (!looseIdentical(newValue, record.currentValue)) {\n\t            record.previousValue = record.currentValue;\n\t            record.currentValue = newValue;\n\t            this._addToChanges(record);\n\t        }\n\t    };\n\t    /**\n\t     * @param {?} record\n\t     * @return {?}\n\t     */\n\t    DefaultKeyValueDiffer.prototype._addToAdditions = function (record) {\n\t        if (this._additionsHead === null) {\n\t            this._additionsHead = this._additionsTail = record;\n\t        }\n\t        else {\n\t            ((this._additionsTail))._nextAdded = record;\n\t            this._additionsTail = record;\n\t        }\n\t    };\n\t    /**\n\t     * @param {?} record\n\t     * @return {?}\n\t     */\n\t    DefaultKeyValueDiffer.prototype._addToChanges = function (record) {\n\t        if (this._changesHead === null) {\n\t            this._changesHead = this._changesTail = record;\n\t        }\n\t        else {\n\t            ((this._changesTail))._nextChanged = record;\n\t            this._changesTail = record;\n\t        }\n\t    };\n\t    /**\n\t     * \\@internal\n\t     * @template K, V\n\t     * @param {?} obj\n\t     * @param {?} fn\n\t     * @return {?}\n\t     */\n\t    DefaultKeyValueDiffer.prototype._forEach = function (obj, fn) {\n\t        if (obj instanceof Map) {\n\t            obj.forEach(fn);\n\t        }\n\t        else {\n\t            Object.keys(obj).forEach(function (k) { return fn(obj[k], k); });\n\t        }\n\t    };\n\t    return DefaultKeyValueDiffer;\n\t}());\n\t/**\n\t * \\@stable\n\t */\n\tvar KeyValueChangeRecord_ = (function () {\n\t    /**\n\t     * @param {?} key\n\t     */\n\t    function KeyValueChangeRecord_(key) {\n\t        this.key = key;\n\t        this.previousValue = null;\n\t        this.currentValue = null;\n\t        /**\n\t         * \\@internal\n\t         */\n\t        this._nextPrevious = null;\n\t        /**\n\t         * \\@internal\n\t         */\n\t        this._next = null;\n\t        /**\n\t         * \\@internal\n\t         */\n\t        this._prev = null;\n\t        /**\n\t         * \\@internal\n\t         */\n\t        this._nextAdded = null;\n\t        /**\n\t         * \\@internal\n\t         */\n\t        this._nextRemoved = null;\n\t        /**\n\t         * \\@internal\n\t         */\n\t        this._nextChanged = null;\n\t    }\n\t    return KeyValueChangeRecord_;\n\t}());\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t/**\n\t * A repository of different iterable diffing strategies used by NgFor, NgClass, and others.\n\t * \\@stable\n\t */\n\tvar IterableDiffers = (function () {\n\t    /**\n\t     * @param {?} factories\n\t     */\n\t    function IterableDiffers(factories) {\n\t        this.factories = factories;\n\t    }\n\t    /**\n\t     * @param {?} factories\n\t     * @param {?=} parent\n\t     * @return {?}\n\t     */\n\t    IterableDiffers.create = function (factories, parent) {\n\t        if (parent != null) {\n\t            var /** @type {?} */ copied = parent.factories.slice();\n\t            factories = factories.concat(copied);\n\t            return new IterableDiffers(factories);\n\t        }\n\t        else {\n\t            return new IterableDiffers(factories);\n\t        }\n\t    };\n\t    /**\n\t     * Takes an array of {\\@link IterableDifferFactory} and returns a provider used to extend the\n\t     * inherited {\\@link IterableDiffers} instance with the provided factories and return a new\n\t     * {\\@link IterableDiffers} instance.\n\t     *\n\t     * The following example shows how to extend an existing list of factories,\n\t     * which will only be applied to the injector for this component and its children.\n\t     * This step is all that's required to make a new {\\@link IterableDiffer} available.\n\t     *\n\t     * ### Example\n\t     *\n\t     * ```\n\t     * \\@Component({\n\t     *   viewProviders: [\n\t     *     IterableDiffers.extend([new ImmutableListDiffer()])\n\t     *   ]\n\t     * })\n\t     * ```\n\t     * @param {?} factories\n\t     * @return {?}\n\t     */\n\t    IterableDiffers.extend = function (factories) {\n\t        return {\n\t            provide: IterableDiffers,\n\t            useFactory: function (parent) {\n\t                if (!parent) {\n\t                    // Typically would occur when calling IterableDiffers.extend inside of dependencies passed\n\t                    // to\n\t                    // bootstrap(), which would override default pipes instead of extending them.\n\t                    throw new Error('Cannot extend IterableDiffers without a parent injector');\n\t                }\n\t                return IterableDiffers.create(factories, parent);\n\t            },\n\t            // Dependency technically isn't optional, but we can provide a better error message this way.\n\t            deps: [[IterableDiffers, new SkipSelf(), new Optional()]]\n\t        };\n\t    };\n\t    /**\n\t     * @param {?} iterable\n\t     * @return {?}\n\t     */\n\t    IterableDiffers.prototype.find = function (iterable) {\n\t        var /** @type {?} */ factory = this.factories.find(function (f) { return f.supports(iterable); });\n\t        if (factory != null) {\n\t            return factory;\n\t        }\n\t        else {\n\t            throw new Error(\"Cannot find a differ supporting object '\" + iterable + \"' of type '\" + getTypeNameForDebugging(iterable) + \"'\");\n\t        }\n\t    };\n\t    return IterableDiffers;\n\t}());\n\t/**\n\t * @param {?} type\n\t * @return {?}\n\t */\n\tfunction getTypeNameForDebugging(type) {\n\t    return type['name'] || typeof type;\n\t}\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t/**\n\t * A repository of different Map diffing strategies used by NgClass, NgStyle, and others.\n\t * \\@stable\n\t */\n\tvar KeyValueDiffers = (function () {\n\t    /**\n\t     * @param {?} factories\n\t     */\n\t    function KeyValueDiffers(factories) {\n\t        this.factories = factories;\n\t    }\n\t    /**\n\t     * @template S\n\t     * @param {?} factories\n\t     * @param {?=} parent\n\t     * @return {?}\n\t     */\n\t    KeyValueDiffers.create = function (factories, parent) {\n\t        if (parent) {\n\t            var /** @type {?} */ copied = parent.factories.slice();\n\t            factories = factories.concat(copied);\n\t        }\n\t        return new KeyValueDiffers(factories);\n\t    };\n\t    /**\n\t     * Takes an array of {\\@link KeyValueDifferFactory} and returns a provider used to extend the\n\t     * inherited {\\@link KeyValueDiffers} instance with the provided factories and return a new\n\t     * {\\@link KeyValueDiffers} instance.\n\t     *\n\t     * The following example shows how to extend an existing list of factories,\n\t     * which will only be applied to the injector for this component and its children.\n\t     * This step is all that's required to make a new {\\@link KeyValueDiffer} available.\n\t     *\n\t     * ### Example\n\t     *\n\t     * ```\n\t     * \\@Component({\n\t     *   viewProviders: [\n\t     *     KeyValueDiffers.extend([new ImmutableMapDiffer()])\n\t     *   ]\n\t     * })\n\t     * ```\n\t     * @template S\n\t     * @param {?} factories\n\t     * @return {?}\n\t     */\n\t    KeyValueDiffers.extend = function (factories) {\n\t        return {\n\t            provide: KeyValueDiffers,\n\t            useFactory: function (parent) {\n\t                if (!parent) {\n\t                    // Typically would occur when calling KeyValueDiffers.extend inside of dependencies passed\n\t                    // to bootstrap(), which would override default pipes instead of extending them.\n\t                    throw new Error('Cannot extend KeyValueDiffers without a parent injector');\n\t                }\n\t                return KeyValueDiffers.create(factories, parent);\n\t            },\n\t            // Dependency technically isn't optional, but we can provide a better error message this way.\n\t            deps: [[KeyValueDiffers, new SkipSelf(), new Optional()]]\n\t        };\n\t    };\n\t    /**\n\t     * @param {?} kv\n\t     * @return {?}\n\t     */\n\t    KeyValueDiffers.prototype.find = function (kv) {\n\t        var /** @type {?} */ factory = this.factories.find(function (f) { return f.supports(kv); });\n\t        if (factory) {\n\t            return factory;\n\t        }\n\t        throw new Error(\"Cannot find a differ supporting object '\" + kv + \"'\");\n\t    };\n\t    return KeyValueDiffers;\n\t}());\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t/**\n\t * Structural diffing for `Object`s and `Map`s.\n\t */\n\tvar keyValDiff = [new DefaultKeyValueDifferFactory()];\n\t/**\n\t * Structural diffing for `Iterable` types such as `Array`s.\n\t */\n\tvar iterableDiff = [new DefaultIterableDifferFactory()];\n\tvar defaultIterableDiffers = new IterableDiffers(iterableDiff);\n\tvar defaultKeyValueDiffers = new KeyValueDiffers(keyValDiff);\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t/**\n\t * @module\n\t * @description\n\t * Change detection enables data binding in Angular.\n\t */\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t/**\n\t * @return {?}\n\t */\n\tfunction _reflector() {\n\t    return reflector;\n\t}\n\tvar _CORE_PLATFORM_PROVIDERS = [\n\t    // Set a default platform name for platforms that don't set it explicitly.\n\t    { provide: PLATFORM_ID, useValue: 'unknown' },\n\t    PlatformRef_,\n\t    { provide: PlatformRef, useExisting: PlatformRef_ },\n\t    { provide: Reflector, useFactory: _reflector, deps: [] },\n\t    TestabilityRegistry,\n\t    Console,\n\t];\n\t/**\n\t * This platform has to be included in any other platform\n\t *\n\t * \\@experimental\n\t */\n\tvar platformCore = createPlatformFactory(null, 'core', _CORE_PLATFORM_PROVIDERS);\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t/**\n\t * \\@experimental i18n support is experimental.\n\t */\n\tvar LOCALE_ID = new InjectionToken('LocaleId');\n\t/**\n\t * \\@experimental i18n support is experimental.\n\t */\n\tvar TRANSLATIONS = new InjectionToken('Translations');\n\t/**\n\t * \\@experimental i18n support is experimental.\n\t */\n\tvar TRANSLATIONS_FORMAT = new InjectionToken('TranslationsFormat');\n\tvar MissingTranslationStrategy = {};\n\tMissingTranslationStrategy.Error = 0;\n\tMissingTranslationStrategy.Warning = 1;\n\tMissingTranslationStrategy.Ignore = 2;\n\tMissingTranslationStrategy[MissingTranslationStrategy.Error] = \"Error\";\n\tMissingTranslationStrategy[MissingTranslationStrategy.Warning] = \"Warning\";\n\tMissingTranslationStrategy[MissingTranslationStrategy.Ignore] = \"Ignore\";\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t/**\n\t * @return {?}\n\t */\n\tfunction _iterableDiffersFactory() {\n\t    return defaultIterableDiffers;\n\t}\n\t/**\n\t * @return {?}\n\t */\n\tfunction _keyValueDiffersFactory() {\n\t    return defaultKeyValueDiffers;\n\t}\n\t/**\n\t * @param {?=} locale\n\t * @return {?}\n\t */\n\tfunction _localeFactory(locale) {\n\t    return locale || 'en-US';\n\t}\n\t/**\n\t * This module includes the providers of \\@angular/core that are needed\n\t * to bootstrap components via `ApplicationRef`.\n\t *\n\t * \\@experimental\n\t */\n\tvar ApplicationModule = (function () {\n\t    /**\n\t     * @param {?} appRef\n\t     */\n\t    function ApplicationModule(appRef) {\n\t    }\n\t    return ApplicationModule;\n\t}());\n\tApplicationModule.decorators = [\n\t    { type: NgModule, args: [{\n\t                providers: [\n\t                    ApplicationRef_,\n\t                    { provide: ApplicationRef, useExisting: ApplicationRef_ },\n\t                    ApplicationInitStatus,\n\t                    Compiler,\n\t                    APP_ID_RANDOM_PROVIDER,\n\t                    { provide: IterableDiffers, useFactory: _iterableDiffersFactory },\n\t                    { provide: KeyValueDiffers, useFactory: _keyValueDiffersFactory },\n\t                    {\n\t                        provide: LOCALE_ID,\n\t                        useFactory: _localeFactory,\n\t                        deps: [[new Inject(LOCALE_ID), new Optional(), new SkipSelf()]]\n\t                    },\n\t                ]\n\t            },] },\n\t];\n\t/**\n\t * @nocollapse\n\t */\n\tApplicationModule.ctorParameters = function () { return [\n\t    { type: ApplicationRef, },\n\t]; };\n\tvar SecurityContext = {};\n\tSecurityContext.NONE = 0;\n\tSecurityContext.HTML = 1;\n\tSecurityContext.STYLE = 2;\n\tSecurityContext.SCRIPT = 3;\n\tSecurityContext.URL = 4;\n\tSecurityContext.RESOURCE_URL = 5;\n\tSecurityContext[SecurityContext.NONE] = \"NONE\";\n\tSecurityContext[SecurityContext.HTML] = \"HTML\";\n\tSecurityContext[SecurityContext.STYLE] = \"STYLE\";\n\tSecurityContext[SecurityContext.SCRIPT] = \"SCRIPT\";\n\tSecurityContext[SecurityContext.URL] = \"URL\";\n\tSecurityContext[SecurityContext.RESOURCE_URL] = \"RESOURCE_URL\";\n\t/**\n\t * Sanitizer is used by the views to sanitize potentially dangerous values.\n\t *\n\t * \\@stable\n\t * @abstract\n\t */\n\tvar Sanitizer = (function () {\n\t    function Sanitizer() {\n\t    }\n\t    /**\n\t     * @abstract\n\t     * @param {?} context\n\t     * @param {?} value\n\t     * @return {?}\n\t     */\n\t    Sanitizer.prototype.sanitize = function (context, value) { };\n\t    return Sanitizer;\n\t}());\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t/**\n\t * Node instance data.\n\t *\n\t * We have a separate type per NodeType to save memory\n\t * (TextData | ElementData | ProviderData | PureExpressionData | QueryList<any>)\n\t *\n\t * To keep our code monomorphic,\n\t * we prohibit using `NodeData` directly but enforce the use of accessors (`asElementData`, ...).\n\t * This way, no usage site can get a `NodeData` from view.nodes and then use it for different\n\t * purposes.\n\t */\n\t/**\n\t * Accessor for view.nodes, enforcing that every usage site stays monomorphic.\n\t * @param {?} view\n\t * @param {?} index\n\t * @return {?}\n\t */\n\tfunction asTextData(view, index) {\n\t    return (view.nodes[index]);\n\t}\n\t/**\n\t * Accessor for view.nodes, enforcing that every usage site stays monomorphic.\n\t * @param {?} view\n\t * @param {?} index\n\t * @return {?}\n\t */\n\tfunction asElementData(view, index) {\n\t    return (view.nodes[index]);\n\t}\n\t/**\n\t * Accessor for view.nodes, enforcing that every usage site stays monomorphic.\n\t * @param {?} view\n\t * @param {?} index\n\t * @return {?}\n\t */\n\tfunction asProviderData(view, index) {\n\t    return (view.nodes[index]);\n\t}\n\t/**\n\t * Accessor for view.nodes, enforcing that every usage site stays monomorphic.\n\t * @param {?} view\n\t * @param {?} index\n\t * @return {?}\n\t */\n\tfunction asPureExpressionData(view, index) {\n\t    return (view.nodes[index]);\n\t}\n\t/**\n\t * Accessor for view.nodes, enforcing that every usage site stays monomorphic.\n\t * @param {?} view\n\t * @param {?} index\n\t * @return {?}\n\t */\n\tfunction asQueryList(view, index) {\n\t    return (view.nodes[index]);\n\t}\n\t/**\n\t * @abstract\n\t */\n\tvar DebugContext = (function () {\n\t    function DebugContext() {\n\t    }\n\t    /**\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    DebugContext.prototype.view = function () { };\n\t    /**\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    DebugContext.prototype.nodeIndex = function () { };\n\t    /**\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    DebugContext.prototype.injector = function () { };\n\t    /**\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    DebugContext.prototype.component = function () { };\n\t    /**\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    DebugContext.prototype.providerTokens = function () { };\n\t    /**\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    DebugContext.prototype.references = function () { };\n\t    /**\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    DebugContext.prototype.context = function () { };\n\t    /**\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    DebugContext.prototype.componentRenderElement = function () { };\n\t    /**\n\t     * @abstract\n\t     * @return {?}\n\t     */\n\t    DebugContext.prototype.renderNode = function () { };\n\t    /**\n\t     * @abstract\n\t     * @param {?} console\n\t     * @param {...?} values\n\t     * @return {?}\n\t     */\n\t    DebugContext.prototype.logError = function (console) {\n\t        var values = [];\n\t        for (var _i = 1; _i < arguments.length; _i++) {\n\t            values[_i - 1] = arguments[_i];\n\t        }\n\t    };\n\t    return DebugContext;\n\t}());\n\t/**\n\t * This object is used to prevent cycles in the source files and to have a place where\n\t * debug mode can hook it. It is lazily filled when `isDevMode` is known.\n\t */\n\tvar Services = {\n\t    setCurrentNode: undefined,\n\t    createRootView: undefined,\n\t    createEmbeddedView: undefined,\n\t    createComponentView: undefined,\n\t    createNgModuleRef: undefined,\n\t    overrideProvider: undefined,\n\t    clearProviderOverrides: undefined,\n\t    checkAndUpdateView: undefined,\n\t    checkNoChangesView: undefined,\n\t    destroyView: undefined,\n\t    resolveDep: undefined,\n\t    createDebugContext: undefined,\n\t    handleEvent: undefined,\n\t    updateDirectives: undefined,\n\t    updateRenderer: undefined,\n\t    dirtyParentQueries: undefined,\n\t};\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t/**\n\t * @param {?} context\n\t * @param {?} oldValue\n\t * @param {?} currValue\n\t * @param {?} isFirstCheck\n\t * @return {?}\n\t */\n\tfunction expressionChangedAfterItHasBeenCheckedError(context, oldValue, currValue, isFirstCheck) {\n\t    var /** @type {?} */ msg = \"ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '\" + oldValue + \"'. Current value: '\" + currValue + \"'.\";\n\t    if (isFirstCheck) {\n\t        msg +=\n\t            \" It seems like the view has been created after its parent and its children have been dirty checked.\" +\n\t                \" Has it been created in a change detection hook ?\";\n\t    }\n\t    return viewDebugError(msg, context);\n\t}\n\t/**\n\t * @param {?} err\n\t * @param {?} context\n\t * @return {?}\n\t */\n\tfunction viewWrappedDebugError(err, context) {\n\t    if (!(err instanceof Error)) {\n\t        // errors that are not Error instances don't have a stack,\n\t        // so it is ok to wrap them into a new Error object...\n\t        err = new Error(err.toString());\n\t    }\n\t    _addDebugContext(err, context);\n\t    return err;\n\t}\n\t/**\n\t * @param {?} msg\n\t * @param {?} context\n\t * @return {?}\n\t */\n\tfunction viewDebugError(msg, context) {\n\t    var /** @type {?} */ err = new Error(msg);\n\t    _addDebugContext(err, context);\n\t    return err;\n\t}\n\t/**\n\t * @param {?} err\n\t * @param {?} context\n\t * @return {?}\n\t */\n\tfunction _addDebugContext(err, context) {\n\t    ((err))[ERROR_DEBUG_CONTEXT] = context;\n\t    ((err))[ERROR_LOGGER] = context.logError.bind(context);\n\t}\n\t/**\n\t * @param {?} err\n\t * @return {?}\n\t */\n\tfunction isViewDebugError(err) {\n\t    return !!getDebugContext(err);\n\t}\n\t/**\n\t * @param {?} action\n\t * @return {?}\n\t */\n\tfunction viewDestroyedError(action) {\n\t    return new Error(\"ViewDestroyedError: Attempt to use a destroyed view: \" + action);\n\t}\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\tvar NOOP = function () { };\n\tvar _tokenKeyCache = new Map();\n\t/**\n\t * @param {?} token\n\t * @return {?}\n\t */\n\tfunction tokenKey(token) {\n\t    var /** @type {?} */ key = _tokenKeyCache.get(token);\n\t    if (!key) {\n\t        key = stringify(token) + '_' + _tokenKeyCache.size;\n\t        _tokenKeyCache.set(token, key);\n\t    }\n\t    return key;\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} nodeIdx\n\t * @param {?} bindingIdx\n\t * @param {?} value\n\t * @return {?}\n\t */\n\tfunction unwrapValue(view, nodeIdx, bindingIdx, value) {\n\t    if (value instanceof WrappedValue) {\n\t        value = value.wrapped;\n\t        var /** @type {?} */ globalBindingIdx = view.def.nodes[nodeIdx].bindingIndex + bindingIdx;\n\t        var /** @type {?} */ oldValue = view.oldValues[globalBindingIdx];\n\t        if (oldValue instanceof WrappedValue) {\n\t            oldValue = oldValue.wrapped;\n\t        }\n\t        view.oldValues[globalBindingIdx] = new WrappedValue(oldValue);\n\t    }\n\t    return value;\n\t}\n\tvar UNDEFINED_RENDERER_TYPE_ID = '$$undefined';\n\tvar EMPTY_RENDERER_TYPE_ID = '$$empty';\n\t/**\n\t * @param {?} values\n\t * @return {?}\n\t */\n\tfunction createRendererType2(values) {\n\t    return {\n\t        id: UNDEFINED_RENDERER_TYPE_ID,\n\t        styles: values.styles,\n\t        encapsulation: values.encapsulation,\n\t        data: values.data\n\t    };\n\t}\n\tvar _renderCompCount = 0;\n\t/**\n\t * @param {?=} type\n\t * @return {?}\n\t */\n\tfunction resolveRendererType2(type) {\n\t    if (type && type.id === UNDEFINED_RENDERER_TYPE_ID) {\n\t        // first time we see this RendererType2. Initialize it...\n\t        var /** @type {?} */ isFilled = ((type.encapsulation != null && type.encapsulation !== ViewEncapsulation.None) ||\n\t            type.styles.length || Object.keys(type.data).length);\n\t        if (isFilled) {\n\t            type.id = \"c\" + _renderCompCount++;\n\t        }\n\t        else {\n\t            type.id = EMPTY_RENDERER_TYPE_ID;\n\t        }\n\t    }\n\t    if (type && type.id === EMPTY_RENDERER_TYPE_ID) {\n\t        type = null;\n\t    }\n\t    return type || null;\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} def\n\t * @param {?} bindingIdx\n\t * @param {?} value\n\t * @return {?}\n\t */\n\tfunction checkBinding(view, def, bindingIdx, value) {\n\t    var /** @type {?} */ oldValues = view.oldValues;\n\t    if ((view.state & 2 /* FirstCheck */) ||\n\t        !looseIdentical(oldValues[def.bindingIndex + bindingIdx], value)) {\n\t        return true;\n\t    }\n\t    return false;\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} def\n\t * @param {?} bindingIdx\n\t * @param {?} value\n\t * @return {?}\n\t */\n\tfunction checkAndUpdateBinding(view, def, bindingIdx, value) {\n\t    if (checkBinding(view, def, bindingIdx, value)) {\n\t        view.oldValues[def.bindingIndex + bindingIdx] = value;\n\t        return true;\n\t    }\n\t    return false;\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} def\n\t * @param {?} bindingIdx\n\t * @param {?} value\n\t * @return {?}\n\t */\n\tfunction checkBindingNoChanges(view, def, bindingIdx, value) {\n\t    var /** @type {?} */ oldValue = view.oldValues[def.bindingIndex + bindingIdx];\n\t    if ((view.state & 1 /* BeforeFirstCheck */) || !devModeEqual(oldValue, value)) {\n\t        throw expressionChangedAfterItHasBeenCheckedError(Services.createDebugContext(view, def.nodeIndex), oldValue, value, (view.state & 1 /* BeforeFirstCheck */) !== 0);\n\t    }\n\t}\n\t/**\n\t * @param {?} view\n\t * @return {?}\n\t */\n\tfunction markParentViewsForCheck(view) {\n\t    var /** @type {?} */ currView = view;\n\t    while (currView) {\n\t        if (currView.def.flags & 2 /* OnPush */) {\n\t            currView.state |= 8 /* ChecksEnabled */;\n\t        }\n\t        currView = currView.viewContainerParent || currView.parent;\n\t    }\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} endView\n\t * @return {?}\n\t */\n\tfunction markParentViewsForCheckProjectedViews(view, endView) {\n\t    var /** @type {?} */ currView = view;\n\t    while (currView && currView !== endView) {\n\t        currView.state |= 64 /* CheckProjectedViews */;\n\t        currView = currView.viewContainerParent || currView.parent;\n\t    }\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} nodeIndex\n\t * @param {?} eventName\n\t * @param {?} event\n\t * @return {?}\n\t */\n\tfunction dispatchEvent(view, nodeIndex, eventName, event) {\n\t    var /** @type {?} */ nodeDef = view.def.nodes[nodeIndex];\n\t    var /** @type {?} */ startView = nodeDef.flags & 33554432 /* ComponentView */ ? asElementData(view, nodeIndex).componentView : view;\n\t    markParentViewsForCheck(startView);\n\t    return Services.handleEvent(view, nodeIndex, eventName, event);\n\t}\n\t/**\n\t * @param {?} view\n\t * @return {?}\n\t */\n\tfunction declaredViewContainer(view) {\n\t    if (view.parent) {\n\t        var /** @type {?} */ parentView = view.parent;\n\t        return asElementData(parentView, /** @type {?} */ ((view.parentNodeDef)).nodeIndex);\n\t    }\n\t    return null;\n\t}\n\t/**\n\t * for component views, this is the host element.\n\t * for embedded views, this is the index of the parent node\n\t * that contains the view container.\n\t * @param {?} view\n\t * @return {?}\n\t */\n\tfunction viewParentEl(view) {\n\t    var /** @type {?} */ parentView = view.parent;\n\t    if (parentView) {\n\t        return ((view.parentNodeDef)).parent;\n\t    }\n\t    else {\n\t        return null;\n\t    }\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} def\n\t * @return {?}\n\t */\n\tfunction renderNode(view, def) {\n\t    switch (def.flags & 201347067 /* Types */) {\n\t        case 1 /* TypeElement */:\n\t            return asElementData(view, def.nodeIndex).renderElement;\n\t        case 2 /* TypeText */:\n\t            return asTextData(view, def.nodeIndex).renderText;\n\t    }\n\t}\n\t/**\n\t * @param {?} target\n\t * @param {?} name\n\t * @return {?}\n\t */\n\tfunction elementEventFullName(target, name) {\n\t    return target ? target + \":\" + name : name;\n\t}\n\t/**\n\t * @param {?} view\n\t * @return {?}\n\t */\n\tfunction isComponentView(view) {\n\t    return !!view.parent && !!(((view.parentNodeDef)).flags & 32768 /* Component */);\n\t}\n\t/**\n\t * @param {?} view\n\t * @return {?}\n\t */\n\tfunction isEmbeddedView(view) {\n\t    return !!view.parent && !(((view.parentNodeDef)).flags & 32768 /* Component */);\n\t}\n\t/**\n\t * @param {?} queryId\n\t * @return {?}\n\t */\n\tfunction filterQueryId(queryId) {\n\t    return 1 << (queryId % 32);\n\t}\n\t/**\n\t * @param {?} matchedQueriesDsl\n\t * @return {?}\n\t */\n\tfunction splitMatchedQueriesDsl(matchedQueriesDsl) {\n\t    var /** @type {?} */ matchedQueries = {};\n\t    var /** @type {?} */ matchedQueryIds = 0;\n\t    var /** @type {?} */ references = {};\n\t    if (matchedQueriesDsl) {\n\t        matchedQueriesDsl.forEach(function (_a) {\n\t            var queryId = _a[0], valueType = _a[1];\n\t            if (typeof queryId === 'number') {\n\t                matchedQueries[queryId] = valueType;\n\t                matchedQueryIds |= filterQueryId(queryId);\n\t            }\n\t            else {\n\t                references[queryId] = valueType;\n\t            }\n\t        });\n\t    }\n\t    return { matchedQueries: matchedQueries, references: references, matchedQueryIds: matchedQueryIds };\n\t}\n\t/**\n\t * @param {?} deps\n\t * @return {?}\n\t */\n\tfunction splitDepsDsl(deps) {\n\t    return deps.map(function (value) {\n\t        var /** @type {?} */ token;\n\t        var /** @type {?} */ flags;\n\t        if (Array.isArray(value)) {\n\t            flags = value[0], token = value[1];\n\t        }\n\t        else {\n\t            flags = 0 /* None */;\n\t            token = value;\n\t        }\n\t        return { flags: flags, token: token, tokenKey: tokenKey(token) };\n\t    });\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} renderHost\n\t * @param {?} def\n\t * @return {?}\n\t */\n\tfunction getParentRenderElement(view, renderHost, def) {\n\t    var /** @type {?} */ renderParent = def.renderParent;\n\t    if (renderParent) {\n\t        if ((renderParent.flags & 1 /* TypeElement */) === 0 ||\n\t            (renderParent.flags & 33554432 /* ComponentView */) === 0 ||\n\t            (((renderParent.element)).componentRendererType && ((((renderParent.element)).componentRendererType)).encapsulation ===\n\t                ViewEncapsulation.Native)) {\n\t            // only children of non components, or children of components with native encapsulation should\n\t            // be attached.\n\t            return asElementData(view, /** @type {?} */ ((def.renderParent)).nodeIndex).renderElement;\n\t        }\n\t    }\n\t    else {\n\t        return renderHost;\n\t    }\n\t}\n\tvar DEFINITION_CACHE = new WeakMap();\n\t/**\n\t * @template D\n\t * @param {?} factory\n\t * @return {?}\n\t */\n\tfunction resolveDefinition(factory) {\n\t    var /** @type {?} */ value = (((DEFINITION_CACHE.get(factory))));\n\t    if (!value) {\n\t        value = factory(function () { return NOOP; });\n\t        value.factory = factory;\n\t        DEFINITION_CACHE.set(factory, value);\n\t    }\n\t    return value;\n\t}\n\t/**\n\t * @param {?} view\n\t * @return {?}\n\t */\n\tfunction rootRenderNodes(view) {\n\t    var /** @type {?} */ renderNodes = [];\n\t    visitRootRenderNodes(view, 0 /* Collect */, undefined, undefined, renderNodes);\n\t    return renderNodes;\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} action\n\t * @param {?} parentNode\n\t * @param {?} nextSibling\n\t * @param {?=} target\n\t * @return {?}\n\t */\n\tfunction visitRootRenderNodes(view, action, parentNode, nextSibling, target) {\n\t    // We need to re-compute the parent node in case the nodes have been moved around manually\n\t    if (action === 3 /* RemoveChild */) {\n\t        parentNode = view.renderer.parentNode(renderNode(view, /** @type {?} */ ((view.def.lastRenderRootNode))));\n\t    }\n\t    visitSiblingRenderNodes(view, action, 0, view.def.nodes.length - 1, parentNode, nextSibling, target);\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} action\n\t * @param {?} startIndex\n\t * @param {?} endIndex\n\t * @param {?} parentNode\n\t * @param {?} nextSibling\n\t * @param {?=} target\n\t * @return {?}\n\t */\n\tfunction visitSiblingRenderNodes(view, action, startIndex, endIndex, parentNode, nextSibling, target) {\n\t    for (var /** @type {?} */ i = startIndex; i <= endIndex; i++) {\n\t        var /** @type {?} */ nodeDef = view.def.nodes[i];\n\t        if (nodeDef.flags & (1 /* TypeElement */ | 2 /* TypeText */ | 8 /* TypeNgContent */)) {\n\t            visitRenderNode(view, nodeDef, action, parentNode, nextSibling, target);\n\t        }\n\t        // jump to next sibling\n\t        i += nodeDef.childCount;\n\t    }\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} ngContentIndex\n\t * @param {?} action\n\t * @param {?} parentNode\n\t * @param {?} nextSibling\n\t * @param {?=} target\n\t * @return {?}\n\t */\n\tfunction visitProjectedRenderNodes(view, ngContentIndex, action, parentNode, nextSibling, target) {\n\t    var /** @type {?} */ compView = view;\n\t    while (compView && !isComponentView(compView)) {\n\t        compView = compView.parent;\n\t    }\n\t    var /** @type {?} */ hostView = ((compView)).parent;\n\t    var /** @type {?} */ hostElDef = viewParentEl(/** @type {?} */ ((compView)));\n\t    var /** @type {?} */ startIndex = ((hostElDef)).nodeIndex + 1;\n\t    var /** @type {?} */ endIndex = ((hostElDef)).nodeIndex + ((hostElDef)).childCount;\n\t    for (var /** @type {?} */ i = startIndex; i <= endIndex; i++) {\n\t        var /** @type {?} */ nodeDef = ((hostView)).def.nodes[i];\n\t        if (nodeDef.ngContentIndex === ngContentIndex) {\n\t            visitRenderNode(/** @type {?} */ ((hostView)), nodeDef, action, parentNode, nextSibling, target);\n\t        }\n\t        // jump to next sibling\n\t        i += nodeDef.childCount;\n\t    }\n\t    if (!((hostView)).parent) {\n\t        // a root view\n\t        var /** @type {?} */ projectedNodes = view.root.projectableNodes[ngContentIndex];\n\t        if (projectedNodes) {\n\t            for (var /** @type {?} */ i = 0; i < projectedNodes.length; i++) {\n\t                execRenderNodeAction(view, projectedNodes[i], action, parentNode, nextSibling, target);\n\t            }\n\t        }\n\t    }\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} nodeDef\n\t * @param {?} action\n\t * @param {?} parentNode\n\t * @param {?} nextSibling\n\t * @param {?=} target\n\t * @return {?}\n\t */\n\tfunction visitRenderNode(view, nodeDef, action, parentNode, nextSibling, target) {\n\t    if (nodeDef.flags & 8 /* TypeNgContent */) {\n\t        visitProjectedRenderNodes(view, /** @type {?} */ ((nodeDef.ngContent)).index, action, parentNode, nextSibling, target);\n\t    }\n\t    else {\n\t        var /** @type {?} */ rn = renderNode(view, nodeDef);\n\t        if (action === 3 /* RemoveChild */ && (nodeDef.flags & 33554432 /* ComponentView */) &&\n\t            (nodeDef.bindingFlags & 48 /* CatSyntheticProperty */)) {\n\t            // Note: we might need to do both actions.\n\t            if (nodeDef.bindingFlags & (16 /* SyntheticProperty */)) {\n\t                execRenderNodeAction(view, rn, action, parentNode, nextSibling, target);\n\t            }\n\t            if (nodeDef.bindingFlags & (32 /* SyntheticHostProperty */)) {\n\t                var /** @type {?} */ compView = asElementData(view, nodeDef.nodeIndex).componentView;\n\t                execRenderNodeAction(compView, rn, action, parentNode, nextSibling, target);\n\t            }\n\t        }\n\t        else {\n\t            execRenderNodeAction(view, rn, action, parentNode, nextSibling, target);\n\t        }\n\t        if (nodeDef.flags & 16777216 /* EmbeddedViews */) {\n\t            var /** @type {?} */ embeddedViews = ((asElementData(view, nodeDef.nodeIndex).viewContainer))._embeddedViews;\n\t            for (var /** @type {?} */ k = 0; k < embeddedViews.length; k++) {\n\t                visitRootRenderNodes(embeddedViews[k], action, parentNode, nextSibling, target);\n\t            }\n\t        }\n\t        if (nodeDef.flags & 1 /* TypeElement */ && !((nodeDef.element)).name) {\n\t            visitSiblingRenderNodes(view, action, nodeDef.nodeIndex + 1, nodeDef.nodeIndex + nodeDef.childCount, parentNode, nextSibling, target);\n\t        }\n\t    }\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} renderNode\n\t * @param {?} action\n\t * @param {?} parentNode\n\t * @param {?} nextSibling\n\t * @param {?=} target\n\t * @return {?}\n\t */\n\tfunction execRenderNodeAction(view, renderNode, action, parentNode, nextSibling, target) {\n\t    var /** @type {?} */ renderer = view.renderer;\n\t    switch (action) {\n\t        case 1 /* AppendChild */:\n\t            renderer.appendChild(parentNode, renderNode);\n\t            break;\n\t        case 2 /* InsertBefore */:\n\t            renderer.insertBefore(parentNode, renderNode, nextSibling);\n\t            break;\n\t        case 3 /* RemoveChild */:\n\t            renderer.removeChild(parentNode, renderNode);\n\t            break;\n\t        case 0 /* Collect */:\n\t            ((target)).push(renderNode);\n\t            break;\n\t    }\n\t}\n\tvar NS_PREFIX_RE = /^:([^:]+):(.+)$/;\n\t/**\n\t * @param {?} name\n\t * @return {?}\n\t */\n\tfunction splitNamespace(name) {\n\t    if (name[0] === ':') {\n\t        var /** @type {?} */ match = ((name.match(NS_PREFIX_RE)));\n\t        return [match[1], match[2]];\n\t    }\n\t    return ['', name];\n\t}\n\t/**\n\t * @param {?} bindings\n\t * @return {?}\n\t */\n\tfunction calcBindingFlags(bindings) {\n\t    var /** @type {?} */ flags = 0;\n\t    for (var /** @type {?} */ i = 0; i < bindings.length; i++) {\n\t        flags |= bindings[i].flags;\n\t    }\n\t    return flags;\n\t}\n\t/**\n\t * @param {?} valueCount\n\t * @param {?} constAndInterp\n\t * @return {?}\n\t */\n\tfunction interpolate(valueCount, constAndInterp) {\n\t    var /** @type {?} */ result = '';\n\t    for (var /** @type {?} */ i = 0; i < valueCount * 2; i = i + 2) {\n\t        result = result + constAndInterp[i] + _toStringWithNull(constAndInterp[i + 1]);\n\t    }\n\t    return result + constAndInterp[valueCount * 2];\n\t}\n\t/**\n\t * @param {?} valueCount\n\t * @param {?} c0\n\t * @param {?} a1\n\t * @param {?} c1\n\t * @param {?=} a2\n\t * @param {?=} c2\n\t * @param {?=} a3\n\t * @param {?=} c3\n\t * @param {?=} a4\n\t * @param {?=} c4\n\t * @param {?=} a5\n\t * @param {?=} c5\n\t * @param {?=} a6\n\t * @param {?=} c6\n\t * @param {?=} a7\n\t * @param {?=} c7\n\t * @param {?=} a8\n\t * @param {?=} c8\n\t * @param {?=} a9\n\t * @param {?=} c9\n\t * @return {?}\n\t */\n\tfunction inlineInterpolate(valueCount, c0, a1, c1, a2, c2, a3, c3, a4, c4, a5, c5, a6, c6, a7, c7, a8, c8, a9, c9) {\n\t    switch (valueCount) {\n\t        case 1:\n\t            return c0 + _toStringWithNull(a1) + c1;\n\t        case 2:\n\t            return c0 + _toStringWithNull(a1) + c1 + _toStringWithNull(a2) + c2;\n\t        case 3:\n\t            return c0 + _toStringWithNull(a1) + c1 + _toStringWithNull(a2) + c2 + _toStringWithNull(a3) +\n\t                c3;\n\t        case 4:\n\t            return c0 + _toStringWithNull(a1) + c1 + _toStringWithNull(a2) + c2 + _toStringWithNull(a3) +\n\t                c3 + _toStringWithNull(a4) + c4;\n\t        case 5:\n\t            return c0 + _toStringWithNull(a1) + c1 + _toStringWithNull(a2) + c2 + _toStringWithNull(a3) +\n\t                c3 + _toStringWithNull(a4) + c4 + _toStringWithNull(a5) + c5;\n\t        case 6:\n\t            return c0 + _toStringWithNull(a1) + c1 + _toStringWithNull(a2) + c2 + _toStringWithNull(a3) +\n\t                c3 + _toStringWithNull(a4) + c4 + _toStringWithNull(a5) + c5 + _toStringWithNull(a6) + c6;\n\t        case 7:\n\t            return c0 + _toStringWithNull(a1) + c1 + _toStringWithNull(a2) + c2 + _toStringWithNull(a3) +\n\t                c3 + _toStringWithNull(a4) + c4 + _toStringWithNull(a5) + c5 + _toStringWithNull(a6) +\n\t                c6 + _toStringWithNull(a7) + c7;\n\t        case 8:\n\t            return c0 + _toStringWithNull(a1) + c1 + _toStringWithNull(a2) + c2 + _toStringWithNull(a3) +\n\t                c3 + _toStringWithNull(a4) + c4 + _toStringWithNull(a5) + c5 + _toStringWithNull(a6) +\n\t                c6 + _toStringWithNull(a7) + c7 + _toStringWithNull(a8) + c8;\n\t        case 9:\n\t            return c0 + _toStringWithNull(a1) + c1 + _toStringWithNull(a2) + c2 + _toStringWithNull(a3) +\n\t                c3 + _toStringWithNull(a4) + c4 + _toStringWithNull(a5) + c5 + _toStringWithNull(a6) +\n\t                c6 + _toStringWithNull(a7) + c7 + _toStringWithNull(a8) + c8 + _toStringWithNull(a9) + c9;\n\t        default:\n\t            throw new Error(\"Does not support more than 9 expressions\");\n\t    }\n\t}\n\t/**\n\t * @param {?} v\n\t * @return {?}\n\t */\n\tfunction _toStringWithNull(v) {\n\t    return v != null ? v.toString() : '';\n\t}\n\tvar EMPTY_ARRAY = [];\n\tvar EMPTY_MAP = {};\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t/**\n\t * @param {?} flags\n\t * @param {?} matchedQueriesDsl\n\t * @param {?} ngContentIndex\n\t * @param {?} childCount\n\t * @param {?=} handleEvent\n\t * @param {?=} templateFactory\n\t * @return {?}\n\t */\n\tfunction anchorDef(flags, matchedQueriesDsl, ngContentIndex, childCount, handleEvent, templateFactory) {\n\t    flags |= 1 /* TypeElement */;\n\t    var _a = splitMatchedQueriesDsl(matchedQueriesDsl), matchedQueries = _a.matchedQueries, references = _a.references, matchedQueryIds = _a.matchedQueryIds;\n\t    var /** @type {?} */ template = templateFactory ? resolveDefinition(templateFactory) : null;\n\t    return {\n\t        // will bet set by the view definition\n\t        nodeIndex: -1,\n\t        parent: null,\n\t        renderParent: null,\n\t        bindingIndex: -1,\n\t        outputIndex: -1,\n\t        // regular values\n\t        flags: flags,\n\t        checkIndex: -1,\n\t        childFlags: 0,\n\t        directChildFlags: 0,\n\t        childMatchedQueries: 0, matchedQueries: matchedQueries, matchedQueryIds: matchedQueryIds, references: references, ngContentIndex: ngContentIndex, childCount: childCount,\n\t        bindings: [],\n\t        bindingFlags: 0,\n\t        outputs: [],\n\t        element: {\n\t            ns: null,\n\t            name: null,\n\t            attrs: null, template: template,\n\t            componentProvider: null,\n\t            componentView: null,\n\t            componentRendererType: null,\n\t            publicProviders: null,\n\t            allProviders: null,\n\t            handleEvent: handleEvent || NOOP\n\t        },\n\t        provider: null,\n\t        text: null,\n\t        query: null,\n\t        ngContent: null\n\t    };\n\t}\n\t/**\n\t * @param {?} checkIndex\n\t * @param {?} flags\n\t * @param {?} matchedQueriesDsl\n\t * @param {?} ngContentIndex\n\t * @param {?} childCount\n\t * @param {?} namespaceAndName\n\t * @param {?=} fixedAttrs\n\t * @param {?=} bindings\n\t * @param {?=} outputs\n\t * @param {?=} handleEvent\n\t * @param {?=} componentView\n\t * @param {?=} componentRendererType\n\t * @return {?}\n\t */\n\tfunction elementDef(checkIndex, flags, matchedQueriesDsl, ngContentIndex, childCount, namespaceAndName, fixedAttrs, bindings, outputs, handleEvent, componentView, componentRendererType) {\n\t    if (fixedAttrs === void 0) { fixedAttrs = []; }\n\t    if (!handleEvent) {\n\t        handleEvent = NOOP;\n\t    }\n\t    var _a = splitMatchedQueriesDsl(matchedQueriesDsl), matchedQueries = _a.matchedQueries, references = _a.references, matchedQueryIds = _a.matchedQueryIds;\n\t    var /** @type {?} */ ns = ((null));\n\t    var /** @type {?} */ name = ((null));\n\t    if (namespaceAndName) {\n\t        _b = splitNamespace(namespaceAndName), ns = _b[0], name = _b[1];\n\t    }\n\t    bindings = bindings || [];\n\t    var /** @type {?} */ bindingDefs = new Array(bindings.length);\n\t    for (var /** @type {?} */ i = 0; i < bindings.length; i++) {\n\t        var _c = bindings[i], bindingFlags = _c[0], namespaceAndName_1 = _c[1], suffixOrSecurityContext = _c[2];\n\t        var _d = splitNamespace(namespaceAndName_1), ns_1 = _d[0], name_1 = _d[1];\n\t        var /** @type {?} */ securityContext = ((undefined));\n\t        var /** @type {?} */ suffix = ((undefined));\n\t        switch (bindingFlags & 15 /* Types */) {\n\t            case 4 /* TypeElementStyle */:\n\t                suffix = (suffixOrSecurityContext);\n\t                break;\n\t            case 1 /* TypeElementAttribute */:\n\t            case 8 /* TypeProperty */:\n\t                securityContext = (suffixOrSecurityContext);\n\t                break;\n\t        }\n\t        bindingDefs[i] =\n\t            { flags: bindingFlags, ns: ns_1, name: name_1, nonMinifiedName: name_1, securityContext: securityContext, suffix: suffix };\n\t    }\n\t    outputs = outputs || [];\n\t    var /** @type {?} */ outputDefs = new Array(outputs.length);\n\t    for (var /** @type {?} */ i = 0; i < outputs.length; i++) {\n\t        var _e = outputs[i], target = _e[0], eventName = _e[1];\n\t        outputDefs[i] = {\n\t            type: 0 /* ElementOutput */,\n\t            target: /** @type {?} */ (target), eventName: eventName,\n\t            propName: null\n\t        };\n\t    }\n\t    fixedAttrs = fixedAttrs || [];\n\t    var /** @type {?} */ attrs = (fixedAttrs.map(function (_a) {\n\t        var namespaceAndName = _a[0], value = _a[1];\n\t        var _b = splitNamespace(namespaceAndName), ns = _b[0], name = _b[1];\n\t        return [ns, name, value];\n\t    }));\n\t    componentRendererType = resolveRendererType2(componentRendererType);\n\t    if (componentView) {\n\t        flags |= 33554432 /* ComponentView */;\n\t    }\n\t    flags |= 1 /* TypeElement */;\n\t    return {\n\t        // will bet set by the view definition\n\t        nodeIndex: -1,\n\t        parent: null,\n\t        renderParent: null,\n\t        bindingIndex: -1,\n\t        outputIndex: -1,\n\t        // regular values\n\t        checkIndex: checkIndex,\n\t        flags: flags,\n\t        childFlags: 0,\n\t        directChildFlags: 0,\n\t        childMatchedQueries: 0, matchedQueries: matchedQueries, matchedQueryIds: matchedQueryIds, references: references, ngContentIndex: ngContentIndex, childCount: childCount,\n\t        bindings: bindingDefs,\n\t        bindingFlags: calcBindingFlags(bindingDefs),\n\t        outputs: outputDefs,\n\t        element: {\n\t            ns: ns,\n\t            name: name,\n\t            attrs: attrs,\n\t            template: null,\n\t            // will bet set by the view definition\n\t            componentProvider: null,\n\t            componentView: componentView || null,\n\t            componentRendererType: componentRendererType,\n\t            publicProviders: null,\n\t            allProviders: null,\n\t            handleEvent: handleEvent || NOOP,\n\t        },\n\t        provider: null,\n\t        text: null,\n\t        query: null,\n\t        ngContent: null\n\t    };\n\t    var _b;\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} renderHost\n\t * @param {?} def\n\t * @return {?}\n\t */\n\tfunction createElement(view, renderHost, def) {\n\t    var /** @type {?} */ elDef = ((def.element));\n\t    var /** @type {?} */ rootSelectorOrNode = view.root.selectorOrNode;\n\t    var /** @type {?} */ renderer = view.renderer;\n\t    var /** @type {?} */ el;\n\t    if (view.parent || !rootSelectorOrNode) {\n\t        if (elDef.name) {\n\t            el = renderer.createElement(elDef.name, elDef.ns);\n\t        }\n\t        else {\n\t            el = renderer.createComment('');\n\t        }\n\t        var /** @type {?} */ parentEl = getParentRenderElement(view, renderHost, def);\n\t        if (parentEl) {\n\t            renderer.appendChild(parentEl, el);\n\t        }\n\t    }\n\t    else {\n\t        el = renderer.selectRootElement(rootSelectorOrNode);\n\t    }\n\t    if (elDef.attrs) {\n\t        for (var /** @type {?} */ i = 0; i < elDef.attrs.length; i++) {\n\t            var _a = elDef.attrs[i], ns = _a[0], name = _a[1], value = _a[2];\n\t            renderer.setAttribute(el, name, value, ns);\n\t        }\n\t    }\n\t    return el;\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} compView\n\t * @param {?} def\n\t * @param {?} el\n\t * @return {?}\n\t */\n\tfunction listenToElementOutputs(view, compView, def, el) {\n\t    for (var /** @type {?} */ i = 0; i < def.outputs.length; i++) {\n\t        var /** @type {?} */ output = def.outputs[i];\n\t        var /** @type {?} */ handleEventClosure = renderEventHandlerClosure(view, def.nodeIndex, elementEventFullName(output.target, output.eventName));\n\t        var /** @type {?} */ listenTarget = output.target;\n\t        var /** @type {?} */ listenerView = view;\n\t        if (output.target === 'component') {\n\t            listenTarget = null;\n\t            listenerView = compView;\n\t        }\n\t        var /** @type {?} */ disposable = (listenerView.renderer.listen(listenTarget || el, output.eventName, handleEventClosure)); /** @type {?} */\n\t        ((view.disposables))[def.outputIndex + i] = disposable;\n\t    }\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} index\n\t * @param {?} eventName\n\t * @return {?}\n\t */\n\tfunction renderEventHandlerClosure(view, index, eventName) {\n\t    return function (event) {\n\t        try {\n\t            return dispatchEvent(view, index, eventName, event);\n\t        }\n\t        catch (e) {\n\t            // Attention: Don't rethrow, to keep in sync with directive events.\n\t            view.root.errorHandler.handleError(e);\n\t        }\n\t    };\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} def\n\t * @param {?} v0\n\t * @param {?} v1\n\t * @param {?} v2\n\t * @param {?} v3\n\t * @param {?} v4\n\t * @param {?} v5\n\t * @param {?} v6\n\t * @param {?} v7\n\t * @param {?} v8\n\t * @param {?} v9\n\t * @return {?}\n\t */\n\tfunction checkAndUpdateElementInline(view, def, v0, v1, v2, v3, v4, v5, v6, v7, v8, v9) {\n\t    var /** @type {?} */ bindLen = def.bindings.length;\n\t    var /** @type {?} */ changed = false;\n\t    if (bindLen > 0 && checkAndUpdateElementValue(view, def, 0, v0))\n\t        changed = true;\n\t    if (bindLen > 1 && checkAndUpdateElementValue(view, def, 1, v1))\n\t        changed = true;\n\t    if (bindLen > 2 && checkAndUpdateElementValue(view, def, 2, v2))\n\t        changed = true;\n\t    if (bindLen > 3 && checkAndUpdateElementValue(view, def, 3, v3))\n\t        changed = true;\n\t    if (bindLen > 4 && checkAndUpdateElementValue(view, def, 4, v4))\n\t        changed = true;\n\t    if (bindLen > 5 && checkAndUpdateElementValue(view, def, 5, v5))\n\t        changed = true;\n\t    if (bindLen > 6 && checkAndUpdateElementValue(view, def, 6, v6))\n\t        changed = true;\n\t    if (bindLen > 7 && checkAndUpdateElementValue(view, def, 7, v7))\n\t        changed = true;\n\t    if (bindLen > 8 && checkAndUpdateElementValue(view, def, 8, v8))\n\t        changed = true;\n\t    if (bindLen > 9 && checkAndUpdateElementValue(view, def, 9, v9))\n\t        changed = true;\n\t    return changed;\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} def\n\t * @param {?} values\n\t * @return {?}\n\t */\n\tfunction checkAndUpdateElementDynamic(view, def, values) {\n\t    var /** @type {?} */ changed = false;\n\t    for (var /** @type {?} */ i = 0; i < values.length; i++) {\n\t        if (checkAndUpdateElementValue(view, def, i, values[i]))\n\t            changed = true;\n\t    }\n\t    return changed;\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} def\n\t * @param {?} bindingIdx\n\t * @param {?} value\n\t * @return {?}\n\t */\n\tfunction checkAndUpdateElementValue(view, def, bindingIdx, value) {\n\t    if (!checkAndUpdateBinding(view, def, bindingIdx, value)) {\n\t        return false;\n\t    }\n\t    var /** @type {?} */ binding = def.bindings[bindingIdx];\n\t    var /** @type {?} */ elData = asElementData(view, def.nodeIndex);\n\t    var /** @type {?} */ renderNode$$1 = elData.renderElement;\n\t    var /** @type {?} */ name = ((binding.name));\n\t    switch (binding.flags & 15 /* Types */) {\n\t        case 1 /* TypeElementAttribute */:\n\t            setElementAttribute(view, binding, renderNode$$1, binding.ns, name, value);\n\t            break;\n\t        case 2 /* TypeElementClass */:\n\t            setElementClass(view, renderNode$$1, name, value);\n\t            break;\n\t        case 4 /* TypeElementStyle */:\n\t            setElementStyle(view, binding, renderNode$$1, name, value);\n\t            break;\n\t        case 8 /* TypeProperty */:\n\t            var /** @type {?} */ bindView = (def.flags & 33554432 /* ComponentView */ &&\n\t                binding.flags & 32 /* SyntheticHostProperty */) ?\n\t                elData.componentView :\n\t                view;\n\t            setElementProperty(bindView, binding, renderNode$$1, name, value);\n\t            break;\n\t    }\n\t    return true;\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} binding\n\t * @param {?} renderNode\n\t * @param {?} ns\n\t * @param {?} name\n\t * @param {?} value\n\t * @return {?}\n\t */\n\tfunction setElementAttribute(view, binding, renderNode$$1, ns, name, value) {\n\t    var /** @type {?} */ securityContext = binding.securityContext;\n\t    var /** @type {?} */ renderValue = securityContext ? view.root.sanitizer.sanitize(securityContext, value) : value;\n\t    renderValue = renderValue != null ? renderValue.toString() : null;\n\t    var /** @type {?} */ renderer = view.renderer;\n\t    if (value != null) {\n\t        renderer.setAttribute(renderNode$$1, name, renderValue, ns);\n\t    }\n\t    else {\n\t        renderer.removeAttribute(renderNode$$1, name, ns);\n\t    }\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} renderNode\n\t * @param {?} name\n\t * @param {?} value\n\t * @return {?}\n\t */\n\tfunction setElementClass(view, renderNode$$1, name, value) {\n\t    var /** @type {?} */ renderer = view.renderer;\n\t    if (value) {\n\t        renderer.addClass(renderNode$$1, name);\n\t    }\n\t    else {\n\t        renderer.removeClass(renderNode$$1, name);\n\t    }\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} binding\n\t * @param {?} renderNode\n\t * @param {?} name\n\t * @param {?} value\n\t * @return {?}\n\t */\n\tfunction setElementStyle(view, binding, renderNode$$1, name, value) {\n\t    var /** @type {?} */ renderValue = view.root.sanitizer.sanitize(SecurityContext.STYLE, /** @type {?} */ (value));\n\t    if (renderValue != null) {\n\t        renderValue = renderValue.toString();\n\t        var /** @type {?} */ unit = binding.suffix;\n\t        if (unit != null) {\n\t            renderValue = renderValue + unit;\n\t        }\n\t    }\n\t    else {\n\t        renderValue = null;\n\t    }\n\t    var /** @type {?} */ renderer = view.renderer;\n\t    if (renderValue != null) {\n\t        renderer.setStyle(renderNode$$1, name, renderValue);\n\t    }\n\t    else {\n\t        renderer.removeStyle(renderNode$$1, name);\n\t    }\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} binding\n\t * @param {?} renderNode\n\t * @param {?} name\n\t * @param {?} value\n\t * @return {?}\n\t */\n\tfunction setElementProperty(view, binding, renderNode$$1, name, value) {\n\t    var /** @type {?} */ securityContext = binding.securityContext;\n\t    var /** @type {?} */ renderValue = securityContext ? view.root.sanitizer.sanitize(securityContext, value) : value;\n\t    view.renderer.setProperty(renderNode$$1, name, renderValue);\n\t}\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\tvar UNDEFINED_VALUE = new Object();\n\tvar InjectorRefTokenKey$1 = tokenKey(Injector);\n\tvar NgModuleRefTokenKey = tokenKey(NgModuleRef);\n\t/**\n\t * @param {?} flags\n\t * @param {?} token\n\t * @param {?} value\n\t * @param {?} deps\n\t * @return {?}\n\t */\n\tfunction moduleProvideDef(flags, token, value, deps) {\n\t    var /** @type {?} */ depDefs = splitDepsDsl(deps);\n\t    return {\n\t        // will bet set by the module definition\n\t        index: -1,\n\t        deps: depDefs, flags: flags, token: token, value: value\n\t    };\n\t}\n\t/**\n\t * @param {?} providers\n\t * @return {?}\n\t */\n\tfunction moduleDef(providers) {\n\t    var /** @type {?} */ providersByKey = {};\n\t    for (var /** @type {?} */ i = 0; i < providers.length; i++) {\n\t        var /** @type {?} */ provider = providers[i];\n\t        provider.index = i;\n\t        providersByKey[tokenKey(provider.token)] = provider;\n\t    }\n\t    return {\n\t        // Will be filled later...\n\t        factory: null,\n\t        providersByKey: providersByKey,\n\t        providers: providers\n\t    };\n\t}\n\t/**\n\t * @param {?} data\n\t * @return {?}\n\t */\n\tfunction initNgModule(data) {\n\t    var /** @type {?} */ def = data._def;\n\t    var /** @type {?} */ providers = data._providers = new Array(def.providers.length);\n\t    for (var /** @type {?} */ i = 0; i < def.providers.length; i++) {\n\t        var /** @type {?} */ provDef = def.providers[i];\n\t        if (!(provDef.flags & 4096 /* LazyProvider */)) {\n\t            providers[i] = _createProviderInstance$1(data, provDef);\n\t        }\n\t    }\n\t}\n\t/**\n\t * @param {?} data\n\t * @param {?} depDef\n\t * @param {?=} notFoundValue\n\t * @return {?}\n\t */\n\tfunction resolveNgModuleDep(data, depDef, notFoundValue) {\n\t    if (notFoundValue === void 0) { notFoundValue = Injector.THROW_IF_NOT_FOUND; }\n\t    if (depDef.flags & 8 /* Value */) {\n\t        return depDef.token;\n\t    }\n\t    if (depDef.flags & 2 /* Optional */) {\n\t        notFoundValue = null;\n\t    }\n\t    if (depDef.flags & 1 /* SkipSelf */) {\n\t        return data._parent.get(depDef.token, notFoundValue);\n\t    }\n\t    var /** @type {?} */ tokenKey$$1 = depDef.tokenKey;\n\t    switch (tokenKey$$1) {\n\t        case InjectorRefTokenKey$1:\n\t        case NgModuleRefTokenKey:\n\t            return data;\n\t    }\n\t    var /** @type {?} */ providerDef = data._def.providersByKey[tokenKey$$1];\n\t    if (providerDef) {\n\t        var /** @type {?} */ providerInstance = data._providers[providerDef.index];\n\t        if (providerInstance === undefined) {\n\t            providerInstance = data._providers[providerDef.index] =\n\t                _createProviderInstance$1(data, providerDef);\n\t        }\n\t        return providerInstance === UNDEFINED_VALUE ? undefined : providerInstance;\n\t    }\n\t    return data._parent.get(depDef.token, notFoundValue);\n\t}\n\t/**\n\t * @param {?} ngModule\n\t * @param {?} providerDef\n\t * @return {?}\n\t */\n\tfunction _createProviderInstance$1(ngModule, providerDef) {\n\t    var /** @type {?} */ injectable;\n\t    switch (providerDef.flags & 201347067 /* Types */) {\n\t        case 512 /* TypeClassProvider */:\n\t            injectable = _createClass(ngModule, providerDef.value, providerDef.deps);\n\t            break;\n\t        case 1024 /* TypeFactoryProvider */:\n\t            injectable = _callFactory(ngModule, providerDef.value, providerDef.deps);\n\t            break;\n\t        case 2048 /* TypeUseExistingProvider */:\n\t            injectable = resolveNgModuleDep(ngModule, providerDef.deps[0]);\n\t            break;\n\t        case 256 /* TypeValueProvider */:\n\t            injectable = providerDef.value;\n\t            break;\n\t    }\n\t    return injectable === undefined ? UNDEFINED_VALUE : injectable;\n\t}\n\t/**\n\t * @param {?} ngModule\n\t * @param {?} ctor\n\t * @param {?} deps\n\t * @return {?}\n\t */\n\tfunction _createClass(ngModule, ctor, deps) {\n\t    var /** @type {?} */ len = deps.length;\n\t    switch (len) {\n\t        case 0:\n\t            return new ctor();\n\t        case 1:\n\t            return new ctor(resolveNgModuleDep(ngModule, deps[0]));\n\t        case 2:\n\t            return new ctor(resolveNgModuleDep(ngModule, deps[0]), resolveNgModuleDep(ngModule, deps[1]));\n\t        case 3:\n\t            return new ctor(resolveNgModuleDep(ngModule, deps[0]), resolveNgModuleDep(ngModule, deps[1]), resolveNgModuleDep(ngModule, deps[2]));\n\t        default:\n\t            var /** @type {?} */ depValues = new Array(len);\n\t            for (var /** @type {?} */ i = 0; i < len; i++) {\n\t                depValues[i] = resolveNgModuleDep(ngModule, deps[i]);\n\t            }\n\t            return new (ctor.bind.apply(ctor, [void 0].concat(depValues)))();\n\t    }\n\t}\n\t/**\n\t * @param {?} ngModule\n\t * @param {?} factory\n\t * @param {?} deps\n\t * @return {?}\n\t */\n\tfunction _callFactory(ngModule, factory, deps) {\n\t    var /** @type {?} */ len = deps.length;\n\t    switch (len) {\n\t        case 0:\n\t            return factory();\n\t        case 1:\n\t            return factory(resolveNgModuleDep(ngModule, deps[0]));\n\t        case 2:\n\t            return factory(resolveNgModuleDep(ngModule, deps[0]), resolveNgModuleDep(ngModule, deps[1]));\n\t        case 3:\n\t            return factory(resolveNgModuleDep(ngModule, deps[0]), resolveNgModuleDep(ngModule, deps[1]), resolveNgModuleDep(ngModule, deps[2]));\n\t        default:\n\t            var /** @type {?} */ depValues = Array(len);\n\t            for (var /** @type {?} */ i = 0; i < len; i++) {\n\t                depValues[i] = resolveNgModuleDep(ngModule, deps[i]);\n\t            }\n\t            return factory.apply(void 0, depValues);\n\t    }\n\t}\n\t/**\n\t * @param {?} ngModule\n\t * @param {?} lifecycles\n\t * @return {?}\n\t */\n\tfunction callNgModuleLifecycle(ngModule, lifecycles) {\n\t    var /** @type {?} */ def = ngModule._def;\n\t    for (var /** @type {?} */ i = 0; i < def.providers.length; i++) {\n\t        var /** @type {?} */ provDef = def.providers[i];\n\t        if (provDef.flags & 131072 /* OnDestroy */) {\n\t            var /** @type {?} */ instance = ngModule._providers[i];\n\t            if (instance && instance !== UNDEFINED_VALUE) {\n\t                instance.ngOnDestroy();\n\t            }\n\t        }\n\t    }\n\t}\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t/**\n\t * @param {?} parentView\n\t * @param {?} elementData\n\t * @param {?} viewIndex\n\t * @param {?} view\n\t * @return {?}\n\t */\n\tfunction attachEmbeddedView(parentView, elementData, viewIndex, view) {\n\t    var /** @type {?} */ embeddedViews = ((elementData.viewContainer))._embeddedViews;\n\t    if (viewIndex === null || viewIndex === undefined) {\n\t        viewIndex = embeddedViews.length;\n\t    }\n\t    view.viewContainerParent = parentView;\n\t    addToArray(embeddedViews, /** @type {?} */ ((viewIndex)), view);\n\t    attachProjectedView(elementData, view);\n\t    Services.dirtyParentQueries(view);\n\t    var /** @type {?} */ prevView = ((viewIndex)) > 0 ? embeddedViews[((viewIndex)) - 1] : null;\n\t    renderAttachEmbeddedView(elementData, prevView, view);\n\t}\n\t/**\n\t * @param {?} vcElementData\n\t * @param {?} view\n\t * @return {?}\n\t */\n\tfunction attachProjectedView(vcElementData, view) {\n\t    var /** @type {?} */ dvcElementData = declaredViewContainer(view);\n\t    if (!dvcElementData || dvcElementData === vcElementData ||\n\t        view.state & 16 /* IsProjectedView */) {\n\t        return;\n\t    }\n\t    // Note: For performance reasons, we\n\t    // - add a view to template._projectedViews only 1x throughout its lifetime,\n\t    //   and remove it not until the view is destroyed.\n\t    //   (hard, as when a parent view is attached/detached we would need to attach/detach all\n\t    //    nested projected views as well, even accross component boundaries).\n\t    // - don't track the insertion order of views in the projected views array\n\t    //   (hard, as when the views of the same template are inserted different view containers)\n\t    view.state |= 16 /* IsProjectedView */;\n\t    var /** @type {?} */ projectedViews = dvcElementData.template._projectedViews;\n\t    if (!projectedViews) {\n\t        projectedViews = dvcElementData.template._projectedViews = [];\n\t    }\n\t    projectedViews.push(view);\n\t    // Note: we are changing the NodeDef here as we cannot calculate\n\t    // the fact whether a template is used for projection during compilation.\n\t    markNodeAsProjectedTemplate(/** @type {?} */ ((view.parent)).def, /** @type {?} */ ((view.parentNodeDef)));\n\t}\n\t/**\n\t * @param {?} viewDef\n\t * @param {?} nodeDef\n\t * @return {?}\n\t */\n\tfunction markNodeAsProjectedTemplate(viewDef, nodeDef) {\n\t    if (nodeDef.flags & 4 /* ProjectedTemplate */) {\n\t        return;\n\t    }\n\t    viewDef.nodeFlags |= 4 /* ProjectedTemplate */;\n\t    nodeDef.flags |= 4 /* ProjectedTemplate */;\n\t    var /** @type {?} */ parentNodeDef = nodeDef.parent;\n\t    while (parentNodeDef) {\n\t        parentNodeDef.childFlags |= 4 /* ProjectedTemplate */;\n\t        parentNodeDef = parentNodeDef.parent;\n\t    }\n\t}\n\t/**\n\t * @param {?} elementData\n\t * @param {?=} viewIndex\n\t * @return {?}\n\t */\n\tfunction detachEmbeddedView(elementData, viewIndex) {\n\t    var /** @type {?} */ embeddedViews = ((elementData.viewContainer))._embeddedViews;\n\t    if (viewIndex == null || viewIndex >= embeddedViews.length) {\n\t        viewIndex = embeddedViews.length - 1;\n\t    }\n\t    if (viewIndex < 0) {\n\t        return null;\n\t    }\n\t    var /** @type {?} */ view = embeddedViews[viewIndex];\n\t    view.viewContainerParent = null;\n\t    removeFromArray(embeddedViews, viewIndex);\n\t    // See attachProjectedView for why we don't update projectedViews here.\n\t    Services.dirtyParentQueries(view);\n\t    renderDetachView(view);\n\t    return view;\n\t}\n\t/**\n\t * @param {?} view\n\t * @return {?}\n\t */\n\tfunction detachProjectedView(view) {\n\t    if (!(view.state & 16 /* IsProjectedView */)) {\n\t        return;\n\t    }\n\t    var /** @type {?} */ dvcElementData = declaredViewContainer(view);\n\t    if (dvcElementData) {\n\t        var /** @type {?} */ projectedViews = dvcElementData.template._projectedViews;\n\t        if (projectedViews) {\n\t            removeFromArray(projectedViews, projectedViews.indexOf(view));\n\t            Services.dirtyParentQueries(view);\n\t        }\n\t    }\n\t}\n\t/**\n\t * @param {?} elementData\n\t * @param {?} oldViewIndex\n\t * @param {?} newViewIndex\n\t * @return {?}\n\t */\n\tfunction moveEmbeddedView(elementData, oldViewIndex, newViewIndex) {\n\t    var /** @type {?} */ embeddedViews = ((elementData.viewContainer))._embeddedViews;\n\t    var /** @type {?} */ view = embeddedViews[oldViewIndex];\n\t    removeFromArray(embeddedViews, oldViewIndex);\n\t    if (newViewIndex == null) {\n\t        newViewIndex = embeddedViews.length;\n\t    }\n\t    addToArray(embeddedViews, newViewIndex, view);\n\t    // Note: Don't need to change projectedViews as the order in there\n\t    // as always invalid...\n\t    Services.dirtyParentQueries(view);\n\t    renderDetachView(view);\n\t    var /** @type {?} */ prevView = newViewIndex > 0 ? embeddedViews[newViewIndex - 1] : null;\n\t    renderAttachEmbeddedView(elementData, prevView, view);\n\t    return view;\n\t}\n\t/**\n\t * @param {?} elementData\n\t * @param {?} prevView\n\t * @param {?} view\n\t * @return {?}\n\t */\n\tfunction renderAttachEmbeddedView(elementData, prevView, view) {\n\t    var /** @type {?} */ prevRenderNode = prevView ? renderNode(prevView, /** @type {?} */ ((prevView.def.lastRenderRootNode))) :\n\t        elementData.renderElement;\n\t    var /** @type {?} */ parentNode = view.renderer.parentNode(prevRenderNode);\n\t    var /** @type {?} */ nextSibling = view.renderer.nextSibling(prevRenderNode);\n\t    // Note: We can't check if `nextSibling` is present, as on WebWorkers it will always be!\n\t    // However, browsers automatically do `appendChild` when there is no `nextSibling`.\n\t    visitRootRenderNodes(view, 2 /* InsertBefore */, parentNode, nextSibling, undefined);\n\t}\n\t/**\n\t * @param {?} view\n\t * @return {?}\n\t */\n\tfunction renderDetachView(view) {\n\t    visitRootRenderNodes(view, 3 /* RemoveChild */, null, null, undefined);\n\t}\n\t/**\n\t * @param {?} arr\n\t * @param {?} index\n\t * @param {?} value\n\t * @return {?}\n\t */\n\tfunction addToArray(arr, index, value) {\n\t    // perf: array.push is faster than array.splice!\n\t    if (index >= arr.length) {\n\t        arr.push(value);\n\t    }\n\t    else {\n\t        arr.splice(index, 0, value);\n\t    }\n\t}\n\t/**\n\t * @param {?} arr\n\t * @param {?} index\n\t * @return {?}\n\t */\n\tfunction removeFromArray(arr, index) {\n\t    // perf: array.pop is faster than array.splice!\n\t    if (index >= arr.length - 1) {\n\t        arr.pop();\n\t    }\n\t    else {\n\t        arr.splice(index, 1);\n\t    }\n\t}\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\tvar EMPTY_CONTEXT = new Object();\n\t/**\n\t * @param {?} selector\n\t * @param {?} componentType\n\t * @param {?} viewDefFactory\n\t * @param {?} inputs\n\t * @param {?} outputs\n\t * @param {?} ngContentSelectors\n\t * @return {?}\n\t */\n\tfunction createComponentFactory(selector, componentType, viewDefFactory, inputs, outputs, ngContentSelectors) {\n\t    return new ComponentFactory_(selector, componentType, viewDefFactory, inputs, outputs, ngContentSelectors);\n\t}\n\t/**\n\t * @param {?} componentFactory\n\t * @return {?}\n\t */\n\tfunction getComponentViewDefinitionFactory(componentFactory) {\n\t    return ((componentFactory)).viewDefFactory;\n\t}\n\tvar ComponentFactory_ = (function (_super) {\n\t    __extends(ComponentFactory_, _super);\n\t    /**\n\t     * @param {?} selector\n\t     * @param {?} componentType\n\t     * @param {?} viewDefFactory\n\t     * @param {?} _inputs\n\t     * @param {?} _outputs\n\t     * @param {?} ngContentSelectors\n\t     */\n\t    function ComponentFactory_(selector, componentType, viewDefFactory, _inputs, _outputs, ngContentSelectors) {\n\t        var _this = \n\t        // Attention: this ctor is called as top level function.\n\t        // Putting any logic in here will destroy closure tree shaking!\n\t        _super.call(this) || this;\n\t        _this.selector = selector;\n\t        _this.componentType = componentType;\n\t        _this._inputs = _inputs;\n\t        _this._outputs = _outputs;\n\t        _this.ngContentSelectors = ngContentSelectors;\n\t        _this.viewDefFactory = viewDefFactory;\n\t        return _this;\n\t    }\n\t    Object.defineProperty(ComponentFactory_.prototype, \"inputs\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () {\n\t            var /** @type {?} */ inputsArr = [];\n\t            var /** @type {?} */ inputs = ((this._inputs));\n\t            for (var /** @type {?} */ propName in inputs) {\n\t                var /** @type {?} */ templateName = inputs[propName];\n\t                inputsArr.push({ propName: propName, templateName: templateName });\n\t            }\n\t            return inputsArr;\n\t        },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(ComponentFactory_.prototype, \"outputs\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () {\n\t            var /** @type {?} */ outputsArr = [];\n\t            for (var /** @type {?} */ propName in this._outputs) {\n\t                var /** @type {?} */ templateName = this._outputs[propName];\n\t                outputsArr.push({ propName: propName, templateName: templateName });\n\t            }\n\t            return outputsArr;\n\t        },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    /**\n\t     * Creates a new component.\n\t     * @param {?} injector\n\t     * @param {?=} projectableNodes\n\t     * @param {?=} rootSelectorOrNode\n\t     * @param {?=} ngModule\n\t     * @return {?}\n\t     */\n\t    ComponentFactory_.prototype.create = function (injector, projectableNodes, rootSelectorOrNode, ngModule) {\n\t        if (!ngModule) {\n\t            throw new Error('ngModule should be provided');\n\t        }\n\t        var /** @type {?} */ viewDef = resolveDefinition(this.viewDefFactory);\n\t        var /** @type {?} */ componentNodeIndex = ((((viewDef.nodes[0].element)).componentProvider)).nodeIndex;\n\t        var /** @type {?} */ view = Services.createRootView(injector, projectableNodes || [], rootSelectorOrNode, viewDef, ngModule, EMPTY_CONTEXT);\n\t        var /** @type {?} */ component = asProviderData(view, componentNodeIndex).instance;\n\t        if (rootSelectorOrNode) {\n\t            view.renderer.setAttribute(asElementData(view, 0).renderElement, 'ng-version', VERSION.full);\n\t        }\n\t        return new ComponentRef_(view, new ViewRef_(view), component);\n\t    };\n\t    return ComponentFactory_;\n\t}(ComponentFactory));\n\tvar ComponentRef_ = (function (_super) {\n\t    __extends(ComponentRef_, _super);\n\t    /**\n\t     * @param {?} _view\n\t     * @param {?} _viewRef\n\t     * @param {?} _component\n\t     */\n\t    function ComponentRef_(_view, _viewRef, _component) {\n\t        var _this = _super.call(this) || this;\n\t        _this._view = _view;\n\t        _this._viewRef = _viewRef;\n\t        _this._component = _component;\n\t        _this._elDef = _this._view.def.nodes[0];\n\t        return _this;\n\t    }\n\t    Object.defineProperty(ComponentRef_.prototype, \"location\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () {\n\t            return new ElementRef(asElementData(this._view, this._elDef.nodeIndex).renderElement);\n\t        },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(ComponentRef_.prototype, \"injector\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () { return new Injector_(this._view, this._elDef); },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(ComponentRef_.prototype, \"instance\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () { return this._component; },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(ComponentRef_.prototype, \"hostView\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () { return this._viewRef; },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(ComponentRef_.prototype, \"changeDetectorRef\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () { return this._viewRef; },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(ComponentRef_.prototype, \"componentType\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () { return (this._component.constructor); },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    /**\n\t     * @return {?}\n\t     */\n\t    ComponentRef_.prototype.destroy = function () { this._viewRef.destroy(); };\n\t    /**\n\t     * @param {?} callback\n\t     * @return {?}\n\t     */\n\t    ComponentRef_.prototype.onDestroy = function (callback) { this._viewRef.onDestroy(callback); };\n\t    return ComponentRef_;\n\t}(ComponentRef));\n\t/**\n\t * @param {?} view\n\t * @param {?} elDef\n\t * @param {?} elData\n\t * @return {?}\n\t */\n\tfunction createViewContainerData(view, elDef, elData) {\n\t    return new ViewContainerRef_(view, elDef, elData);\n\t}\n\tvar ViewContainerRef_ = (function () {\n\t    /**\n\t     * @param {?} _view\n\t     * @param {?} _elDef\n\t     * @param {?} _data\n\t     */\n\t    function ViewContainerRef_(_view, _elDef, _data) {\n\t        this._view = _view;\n\t        this._elDef = _elDef;\n\t        this._data = _data;\n\t        /**\n\t         * \\@internal\n\t         */\n\t        this._embeddedViews = [];\n\t    }\n\t    Object.defineProperty(ViewContainerRef_.prototype, \"element\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () { return new ElementRef(this._data.renderElement); },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(ViewContainerRef_.prototype, \"injector\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () { return new Injector_(this._view, this._elDef); },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(ViewContainerRef_.prototype, \"parentInjector\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () {\n\t            var /** @type {?} */ view = this._view;\n\t            var /** @type {?} */ elDef = this._elDef.parent;\n\t            while (!elDef && view) {\n\t                elDef = viewParentEl(view);\n\t                view = ((view.parent));\n\t            }\n\t            return view ? new Injector_(view, elDef) : new Injector_(this._view, null);\n\t        },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    /**\n\t     * @return {?}\n\t     */\n\t    ViewContainerRef_.prototype.clear = function () {\n\t        var /** @type {?} */ len = this._embeddedViews.length;\n\t        for (var /** @type {?} */ i = len - 1; i >= 0; i--) {\n\t            var /** @type {?} */ view = ((detachEmbeddedView(this._data, i)));\n\t            Services.destroyView(view);\n\t        }\n\t    };\n\t    /**\n\t     * @param {?} index\n\t     * @return {?}\n\t     */\n\t    ViewContainerRef_.prototype.get = function (index) {\n\t        var /** @type {?} */ view = this._embeddedViews[index];\n\t        if (view) {\n\t            var /** @type {?} */ ref = new ViewRef_(view);\n\t            ref.attachToViewContainerRef(this);\n\t            return ref;\n\t        }\n\t        return null;\n\t    };\n\t    Object.defineProperty(ViewContainerRef_.prototype, \"length\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () { return this._embeddedViews.length; },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    /**\n\t     * @template C\n\t     * @param {?} templateRef\n\t     * @param {?=} context\n\t     * @param {?=} index\n\t     * @return {?}\n\t     */\n\t    ViewContainerRef_.prototype.createEmbeddedView = function (templateRef, context, index) {\n\t        var /** @type {?} */ viewRef = templateRef.createEmbeddedView(context || ({}));\n\t        this.insert(viewRef, index);\n\t        return viewRef;\n\t    };\n\t    /**\n\t     * @template C\n\t     * @param {?} componentFactory\n\t     * @param {?=} index\n\t     * @param {?=} injector\n\t     * @param {?=} projectableNodes\n\t     * @param {?=} ngModuleRef\n\t     * @return {?}\n\t     */\n\t    ViewContainerRef_.prototype.createComponent = function (componentFactory, index, injector, projectableNodes, ngModuleRef) {\n\t        var /** @type {?} */ contextInjector = injector || this.parentInjector;\n\t        if (!ngModuleRef && !(componentFactory instanceof ComponentFactoryBoundToModule)) {\n\t            ngModuleRef = contextInjector.get(NgModuleRef);\n\t        }\n\t        var /** @type {?} */ componentRef = componentFactory.create(contextInjector, projectableNodes, undefined, ngModuleRef);\n\t        this.insert(componentRef.hostView, index);\n\t        return componentRef;\n\t    };\n\t    /**\n\t     * @param {?} viewRef\n\t     * @param {?=} index\n\t     * @return {?}\n\t     */\n\t    ViewContainerRef_.prototype.insert = function (viewRef, index) {\n\t        if (viewRef.destroyed) {\n\t            throw new Error('Cannot insert a destroyed View in a ViewContainer!');\n\t        }\n\t        var /** @type {?} */ viewRef_ = (viewRef);\n\t        var /** @type {?} */ viewData = viewRef_._view;\n\t        attachEmbeddedView(this._view, this._data, index, viewData);\n\t        viewRef_.attachToViewContainerRef(this);\n\t        return viewRef;\n\t    };\n\t    /**\n\t     * @param {?} viewRef\n\t     * @param {?} currentIndex\n\t     * @return {?}\n\t     */\n\t    ViewContainerRef_.prototype.move = function (viewRef, currentIndex) {\n\t        if (viewRef.destroyed) {\n\t            throw new Error('Cannot move a destroyed View in a ViewContainer!');\n\t        }\n\t        var /** @type {?} */ previousIndex = this._embeddedViews.indexOf(viewRef._view);\n\t        moveEmbeddedView(this._data, previousIndex, currentIndex);\n\t        return viewRef;\n\t    };\n\t    /**\n\t     * @param {?} viewRef\n\t     * @return {?}\n\t     */\n\t    ViewContainerRef_.prototype.indexOf = function (viewRef) {\n\t        return this._embeddedViews.indexOf(((viewRef))._view);\n\t    };\n\t    /**\n\t     * @param {?=} index\n\t     * @return {?}\n\t     */\n\t    ViewContainerRef_.prototype.remove = function (index) {\n\t        var /** @type {?} */ viewData = detachEmbeddedView(this._data, index);\n\t        if (viewData) {\n\t            Services.destroyView(viewData);\n\t        }\n\t    };\n\t    /**\n\t     * @param {?=} index\n\t     * @return {?}\n\t     */\n\t    ViewContainerRef_.prototype.detach = function (index) {\n\t        var /** @type {?} */ view = detachEmbeddedView(this._data, index);\n\t        return view ? new ViewRef_(view) : null;\n\t    };\n\t    return ViewContainerRef_;\n\t}());\n\t/**\n\t * @param {?} view\n\t * @return {?}\n\t */\n\tfunction createChangeDetectorRef(view) {\n\t    return new ViewRef_(view);\n\t}\n\tvar ViewRef_ = (function () {\n\t    /**\n\t     * @param {?} _view\n\t     */\n\t    function ViewRef_(_view) {\n\t        this._view = _view;\n\t        this._viewContainerRef = null;\n\t        this._appRef = null;\n\t    }\n\t    Object.defineProperty(ViewRef_.prototype, \"rootNodes\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () { return rootRenderNodes(this._view); },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(ViewRef_.prototype, \"context\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () { return this._view.context; },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(ViewRef_.prototype, \"destroyed\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () { return (this._view.state & 128 /* Destroyed */) !== 0; },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    /**\n\t     * @return {?}\n\t     */\n\t    ViewRef_.prototype.markForCheck = function () { markParentViewsForCheck(this._view); };\n\t    /**\n\t     * @return {?}\n\t     */\n\t    ViewRef_.prototype.detach = function () { this._view.state &= ~4 /* Attached */; };\n\t    /**\n\t     * @return {?}\n\t     */\n\t    ViewRef_.prototype.detectChanges = function () {\n\t        var /** @type {?} */ fs = this._view.root.rendererFactory;\n\t        if (fs.begin) {\n\t            fs.begin();\n\t        }\n\t        Services.checkAndUpdateView(this._view);\n\t        if (fs.end) {\n\t            fs.end();\n\t        }\n\t    };\n\t    /**\n\t     * @return {?}\n\t     */\n\t    ViewRef_.prototype.checkNoChanges = function () { Services.checkNoChangesView(this._view); };\n\t    /**\n\t     * @return {?}\n\t     */\n\t    ViewRef_.prototype.reattach = function () { this._view.state |= 4 /* Attached */; };\n\t    /**\n\t     * @param {?} callback\n\t     * @return {?}\n\t     */\n\t    ViewRef_.prototype.onDestroy = function (callback) {\n\t        if (!this._view.disposables) {\n\t            this._view.disposables = [];\n\t        }\n\t        this._view.disposables.push(/** @type {?} */ (callback));\n\t    };\n\t    /**\n\t     * @return {?}\n\t     */\n\t    ViewRef_.prototype.destroy = function () {\n\t        if (this._appRef) {\n\t            this._appRef.detachView(this);\n\t        }\n\t        else if (this._viewContainerRef) {\n\t            this._viewContainerRef.detach(this._viewContainerRef.indexOf(this));\n\t        }\n\t        Services.destroyView(this._view);\n\t    };\n\t    /**\n\t     * @return {?}\n\t     */\n\t    ViewRef_.prototype.detachFromAppRef = function () {\n\t        this._appRef = null;\n\t        renderDetachView(this._view);\n\t        Services.dirtyParentQueries(this._view);\n\t    };\n\t    /**\n\t     * @param {?} appRef\n\t     * @return {?}\n\t     */\n\t    ViewRef_.prototype.attachToAppRef = function (appRef) {\n\t        if (this._viewContainerRef) {\n\t            throw new Error('This view is already attached to a ViewContainer!');\n\t        }\n\t        this._appRef = appRef;\n\t    };\n\t    /**\n\t     * @param {?} vcRef\n\t     * @return {?}\n\t     */\n\t    ViewRef_.prototype.attachToViewContainerRef = function (vcRef) {\n\t        if (this._appRef) {\n\t            throw new Error('This view is already attached directly to the ApplicationRef!');\n\t        }\n\t        this._viewContainerRef = vcRef;\n\t    };\n\t    return ViewRef_;\n\t}());\n\t/**\n\t * @param {?} view\n\t * @param {?} def\n\t * @return {?}\n\t */\n\tfunction createTemplateData(view, def) {\n\t    return new TemplateRef_(view, def);\n\t}\n\tvar TemplateRef_ = (function (_super) {\n\t    __extends(TemplateRef_, _super);\n\t    /**\n\t     * @param {?} _parentView\n\t     * @param {?} _def\n\t     */\n\t    function TemplateRef_(_parentView, _def) {\n\t        var _this = _super.call(this) || this;\n\t        _this._parentView = _parentView;\n\t        _this._def = _def;\n\t        return _this;\n\t    }\n\t    /**\n\t     * @param {?} context\n\t     * @return {?}\n\t     */\n\t    TemplateRef_.prototype.createEmbeddedView = function (context) {\n\t        return new ViewRef_(Services.createEmbeddedView(this._parentView, this._def, /** @type {?} */ ((((this._def.element)).template)), context));\n\t    };\n\t    Object.defineProperty(TemplateRef_.prototype, \"elementRef\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () {\n\t            return new ElementRef(asElementData(this._parentView, this._def.nodeIndex).renderElement);\n\t        },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    return TemplateRef_;\n\t}(TemplateRef));\n\t/**\n\t * @param {?} view\n\t * @param {?} elDef\n\t * @return {?}\n\t */\n\tfunction createInjector(view, elDef) {\n\t    return new Injector_(view, elDef);\n\t}\n\tvar Injector_ = (function () {\n\t    /**\n\t     * @param {?} view\n\t     * @param {?} elDef\n\t     */\n\t    function Injector_(view, elDef) {\n\t        this.view = view;\n\t        this.elDef = elDef;\n\t    }\n\t    /**\n\t     * @param {?} token\n\t     * @param {?=} notFoundValue\n\t     * @return {?}\n\t     */\n\t    Injector_.prototype.get = function (token, notFoundValue) {\n\t        if (notFoundValue === void 0) { notFoundValue = Injector.THROW_IF_NOT_FOUND; }\n\t        var /** @type {?} */ allowPrivateServices = this.elDef ? (this.elDef.flags & 33554432 /* ComponentView */) !== 0 : false;\n\t        return Services.resolveDep(this.view, this.elDef, allowPrivateServices, { flags: 0 /* None */, token: token, tokenKey: tokenKey(token) }, notFoundValue);\n\t    };\n\t    return Injector_;\n\t}());\n\t/**\n\t * @param {?} view\n\t * @param {?} index\n\t * @return {?}\n\t */\n\tfunction nodeValue(view, index) {\n\t    var /** @type {?} */ def = view.def.nodes[index];\n\t    if (def.flags & 1 /* TypeElement */) {\n\t        var /** @type {?} */ elData = asElementData(view, def.nodeIndex);\n\t        return ((def.element)).template ? elData.template : elData.renderElement;\n\t    }\n\t    else if (def.flags & 2 /* TypeText */) {\n\t        return asTextData(view, def.nodeIndex).renderText;\n\t    }\n\t    else if (def.flags & (20224 /* CatProvider */ | 16 /* TypePipe */)) {\n\t        return asProviderData(view, def.nodeIndex).instance;\n\t    }\n\t    throw new Error(\"Illegal state: read nodeValue for node index \" + index);\n\t}\n\t/**\n\t * @param {?} view\n\t * @return {?}\n\t */\n\tfunction createRendererV1(view) {\n\t    return new RendererAdapter(view.renderer);\n\t}\n\tvar RendererAdapter = (function () {\n\t    /**\n\t     * @param {?} delegate\n\t     */\n\t    function RendererAdapter(delegate) {\n\t        this.delegate = delegate;\n\t    }\n\t    /**\n\t     * @param {?} selectorOrNode\n\t     * @return {?}\n\t     */\n\t    RendererAdapter.prototype.selectRootElement = function (selectorOrNode) {\n\t        return this.delegate.selectRootElement(selectorOrNode);\n\t    };\n\t    /**\n\t     * @param {?} parent\n\t     * @param {?} namespaceAndName\n\t     * @return {?}\n\t     */\n\t    RendererAdapter.prototype.createElement = function (parent, namespaceAndName) {\n\t        var _a = splitNamespace(namespaceAndName), ns = _a[0], name = _a[1];\n\t        var /** @type {?} */ el = this.delegate.createElement(name, ns);\n\t        if (parent) {\n\t            this.delegate.appendChild(parent, el);\n\t        }\n\t        return el;\n\t    };\n\t    /**\n\t     * @param {?} hostElement\n\t     * @return {?}\n\t     */\n\t    RendererAdapter.prototype.createViewRoot = function (hostElement) { return hostElement; };\n\t    /**\n\t     * @param {?} parentElement\n\t     * @return {?}\n\t     */\n\t    RendererAdapter.prototype.createTemplateAnchor = function (parentElement) {\n\t        var /** @type {?} */ comment = this.delegate.createComment('');\n\t        if (parentElement) {\n\t            this.delegate.appendChild(parentElement, comment);\n\t        }\n\t        return comment;\n\t    };\n\t    /**\n\t     * @param {?} parentElement\n\t     * @param {?} value\n\t     * @return {?}\n\t     */\n\t    RendererAdapter.prototype.createText = function (parentElement, value) {\n\t        var /** @type {?} */ node = this.delegate.createText(value);\n\t        if (parentElement) {\n\t            this.delegate.appendChild(parentElement, node);\n\t        }\n\t        return node;\n\t    };\n\t    /**\n\t     * @param {?} parentElement\n\t     * @param {?} nodes\n\t     * @return {?}\n\t     */\n\t    RendererAdapter.prototype.projectNodes = function (parentElement, nodes) {\n\t        for (var /** @type {?} */ i = 0; i < nodes.length; i++) {\n\t            this.delegate.appendChild(parentElement, nodes[i]);\n\t        }\n\t    };\n\t    /**\n\t     * @param {?} node\n\t     * @param {?} viewRootNodes\n\t     * @return {?}\n\t     */\n\t    RendererAdapter.prototype.attachViewAfter = function (node, viewRootNodes) {\n\t        var /** @type {?} */ parentElement = this.delegate.parentNode(node);\n\t        var /** @type {?} */ nextSibling = this.delegate.nextSibling(node);\n\t        for (var /** @type {?} */ i = 0; i < viewRootNodes.length; i++) {\n\t            this.delegate.insertBefore(parentElement, viewRootNodes[i], nextSibling);\n\t        }\n\t    };\n\t    /**\n\t     * @param {?} viewRootNodes\n\t     * @return {?}\n\t     */\n\t    RendererAdapter.prototype.detachView = function (viewRootNodes) {\n\t        for (var /** @type {?} */ i = 0; i < viewRootNodes.length; i++) {\n\t            var /** @type {?} */ node = viewRootNodes[i];\n\t            var /** @type {?} */ parentElement = this.delegate.parentNode(node);\n\t            this.delegate.removeChild(parentElement, node);\n\t        }\n\t    };\n\t    /**\n\t     * @param {?} hostElement\n\t     * @param {?} viewAllNodes\n\t     * @return {?}\n\t     */\n\t    RendererAdapter.prototype.destroyView = function (hostElement, viewAllNodes) {\n\t        for (var /** @type {?} */ i = 0; i < viewAllNodes.length; i++) {\n\t            ((this.delegate.destroyNode))(viewAllNodes[i]);\n\t        }\n\t    };\n\t    /**\n\t     * @param {?} renderElement\n\t     * @param {?} name\n\t     * @param {?} callback\n\t     * @return {?}\n\t     */\n\t    RendererAdapter.prototype.listen = function (renderElement, name, callback) {\n\t        return this.delegate.listen(renderElement, name, /** @type {?} */ (callback));\n\t    };\n\t    /**\n\t     * @param {?} target\n\t     * @param {?} name\n\t     * @param {?} callback\n\t     * @return {?}\n\t     */\n\t    RendererAdapter.prototype.listenGlobal = function (target, name, callback) {\n\t        return this.delegate.listen(target, name, /** @type {?} */ (callback));\n\t    };\n\t    /**\n\t     * @param {?} renderElement\n\t     * @param {?} propertyName\n\t     * @param {?} propertyValue\n\t     * @return {?}\n\t     */\n\t    RendererAdapter.prototype.setElementProperty = function (renderElement, propertyName, propertyValue) {\n\t        this.delegate.setProperty(renderElement, propertyName, propertyValue);\n\t    };\n\t    /**\n\t     * @param {?} renderElement\n\t     * @param {?} namespaceAndName\n\t     * @param {?} attributeValue\n\t     * @return {?}\n\t     */\n\t    RendererAdapter.prototype.setElementAttribute = function (renderElement, namespaceAndName, attributeValue) {\n\t        var _a = splitNamespace(namespaceAndName), ns = _a[0], name = _a[1];\n\t        if (attributeValue != null) {\n\t            this.delegate.setAttribute(renderElement, name, attributeValue, ns);\n\t        }\n\t        else {\n\t            this.delegate.removeAttribute(renderElement, name, ns);\n\t        }\n\t    };\n\t    /**\n\t     * @param {?} renderElement\n\t     * @param {?} propertyName\n\t     * @param {?} propertyValue\n\t     * @return {?}\n\t     */\n\t    RendererAdapter.prototype.setBindingDebugInfo = function (renderElement, propertyName, propertyValue) { };\n\t    /**\n\t     * @param {?} renderElement\n\t     * @param {?} className\n\t     * @param {?} isAdd\n\t     * @return {?}\n\t     */\n\t    RendererAdapter.prototype.setElementClass = function (renderElement, className, isAdd) {\n\t        if (isAdd) {\n\t            this.delegate.addClass(renderElement, className);\n\t        }\n\t        else {\n\t            this.delegate.removeClass(renderElement, className);\n\t        }\n\t    };\n\t    /**\n\t     * @param {?} renderElement\n\t     * @param {?} styleName\n\t     * @param {?} styleValue\n\t     * @return {?}\n\t     */\n\t    RendererAdapter.prototype.setElementStyle = function (renderElement, styleName, styleValue) {\n\t        if (styleValue != null) {\n\t            this.delegate.setStyle(renderElement, styleName, styleValue);\n\t        }\n\t        else {\n\t            this.delegate.removeStyle(renderElement, styleName);\n\t        }\n\t    };\n\t    /**\n\t     * @param {?} renderElement\n\t     * @param {?} methodName\n\t     * @param {?} args\n\t     * @return {?}\n\t     */\n\t    RendererAdapter.prototype.invokeElementMethod = function (renderElement, methodName, args) {\n\t        ((renderElement))[methodName].apply(renderElement, args);\n\t    };\n\t    /**\n\t     * @param {?} renderNode\n\t     * @param {?} text\n\t     * @return {?}\n\t     */\n\t    RendererAdapter.prototype.setText = function (renderNode$$1, text) { this.delegate.setValue(renderNode$$1, text); };\n\t    /**\n\t     * @return {?}\n\t     */\n\t    RendererAdapter.prototype.animate = function () { throw new Error('Renderer.animate is no longer supported!'); };\n\t    return RendererAdapter;\n\t}());\n\t/**\n\t * @param {?} moduleType\n\t * @param {?} parent\n\t * @param {?} bootstrapComponents\n\t * @param {?} def\n\t * @return {?}\n\t */\n\tfunction createNgModuleRef(moduleType, parent, bootstrapComponents, def) {\n\t    return new NgModuleRef_(moduleType, parent, bootstrapComponents, def);\n\t}\n\tvar NgModuleRef_ = (function () {\n\t    /**\n\t     * @param {?} _moduleType\n\t     * @param {?} _parent\n\t     * @param {?} _bootstrapComponents\n\t     * @param {?} _def\n\t     */\n\t    function NgModuleRef_(_moduleType, _parent, _bootstrapComponents, _def) {\n\t        this._moduleType = _moduleType;\n\t        this._parent = _parent;\n\t        this._bootstrapComponents = _bootstrapComponents;\n\t        this._def = _def;\n\t        this._destroyListeners = [];\n\t        this._destroyed = false;\n\t        initNgModule(this);\n\t    }\n\t    /**\n\t     * @param {?} token\n\t     * @param {?=} notFoundValue\n\t     * @return {?}\n\t     */\n\t    NgModuleRef_.prototype.get = function (token, notFoundValue) {\n\t        if (notFoundValue === void 0) { notFoundValue = Injector.THROW_IF_NOT_FOUND; }\n\t        return resolveNgModuleDep(this, { token: token, tokenKey: tokenKey(token), flags: 0 /* None */ }, notFoundValue);\n\t    };\n\t    Object.defineProperty(NgModuleRef_.prototype, \"instance\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () { return this.get(this._moduleType); },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(NgModuleRef_.prototype, \"componentFactoryResolver\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () { return this.get(ComponentFactoryResolver); },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(NgModuleRef_.prototype, \"injector\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () { return this; },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    /**\n\t     * @return {?}\n\t     */\n\t    NgModuleRef_.prototype.destroy = function () {\n\t        if (this._destroyed) {\n\t            throw new Error(\"The ng module \" + stringify(this.instance.constructor) + \" has already been destroyed.\");\n\t        }\n\t        this._destroyed = true;\n\t        callNgModuleLifecycle(this, 131072 /* OnDestroy */);\n\t        this._destroyListeners.forEach(function (listener) { return listener(); });\n\t    };\n\t    /**\n\t     * @param {?} callback\n\t     * @return {?}\n\t     */\n\t    NgModuleRef_.prototype.onDestroy = function (callback) { this._destroyListeners.push(callback); };\n\t    return NgModuleRef_;\n\t}());\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\tvar RendererV1TokenKey = tokenKey(Renderer);\n\tvar Renderer2TokenKey = tokenKey(Renderer2);\n\tvar ElementRefTokenKey = tokenKey(ElementRef);\n\tvar ViewContainerRefTokenKey = tokenKey(ViewContainerRef);\n\tvar TemplateRefTokenKey = tokenKey(TemplateRef);\n\tvar ChangeDetectorRefTokenKey = tokenKey(ChangeDetectorRef);\n\tvar InjectorRefTokenKey = tokenKey(Injector);\n\t/**\n\t * @param {?} checkIndex\n\t * @param {?} flags\n\t * @param {?} matchedQueries\n\t * @param {?} childCount\n\t * @param {?} ctor\n\t * @param {?} deps\n\t * @param {?=} props\n\t * @param {?=} outputs\n\t * @return {?}\n\t */\n\tfunction directiveDef(checkIndex, flags, matchedQueries, childCount, ctor, deps, props, outputs) {\n\t    var /** @type {?} */ bindings = [];\n\t    if (props) {\n\t        for (var /** @type {?} */ prop in props) {\n\t            var _a = props[prop], bindingIndex = _a[0], nonMinifiedName = _a[1];\n\t            bindings[bindingIndex] = {\n\t                flags: 8 /* TypeProperty */,\n\t                name: prop, nonMinifiedName: nonMinifiedName,\n\t                ns: null,\n\t                securityContext: null,\n\t                suffix: null\n\t            };\n\t        }\n\t    }\n\t    var /** @type {?} */ outputDefs = [];\n\t    if (outputs) {\n\t        for (var /** @type {?} */ propName in outputs) {\n\t            outputDefs.push({ type: 1 /* DirectiveOutput */, propName: propName, target: null, eventName: outputs[propName] });\n\t        }\n\t    }\n\t    flags |= 16384 /* TypeDirective */;\n\t    return _def(checkIndex, flags, matchedQueries, childCount, ctor, ctor, deps, bindings, outputDefs);\n\t}\n\t/**\n\t * @param {?} flags\n\t * @param {?} ctor\n\t * @param {?} deps\n\t * @return {?}\n\t */\n\tfunction pipeDef(flags, ctor, deps) {\n\t    flags |= 16 /* TypePipe */;\n\t    return _def(-1, flags, null, 0, ctor, ctor, deps);\n\t}\n\t/**\n\t * @param {?} flags\n\t * @param {?} matchedQueries\n\t * @param {?} token\n\t * @param {?} value\n\t * @param {?} deps\n\t * @return {?}\n\t */\n\tfunction providerDef(flags, matchedQueries, token, value, deps) {\n\t    return _def(-1, flags, matchedQueries, 0, token, value, deps);\n\t}\n\t/**\n\t * @param {?} checkIndex\n\t * @param {?} flags\n\t * @param {?} matchedQueriesDsl\n\t * @param {?} childCount\n\t * @param {?} token\n\t * @param {?} value\n\t * @param {?} deps\n\t * @param {?=} bindings\n\t * @param {?=} outputs\n\t * @return {?}\n\t */\n\tfunction _def(checkIndex, flags, matchedQueriesDsl, childCount, token, value, deps, bindings, outputs) {\n\t    var _a = splitMatchedQueriesDsl(matchedQueriesDsl), matchedQueries = _a.matchedQueries, references = _a.references, matchedQueryIds = _a.matchedQueryIds;\n\t    if (!outputs) {\n\t        outputs = [];\n\t    }\n\t    if (!bindings) {\n\t        bindings = [];\n\t    }\n\t    var /** @type {?} */ depDefs = splitDepsDsl(deps);\n\t    return {\n\t        // will bet set by the view definition\n\t        nodeIndex: -1,\n\t        parent: null,\n\t        renderParent: null,\n\t        bindingIndex: -1,\n\t        outputIndex: -1,\n\t        // regular values\n\t        checkIndex: checkIndex,\n\t        flags: flags,\n\t        childFlags: 0,\n\t        directChildFlags: 0,\n\t        childMatchedQueries: 0, matchedQueries: matchedQueries, matchedQueryIds: matchedQueryIds, references: references,\n\t        ngContentIndex: -1, childCount: childCount, bindings: bindings,\n\t        bindingFlags: calcBindingFlags(bindings), outputs: outputs,\n\t        element: null,\n\t        provider: { token: token, value: value, deps: depDefs },\n\t        text: null,\n\t        query: null,\n\t        ngContent: null\n\t    };\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} def\n\t * @return {?}\n\t */\n\tfunction createProviderInstance(view, def) {\n\t    return _createProviderInstance(view, def);\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} def\n\t * @return {?}\n\t */\n\tfunction createPipeInstance(view, def) {\n\t    // deps are looked up from component.\n\t    var /** @type {?} */ compView = view;\n\t    while (compView.parent && !isComponentView(compView)) {\n\t        compView = compView.parent;\n\t    }\n\t    // pipes can see the private services of the component\n\t    var /** @type {?} */ allowPrivateServices = true;\n\t    // pipes are always eager and classes!\n\t    return createClass(/** @type {?} */ ((compView.parent)), /** @type {?} */ ((viewParentEl(compView))), allowPrivateServices, /** @type {?} */ ((def.provider)).value, /** @type {?} */ ((def.provider)).deps);\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} def\n\t * @return {?}\n\t */\n\tfunction createDirectiveInstance(view, def) {\n\t    // components can see other private services, other directives can't.\n\t    var /** @type {?} */ allowPrivateServices = (def.flags & 32768 /* Component */) > 0;\n\t    // directives are always eager and classes!\n\t    var /** @type {?} */ instance = createClass(view, /** @type {?} */ ((def.parent)), allowPrivateServices, /** @type {?} */ ((def.provider)).value, /** @type {?} */ ((def.provider)).deps);\n\t    if (def.outputs.length) {\n\t        for (var /** @type {?} */ i = 0; i < def.outputs.length; i++) {\n\t            var /** @type {?} */ output = def.outputs[i];\n\t            var /** @type {?} */ subscription = instance[((output.propName))].subscribe(eventHandlerClosure(view, /** @type {?} */ ((def.parent)).nodeIndex, output.eventName)); /** @type {?} */\n\t            ((view.disposables))[def.outputIndex + i] = subscription.unsubscribe.bind(subscription);\n\t        }\n\t    }\n\t    return instance;\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} index\n\t * @param {?} eventName\n\t * @return {?}\n\t */\n\tfunction eventHandlerClosure(view, index, eventName) {\n\t    return function (event) {\n\t        try {\n\t            return dispatchEvent(view, index, eventName, event);\n\t        }\n\t        catch (e) {\n\t            // Attention: Don't rethrow, as it would cancel Observable subscriptions!\n\t            view.root.errorHandler.handleError(e);\n\t        }\n\t    };\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} def\n\t * @param {?} v0\n\t * @param {?} v1\n\t * @param {?} v2\n\t * @param {?} v3\n\t * @param {?} v4\n\t * @param {?} v5\n\t * @param {?} v6\n\t * @param {?} v7\n\t * @param {?} v8\n\t * @param {?} v9\n\t * @return {?}\n\t */\n\tfunction checkAndUpdateDirectiveInline(view, def, v0, v1, v2, v3, v4, v5, v6, v7, v8, v9) {\n\t    var /** @type {?} */ providerData = asProviderData(view, def.nodeIndex);\n\t    var /** @type {?} */ directive = providerData.instance;\n\t    var /** @type {?} */ changed = false;\n\t    var /** @type {?} */ changes = ((undefined));\n\t    var /** @type {?} */ bindLen = def.bindings.length;\n\t    if (bindLen > 0 && checkBinding(view, def, 0, v0)) {\n\t        changed = true;\n\t        changes = updateProp(view, providerData, def, 0, v0, changes);\n\t    }\n\t    if (bindLen > 1 && checkBinding(view, def, 1, v1)) {\n\t        changed = true;\n\t        changes = updateProp(view, providerData, def, 1, v1, changes);\n\t    }\n\t    if (bindLen > 2 && checkBinding(view, def, 2, v2)) {\n\t        changed = true;\n\t        changes = updateProp(view, providerData, def, 2, v2, changes);\n\t    }\n\t    if (bindLen > 3 && checkBinding(view, def, 3, v3)) {\n\t        changed = true;\n\t        changes = updateProp(view, providerData, def, 3, v3, changes);\n\t    }\n\t    if (bindLen > 4 && checkBinding(view, def, 4, v4)) {\n\t        changed = true;\n\t        changes = updateProp(view, providerData, def, 4, v4, changes);\n\t    }\n\t    if (bindLen > 5 && checkBinding(view, def, 5, v5)) {\n\t        changed = true;\n\t        changes = updateProp(view, providerData, def, 5, v5, changes);\n\t    }\n\t    if (bindLen > 6 && checkBinding(view, def, 6, v6)) {\n\t        changed = true;\n\t        changes = updateProp(view, providerData, def, 6, v6, changes);\n\t    }\n\t    if (bindLen > 7 && checkBinding(view, def, 7, v7)) {\n\t        changed = true;\n\t        changes = updateProp(view, providerData, def, 7, v7, changes);\n\t    }\n\t    if (bindLen > 8 && checkBinding(view, def, 8, v8)) {\n\t        changed = true;\n\t        changes = updateProp(view, providerData, def, 8, v8, changes);\n\t    }\n\t    if (bindLen > 9 && checkBinding(view, def, 9, v9)) {\n\t        changed = true;\n\t        changes = updateProp(view, providerData, def, 9, v9, changes);\n\t    }\n\t    if (changes) {\n\t        directive.ngOnChanges(changes);\n\t    }\n\t    if ((view.state & 2 /* FirstCheck */) && (def.flags & 65536 /* OnInit */)) {\n\t        directive.ngOnInit();\n\t    }\n\t    if (def.flags & 262144 /* DoCheck */) {\n\t        directive.ngDoCheck();\n\t    }\n\t    return changed;\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} def\n\t * @param {?} values\n\t * @return {?}\n\t */\n\tfunction checkAndUpdateDirectiveDynamic(view, def, values) {\n\t    var /** @type {?} */ providerData = asProviderData(view, def.nodeIndex);\n\t    var /** @type {?} */ directive = providerData.instance;\n\t    var /** @type {?} */ changed = false;\n\t    var /** @type {?} */ changes = ((undefined));\n\t    for (var /** @type {?} */ i = 0; i < values.length; i++) {\n\t        if (checkBinding(view, def, i, values[i])) {\n\t            changed = true;\n\t            changes = updateProp(view, providerData, def, i, values[i], changes);\n\t        }\n\t    }\n\t    if (changes) {\n\t        directive.ngOnChanges(changes);\n\t    }\n\t    if ((view.state & 2 /* FirstCheck */) && (def.flags & 65536 /* OnInit */)) {\n\t        directive.ngOnInit();\n\t    }\n\t    if (def.flags & 262144 /* DoCheck */) {\n\t        directive.ngDoCheck();\n\t    }\n\t    return changed;\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} def\n\t * @return {?}\n\t */\n\tfunction _createProviderInstance(view, def) {\n\t    // private services can see other private services\n\t    var /** @type {?} */ allowPrivateServices = (def.flags & 8192 /* PrivateProvider */) > 0;\n\t    var /** @type {?} */ providerDef = def.provider;\n\t    switch (def.flags & 201347067 /* Types */) {\n\t        case 512 /* TypeClassProvider */:\n\t            return createClass(view, /** @type {?} */ ((def.parent)), allowPrivateServices, /** @type {?} */ ((providerDef)).value, /** @type {?} */ ((providerDef)).deps);\n\t        case 1024 /* TypeFactoryProvider */:\n\t            return callFactory(view, /** @type {?} */ ((def.parent)), allowPrivateServices, /** @type {?} */ ((providerDef)).value, /** @type {?} */ ((providerDef)).deps);\n\t        case 2048 /* TypeUseExistingProvider */:\n\t            return resolveDep(view, /** @type {?} */ ((def.parent)), allowPrivateServices, /** @type {?} */ ((providerDef)).deps[0]);\n\t        case 256 /* TypeValueProvider */:\n\t            return ((providerDef)).value;\n\t    }\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} elDef\n\t * @param {?} allowPrivateServices\n\t * @param {?} ctor\n\t * @param {?} deps\n\t * @return {?}\n\t */\n\tfunction createClass(view, elDef, allowPrivateServices, ctor, deps) {\n\t    var /** @type {?} */ len = deps.length;\n\t    switch (len) {\n\t        case 0:\n\t            return new ctor();\n\t        case 1:\n\t            return new ctor(resolveDep(view, elDef, allowPrivateServices, deps[0]));\n\t        case 2:\n\t            return new ctor(resolveDep(view, elDef, allowPrivateServices, deps[0]), resolveDep(view, elDef, allowPrivateServices, deps[1]));\n\t        case 3:\n\t            return new ctor(resolveDep(view, elDef, allowPrivateServices, deps[0]), resolveDep(view, elDef, allowPrivateServices, deps[1]), resolveDep(view, elDef, allowPrivateServices, deps[2]));\n\t        default:\n\t            var /** @type {?} */ depValues = new Array(len);\n\t            for (var /** @type {?} */ i = 0; i < len; i++) {\n\t                depValues[i] = resolveDep(view, elDef, allowPrivateServices, deps[i]);\n\t            }\n\t            return new (ctor.bind.apply(ctor, [void 0].concat(depValues)))();\n\t    }\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} elDef\n\t * @param {?} allowPrivateServices\n\t * @param {?} factory\n\t * @param {?} deps\n\t * @return {?}\n\t */\n\tfunction callFactory(view, elDef, allowPrivateServices, factory, deps) {\n\t    var /** @type {?} */ len = deps.length;\n\t    switch (len) {\n\t        case 0:\n\t            return factory();\n\t        case 1:\n\t            return factory(resolveDep(view, elDef, allowPrivateServices, deps[0]));\n\t        case 2:\n\t            return factory(resolveDep(view, elDef, allowPrivateServices, deps[0]), resolveDep(view, elDef, allowPrivateServices, deps[1]));\n\t        case 3:\n\t            return factory(resolveDep(view, elDef, allowPrivateServices, deps[0]), resolveDep(view, elDef, allowPrivateServices, deps[1]), resolveDep(view, elDef, allowPrivateServices, deps[2]));\n\t        default:\n\t            var /** @type {?} */ depValues = Array(len);\n\t            for (var /** @type {?} */ i = 0; i < len; i++) {\n\t                depValues[i] = resolveDep(view, elDef, allowPrivateServices, deps[i]);\n\t            }\n\t            return factory.apply(void 0, depValues);\n\t    }\n\t}\n\t// This default value is when checking the hierarchy for a token.\n\t//\n\t// It means both:\n\t// - the token is not provided by the current injector,\n\t// - only the element injectors should be checked (ie do not check module injectors\n\t//\n\t//          mod1\n\t//         /\n\t//       el1   mod2\n\t//         \\  /\n\t//         el2\n\t//\n\t// When requesting el2.injector.get(token), we should check in the following order and return the\n\t// first found value:\n\t// - el2.injector.get(token, default)\n\t// - el1.injector.get(token, NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR) -> do not check the module\n\t// - mod2.injector.get(token, default)\n\tvar NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR = {};\n\t/**\n\t * @param {?} view\n\t * @param {?} elDef\n\t * @param {?} allowPrivateServices\n\t * @param {?} depDef\n\t * @param {?=} notFoundValue\n\t * @return {?}\n\t */\n\tfunction resolveDep(view, elDef, allowPrivateServices, depDef, notFoundValue) {\n\t    if (notFoundValue === void 0) { notFoundValue = Injector.THROW_IF_NOT_FOUND; }\n\t    if (depDef.flags & 8 /* Value */) {\n\t        return depDef.token;\n\t    }\n\t    var /** @type {?} */ startView = view;\n\t    if (depDef.flags & 2 /* Optional */) {\n\t        notFoundValue = null;\n\t    }\n\t    var /** @type {?} */ tokenKey$$1 = depDef.tokenKey;\n\t    if (tokenKey$$1 === ChangeDetectorRefTokenKey) {\n\t        // directives on the same element as a component should be able to control the change detector\n\t        // of that component as well.\n\t        allowPrivateServices = !!(elDef && ((elDef.element)).componentView);\n\t    }\n\t    if (elDef && (depDef.flags & 1 /* SkipSelf */)) {\n\t        allowPrivateServices = false;\n\t        elDef = ((elDef.parent));\n\t    }\n\t    while (view) {\n\t        if (elDef) {\n\t            switch (tokenKey$$1) {\n\t                case RendererV1TokenKey: {\n\t                    var /** @type {?} */ compView = findCompView(view, elDef, allowPrivateServices);\n\t                    return createRendererV1(compView);\n\t                }\n\t                case Renderer2TokenKey: {\n\t                    var /** @type {?} */ compView = findCompView(view, elDef, allowPrivateServices);\n\t                    return compView.renderer;\n\t                }\n\t                case ElementRefTokenKey:\n\t                    return new ElementRef(asElementData(view, elDef.nodeIndex).renderElement);\n\t                case ViewContainerRefTokenKey:\n\t                    return asElementData(view, elDef.nodeIndex).viewContainer;\n\t                case TemplateRefTokenKey: {\n\t                    if (((elDef.element)).template) {\n\t                        return asElementData(view, elDef.nodeIndex).template;\n\t                    }\n\t                    break;\n\t                }\n\t                case ChangeDetectorRefTokenKey: {\n\t                    var /** @type {?} */ cdView = findCompView(view, elDef, allowPrivateServices);\n\t                    return createChangeDetectorRef(cdView);\n\t                }\n\t                case InjectorRefTokenKey:\n\t                    return createInjector(view, elDef);\n\t                default:\n\t                    var /** @type {?} */ providerDef_1 = (((allowPrivateServices ? ((elDef.element)).allProviders : ((elDef.element)).publicProviders)))[tokenKey$$1];\n\t                    if (providerDef_1) {\n\t                        var /** @type {?} */ providerData = asProviderData(view, providerDef_1.nodeIndex);\n\t                        if (!providerData) {\n\t                            providerData = { instance: _createProviderInstance(view, providerDef_1) };\n\t                            view.nodes[providerDef_1.nodeIndex] = (providerData);\n\t                        }\n\t                        return providerData.instance;\n\t                    }\n\t            }\n\t        }\n\t        allowPrivateServices = isComponentView(view);\n\t        elDef = ((viewParentEl(view)));\n\t        view = ((view.parent));\n\t    }\n\t    var /** @type {?} */ value = startView.root.injector.get(depDef.token, NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR);\n\t    if (value !== NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR ||\n\t        notFoundValue === NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR) {\n\t        // Return the value from the root element injector when\n\t        // - it provides it\n\t        //   (value !== NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR)\n\t        // - the module injector should not be checked\n\t        //   (notFoundValue === NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR)\n\t        return value;\n\t    }\n\t    return startView.root.ngModule.injector.get(depDef.token, notFoundValue);\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} elDef\n\t * @param {?} allowPrivateServices\n\t * @return {?}\n\t */\n\tfunction findCompView(view, elDef, allowPrivateServices) {\n\t    var /** @type {?} */ compView;\n\t    if (allowPrivateServices) {\n\t        compView = asElementData(view, elDef.nodeIndex).componentView;\n\t    }\n\t    else {\n\t        compView = view;\n\t        while (compView.parent && !isComponentView(compView)) {\n\t            compView = compView.parent;\n\t        }\n\t    }\n\t    return compView;\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} providerData\n\t * @param {?} def\n\t * @param {?} bindingIdx\n\t * @param {?} value\n\t * @param {?} changes\n\t * @return {?}\n\t */\n\tfunction updateProp(view, providerData, def, bindingIdx, value, changes) {\n\t    if (def.flags & 32768 /* Component */) {\n\t        var /** @type {?} */ compView = asElementData(view, /** @type {?} */ ((def.parent)).nodeIndex).componentView;\n\t        if (compView.def.flags & 2 /* OnPush */) {\n\t            compView.state |= 8 /* ChecksEnabled */;\n\t        }\n\t    }\n\t    var /** @type {?} */ binding = def.bindings[bindingIdx];\n\t    var /** @type {?} */ propName = ((binding.name));\n\t    // Note: This is still safe with Closure Compiler as\n\t    // the user passed in the property name as an object has to `providerDef`,\n\t    // so Closure Compiler will have renamed the property correctly already.\n\t    providerData.instance[propName] = value;\n\t    if (def.flags & 524288 /* OnChanges */) {\n\t        changes = changes || {};\n\t        var /** @type {?} */ oldValue = view.oldValues[def.bindingIndex + bindingIdx];\n\t        if (oldValue instanceof WrappedValue) {\n\t            oldValue = oldValue.wrapped;\n\t        }\n\t        var /** @type {?} */ binding_1 = def.bindings[bindingIdx];\n\t        changes[((binding_1.nonMinifiedName))] =\n\t            new SimpleChange(oldValue, value, (view.state & 2 /* FirstCheck */) !== 0);\n\t    }\n\t    view.oldValues[def.bindingIndex + bindingIdx] = value;\n\t    return changes;\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} lifecycles\n\t * @return {?}\n\t */\n\tfunction callLifecycleHooksChildrenFirst(view, lifecycles) {\n\t    if (!(view.def.nodeFlags & lifecycles)) {\n\t        return;\n\t    }\n\t    var /** @type {?} */ nodes = view.def.nodes;\n\t    for (var /** @type {?} */ i = 0; i < nodes.length; i++) {\n\t        var /** @type {?} */ nodeDef = nodes[i];\n\t        var /** @type {?} */ parent = nodeDef.parent;\n\t        if (!parent && nodeDef.flags & lifecycles) {\n\t            // matching root node (e.g. a pipe)\n\t            callProviderLifecycles(view, i, nodeDef.flags & lifecycles);\n\t        }\n\t        if ((nodeDef.childFlags & lifecycles) === 0) {\n\t            // no child matches one of the lifecycles\n\t            i += nodeDef.childCount;\n\t        }\n\t        while (parent && (parent.flags & 1 /* TypeElement */) &&\n\t            i === parent.nodeIndex + parent.childCount) {\n\t            // last child of an element\n\t            if (parent.directChildFlags & lifecycles) {\n\t                callElementProvidersLifecycles(view, parent, lifecycles);\n\t            }\n\t            parent = parent.parent;\n\t        }\n\t    }\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} elDef\n\t * @param {?} lifecycles\n\t * @return {?}\n\t */\n\tfunction callElementProvidersLifecycles(view, elDef, lifecycles) {\n\t    for (var /** @type {?} */ i = elDef.nodeIndex + 1; i <= elDef.nodeIndex + elDef.childCount; i++) {\n\t        var /** @type {?} */ nodeDef = view.def.nodes[i];\n\t        if (nodeDef.flags & lifecycles) {\n\t            callProviderLifecycles(view, i, nodeDef.flags & lifecycles);\n\t        }\n\t        // only visit direct children\n\t        i += nodeDef.childCount;\n\t    }\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} index\n\t * @param {?} lifecycles\n\t * @return {?}\n\t */\n\tfunction callProviderLifecycles(view, index, lifecycles) {\n\t    var /** @type {?} */ providerData = asProviderData(view, index);\n\t    if (!providerData) {\n\t        return;\n\t    }\n\t    var /** @type {?} */ provider = providerData.instance;\n\t    if (!provider) {\n\t        return;\n\t    }\n\t    Services.setCurrentNode(view, index);\n\t    if (lifecycles & 1048576 /* AfterContentInit */) {\n\t        provider.ngAfterContentInit();\n\t    }\n\t    if (lifecycles & 2097152 /* AfterContentChecked */) {\n\t        provider.ngAfterContentChecked();\n\t    }\n\t    if (lifecycles & 4194304 /* AfterViewInit */) {\n\t        provider.ngAfterViewInit();\n\t    }\n\t    if (lifecycles & 8388608 /* AfterViewChecked */) {\n\t        provider.ngAfterViewChecked();\n\t    }\n\t    if (lifecycles & 131072 /* OnDestroy */) {\n\t        provider.ngOnDestroy();\n\t    }\n\t}\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t/**\n\t * @param {?} flags\n\t * @param {?} id\n\t * @param {?} bindings\n\t * @return {?}\n\t */\n\tfunction queryDef(flags, id, bindings) {\n\t    var /** @type {?} */ bindingDefs = [];\n\t    for (var /** @type {?} */ propName in bindings) {\n\t        var /** @type {?} */ bindingType = bindings[propName];\n\t        bindingDefs.push({ propName: propName, bindingType: bindingType });\n\t    }\n\t    return {\n\t        // will bet set by the view definition\n\t        nodeIndex: -1,\n\t        parent: null,\n\t        renderParent: null,\n\t        bindingIndex: -1,\n\t        outputIndex: -1,\n\t        // regular values\n\t        // TODO(vicb): check\n\t        checkIndex: -1, flags: flags,\n\t        childFlags: 0,\n\t        directChildFlags: 0,\n\t        childMatchedQueries: 0,\n\t        ngContentIndex: -1,\n\t        matchedQueries: {},\n\t        matchedQueryIds: 0,\n\t        references: {},\n\t        childCount: 0,\n\t        bindings: [],\n\t        bindingFlags: 0,\n\t        outputs: [],\n\t        element: null,\n\t        provider: null,\n\t        text: null,\n\t        query: { id: id, filterId: filterQueryId(id), bindings: bindingDefs },\n\t        ngContent: null\n\t    };\n\t}\n\t/**\n\t * @return {?}\n\t */\n\tfunction createQuery() {\n\t    return new QueryList();\n\t}\n\t/**\n\t * @param {?} view\n\t * @return {?}\n\t */\n\tfunction dirtyParentQueries(view) {\n\t    var /** @type {?} */ queryIds = view.def.nodeMatchedQueries;\n\t    while (view.parent && isEmbeddedView(view)) {\n\t        var /** @type {?} */ tplDef = ((view.parentNodeDef));\n\t        view = view.parent;\n\t        // content queries\n\t        var /** @type {?} */ end = tplDef.nodeIndex + tplDef.childCount;\n\t        for (var /** @type {?} */ i = 0; i <= end; i++) {\n\t            var /** @type {?} */ nodeDef = view.def.nodes[i];\n\t            if ((nodeDef.flags & 67108864 /* TypeContentQuery */) &&\n\t                (nodeDef.flags & 536870912 /* DynamicQuery */) &&\n\t                (((nodeDef.query)).filterId & queryIds) === ((nodeDef.query)).filterId) {\n\t                asQueryList(view, i).setDirty();\n\t            }\n\t            if ((nodeDef.flags & 1 /* TypeElement */ && i + nodeDef.childCount < tplDef.nodeIndex) ||\n\t                !(nodeDef.childFlags & 67108864 /* TypeContentQuery */) ||\n\t                !(nodeDef.childFlags & 536870912 /* DynamicQuery */)) {\n\t                // skip elements that don't contain the template element or no query.\n\t                i += nodeDef.childCount;\n\t            }\n\t        }\n\t    }\n\t    // view queries\n\t    if (view.def.nodeFlags & 134217728 /* TypeViewQuery */) {\n\t        for (var /** @type {?} */ i = 0; i < view.def.nodes.length; i++) {\n\t            var /** @type {?} */ nodeDef = view.def.nodes[i];\n\t            if ((nodeDef.flags & 134217728 /* TypeViewQuery */) && (nodeDef.flags & 536870912 /* DynamicQuery */)) {\n\t                asQueryList(view, i).setDirty();\n\t            }\n\t            // only visit the root nodes\n\t            i += nodeDef.childCount;\n\t        }\n\t    }\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} nodeDef\n\t * @return {?}\n\t */\n\tfunction checkAndUpdateQuery(view, nodeDef) {\n\t    var /** @type {?} */ queryList = asQueryList(view, nodeDef.nodeIndex);\n\t    if (!queryList.dirty) {\n\t        return;\n\t    }\n\t    var /** @type {?} */ directiveInstance;\n\t    var /** @type {?} */ newValues = ((undefined));\n\t    if (nodeDef.flags & 67108864 /* TypeContentQuery */) {\n\t        var /** @type {?} */ elementDef_1 = ((((nodeDef.parent)).parent));\n\t        newValues = calcQueryValues(view, elementDef_1.nodeIndex, elementDef_1.nodeIndex + elementDef_1.childCount, /** @type {?} */ ((nodeDef.query)), []);\n\t        directiveInstance = asProviderData(view, /** @type {?} */ ((nodeDef.parent)).nodeIndex).instance;\n\t    }\n\t    else if (nodeDef.flags & 134217728 /* TypeViewQuery */) {\n\t        newValues = calcQueryValues(view, 0, view.def.nodes.length - 1, /** @type {?} */ ((nodeDef.query)), []);\n\t        directiveInstance = view.component;\n\t    }\n\t    queryList.reset(newValues);\n\t    var /** @type {?} */ bindings = ((nodeDef.query)).bindings;\n\t    var /** @type {?} */ notify = false;\n\t    for (var /** @type {?} */ i = 0; i < bindings.length; i++) {\n\t        var /** @type {?} */ binding = bindings[i];\n\t        var /** @type {?} */ boundValue = void 0;\n\t        switch (binding.bindingType) {\n\t            case 0 /* First */:\n\t                boundValue = queryList.first;\n\t                break;\n\t            case 1 /* All */:\n\t                boundValue = queryList;\n\t                notify = true;\n\t                break;\n\t        }\n\t        directiveInstance[binding.propName] = boundValue;\n\t    }\n\t    if (notify) {\n\t        queryList.notifyOnChanges();\n\t    }\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} startIndex\n\t * @param {?} endIndex\n\t * @param {?} queryDef\n\t * @param {?} values\n\t * @return {?}\n\t */\n\tfunction calcQueryValues(view, startIndex, endIndex, queryDef, values) {\n\t    for (var /** @type {?} */ i = startIndex; i <= endIndex; i++) {\n\t        var /** @type {?} */ nodeDef = view.def.nodes[i];\n\t        var /** @type {?} */ valueType = nodeDef.matchedQueries[queryDef.id];\n\t        if (valueType != null) {\n\t            values.push(getQueryValue(view, nodeDef, valueType));\n\t        }\n\t        if (nodeDef.flags & 1 /* TypeElement */ && ((nodeDef.element)).template &&\n\t            (((((nodeDef.element)).template)).nodeMatchedQueries & queryDef.filterId) ===\n\t                queryDef.filterId) {\n\t            var /** @type {?} */ elementData = asElementData(view, i);\n\t            // check embedded views that were attached at the place of their template,\n\t            // but process child nodes first if some match the query (see issue #16568)\n\t            if ((nodeDef.childMatchedQueries & queryDef.filterId) === queryDef.filterId) {\n\t                calcQueryValues(view, i + 1, i + nodeDef.childCount, queryDef, values);\n\t                i += nodeDef.childCount;\n\t            }\n\t            if (nodeDef.flags & 16777216 /* EmbeddedViews */) {\n\t                var /** @type {?} */ embeddedViews = ((elementData.viewContainer))._embeddedViews;\n\t                for (var /** @type {?} */ k = 0; k < embeddedViews.length; k++) {\n\t                    var /** @type {?} */ embeddedView = embeddedViews[k];\n\t                    var /** @type {?} */ dvc = declaredViewContainer(embeddedView);\n\t                    if (dvc && dvc === elementData) {\n\t                        calcQueryValues(embeddedView, 0, embeddedView.def.nodes.length - 1, queryDef, values);\n\t                    }\n\t                }\n\t            }\n\t            var /** @type {?} */ projectedViews = elementData.template._projectedViews;\n\t            if (projectedViews) {\n\t                for (var /** @type {?} */ k = 0; k < projectedViews.length; k++) {\n\t                    var /** @type {?} */ projectedView = projectedViews[k];\n\t                    calcQueryValues(projectedView, 0, projectedView.def.nodes.length - 1, queryDef, values);\n\t                }\n\t            }\n\t        }\n\t        if ((nodeDef.childMatchedQueries & queryDef.filterId) !== queryDef.filterId) {\n\t            // if no child matches the query, skip the children.\n\t            i += nodeDef.childCount;\n\t        }\n\t    }\n\t    return values;\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} nodeDef\n\t * @param {?} queryValueType\n\t * @return {?}\n\t */\n\tfunction getQueryValue(view, nodeDef, queryValueType) {\n\t    if (queryValueType != null) {\n\t        // a match\n\t        switch (queryValueType) {\n\t            case 1 /* RenderElement */:\n\t                return asElementData(view, nodeDef.nodeIndex).renderElement;\n\t            case 0 /* ElementRef */:\n\t                return new ElementRef(asElementData(view, nodeDef.nodeIndex).renderElement);\n\t            case 2 /* TemplateRef */:\n\t                return asElementData(view, nodeDef.nodeIndex).template;\n\t            case 3 /* ViewContainerRef */:\n\t                return asElementData(view, nodeDef.nodeIndex).viewContainer;\n\t            case 4 /* Provider */:\n\t                return asProviderData(view, nodeDef.nodeIndex).instance;\n\t        }\n\t    }\n\t}\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t/**\n\t * @param {?} ngContentIndex\n\t * @param {?} index\n\t * @return {?}\n\t */\n\tfunction ngContentDef(ngContentIndex, index) {\n\t    return {\n\t        // will bet set by the view definition\n\t        nodeIndex: -1,\n\t        parent: null,\n\t        renderParent: null,\n\t        bindingIndex: -1,\n\t        outputIndex: -1,\n\t        // regular values\n\t        checkIndex: -1,\n\t        flags: 8 /* TypeNgContent */,\n\t        childFlags: 0,\n\t        directChildFlags: 0,\n\t        childMatchedQueries: 0,\n\t        matchedQueries: {},\n\t        matchedQueryIds: 0,\n\t        references: {}, ngContentIndex: ngContentIndex,\n\t        childCount: 0,\n\t        bindings: [],\n\t        bindingFlags: 0,\n\t        outputs: [],\n\t        element: null,\n\t        provider: null,\n\t        text: null,\n\t        query: null,\n\t        ngContent: { index: index }\n\t    };\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} renderHost\n\t * @param {?} def\n\t * @return {?}\n\t */\n\tfunction appendNgContent(view, renderHost, def) {\n\t    var /** @type {?} */ parentEl = getParentRenderElement(view, renderHost, def);\n\t    if (!parentEl) {\n\t        // Nothing to do if there is no parent element.\n\t        return;\n\t    }\n\t    var /** @type {?} */ ngContentIndex = ((def.ngContent)).index;\n\t    visitProjectedRenderNodes(view, ngContentIndex, 1 /* AppendChild */, parentEl, null, undefined);\n\t}\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t/**\n\t * @param {?} checkIndex\n\t * @param {?} argCount\n\t * @return {?}\n\t */\n\tfunction purePipeDef(checkIndex, argCount) {\n\t    // argCount + 1 to include the pipe as first arg\n\t    return _pureExpressionDef(128 /* TypePurePipe */, checkIndex, new Array(argCount + 1));\n\t}\n\t/**\n\t * @param {?} checkIndex\n\t * @param {?} argCount\n\t * @return {?}\n\t */\n\tfunction pureArrayDef(checkIndex, argCount) {\n\t    return _pureExpressionDef(32 /* TypePureArray */, checkIndex, new Array(argCount));\n\t}\n\t/**\n\t * @param {?} checkIndex\n\t * @param {?} propToIndex\n\t * @return {?}\n\t */\n\tfunction pureObjectDef(checkIndex, propToIndex) {\n\t    var /** @type {?} */ keys = Object.keys(propToIndex);\n\t    var /** @type {?} */ nbKeys = keys.length;\n\t    var /** @type {?} */ propertyNames = new Array(nbKeys);\n\t    for (var /** @type {?} */ i = 0; i < nbKeys; i++) {\n\t        var /** @type {?} */ key = keys[i];\n\t        var /** @type {?} */ index = propToIndex[key];\n\t        propertyNames[index] = key;\n\t    }\n\t    return _pureExpressionDef(64 /* TypePureObject */, checkIndex, propertyNames);\n\t}\n\t/**\n\t * @param {?} flags\n\t * @param {?} checkIndex\n\t * @param {?} propertyNames\n\t * @return {?}\n\t */\n\tfunction _pureExpressionDef(flags, checkIndex, propertyNames) {\n\t    var /** @type {?} */ bindings = new Array(propertyNames.length);\n\t    for (var /** @type {?} */ i = 0; i < propertyNames.length; i++) {\n\t        var /** @type {?} */ prop = propertyNames[i];\n\t        bindings[i] = {\n\t            flags: 8 /* TypeProperty */,\n\t            name: prop,\n\t            ns: null,\n\t            nonMinifiedName: prop,\n\t            securityContext: null,\n\t            suffix: null\n\t        };\n\t    }\n\t    return {\n\t        // will bet set by the view definition\n\t        nodeIndex: -1,\n\t        parent: null,\n\t        renderParent: null,\n\t        bindingIndex: -1,\n\t        outputIndex: -1,\n\t        // regular values\n\t        checkIndex: checkIndex,\n\t        flags: flags,\n\t        childFlags: 0,\n\t        directChildFlags: 0,\n\t        childMatchedQueries: 0,\n\t        matchedQueries: {},\n\t        matchedQueryIds: 0,\n\t        references: {},\n\t        ngContentIndex: -1,\n\t        childCount: 0, bindings: bindings,\n\t        bindingFlags: calcBindingFlags(bindings),\n\t        outputs: [],\n\t        element: null,\n\t        provider: null,\n\t        text: null,\n\t        query: null,\n\t        ngContent: null\n\t    };\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} def\n\t * @return {?}\n\t */\n\tfunction createPureExpression(view, def) {\n\t    return { value: undefined };\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} def\n\t * @param {?} v0\n\t * @param {?} v1\n\t * @param {?} v2\n\t * @param {?} v3\n\t * @param {?} v4\n\t * @param {?} v5\n\t * @param {?} v6\n\t * @param {?} v7\n\t * @param {?} v8\n\t * @param {?} v9\n\t * @return {?}\n\t */\n\tfunction checkAndUpdatePureExpressionInline(view, def, v0, v1, v2, v3, v4, v5, v6, v7, v8, v9) {\n\t    var /** @type {?} */ bindings = def.bindings;\n\t    var /** @type {?} */ changed = false;\n\t    var /** @type {?} */ bindLen = bindings.length;\n\t    if (bindLen > 0 && checkAndUpdateBinding(view, def, 0, v0))\n\t        changed = true;\n\t    if (bindLen > 1 && checkAndUpdateBinding(view, def, 1, v1))\n\t        changed = true;\n\t    if (bindLen > 2 && checkAndUpdateBinding(view, def, 2, v2))\n\t        changed = true;\n\t    if (bindLen > 3 && checkAndUpdateBinding(view, def, 3, v3))\n\t        changed = true;\n\t    if (bindLen > 4 && checkAndUpdateBinding(view, def, 4, v4))\n\t        changed = true;\n\t    if (bindLen > 5 && checkAndUpdateBinding(view, def, 5, v5))\n\t        changed = true;\n\t    if (bindLen > 6 && checkAndUpdateBinding(view, def, 6, v6))\n\t        changed = true;\n\t    if (bindLen > 7 && checkAndUpdateBinding(view, def, 7, v7))\n\t        changed = true;\n\t    if (bindLen > 8 && checkAndUpdateBinding(view, def, 8, v8))\n\t        changed = true;\n\t    if (bindLen > 9 && checkAndUpdateBinding(view, def, 9, v9))\n\t        changed = true;\n\t    if (changed) {\n\t        var /** @type {?} */ data = asPureExpressionData(view, def.nodeIndex);\n\t        var /** @type {?} */ value = void 0;\n\t        switch (def.flags & 201347067 /* Types */) {\n\t            case 32 /* TypePureArray */:\n\t                value = new Array(bindings.length);\n\t                if (bindLen > 0)\n\t                    value[0] = v0;\n\t                if (bindLen > 1)\n\t                    value[1] = v1;\n\t                if (bindLen > 2)\n\t                    value[2] = v2;\n\t                if (bindLen > 3)\n\t                    value[3] = v3;\n\t                if (bindLen > 4)\n\t                    value[4] = v4;\n\t                if (bindLen > 5)\n\t                    value[5] = v5;\n\t                if (bindLen > 6)\n\t                    value[6] = v6;\n\t                if (bindLen > 7)\n\t                    value[7] = v7;\n\t                if (bindLen > 8)\n\t                    value[8] = v8;\n\t                if (bindLen > 9)\n\t                    value[9] = v9;\n\t                break;\n\t            case 64 /* TypePureObject */:\n\t                value = {};\n\t                if (bindLen > 0)\n\t                    value[((bindings[0].name))] = v0;\n\t                if (bindLen > 1)\n\t                    value[((bindings[1].name))] = v1;\n\t                if (bindLen > 2)\n\t                    value[((bindings[2].name))] = v2;\n\t                if (bindLen > 3)\n\t                    value[((bindings[3].name))] = v3;\n\t                if (bindLen > 4)\n\t                    value[((bindings[4].name))] = v4;\n\t                if (bindLen > 5)\n\t                    value[((bindings[5].name))] = v5;\n\t                if (bindLen > 6)\n\t                    value[((bindings[6].name))] = v6;\n\t                if (bindLen > 7)\n\t                    value[((bindings[7].name))] = v7;\n\t                if (bindLen > 8)\n\t                    value[((bindings[8].name))] = v8;\n\t                if (bindLen > 9)\n\t                    value[((bindings[9].name))] = v9;\n\t                break;\n\t            case 128 /* TypePurePipe */:\n\t                var /** @type {?} */ pipe = v0;\n\t                switch (bindLen) {\n\t                    case 1:\n\t                        value = pipe.transform(v0);\n\t                        break;\n\t                    case 2:\n\t                        value = pipe.transform(v1);\n\t                        break;\n\t                    case 3:\n\t                        value = pipe.transform(v1, v2);\n\t                        break;\n\t                    case 4:\n\t                        value = pipe.transform(v1, v2, v3);\n\t                        break;\n\t                    case 5:\n\t                        value = pipe.transform(v1, v2, v3, v4);\n\t                        break;\n\t                    case 6:\n\t                        value = pipe.transform(v1, v2, v3, v4, v5);\n\t                        break;\n\t                    case 7:\n\t                        value = pipe.transform(v1, v2, v3, v4, v5, v6);\n\t                        break;\n\t                    case 8:\n\t                        value = pipe.transform(v1, v2, v3, v4, v5, v6, v7);\n\t                        break;\n\t                    case 9:\n\t                        value = pipe.transform(v1, v2, v3, v4, v5, v6, v7, v8);\n\t                        break;\n\t                    case 10:\n\t                        value = pipe.transform(v1, v2, v3, v4, v5, v6, v7, v8, v9);\n\t                        break;\n\t                }\n\t                break;\n\t        }\n\t        data.value = value;\n\t    }\n\t    return changed;\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} def\n\t * @param {?} values\n\t * @return {?}\n\t */\n\tfunction checkAndUpdatePureExpressionDynamic(view, def, values) {\n\t    var /** @type {?} */ bindings = def.bindings;\n\t    var /** @type {?} */ changed = false;\n\t    for (var /** @type {?} */ i = 0; i < values.length; i++) {\n\t        // Note: We need to loop over all values, so that\n\t        // the old values are updates as well!\n\t        if (checkAndUpdateBinding(view, def, i, values[i])) {\n\t            changed = true;\n\t        }\n\t    }\n\t    if (changed) {\n\t        var /** @type {?} */ data = asPureExpressionData(view, def.nodeIndex);\n\t        var /** @type {?} */ value = void 0;\n\t        switch (def.flags & 201347067 /* Types */) {\n\t            case 32 /* TypePureArray */:\n\t                value = values;\n\t                break;\n\t            case 64 /* TypePureObject */:\n\t                value = {};\n\t                for (var /** @type {?} */ i = 0; i < values.length; i++) {\n\t                    value[((bindings[i].name))] = values[i];\n\t                }\n\t                break;\n\t            case 128 /* TypePurePipe */:\n\t                var /** @type {?} */ pipe = values[0];\n\t                var /** @type {?} */ params = values.slice(1);\n\t                value = pipe.transform.apply(pipe, params);\n\t                break;\n\t        }\n\t        data.value = value;\n\t    }\n\t    return changed;\n\t}\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t/**\n\t * @param {?} checkIndex\n\t * @param {?} ngContentIndex\n\t * @param {?} staticText\n\t * @return {?}\n\t */\n\tfunction textDef(checkIndex, ngContentIndex, staticText) {\n\t    var /** @type {?} */ bindings = new Array(staticText.length - 1);\n\t    for (var /** @type {?} */ i = 1; i < staticText.length; i++) {\n\t        bindings[i - 1] = {\n\t            flags: 8 /* TypeProperty */,\n\t            name: null,\n\t            ns: null,\n\t            nonMinifiedName: null,\n\t            securityContext: null,\n\t            suffix: staticText[i],\n\t        };\n\t    }\n\t    return {\n\t        // will bet set by the view definition\n\t        nodeIndex: -1,\n\t        parent: null,\n\t        renderParent: null,\n\t        bindingIndex: -1,\n\t        outputIndex: -1,\n\t        // regular values\n\t        checkIndex: checkIndex,\n\t        flags: 2 /* TypeText */,\n\t        childFlags: 0,\n\t        directChildFlags: 0,\n\t        childMatchedQueries: 0,\n\t        matchedQueries: {},\n\t        matchedQueryIds: 0,\n\t        references: {}, ngContentIndex: ngContentIndex,\n\t        childCount: 0, bindings: bindings,\n\t        bindingFlags: 8 /* TypeProperty */,\n\t        outputs: [],\n\t        element: null,\n\t        provider: null,\n\t        text: { prefix: staticText[0] },\n\t        query: null,\n\t        ngContent: null,\n\t    };\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} renderHost\n\t * @param {?} def\n\t * @return {?}\n\t */\n\tfunction createText(view, renderHost, def) {\n\t    var /** @type {?} */ renderNode$$1;\n\t    var /** @type {?} */ renderer = view.renderer;\n\t    renderNode$$1 = renderer.createText(/** @type {?} */ ((def.text)).prefix);\n\t    var /** @type {?} */ parentEl = getParentRenderElement(view, renderHost, def);\n\t    if (parentEl) {\n\t        renderer.appendChild(parentEl, renderNode$$1);\n\t    }\n\t    return { renderText: renderNode$$1 };\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} def\n\t * @param {?} v0\n\t * @param {?} v1\n\t * @param {?} v2\n\t * @param {?} v3\n\t * @param {?} v4\n\t * @param {?} v5\n\t * @param {?} v6\n\t * @param {?} v7\n\t * @param {?} v8\n\t * @param {?} v9\n\t * @return {?}\n\t */\n\tfunction checkAndUpdateTextInline(view, def, v0, v1, v2, v3, v4, v5, v6, v7, v8, v9) {\n\t    var /** @type {?} */ changed = false;\n\t    var /** @type {?} */ bindings = def.bindings;\n\t    var /** @type {?} */ bindLen = bindings.length;\n\t    if (bindLen > 0 && checkAndUpdateBinding(view, def, 0, v0))\n\t        changed = true;\n\t    if (bindLen > 1 && checkAndUpdateBinding(view, def, 1, v1))\n\t        changed = true;\n\t    if (bindLen > 2 && checkAndUpdateBinding(view, def, 2, v2))\n\t        changed = true;\n\t    if (bindLen > 3 && checkAndUpdateBinding(view, def, 3, v3))\n\t        changed = true;\n\t    if (bindLen > 4 && checkAndUpdateBinding(view, def, 4, v4))\n\t        changed = true;\n\t    if (bindLen > 5 && checkAndUpdateBinding(view, def, 5, v5))\n\t        changed = true;\n\t    if (bindLen > 6 && checkAndUpdateBinding(view, def, 6, v6))\n\t        changed = true;\n\t    if (bindLen > 7 && checkAndUpdateBinding(view, def, 7, v7))\n\t        changed = true;\n\t    if (bindLen > 8 && checkAndUpdateBinding(view, def, 8, v8))\n\t        changed = true;\n\t    if (bindLen > 9 && checkAndUpdateBinding(view, def, 9, v9))\n\t        changed = true;\n\t    if (changed) {\n\t        var /** @type {?} */ value = ((def.text)).prefix;\n\t        if (bindLen > 0)\n\t            value += _addInterpolationPart(v0, bindings[0]);\n\t        if (bindLen > 1)\n\t            value += _addInterpolationPart(v1, bindings[1]);\n\t        if (bindLen > 2)\n\t            value += _addInterpolationPart(v2, bindings[2]);\n\t        if (bindLen > 3)\n\t            value += _addInterpolationPart(v3, bindings[3]);\n\t        if (bindLen > 4)\n\t            value += _addInterpolationPart(v4, bindings[4]);\n\t        if (bindLen > 5)\n\t            value += _addInterpolationPart(v5, bindings[5]);\n\t        if (bindLen > 6)\n\t            value += _addInterpolationPart(v6, bindings[6]);\n\t        if (bindLen > 7)\n\t            value += _addInterpolationPart(v7, bindings[7]);\n\t        if (bindLen > 8)\n\t            value += _addInterpolationPart(v8, bindings[8]);\n\t        if (bindLen > 9)\n\t            value += _addInterpolationPart(v9, bindings[9]);\n\t        var /** @type {?} */ renderNode$$1 = asTextData(view, def.nodeIndex).renderText;\n\t        view.renderer.setValue(renderNode$$1, value);\n\t    }\n\t    return changed;\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} def\n\t * @param {?} values\n\t * @return {?}\n\t */\n\tfunction checkAndUpdateTextDynamic(view, def, values) {\n\t    var /** @type {?} */ bindings = def.bindings;\n\t    var /** @type {?} */ changed = false;\n\t    for (var /** @type {?} */ i = 0; i < values.length; i++) {\n\t        // Note: We need to loop over all values, so that\n\t        // the old values are updates as well!\n\t        if (checkAndUpdateBinding(view, def, i, values[i])) {\n\t            changed = true;\n\t        }\n\t    }\n\t    if (changed) {\n\t        var /** @type {?} */ value = '';\n\t        for (var /** @type {?} */ i = 0; i < values.length; i++) {\n\t            value = value + _addInterpolationPart(values[i], bindings[i]);\n\t        }\n\t        value = ((def.text)).prefix + value;\n\t        var /** @type {?} */ renderNode$$1 = asTextData(view, def.nodeIndex).renderText;\n\t        view.renderer.setValue(renderNode$$1, value);\n\t    }\n\t    return changed;\n\t}\n\t/**\n\t * @param {?} value\n\t * @param {?} binding\n\t * @return {?}\n\t */\n\tfunction _addInterpolationPart(value, binding) {\n\t    var /** @type {?} */ valueStr = value != null ? value.toString() : '';\n\t    return valueStr + binding.suffix;\n\t}\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t/**\n\t * @param {?} flags\n\t * @param {?} nodes\n\t * @param {?=} updateDirectives\n\t * @param {?=} updateRenderer\n\t * @return {?}\n\t */\n\tfunction viewDef(flags, nodes, updateDirectives, updateRenderer) {\n\t    // clone nodes and set auto calculated values\n\t    var /** @type {?} */ viewBindingCount = 0;\n\t    var /** @type {?} */ viewDisposableCount = 0;\n\t    var /** @type {?} */ viewNodeFlags = 0;\n\t    var /** @type {?} */ viewRootNodeFlags = 0;\n\t    var /** @type {?} */ viewMatchedQueries = 0;\n\t    var /** @type {?} */ currentParent = null;\n\t    var /** @type {?} */ currentRenderParent = null;\n\t    var /** @type {?} */ currentElementHasPublicProviders = false;\n\t    var /** @type {?} */ currentElementHasPrivateProviders = false;\n\t    var /** @type {?} */ lastRenderRootNode = null;\n\t    for (var /** @type {?} */ i = 0; i < nodes.length; i++) {\n\t        var /** @type {?} */ node = nodes[i];\n\t        node.nodeIndex = i;\n\t        node.parent = currentParent;\n\t        node.bindingIndex = viewBindingCount;\n\t        node.outputIndex = viewDisposableCount;\n\t        node.renderParent = currentRenderParent;\n\t        viewNodeFlags |= node.flags;\n\t        viewMatchedQueries |= node.matchedQueryIds;\n\t        if (node.element) {\n\t            var /** @type {?} */ elDef = node.element;\n\t            elDef.publicProviders =\n\t                currentParent ? ((currentParent.element)).publicProviders : Object.create(null);\n\t            elDef.allProviders = elDef.publicProviders;\n\t            // Note: We assume that all providers of an element are before any child element!\n\t            currentElementHasPublicProviders = false;\n\t            currentElementHasPrivateProviders = false;\n\t            if (node.element.template) {\n\t                viewMatchedQueries |= node.element.template.nodeMatchedQueries;\n\t            }\n\t        }\n\t        validateNode(currentParent, node, nodes.length);\n\t        viewBindingCount += node.bindings.length;\n\t        viewDisposableCount += node.outputs.length;\n\t        if (!currentRenderParent && (node.flags & 3 /* CatRenderNode */)) {\n\t            lastRenderRootNode = node;\n\t        }\n\t        if (node.flags & 20224 /* CatProvider */) {\n\t            if (!currentElementHasPublicProviders) {\n\t                currentElementHasPublicProviders = true; /** @type {?} */\n\t                ((((\n\t                // Use prototypical inheritance to not get O(n^2) complexity...\n\t                currentParent)).element)).publicProviders =\n\t                    Object.create(/** @type {?} */ ((((currentParent)).element)).publicProviders); /** @type {?} */\n\t                ((((currentParent)).element)).allProviders = ((((currentParent)).element)).publicProviders;\n\t            }\n\t            var /** @type {?} */ isPrivateService = (node.flags & 8192 /* PrivateProvider */) !== 0;\n\t            var /** @type {?} */ isComponent = (node.flags & 32768 /* Component */) !== 0;\n\t            if (!isPrivateService || isComponent) {\n\t                ((((((currentParent)).element)).publicProviders))[tokenKey(/** @type {?} */ ((node.provider)).token)] = node;\n\t            }\n\t            else {\n\t                if (!currentElementHasPrivateProviders) {\n\t                    currentElementHasPrivateProviders = true; /** @type {?} */\n\t                    ((((\n\t                    // Use prototypical inheritance to not get O(n^2) complexity...\n\t                    currentParent)).element)).allProviders =\n\t                        Object.create(/** @type {?} */ ((((currentParent)).element)).publicProviders);\n\t                } /** @type {?} */\n\t                ((((((currentParent)).element)).allProviders))[tokenKey(/** @type {?} */ ((node.provider)).token)] = node;\n\t            }\n\t            if (isComponent) {\n\t                ((((currentParent)).element)).componentProvider = node;\n\t            }\n\t        }\n\t        if (currentParent) {\n\t            currentParent.childFlags |= node.flags;\n\t            currentParent.directChildFlags |= node.flags;\n\t            currentParent.childMatchedQueries |= node.matchedQueryIds;\n\t            if (node.element && node.element.template) {\n\t                currentParent.childMatchedQueries |= node.element.template.nodeMatchedQueries;\n\t            }\n\t        }\n\t        else {\n\t            viewRootNodeFlags |= node.flags;\n\t        }\n\t        if (node.childCount > 0) {\n\t            currentParent = node;\n\t            if (!isNgContainer(node)) {\n\t                currentRenderParent = node;\n\t            }\n\t        }\n\t        else {\n\t            // When the current node has no children, check if it is the last children of its parent.\n\t            // When it is, propagate the flags up.\n\t            // The loop is required because an element could be the last transitive children of several\n\t            // elements. We loop to either the root or the highest opened element (= with remaining\n\t            // children)\n\t            while (currentParent && i === currentParent.nodeIndex + currentParent.childCount) {\n\t                var /** @type {?} */ newParent = currentParent.parent;\n\t                if (newParent) {\n\t                    newParent.childFlags |= currentParent.childFlags;\n\t                    newParent.childMatchedQueries |= currentParent.childMatchedQueries;\n\t                }\n\t                currentParent = newParent;\n\t                // We also need to update the render parent & account for ng-container\n\t                if (currentParent && isNgContainer(currentParent)) {\n\t                    currentRenderParent = currentParent.renderParent;\n\t                }\n\t                else {\n\t                    currentRenderParent = currentParent;\n\t                }\n\t            }\n\t        }\n\t    }\n\t    var /** @type {?} */ handleEvent = function (view, nodeIndex, eventName, event) { return ((((nodes[nodeIndex].element)).handleEvent))(view, eventName, event); };\n\t    return {\n\t        // Will be filled later...\n\t        factory: null,\n\t        nodeFlags: viewNodeFlags,\n\t        rootNodeFlags: viewRootNodeFlags,\n\t        nodeMatchedQueries: viewMatchedQueries, flags: flags,\n\t        nodes: nodes,\n\t        updateDirectives: updateDirectives || NOOP,\n\t        updateRenderer: updateRenderer || NOOP, handleEvent: handleEvent,\n\t        bindingCount: viewBindingCount,\n\t        outputCount: viewDisposableCount, lastRenderRootNode: lastRenderRootNode\n\t    };\n\t}\n\t/**\n\t * @param {?} node\n\t * @return {?}\n\t */\n\tfunction isNgContainer(node) {\n\t    return (node.flags & 1 /* TypeElement */) !== 0 && ((node.element)).name === null;\n\t}\n\t/**\n\t * @param {?} parent\n\t * @param {?} node\n\t * @param {?} nodeCount\n\t * @return {?}\n\t */\n\tfunction validateNode(parent, node, nodeCount) {\n\t    var /** @type {?} */ template = node.element && node.element.template;\n\t    if (template) {\n\t        if (!template.lastRenderRootNode) {\n\t            throw new Error(\"Illegal State: Embedded templates without nodes are not allowed!\");\n\t        }\n\t        if (template.lastRenderRootNode &&\n\t            template.lastRenderRootNode.flags & 16777216 /* EmbeddedViews */) {\n\t            throw new Error(\"Illegal State: Last root node of a template can't have embedded views, at index \" + node.nodeIndex + \"!\");\n\t        }\n\t    }\n\t    if (node.flags & 20224 /* CatProvider */) {\n\t        var /** @type {?} */ parentFlags = parent ? parent.flags : 0;\n\t        if ((parentFlags & 1 /* TypeElement */) === 0) {\n\t            throw new Error(\"Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index \" + node.nodeIndex + \"!\");\n\t        }\n\t    }\n\t    if (node.query) {\n\t        if (node.flags & 67108864 /* TypeContentQuery */ &&\n\t            (!parent || (parent.flags & 16384 /* TypeDirective */) === 0)) {\n\t            throw new Error(\"Illegal State: Content Query nodes need to be children of directives, at index \" + node.nodeIndex + \"!\");\n\t        }\n\t        if (node.flags & 134217728 /* TypeViewQuery */ && parent) {\n\t            throw new Error(\"Illegal State: View Query nodes have to be top level nodes, at index \" + node.nodeIndex + \"!\");\n\t        }\n\t    }\n\t    if (node.childCount) {\n\t        var /** @type {?} */ parentEnd = parent ? parent.nodeIndex + parent.childCount : nodeCount - 1;\n\t        if (node.nodeIndex <= parentEnd && node.nodeIndex + node.childCount > parentEnd) {\n\t            throw new Error(\"Illegal State: childCount of node leads outside of parent, at index \" + node.nodeIndex + \"!\");\n\t        }\n\t    }\n\t}\n\t/**\n\t * @param {?} parent\n\t * @param {?} anchorDef\n\t * @param {?} viewDef\n\t * @param {?=} context\n\t * @return {?}\n\t */\n\tfunction createEmbeddedView(parent, anchorDef$$1, viewDef, context) {\n\t    // embedded views are seen as siblings to the anchor, so we need\n\t    // to get the parent of the anchor and use it as parentIndex.\n\t    var /** @type {?} */ view = createView(parent.root, parent.renderer, parent, anchorDef$$1, viewDef);\n\t    initView(view, parent.component, context);\n\t    createViewNodes(view);\n\t    return view;\n\t}\n\t/**\n\t * @param {?} root\n\t * @param {?} def\n\t * @param {?=} context\n\t * @return {?}\n\t */\n\tfunction createRootView(root, def, context) {\n\t    var /** @type {?} */ view = createView(root, root.renderer, null, null, def);\n\t    initView(view, context, context);\n\t    createViewNodes(view);\n\t    return view;\n\t}\n\t/**\n\t * @param {?} parentView\n\t * @param {?} nodeDef\n\t * @param {?} viewDef\n\t * @param {?} hostElement\n\t * @return {?}\n\t */\n\tfunction createComponentView(parentView, nodeDef, viewDef, hostElement) {\n\t    var /** @type {?} */ rendererType = ((nodeDef.element)).componentRendererType;\n\t    var /** @type {?} */ compRenderer;\n\t    if (!rendererType) {\n\t        compRenderer = parentView.root.renderer;\n\t    }\n\t    else {\n\t        compRenderer = parentView.root.rendererFactory.createRenderer(hostElement, rendererType);\n\t    }\n\t    return createView(parentView.root, compRenderer, parentView, /** @type {?} */ ((nodeDef.element)).componentProvider, viewDef);\n\t}\n\t/**\n\t * @param {?} root\n\t * @param {?} renderer\n\t * @param {?} parent\n\t * @param {?} parentNodeDef\n\t * @param {?} def\n\t * @return {?}\n\t */\n\tfunction createView(root, renderer, parent, parentNodeDef, def) {\n\t    var /** @type {?} */ nodes = new Array(def.nodes.length);\n\t    var /** @type {?} */ disposables = def.outputCount ? new Array(def.outputCount) : null;\n\t    var /** @type {?} */ view = {\n\t        def: def,\n\t        parent: parent,\n\t        viewContainerParent: null, parentNodeDef: parentNodeDef,\n\t        context: null,\n\t        component: null, nodes: nodes,\n\t        state: 13 /* CatInit */, root: root, renderer: renderer,\n\t        oldValues: new Array(def.bindingCount), disposables: disposables\n\t    };\n\t    return view;\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} component\n\t * @param {?} context\n\t * @return {?}\n\t */\n\tfunction initView(view, component, context) {\n\t    view.component = component;\n\t    view.context = context;\n\t}\n\t/**\n\t * @param {?} view\n\t * @return {?}\n\t */\n\tfunction createViewNodes(view) {\n\t    var /** @type {?} */ renderHost;\n\t    if (isComponentView(view)) {\n\t        var /** @type {?} */ hostDef = view.parentNodeDef;\n\t        renderHost = asElementData(/** @type {?} */ ((view.parent)), /** @type {?} */ ((((hostDef)).parent)).nodeIndex).renderElement;\n\t    }\n\t    var /** @type {?} */ def = view.def;\n\t    var /** @type {?} */ nodes = view.nodes;\n\t    for (var /** @type {?} */ i = 0; i < def.nodes.length; i++) {\n\t        var /** @type {?} */ nodeDef = def.nodes[i];\n\t        Services.setCurrentNode(view, i);\n\t        var /** @type {?} */ nodeData = void 0;\n\t        switch (nodeDef.flags & 201347067 /* Types */) {\n\t            case 1 /* TypeElement */:\n\t                var /** @type {?} */ el = (createElement(view, renderHost, nodeDef));\n\t                var /** @type {?} */ componentView = ((undefined));\n\t                if (nodeDef.flags & 33554432 /* ComponentView */) {\n\t                    var /** @type {?} */ compViewDef = resolveDefinition(/** @type {?} */ ((((nodeDef.element)).componentView)));\n\t                    componentView = Services.createComponentView(view, nodeDef, compViewDef, el);\n\t                }\n\t                listenToElementOutputs(view, componentView, nodeDef, el);\n\t                nodeData = ({\n\t                    renderElement: el,\n\t                    componentView: componentView,\n\t                    viewContainer: null,\n\t                    template: /** @type {?} */ ((nodeDef.element)).template ? createTemplateData(view, nodeDef) : undefined\n\t                });\n\t                if (nodeDef.flags & 16777216 /* EmbeddedViews */) {\n\t                    nodeData.viewContainer = createViewContainerData(view, nodeDef, nodeData);\n\t                }\n\t                break;\n\t            case 2 /* TypeText */:\n\t                nodeData = (createText(view, renderHost, nodeDef));\n\t                break;\n\t            case 512 /* TypeClassProvider */:\n\t            case 1024 /* TypeFactoryProvider */:\n\t            case 2048 /* TypeUseExistingProvider */:\n\t            case 256 /* TypeValueProvider */: {\n\t                nodeData = nodes[i];\n\t                if (!nodeData && !(nodeDef.flags & 4096 /* LazyProvider */)) {\n\t                    var /** @type {?} */ instance = createProviderInstance(view, nodeDef);\n\t                    nodeData = ({ instance: instance });\n\t                }\n\t                break;\n\t            }\n\t            case 16 /* TypePipe */: {\n\t                var /** @type {?} */ instance = createPipeInstance(view, nodeDef);\n\t                nodeData = ({ instance: instance });\n\t                break;\n\t            }\n\t            case 16384 /* TypeDirective */: {\n\t                nodeData = nodes[i];\n\t                if (!nodeData) {\n\t                    var /** @type {?} */ instance = createDirectiveInstance(view, nodeDef);\n\t                    nodeData = ({ instance: instance });\n\t                }\n\t                if (nodeDef.flags & 32768 /* Component */) {\n\t                    var /** @type {?} */ compView = asElementData(view, /** @type {?} */ ((nodeDef.parent)).nodeIndex).componentView;\n\t                    initView(compView, nodeData.instance, nodeData.instance);\n\t                }\n\t                break;\n\t            }\n\t            case 32 /* TypePureArray */:\n\t            case 64 /* TypePureObject */:\n\t            case 128 /* TypePurePipe */:\n\t                nodeData = (createPureExpression(view, nodeDef));\n\t                break;\n\t            case 67108864 /* TypeContentQuery */:\n\t            case 134217728 /* TypeViewQuery */:\n\t                nodeData = (createQuery());\n\t                break;\n\t            case 8 /* TypeNgContent */:\n\t                appendNgContent(view, renderHost, nodeDef);\n\t                // no runtime data needed for NgContent...\n\t                nodeData = undefined;\n\t                break;\n\t        }\n\t        nodes[i] = nodeData;\n\t    }\n\t    // Create the ViewData.nodes of component views after we created everything else,\n\t    // so that e.g. ng-content works\n\t    execComponentViewsAction(view, ViewAction.CreateViewNodes);\n\t    // fill static content and view queries\n\t    execQueriesAction(view, 67108864 /* TypeContentQuery */ | 134217728 /* TypeViewQuery */, 268435456 /* StaticQuery */, 0 /* CheckAndUpdate */);\n\t}\n\t/**\n\t * @param {?} view\n\t * @return {?}\n\t */\n\tfunction checkNoChangesView(view) {\n\t    markProjectedViewsForCheck(view);\n\t    Services.updateDirectives(view, 1 /* CheckNoChanges */);\n\t    execEmbeddedViewsAction(view, ViewAction.CheckNoChanges);\n\t    Services.updateRenderer(view, 1 /* CheckNoChanges */);\n\t    execComponentViewsAction(view, ViewAction.CheckNoChanges);\n\t    // Note: We don't check queries for changes as we didn't do this in v2.x.\n\t    // TODO(tbosch): investigate if we can enable the check again in v5.x with a nicer error message.\n\t    view.state &= ~(64 /* CheckProjectedViews */ | 32 /* CheckProjectedView */);\n\t}\n\t/**\n\t * @param {?} view\n\t * @return {?}\n\t */\n\tfunction checkAndUpdateView(view) {\n\t    if (view.state & 1 /* BeforeFirstCheck */) {\n\t        view.state &= ~1 /* BeforeFirstCheck */;\n\t        view.state |= 2 /* FirstCheck */;\n\t    }\n\t    else {\n\t        view.state &= ~2 /* FirstCheck */;\n\t    }\n\t    markProjectedViewsForCheck(view);\n\t    Services.updateDirectives(view, 0 /* CheckAndUpdate */);\n\t    execEmbeddedViewsAction(view, ViewAction.CheckAndUpdate);\n\t    execQueriesAction(view, 67108864 /* TypeContentQuery */, 536870912 /* DynamicQuery */, 0 /* CheckAndUpdate */);\n\t    callLifecycleHooksChildrenFirst(view, 2097152 /* AfterContentChecked */ |\n\t        (view.state & 2 /* FirstCheck */ ? 1048576 /* AfterContentInit */ : 0));\n\t    Services.updateRenderer(view, 0 /* CheckAndUpdate */);\n\t    execComponentViewsAction(view, ViewAction.CheckAndUpdate);\n\t    execQueriesAction(view, 134217728 /* TypeViewQuery */, 536870912 /* DynamicQuery */, 0 /* CheckAndUpdate */);\n\t    callLifecycleHooksChildrenFirst(view, 8388608 /* AfterViewChecked */ |\n\t        (view.state & 2 /* FirstCheck */ ? 4194304 /* AfterViewInit */ : 0));\n\t    if (view.def.flags & 2 /* OnPush */) {\n\t        view.state &= ~8 /* ChecksEnabled */;\n\t    }\n\t    view.state &= ~(64 /* CheckProjectedViews */ | 32 /* CheckProjectedView */);\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} nodeDef\n\t * @param {?} argStyle\n\t * @param {?=} v0\n\t * @param {?=} v1\n\t * @param {?=} v2\n\t * @param {?=} v3\n\t * @param {?=} v4\n\t * @param {?=} v5\n\t * @param {?=} v6\n\t * @param {?=} v7\n\t * @param {?=} v8\n\t * @param {?=} v9\n\t * @return {?}\n\t */\n\tfunction checkAndUpdateNode(view, nodeDef, argStyle, v0, v1, v2, v3, v4, v5, v6, v7, v8, v9) {\n\t    if (argStyle === 0 /* Inline */) {\n\t        return checkAndUpdateNodeInline(view, nodeDef, v0, v1, v2, v3, v4, v5, v6, v7, v8, v9);\n\t    }\n\t    else {\n\t        return checkAndUpdateNodeDynamic(view, nodeDef, v0);\n\t    }\n\t}\n\t/**\n\t * @param {?} view\n\t * @return {?}\n\t */\n\tfunction markProjectedViewsForCheck(view) {\n\t    var /** @type {?} */ def = view.def;\n\t    if (!(def.nodeFlags & 4 /* ProjectedTemplate */)) {\n\t        return;\n\t    }\n\t    for (var /** @type {?} */ i = 0; i < def.nodes.length; i++) {\n\t        var /** @type {?} */ nodeDef = def.nodes[i];\n\t        if (nodeDef.flags & 4 /* ProjectedTemplate */) {\n\t            var /** @type {?} */ projectedViews = asElementData(view, i).template._projectedViews;\n\t            if (projectedViews) {\n\t                for (var /** @type {?} */ i_1 = 0; i_1 < projectedViews.length; i_1++) {\n\t                    var /** @type {?} */ projectedView = projectedViews[i_1];\n\t                    projectedView.state |= 32 /* CheckProjectedView */;\n\t                    markParentViewsForCheckProjectedViews(projectedView, view);\n\t                }\n\t            }\n\t        }\n\t        else if ((nodeDef.childFlags & 4 /* ProjectedTemplate */) === 0) {\n\t            // a parent with leafs\n\t            // no child is a component,\n\t            // then skip the children\n\t            i += nodeDef.childCount;\n\t        }\n\t    }\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} nodeDef\n\t * @param {?=} v0\n\t * @param {?=} v1\n\t * @param {?=} v2\n\t * @param {?=} v3\n\t * @param {?=} v4\n\t * @param {?=} v5\n\t * @param {?=} v6\n\t * @param {?=} v7\n\t * @param {?=} v8\n\t * @param {?=} v9\n\t * @return {?}\n\t */\n\tfunction checkAndUpdateNodeInline(view, nodeDef, v0, v1, v2, v3, v4, v5, v6, v7, v8, v9) {\n\t    switch (nodeDef.flags & 201347067 /* Types */) {\n\t        case 1 /* TypeElement */:\n\t            return checkAndUpdateElementInline(view, nodeDef, v0, v1, v2, v3, v4, v5, v6, v7, v8, v9);\n\t        case 2 /* TypeText */:\n\t            return checkAndUpdateTextInline(view, nodeDef, v0, v1, v2, v3, v4, v5, v6, v7, v8, v9);\n\t        case 16384 /* TypeDirective */:\n\t            return checkAndUpdateDirectiveInline(view, nodeDef, v0, v1, v2, v3, v4, v5, v6, v7, v8, v9);\n\t        case 32 /* TypePureArray */:\n\t        case 64 /* TypePureObject */:\n\t        case 128 /* TypePurePipe */:\n\t            return checkAndUpdatePureExpressionInline(view, nodeDef, v0, v1, v2, v3, v4, v5, v6, v7, v8, v9);\n\t        default:\n\t            throw 'unreachable';\n\t    }\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} nodeDef\n\t * @param {?} values\n\t * @return {?}\n\t */\n\tfunction checkAndUpdateNodeDynamic(view, nodeDef, values) {\n\t    switch (nodeDef.flags & 201347067 /* Types */) {\n\t        case 1 /* TypeElement */:\n\t            return checkAndUpdateElementDynamic(view, nodeDef, values);\n\t        case 2 /* TypeText */:\n\t            return checkAndUpdateTextDynamic(view, nodeDef, values);\n\t        case 16384 /* TypeDirective */:\n\t            return checkAndUpdateDirectiveDynamic(view, nodeDef, values);\n\t        case 32 /* TypePureArray */:\n\t        case 64 /* TypePureObject */:\n\t        case 128 /* TypePurePipe */:\n\t            return checkAndUpdatePureExpressionDynamic(view, nodeDef, values);\n\t        default:\n\t            throw 'unreachable';\n\t    }\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} nodeDef\n\t * @param {?} argStyle\n\t * @param {?=} v0\n\t * @param {?=} v1\n\t * @param {?=} v2\n\t * @param {?=} v3\n\t * @param {?=} v4\n\t * @param {?=} v5\n\t * @param {?=} v6\n\t * @param {?=} v7\n\t * @param {?=} v8\n\t * @param {?=} v9\n\t * @return {?}\n\t */\n\tfunction checkNoChangesNode(view, nodeDef, argStyle, v0, v1, v2, v3, v4, v5, v6, v7, v8, v9) {\n\t    if (argStyle === 0 /* Inline */) {\n\t        checkNoChangesNodeInline(view, nodeDef, v0, v1, v2, v3, v4, v5, v6, v7, v8, v9);\n\t    }\n\t    else {\n\t        checkNoChangesNodeDynamic(view, nodeDef, v0);\n\t    }\n\t    // Returning false is ok here as we would have thrown in case of a change.\n\t    return false;\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} nodeDef\n\t * @param {?} v0\n\t * @param {?} v1\n\t * @param {?} v2\n\t * @param {?} v3\n\t * @param {?} v4\n\t * @param {?} v5\n\t * @param {?} v6\n\t * @param {?} v7\n\t * @param {?} v8\n\t * @param {?} v9\n\t * @return {?}\n\t */\n\tfunction checkNoChangesNodeInline(view, nodeDef, v0, v1, v2, v3, v4, v5, v6, v7, v8, v9) {\n\t    var /** @type {?} */ bindLen = nodeDef.bindings.length;\n\t    if (bindLen > 0)\n\t        checkBindingNoChanges(view, nodeDef, 0, v0);\n\t    if (bindLen > 1)\n\t        checkBindingNoChanges(view, nodeDef, 1, v1);\n\t    if (bindLen > 2)\n\t        checkBindingNoChanges(view, nodeDef, 2, v2);\n\t    if (bindLen > 3)\n\t        checkBindingNoChanges(view, nodeDef, 3, v3);\n\t    if (bindLen > 4)\n\t        checkBindingNoChanges(view, nodeDef, 4, v4);\n\t    if (bindLen > 5)\n\t        checkBindingNoChanges(view, nodeDef, 5, v5);\n\t    if (bindLen > 6)\n\t        checkBindingNoChanges(view, nodeDef, 6, v6);\n\t    if (bindLen > 7)\n\t        checkBindingNoChanges(view, nodeDef, 7, v7);\n\t    if (bindLen > 8)\n\t        checkBindingNoChanges(view, nodeDef, 8, v8);\n\t    if (bindLen > 9)\n\t        checkBindingNoChanges(view, nodeDef, 9, v9);\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} nodeDef\n\t * @param {?} values\n\t * @return {?}\n\t */\n\tfunction checkNoChangesNodeDynamic(view, nodeDef, values) {\n\t    for (var /** @type {?} */ i = 0; i < values.length; i++) {\n\t        checkBindingNoChanges(view, nodeDef, i, values[i]);\n\t    }\n\t}\n\t/**\n\t * Workaround https://github.com/angular/tsickle/issues/497\n\t * @suppress {misplacedTypeAnnotation}\n\t * @param {?} view\n\t * @param {?} nodeDef\n\t * @return {?}\n\t */\n\tfunction checkNoChangesQuery(view, nodeDef) {\n\t    var /** @type {?} */ queryList = asQueryList(view, nodeDef.nodeIndex);\n\t    if (queryList.dirty) {\n\t        throw expressionChangedAfterItHasBeenCheckedError(Services.createDebugContext(view, nodeDef.nodeIndex), \"Query \" + ((nodeDef.query)).id + \" not dirty\", \"Query \" + ((nodeDef.query)).id + \" dirty\", (view.state & 1 /* BeforeFirstCheck */) !== 0);\n\t    }\n\t}\n\t/**\n\t * @param {?} view\n\t * @return {?}\n\t */\n\tfunction destroyView(view) {\n\t    if (view.state & 128 /* Destroyed */) {\n\t        return;\n\t    }\n\t    execEmbeddedViewsAction(view, ViewAction.Destroy);\n\t    execComponentViewsAction(view, ViewAction.Destroy);\n\t    callLifecycleHooksChildrenFirst(view, 131072 /* OnDestroy */);\n\t    if (view.disposables) {\n\t        for (var /** @type {?} */ i = 0; i < view.disposables.length; i++) {\n\t            view.disposables[i]();\n\t        }\n\t    }\n\t    detachProjectedView(view);\n\t    if (view.renderer.destroyNode) {\n\t        destroyViewNodes(view);\n\t    }\n\t    if (isComponentView(view)) {\n\t        view.renderer.destroy();\n\t    }\n\t    view.state |= 128 /* Destroyed */;\n\t}\n\t/**\n\t * @param {?} view\n\t * @return {?}\n\t */\n\tfunction destroyViewNodes(view) {\n\t    var /** @type {?} */ len = view.def.nodes.length;\n\t    for (var /** @type {?} */ i = 0; i < len; i++) {\n\t        var /** @type {?} */ def = view.def.nodes[i];\n\t        if (def.flags & 1 /* TypeElement */) {\n\t            ((view.renderer.destroyNode))(asElementData(view, i).renderElement);\n\t        }\n\t        else if (def.flags & 2 /* TypeText */) {\n\t            ((view.renderer.destroyNode))(asTextData(view, i).renderText);\n\t        }\n\t        else if (def.flags & 67108864 /* TypeContentQuery */ || def.flags & 134217728 /* TypeViewQuery */) {\n\t            asQueryList(view, i).destroy();\n\t        }\n\t    }\n\t}\n\tvar ViewAction = {};\n\tViewAction.CreateViewNodes = 0;\n\tViewAction.CheckNoChanges = 1;\n\tViewAction.CheckNoChangesProjectedViews = 2;\n\tViewAction.CheckAndUpdate = 3;\n\tViewAction.CheckAndUpdateProjectedViews = 4;\n\tViewAction.Destroy = 5;\n\tViewAction[ViewAction.CreateViewNodes] = \"CreateViewNodes\";\n\tViewAction[ViewAction.CheckNoChanges] = \"CheckNoChanges\";\n\tViewAction[ViewAction.CheckNoChangesProjectedViews] = \"CheckNoChangesProjectedViews\";\n\tViewAction[ViewAction.CheckAndUpdate] = \"CheckAndUpdate\";\n\tViewAction[ViewAction.CheckAndUpdateProjectedViews] = \"CheckAndUpdateProjectedViews\";\n\tViewAction[ViewAction.Destroy] = \"Destroy\";\n\t/**\n\t * @param {?} view\n\t * @param {?} action\n\t * @return {?}\n\t */\n\tfunction execComponentViewsAction(view, action) {\n\t    var /** @type {?} */ def = view.def;\n\t    if (!(def.nodeFlags & 33554432 /* ComponentView */)) {\n\t        return;\n\t    }\n\t    for (var /** @type {?} */ i = 0; i < def.nodes.length; i++) {\n\t        var /** @type {?} */ nodeDef = def.nodes[i];\n\t        if (nodeDef.flags & 33554432 /* ComponentView */) {\n\t            // a leaf\n\t            callViewAction(asElementData(view, i).componentView, action);\n\t        }\n\t        else if ((nodeDef.childFlags & 33554432 /* ComponentView */) === 0) {\n\t            // a parent with leafs\n\t            // no child is a component,\n\t            // then skip the children\n\t            i += nodeDef.childCount;\n\t        }\n\t    }\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} action\n\t * @return {?}\n\t */\n\tfunction execEmbeddedViewsAction(view, action) {\n\t    var /** @type {?} */ def = view.def;\n\t    if (!(def.nodeFlags & 16777216 /* EmbeddedViews */)) {\n\t        return;\n\t    }\n\t    for (var /** @type {?} */ i = 0; i < def.nodes.length; i++) {\n\t        var /** @type {?} */ nodeDef = def.nodes[i];\n\t        if (nodeDef.flags & 16777216 /* EmbeddedViews */) {\n\t            // a leaf\n\t            var /** @type {?} */ embeddedViews = ((asElementData(view, i).viewContainer))._embeddedViews;\n\t            for (var /** @type {?} */ k = 0; k < embeddedViews.length; k++) {\n\t                callViewAction(embeddedViews[k], action);\n\t            }\n\t        }\n\t        else if ((nodeDef.childFlags & 16777216 /* EmbeddedViews */) === 0) {\n\t            // a parent with leafs\n\t            // no child is a component,\n\t            // then skip the children\n\t            i += nodeDef.childCount;\n\t        }\n\t    }\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} action\n\t * @return {?}\n\t */\n\tfunction callViewAction(view, action) {\n\t    var /** @type {?} */ viewState = view.state;\n\t    switch (action) {\n\t        case ViewAction.CheckNoChanges:\n\t            if ((viewState & 128 /* Destroyed */) === 0) {\n\t                if ((viewState & 12 /* CatDetectChanges */) === 12 /* CatDetectChanges */) {\n\t                    checkNoChangesView(view);\n\t                }\n\t                else if (viewState & 64 /* CheckProjectedViews */) {\n\t                    execProjectedViewsAction(view, ViewAction.CheckNoChangesProjectedViews);\n\t                }\n\t            }\n\t            break;\n\t        case ViewAction.CheckNoChangesProjectedViews:\n\t            if ((viewState & 128 /* Destroyed */) === 0) {\n\t                if (viewState & 32 /* CheckProjectedView */) {\n\t                    checkNoChangesView(view);\n\t                }\n\t                else if (viewState & 64 /* CheckProjectedViews */) {\n\t                    execProjectedViewsAction(view, action);\n\t                }\n\t            }\n\t            break;\n\t        case ViewAction.CheckAndUpdate:\n\t            if ((viewState & 128 /* Destroyed */) === 0) {\n\t                if ((viewState & 12 /* CatDetectChanges */) === 12 /* CatDetectChanges */) {\n\t                    checkAndUpdateView(view);\n\t                }\n\t                else if (viewState & 64 /* CheckProjectedViews */) {\n\t                    execProjectedViewsAction(view, ViewAction.CheckAndUpdateProjectedViews);\n\t                }\n\t            }\n\t            break;\n\t        case ViewAction.CheckAndUpdateProjectedViews:\n\t            if ((viewState & 128 /* Destroyed */) === 0) {\n\t                if (viewState & 32 /* CheckProjectedView */) {\n\t                    checkAndUpdateView(view);\n\t                }\n\t                else if (viewState & 64 /* CheckProjectedViews */) {\n\t                    execProjectedViewsAction(view, action);\n\t                }\n\t            }\n\t            break;\n\t        case ViewAction.Destroy:\n\t            // Note: destroyView recurses over all views,\n\t            // so we don't need to special case projected views here.\n\t            destroyView(view);\n\t            break;\n\t        case ViewAction.CreateViewNodes:\n\t            createViewNodes(view);\n\t            break;\n\t    }\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} action\n\t * @return {?}\n\t */\n\tfunction execProjectedViewsAction(view, action) {\n\t    execEmbeddedViewsAction(view, action);\n\t    execComponentViewsAction(view, action);\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} queryFlags\n\t * @param {?} staticDynamicQueryFlag\n\t * @param {?} checkType\n\t * @return {?}\n\t */\n\tfunction execQueriesAction(view, queryFlags, staticDynamicQueryFlag, checkType) {\n\t    if (!(view.def.nodeFlags & queryFlags) || !(view.def.nodeFlags & staticDynamicQueryFlag)) {\n\t        return;\n\t    }\n\t    var /** @type {?} */ nodeCount = view.def.nodes.length;\n\t    for (var /** @type {?} */ i = 0; i < nodeCount; i++) {\n\t        var /** @type {?} */ nodeDef = view.def.nodes[i];\n\t        if ((nodeDef.flags & queryFlags) && (nodeDef.flags & staticDynamicQueryFlag)) {\n\t            Services.setCurrentNode(view, nodeDef.nodeIndex);\n\t            switch (checkType) {\n\t                case 0 /* CheckAndUpdate */:\n\t                    checkAndUpdateQuery(view, nodeDef);\n\t                    break;\n\t                case 1 /* CheckNoChanges */:\n\t                    checkNoChangesQuery(view, nodeDef);\n\t                    break;\n\t            }\n\t        }\n\t        if (!(nodeDef.childFlags & queryFlags) || !(nodeDef.childFlags & staticDynamicQueryFlag)) {\n\t            // no child has a matching query\n\t            // then skip the children\n\t            i += nodeDef.childCount;\n\t        }\n\t    }\n\t}\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\tvar initialized = false;\n\t/**\n\t * @return {?}\n\t */\n\tfunction initServicesIfNeeded() {\n\t    if (initialized) {\n\t        return;\n\t    }\n\t    initialized = true;\n\t    var /** @type {?} */ services = isDevMode() ? createDebugServices() : createProdServices();\n\t    Services.setCurrentNode = services.setCurrentNode;\n\t    Services.createRootView = services.createRootView;\n\t    Services.createEmbeddedView = services.createEmbeddedView;\n\t    Services.createComponentView = services.createComponentView;\n\t    Services.createNgModuleRef = services.createNgModuleRef;\n\t    Services.overrideProvider = services.overrideProvider;\n\t    Services.clearProviderOverrides = services.clearProviderOverrides;\n\t    Services.checkAndUpdateView = services.checkAndUpdateView;\n\t    Services.checkNoChangesView = services.checkNoChangesView;\n\t    Services.destroyView = services.destroyView;\n\t    Services.resolveDep = resolveDep;\n\t    Services.createDebugContext = services.createDebugContext;\n\t    Services.handleEvent = services.handleEvent;\n\t    Services.updateDirectives = services.updateDirectives;\n\t    Services.updateRenderer = services.updateRenderer;\n\t    Services.dirtyParentQueries = dirtyParentQueries;\n\t}\n\t/**\n\t * @return {?}\n\t */\n\tfunction createProdServices() {\n\t    return {\n\t        setCurrentNode: function () { },\n\t        createRootView: createProdRootView,\n\t        createEmbeddedView: createEmbeddedView,\n\t        createComponentView: createComponentView,\n\t        createNgModuleRef: createNgModuleRef,\n\t        overrideProvider: NOOP,\n\t        clearProviderOverrides: NOOP,\n\t        checkAndUpdateView: checkAndUpdateView,\n\t        checkNoChangesView: checkNoChangesView,\n\t        destroyView: destroyView,\n\t        createDebugContext: function (view, nodeIndex) { return new DebugContext_(view, nodeIndex); },\n\t        handleEvent: function (view, nodeIndex, eventName, event) { return view.def.handleEvent(view, nodeIndex, eventName, event); },\n\t        updateDirectives: function (view, checkType) { return view.def.updateDirectives(checkType === 0 /* CheckAndUpdate */ ? prodCheckAndUpdateNode :\n\t            prodCheckNoChangesNode, view); },\n\t        updateRenderer: function (view, checkType) { return view.def.updateRenderer(checkType === 0 /* CheckAndUpdate */ ? prodCheckAndUpdateNode :\n\t            prodCheckNoChangesNode, view); },\n\t    };\n\t}\n\t/**\n\t * @return {?}\n\t */\n\tfunction createDebugServices() {\n\t    return {\n\t        setCurrentNode: debugSetCurrentNode,\n\t        createRootView: debugCreateRootView,\n\t        createEmbeddedView: debugCreateEmbeddedView,\n\t        createComponentView: debugCreateComponentView,\n\t        createNgModuleRef: debugCreateNgModuleRef,\n\t        overrideProvider: debugOverrideProvider,\n\t        clearProviderOverrides: debugClearProviderOverrides,\n\t        checkAndUpdateView: debugCheckAndUpdateView,\n\t        checkNoChangesView: debugCheckNoChangesView,\n\t        destroyView: debugDestroyView,\n\t        createDebugContext: function (view, nodeIndex) { return new DebugContext_(view, nodeIndex); },\n\t        handleEvent: debugHandleEvent,\n\t        updateDirectives: debugUpdateDirectives,\n\t        updateRenderer: debugUpdateRenderer,\n\t    };\n\t}\n\t/**\n\t * @param {?} elInjector\n\t * @param {?} projectableNodes\n\t * @param {?} rootSelectorOrNode\n\t * @param {?} def\n\t * @param {?} ngModule\n\t * @param {?=} context\n\t * @return {?}\n\t */\n\tfunction createProdRootView(elInjector, projectableNodes, rootSelectorOrNode, def, ngModule, context) {\n\t    var /** @type {?} */ rendererFactory = ngModule.injector.get(RendererFactory2);\n\t    return createRootView(createRootData(elInjector, ngModule, rendererFactory, projectableNodes, rootSelectorOrNode), def, context);\n\t}\n\t/**\n\t * @param {?} elInjector\n\t * @param {?} projectableNodes\n\t * @param {?} rootSelectorOrNode\n\t * @param {?} def\n\t * @param {?} ngModule\n\t * @param {?=} context\n\t * @return {?}\n\t */\n\tfunction debugCreateRootView(elInjector, projectableNodes, rootSelectorOrNode, def, ngModule, context) {\n\t    var /** @type {?} */ rendererFactory = ngModule.injector.get(RendererFactory2);\n\t    var /** @type {?} */ root = createRootData(elInjector, ngModule, new DebugRendererFactory2(rendererFactory), projectableNodes, rootSelectorOrNode);\n\t    var /** @type {?} */ defWithOverride = applyProviderOverridesToView(def);\n\t    return callWithDebugContext(DebugAction.create, createRootView, null, [root, defWithOverride, context]);\n\t}\n\t/**\n\t * @param {?} elInjector\n\t * @param {?} ngModule\n\t * @param {?} rendererFactory\n\t * @param {?} projectableNodes\n\t * @param {?} rootSelectorOrNode\n\t * @return {?}\n\t */\n\tfunction createRootData(elInjector, ngModule, rendererFactory, projectableNodes, rootSelectorOrNode) {\n\t    var /** @type {?} */ sanitizer = ngModule.injector.get(Sanitizer);\n\t    var /** @type {?} */ errorHandler = ngModule.injector.get(ErrorHandler);\n\t    var /** @type {?} */ renderer = rendererFactory.createRenderer(null, null);\n\t    return {\n\t        ngModule: ngModule,\n\t        injector: elInjector, projectableNodes: projectableNodes,\n\t        selectorOrNode: rootSelectorOrNode, sanitizer: sanitizer, rendererFactory: rendererFactory, renderer: renderer, errorHandler: errorHandler\n\t    };\n\t}\n\t/**\n\t * @param {?} parentView\n\t * @param {?} anchorDef\n\t * @param {?} viewDef\n\t * @param {?=} context\n\t * @return {?}\n\t */\n\tfunction debugCreateEmbeddedView(parentView, anchorDef, viewDef$$1, context) {\n\t    var /** @type {?} */ defWithOverride = applyProviderOverridesToView(viewDef$$1);\n\t    return callWithDebugContext(DebugAction.create, createEmbeddedView, null, [parentView, anchorDef, defWithOverride, context]);\n\t}\n\t/**\n\t * @param {?} parentView\n\t * @param {?} nodeDef\n\t * @param {?} viewDef\n\t * @param {?} hostElement\n\t * @return {?}\n\t */\n\tfunction debugCreateComponentView(parentView, nodeDef, viewDef$$1, hostElement) {\n\t    var /** @type {?} */ defWithOverride = applyProviderOverridesToView(viewDef$$1);\n\t    return callWithDebugContext(DebugAction.create, createComponentView, null, [parentView, nodeDef, defWithOverride, hostElement]);\n\t}\n\t/**\n\t * @param {?} moduleType\n\t * @param {?} parentInjector\n\t * @param {?} bootstrapComponents\n\t * @param {?} def\n\t * @return {?}\n\t */\n\tfunction debugCreateNgModuleRef(moduleType, parentInjector, bootstrapComponents, def) {\n\t    var /** @type {?} */ defWithOverride = applyProviderOverridesToNgModule(def);\n\t    return createNgModuleRef(moduleType, parentInjector, bootstrapComponents, defWithOverride);\n\t}\n\tvar providerOverrides = new Map();\n\t/**\n\t * @param {?} override\n\t * @return {?}\n\t */\n\tfunction debugOverrideProvider(override) {\n\t    providerOverrides.set(override.token, override);\n\t}\n\t/**\n\t * @return {?}\n\t */\n\tfunction debugClearProviderOverrides() {\n\t    providerOverrides.clear();\n\t}\n\t/**\n\t * @param {?} def\n\t * @return {?}\n\t */\n\tfunction applyProviderOverridesToView(def) {\n\t    if (providerOverrides.size === 0) {\n\t        return def;\n\t    }\n\t    var /** @type {?} */ elementIndicesWithOverwrittenProviders = findElementIndicesWithOverwrittenProviders(def);\n\t    if (elementIndicesWithOverwrittenProviders.length === 0) {\n\t        return def;\n\t    }\n\t    // clone the whole view definition,\n\t    // as it maintains references between the nodes that are hard to update.\n\t    def = ((def.factory))(function () { return NOOP; });\n\t    for (var /** @type {?} */ i = 0; i < elementIndicesWithOverwrittenProviders.length; i++) {\n\t        applyProviderOverridesToElement(def, elementIndicesWithOverwrittenProviders[i]);\n\t    }\n\t    return def;\n\t    /**\n\t     * @param {?} def\n\t     * @return {?}\n\t     */\n\t    function findElementIndicesWithOverwrittenProviders(def) {\n\t        var /** @type {?} */ elIndicesWithOverwrittenProviders = [];\n\t        var /** @type {?} */ lastElementDef = null;\n\t        for (var /** @type {?} */ i = 0; i < def.nodes.length; i++) {\n\t            var /** @type {?} */ nodeDef = def.nodes[i];\n\t            if (nodeDef.flags & 1 /* TypeElement */) {\n\t                lastElementDef = nodeDef;\n\t            }\n\t            if (lastElementDef && nodeDef.flags & 3840 /* CatProviderNoDirective */ &&\n\t                providerOverrides.has(/** @type {?} */ ((nodeDef.provider)).token)) {\n\t                elIndicesWithOverwrittenProviders.push(/** @type {?} */ ((lastElementDef)).nodeIndex);\n\t                lastElementDef = null;\n\t            }\n\t        }\n\t        return elIndicesWithOverwrittenProviders;\n\t    }\n\t    /**\n\t     * @param {?} viewDef\n\t     * @param {?} elIndex\n\t     * @return {?}\n\t     */\n\t    function applyProviderOverridesToElement(viewDef$$1, elIndex) {\n\t        for (var /** @type {?} */ i = elIndex + 1; i < viewDef$$1.nodes.length; i++) {\n\t            var /** @type {?} */ nodeDef = viewDef$$1.nodes[i];\n\t            if (nodeDef.flags & 1 /* TypeElement */) {\n\t                // stop at the next element\n\t                return;\n\t            }\n\t            if (nodeDef.flags & 3840 /* CatProviderNoDirective */) {\n\t                var /** @type {?} */ provider = ((nodeDef.provider));\n\t                var /** @type {?} */ override = providerOverrides.get(provider.token);\n\t                if (override) {\n\t                    nodeDef.flags = (nodeDef.flags & ~3840 /* CatProviderNoDirective */) | override.flags;\n\t                    provider.deps = splitDepsDsl(override.deps);\n\t                    provider.value = override.value;\n\t                }\n\t            }\n\t        }\n\t    }\n\t}\n\t/**\n\t * @param {?} def\n\t * @return {?}\n\t */\n\tfunction applyProviderOverridesToNgModule(def) {\n\t    var _a = calcHasOverrides(def), hasOverrides = _a.hasOverrides, hasDeprecatedOverrides = _a.hasDeprecatedOverrides;\n\t    if (!hasOverrides) {\n\t        return def;\n\t    }\n\t    // clone the whole view definition,\n\t    // as it maintains references between the nodes that are hard to update.\n\t    def = ((def.factory))(function () { return NOOP; });\n\t    applyProviderOverrides(def);\n\t    return def;\n\t    /**\n\t     * @param {?} def\n\t     * @return {?}\n\t     */\n\t    function calcHasOverrides(def) {\n\t        var /** @type {?} */ hasOverrides = false;\n\t        var /** @type {?} */ hasDeprecatedOverrides = false;\n\t        if (providerOverrides.size === 0) {\n\t            return { hasOverrides: hasOverrides, hasDeprecatedOverrides: hasDeprecatedOverrides };\n\t        }\n\t        def.providers.forEach(function (node) {\n\t            var /** @type {?} */ override = providerOverrides.get(node.token);\n\t            if ((node.flags & 3840 /* CatProviderNoDirective */) && override) {\n\t                hasOverrides = true;\n\t                hasDeprecatedOverrides = hasDeprecatedOverrides || override.deprecatedBehavior;\n\t            }\n\t        });\n\t        return { hasOverrides: hasOverrides, hasDeprecatedOverrides: hasDeprecatedOverrides };\n\t    }\n\t    /**\n\t     * @param {?} def\n\t     * @return {?}\n\t     */\n\t    function applyProviderOverrides(def) {\n\t        for (var /** @type {?} */ i = 0; i < def.providers.length; i++) {\n\t            var /** @type {?} */ provider = def.providers[i];\n\t            if (hasDeprecatedOverrides) {\n\t                // We had a bug where me made\n\t                // all providers lazy. Keep this logic behind a flag\n\t                // for migrating existing users.\n\t                provider.flags |= 4096 /* LazyProvider */;\n\t            }\n\t            var /** @type {?} */ override = providerOverrides.get(provider.token);\n\t            if (override) {\n\t                provider.flags = (provider.flags & ~3840 /* CatProviderNoDirective */) | override.flags;\n\t                provider.deps = splitDepsDsl(override.deps);\n\t                provider.value = override.value;\n\t            }\n\t        }\n\t    }\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} checkIndex\n\t * @param {?} argStyle\n\t * @param {?=} v0\n\t * @param {?=} v1\n\t * @param {?=} v2\n\t * @param {?=} v3\n\t * @param {?=} v4\n\t * @param {?=} v5\n\t * @param {?=} v6\n\t * @param {?=} v7\n\t * @param {?=} v8\n\t * @param {?=} v9\n\t * @return {?}\n\t */\n\tfunction prodCheckAndUpdateNode(view, checkIndex, argStyle, v0, v1, v2, v3, v4, v5, v6, v7, v8, v9) {\n\t    var /** @type {?} */ nodeDef = view.def.nodes[checkIndex];\n\t    checkAndUpdateNode(view, nodeDef, argStyle, v0, v1, v2, v3, v4, v5, v6, v7, v8, v9);\n\t    return (nodeDef.flags & 224 /* CatPureExpression */) ?\n\t        asPureExpressionData(view, checkIndex).value :\n\t        undefined;\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} checkIndex\n\t * @param {?} argStyle\n\t * @param {?=} v0\n\t * @param {?=} v1\n\t * @param {?=} v2\n\t * @param {?=} v3\n\t * @param {?=} v4\n\t * @param {?=} v5\n\t * @param {?=} v6\n\t * @param {?=} v7\n\t * @param {?=} v8\n\t * @param {?=} v9\n\t * @return {?}\n\t */\n\tfunction prodCheckNoChangesNode(view, checkIndex, argStyle, v0, v1, v2, v3, v4, v5, v6, v7, v8, v9) {\n\t    var /** @type {?} */ nodeDef = view.def.nodes[checkIndex];\n\t    checkNoChangesNode(view, nodeDef, argStyle, v0, v1, v2, v3, v4, v5, v6, v7, v8, v9);\n\t    return (nodeDef.flags & 224 /* CatPureExpression */) ?\n\t        asPureExpressionData(view, checkIndex).value :\n\t        undefined;\n\t}\n\t/**\n\t * @param {?} view\n\t * @return {?}\n\t */\n\tfunction debugCheckAndUpdateView(view) {\n\t    return callWithDebugContext(DebugAction.detectChanges, checkAndUpdateView, null, [view]);\n\t}\n\t/**\n\t * @param {?} view\n\t * @return {?}\n\t */\n\tfunction debugCheckNoChangesView(view) {\n\t    return callWithDebugContext(DebugAction.checkNoChanges, checkNoChangesView, null, [view]);\n\t}\n\t/**\n\t * @param {?} view\n\t * @return {?}\n\t */\n\tfunction debugDestroyView(view) {\n\t    return callWithDebugContext(DebugAction.destroy, destroyView, null, [view]);\n\t}\n\tvar DebugAction = {};\n\tDebugAction.create = 0;\n\tDebugAction.detectChanges = 1;\n\tDebugAction.checkNoChanges = 2;\n\tDebugAction.destroy = 3;\n\tDebugAction.handleEvent = 4;\n\tDebugAction[DebugAction.create] = \"create\";\n\tDebugAction[DebugAction.detectChanges] = \"detectChanges\";\n\tDebugAction[DebugAction.checkNoChanges] = \"checkNoChanges\";\n\tDebugAction[DebugAction.destroy] = \"destroy\";\n\tDebugAction[DebugAction.handleEvent] = \"handleEvent\";\n\tvar _currentAction;\n\tvar _currentView;\n\tvar _currentNodeIndex;\n\t/**\n\t * @param {?} view\n\t * @param {?} nodeIndex\n\t * @return {?}\n\t */\n\tfunction debugSetCurrentNode(view, nodeIndex) {\n\t    _currentView = view;\n\t    _currentNodeIndex = nodeIndex;\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} nodeIndex\n\t * @param {?} eventName\n\t * @param {?} event\n\t * @return {?}\n\t */\n\tfunction debugHandleEvent(view, nodeIndex, eventName, event) {\n\t    debugSetCurrentNode(view, nodeIndex);\n\t    return callWithDebugContext(DebugAction.handleEvent, view.def.handleEvent, null, [view, nodeIndex, eventName, event]);\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} checkType\n\t * @return {?}\n\t */\n\tfunction debugUpdateDirectives(view, checkType) {\n\t    if (view.state & 128 /* Destroyed */) {\n\t        throw viewDestroyedError(DebugAction[_currentAction]);\n\t    }\n\t    debugSetCurrentNode(view, nextDirectiveWithBinding(view, 0));\n\t    return view.def.updateDirectives(debugCheckDirectivesFn, view);\n\t    /**\n\t     * @param {?} view\n\t     * @param {?} nodeIndex\n\t     * @param {?} argStyle\n\t     * @param {...?} values\n\t     * @return {?}\n\t     */\n\t    function debugCheckDirectivesFn(view, nodeIndex, argStyle) {\n\t        var values = [];\n\t        for (var _i = 3; _i < arguments.length; _i++) {\n\t            values[_i - 3] = arguments[_i];\n\t        }\n\t        var /** @type {?} */ nodeDef = view.def.nodes[nodeIndex];\n\t        if (checkType === 0 /* CheckAndUpdate */) {\n\t            debugCheckAndUpdateNode(view, nodeDef, argStyle, values);\n\t        }\n\t        else {\n\t            debugCheckNoChangesNode(view, nodeDef, argStyle, values);\n\t        }\n\t        if (nodeDef.flags & 16384 /* TypeDirective */) {\n\t            debugSetCurrentNode(view, nextDirectiveWithBinding(view, nodeIndex));\n\t        }\n\t        return (nodeDef.flags & 224 /* CatPureExpression */) ?\n\t            asPureExpressionData(view, nodeDef.nodeIndex).value :\n\t            undefined;\n\t    }\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} checkType\n\t * @return {?}\n\t */\n\tfunction debugUpdateRenderer(view, checkType) {\n\t    if (view.state & 128 /* Destroyed */) {\n\t        throw viewDestroyedError(DebugAction[_currentAction]);\n\t    }\n\t    debugSetCurrentNode(view, nextRenderNodeWithBinding(view, 0));\n\t    return view.def.updateRenderer(debugCheckRenderNodeFn, view);\n\t    /**\n\t     * @param {?} view\n\t     * @param {?} nodeIndex\n\t     * @param {?} argStyle\n\t     * @param {...?} values\n\t     * @return {?}\n\t     */\n\t    function debugCheckRenderNodeFn(view, nodeIndex, argStyle) {\n\t        var values = [];\n\t        for (var _i = 3; _i < arguments.length; _i++) {\n\t            values[_i - 3] = arguments[_i];\n\t        }\n\t        var /** @type {?} */ nodeDef = view.def.nodes[nodeIndex];\n\t        if (checkType === 0 /* CheckAndUpdate */) {\n\t            debugCheckAndUpdateNode(view, nodeDef, argStyle, values);\n\t        }\n\t        else {\n\t            debugCheckNoChangesNode(view, nodeDef, argStyle, values);\n\t        }\n\t        if (nodeDef.flags & 3 /* CatRenderNode */) {\n\t            debugSetCurrentNode(view, nextRenderNodeWithBinding(view, nodeIndex));\n\t        }\n\t        return (nodeDef.flags & 224 /* CatPureExpression */) ?\n\t            asPureExpressionData(view, nodeDef.nodeIndex).value :\n\t            undefined;\n\t    }\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} nodeDef\n\t * @param {?} argStyle\n\t * @param {?} givenValues\n\t * @return {?}\n\t */\n\tfunction debugCheckAndUpdateNode(view, nodeDef, argStyle, givenValues) {\n\t    var /** @type {?} */ changed = ((checkAndUpdateNode)).apply(void 0, [view, nodeDef, argStyle].concat(givenValues));\n\t    if (changed) {\n\t        var /** @type {?} */ values = argStyle === 1 /* Dynamic */ ? givenValues[0] : givenValues;\n\t        if (nodeDef.flags & 16384 /* TypeDirective */) {\n\t            var /** @type {?} */ bindingValues = {};\n\t            for (var /** @type {?} */ i = 0; i < nodeDef.bindings.length; i++) {\n\t                var /** @type {?} */ binding = nodeDef.bindings[i];\n\t                var /** @type {?} */ value = values[i];\n\t                if (binding.flags & 8 /* TypeProperty */) {\n\t                    bindingValues[normalizeDebugBindingName(/** @type {?} */ ((binding.nonMinifiedName)))] =\n\t                        normalizeDebugBindingValue(value);\n\t                }\n\t            }\n\t            var /** @type {?} */ elDef = ((nodeDef.parent));\n\t            var /** @type {?} */ el = asElementData(view, elDef.nodeIndex).renderElement;\n\t            if (!((elDef.element)).name) {\n\t                // a comment.\n\t                view.renderer.setValue(el, \"bindings=\" + JSON.stringify(bindingValues, null, 2));\n\t            }\n\t            else {\n\t                // a regular element.\n\t                for (var /** @type {?} */ attr in bindingValues) {\n\t                    var /** @type {?} */ value = bindingValues[attr];\n\t                    if (value != null) {\n\t                        view.renderer.setAttribute(el, attr, value);\n\t                    }\n\t                    else {\n\t                        view.renderer.removeAttribute(el, attr);\n\t                    }\n\t                }\n\t            }\n\t        }\n\t    }\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} nodeDef\n\t * @param {?} argStyle\n\t * @param {?} values\n\t * @return {?}\n\t */\n\tfunction debugCheckNoChangesNode(view, nodeDef, argStyle, values) {\n\t    ((checkNoChangesNode)).apply(void 0, [view, nodeDef, argStyle].concat(values));\n\t}\n\t/**\n\t * @param {?} name\n\t * @return {?}\n\t */\n\tfunction normalizeDebugBindingName(name) {\n\t    // Attribute names with `$` (eg `x-y$`) are valid per spec, but unsupported by some browsers\n\t    name = camelCaseToDashCase(name.replace(/[$@]/g, '_'));\n\t    return \"ng-reflect-\" + name;\n\t}\n\tvar CAMEL_CASE_REGEXP = /([A-Z])/g;\n\t/**\n\t * @param {?} input\n\t * @return {?}\n\t */\n\tfunction camelCaseToDashCase(input) {\n\t    return input.replace(CAMEL_CASE_REGEXP, function () {\n\t        var m = [];\n\t        for (var _i = 0; _i < arguments.length; _i++) {\n\t            m[_i] = arguments[_i];\n\t        }\n\t        return '-' + m[1].toLowerCase();\n\t    });\n\t}\n\t/**\n\t * @param {?} value\n\t * @return {?}\n\t */\n\tfunction normalizeDebugBindingValue(value) {\n\t    try {\n\t        // Limit the size of the value as otherwise the DOM just gets polluted.\n\t        return value != null ? value.toString().slice(0, 30) : value;\n\t    }\n\t    catch (e) {\n\t        return '[ERROR] Exception while trying to serialize the value';\n\t    }\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} nodeIndex\n\t * @return {?}\n\t */\n\tfunction nextDirectiveWithBinding(view, nodeIndex) {\n\t    for (var /** @type {?} */ i = nodeIndex; i < view.def.nodes.length; i++) {\n\t        var /** @type {?} */ nodeDef = view.def.nodes[i];\n\t        if (nodeDef.flags & 16384 /* TypeDirective */ && nodeDef.bindings && nodeDef.bindings.length) {\n\t            return i;\n\t        }\n\t    }\n\t    return null;\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} nodeIndex\n\t * @return {?}\n\t */\n\tfunction nextRenderNodeWithBinding(view, nodeIndex) {\n\t    for (var /** @type {?} */ i = nodeIndex; i < view.def.nodes.length; i++) {\n\t        var /** @type {?} */ nodeDef = view.def.nodes[i];\n\t        if ((nodeDef.flags & 3 /* CatRenderNode */) && nodeDef.bindings && nodeDef.bindings.length) {\n\t            return i;\n\t        }\n\t    }\n\t    return null;\n\t}\n\tvar DebugContext_ = (function () {\n\t    /**\n\t     * @param {?} view\n\t     * @param {?} nodeIndex\n\t     */\n\t    function DebugContext_(view, nodeIndex) {\n\t        this.view = view;\n\t        this.nodeIndex = nodeIndex;\n\t        if (nodeIndex == null) {\n\t            this.nodeIndex = nodeIndex = 0;\n\t        }\n\t        this.nodeDef = view.def.nodes[nodeIndex];\n\t        var elDef = this.nodeDef;\n\t        var elView = view;\n\t        while (elDef && (elDef.flags & 1 /* TypeElement */) === 0) {\n\t            elDef = elDef.parent;\n\t        }\n\t        if (!elDef) {\n\t            while (!elDef && elView) {\n\t                elDef = viewParentEl(elView);\n\t                elView = elView.parent;\n\t            }\n\t        }\n\t        this.elDef = elDef;\n\t        this.elView = elView;\n\t    }\n\t    Object.defineProperty(DebugContext_.prototype, \"elOrCompView\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () {\n\t            // Has to be done lazily as we use the DebugContext also during creation of elements...\n\t            return asElementData(this.elView, this.elDef.nodeIndex).componentView || this.view;\n\t        },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(DebugContext_.prototype, \"injector\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () { return createInjector(this.elView, this.elDef); },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(DebugContext_.prototype, \"component\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () { return this.elOrCompView.component; },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(DebugContext_.prototype, \"context\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () { return this.elOrCompView.context; },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(DebugContext_.prototype, \"providerTokens\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () {\n\t            var /** @type {?} */ tokens = [];\n\t            if (this.elDef) {\n\t                for (var /** @type {?} */ i = this.elDef.nodeIndex + 1; i <= this.elDef.nodeIndex + this.elDef.childCount; i++) {\n\t                    var /** @type {?} */ childDef = this.elView.def.nodes[i];\n\t                    if (childDef.flags & 20224 /* CatProvider */) {\n\t                        tokens.push(/** @type {?} */ ((childDef.provider)).token);\n\t                    }\n\t                    i += childDef.childCount;\n\t                }\n\t            }\n\t            return tokens;\n\t        },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(DebugContext_.prototype, \"references\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () {\n\t            var /** @type {?} */ references = {};\n\t            if (this.elDef) {\n\t                collectReferences(this.elView, this.elDef, references);\n\t                for (var /** @type {?} */ i = this.elDef.nodeIndex + 1; i <= this.elDef.nodeIndex + this.elDef.childCount; i++) {\n\t                    var /** @type {?} */ childDef = this.elView.def.nodes[i];\n\t                    if (childDef.flags & 20224 /* CatProvider */) {\n\t                        collectReferences(this.elView, childDef, references);\n\t                    }\n\t                    i += childDef.childCount;\n\t                }\n\t            }\n\t            return references;\n\t        },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(DebugContext_.prototype, \"componentRenderElement\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () {\n\t            var /** @type {?} */ elData = findHostElement(this.elOrCompView);\n\t            return elData ? elData.renderElement : undefined;\n\t        },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    Object.defineProperty(DebugContext_.prototype, \"renderNode\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () {\n\t            return this.nodeDef.flags & 2 /* TypeText */ ? renderNode(this.view, this.nodeDef) :\n\t                renderNode(this.elView, this.elDef);\n\t        },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    /**\n\t     * @param {?} console\n\t     * @param {...?} values\n\t     * @return {?}\n\t     */\n\t    DebugContext_.prototype.logError = function (console) {\n\t        var values = [];\n\t        for (var _i = 1; _i < arguments.length; _i++) {\n\t            values[_i - 1] = arguments[_i];\n\t        }\n\t        var /** @type {?} */ logViewDef;\n\t        var /** @type {?} */ logNodeIndex;\n\t        if (this.nodeDef.flags & 2 /* TypeText */) {\n\t            logViewDef = this.view.def;\n\t            logNodeIndex = this.nodeDef.nodeIndex;\n\t        }\n\t        else {\n\t            logViewDef = this.elView.def;\n\t            logNodeIndex = this.elDef.nodeIndex;\n\t        }\n\t        // Note: we only generate a log function for text and element nodes\n\t        // to make the generated code as small as possible.\n\t        var /** @type {?} */ renderNodeIndex = getRenderNodeIndex(logViewDef, logNodeIndex);\n\t        var /** @type {?} */ currRenderNodeIndex = -1;\n\t        var /** @type {?} */ nodeLogger = function () {\n\t            currRenderNodeIndex++;\n\t            if (currRenderNodeIndex === renderNodeIndex) {\n\t                return (_a = console.error).bind.apply(_a, [console].concat(values));\n\t            }\n\t            else {\n\t                return NOOP;\n\t            }\n\t            var _a;\n\t        }; /** @type {?} */\n\t        ((logViewDef.factory))(nodeLogger);\n\t        if (currRenderNodeIndex < renderNodeIndex) {\n\t            console.error('Illegal state: the ViewDefinitionFactory did not call the logger!');\n\t            console.error.apply(console, values);\n\t        }\n\t    };\n\t    return DebugContext_;\n\t}());\n\t/**\n\t * @param {?} viewDef\n\t * @param {?} nodeIndex\n\t * @return {?}\n\t */\n\tfunction getRenderNodeIndex(viewDef$$1, nodeIndex) {\n\t    var /** @type {?} */ renderNodeIndex = -1;\n\t    for (var /** @type {?} */ i = 0; i <= nodeIndex; i++) {\n\t        var /** @type {?} */ nodeDef = viewDef$$1.nodes[i];\n\t        if (nodeDef.flags & 3 /* CatRenderNode */) {\n\t            renderNodeIndex++;\n\t        }\n\t    }\n\t    return renderNodeIndex;\n\t}\n\t/**\n\t * @param {?} view\n\t * @return {?}\n\t */\n\tfunction findHostElement(view) {\n\t    while (view && !isComponentView(view)) {\n\t        view = ((view.parent));\n\t    }\n\t    if (view.parent) {\n\t        return asElementData(view.parent, /** @type {?} */ ((viewParentEl(view))).nodeIndex);\n\t    }\n\t    return null;\n\t}\n\t/**\n\t * @param {?} view\n\t * @param {?} nodeDef\n\t * @param {?} references\n\t * @return {?}\n\t */\n\tfunction collectReferences(view, nodeDef, references) {\n\t    for (var /** @type {?} */ refName in nodeDef.references) {\n\t        references[refName] = getQueryValue(view, nodeDef, nodeDef.references[refName]);\n\t    }\n\t}\n\t/**\n\t * @param {?} action\n\t * @param {?} fn\n\t * @param {?} self\n\t * @param {?} args\n\t * @return {?}\n\t */\n\tfunction callWithDebugContext(action, fn, self, args) {\n\t    var /** @type {?} */ oldAction = _currentAction;\n\t    var /** @type {?} */ oldView = _currentView;\n\t    var /** @type {?} */ oldNodeIndex = _currentNodeIndex;\n\t    try {\n\t        _currentAction = action;\n\t        var /** @type {?} */ result = fn.apply(self, args);\n\t        _currentView = oldView;\n\t        _currentNodeIndex = oldNodeIndex;\n\t        _currentAction = oldAction;\n\t        return result;\n\t    }\n\t    catch (e) {\n\t        if (isViewDebugError(e) || !_currentView) {\n\t            throw e;\n\t        }\n\t        throw viewWrappedDebugError(e, /** @type {?} */ ((getCurrentDebugContext())));\n\t    }\n\t}\n\t/**\n\t * @return {?}\n\t */\n\tfunction getCurrentDebugContext() {\n\t    return _currentView ? new DebugContext_(_currentView, _currentNodeIndex) : null;\n\t}\n\tvar DebugRendererFactory2 = (function () {\n\t    /**\n\t     * @param {?} delegate\n\t     */\n\t    function DebugRendererFactory2(delegate) {\n\t        this.delegate = delegate;\n\t    }\n\t    /**\n\t     * @param {?} element\n\t     * @param {?} renderData\n\t     * @return {?}\n\t     */\n\t    DebugRendererFactory2.prototype.createRenderer = function (element, renderData) {\n\t        return new DebugRenderer2(this.delegate.createRenderer(element, renderData));\n\t    };\n\t    /**\n\t     * @return {?}\n\t     */\n\t    DebugRendererFactory2.prototype.begin = function () {\n\t        if (this.delegate.begin) {\n\t            this.delegate.begin();\n\t        }\n\t    };\n\t    /**\n\t     * @return {?}\n\t     */\n\t    DebugRendererFactory2.prototype.end = function () {\n\t        if (this.delegate.end) {\n\t            this.delegate.end();\n\t        }\n\t    };\n\t    /**\n\t     * @return {?}\n\t     */\n\t    DebugRendererFactory2.prototype.whenRenderingDone = function () {\n\t        if (this.delegate.whenRenderingDone) {\n\t            return this.delegate.whenRenderingDone();\n\t        }\n\t        return Promise.resolve(null);\n\t    };\n\t    return DebugRendererFactory2;\n\t}());\n\tvar DebugRenderer2 = (function () {\n\t    /**\n\t     * @param {?} delegate\n\t     */\n\t    function DebugRenderer2(delegate) {\n\t        this.delegate = delegate;\n\t    }\n\t    Object.defineProperty(DebugRenderer2.prototype, \"data\", {\n\t        /**\n\t         * @return {?}\n\t         */\n\t        get: function () { return this.delegate.data; },\n\t        enumerable: true,\n\t        configurable: true\n\t    });\n\t    /**\n\t     * @param {?} node\n\t     * @return {?}\n\t     */\n\t    DebugRenderer2.prototype.destroyNode = function (node) {\n\t        removeDebugNodeFromIndex(/** @type {?} */ ((getDebugNode(node))));\n\t        if (this.delegate.destroyNode) {\n\t            this.delegate.destroyNode(node);\n\t        }\n\t    };\n\t    /**\n\t     * @return {?}\n\t     */\n\t    DebugRenderer2.prototype.destroy = function () { this.delegate.destroy(); };\n\t    /**\n\t     * @param {?} name\n\t     * @param {?=} namespace\n\t     * @return {?}\n\t     */\n\t    DebugRenderer2.prototype.createElement = function (name, namespace) {\n\t        var /** @type {?} */ el = this.delegate.createElement(name, namespace);\n\t        var /** @type {?} */ debugCtx = getCurrentDebugContext();\n\t        if (debugCtx) {\n\t            var /** @type {?} */ debugEl = new DebugElement(el, null, debugCtx);\n\t            debugEl.name = name;\n\t            indexDebugNode(debugEl);\n\t        }\n\t        return el;\n\t    };\n\t    /**\n\t     * @param {?} value\n\t     * @return {?}\n\t     */\n\t    DebugRenderer2.prototype.createComment = function (value) {\n\t        var /** @type {?} */ comment = this.delegate.createComment(value);\n\t        var /** @type {?} */ debugCtx = getCurrentDebugContext();\n\t        if (debugCtx) {\n\t            indexDebugNode(new DebugNode(comment, null, debugCtx));\n\t        }\n\t        return comment;\n\t    };\n\t    /**\n\t     * @param {?} value\n\t     * @return {?}\n\t     */\n\t    DebugRenderer2.prototype.createText = function (value) {\n\t        var /** @type {?} */ text = this.delegate.createText(value);\n\t        var /** @type {?} */ debugCtx = getCurrentDebugContext();\n\t        if (debugCtx) {\n\t            indexDebugNode(new DebugNode(text, null, debugCtx));\n\t        }\n\t        return text;\n\t    };\n\t    /**\n\t     * @param {?} parent\n\t     * @param {?} newChild\n\t     * @return {?}\n\t     */\n\t    DebugRenderer2.prototype.appendChild = function (parent, newChild) {\n\t        var /** @type {?} */ debugEl = getDebugNode(parent);\n\t        var /** @type {?} */ debugChildEl = getDebugNode(newChild);\n\t        if (debugEl && debugChildEl && debugEl instanceof DebugElement) {\n\t            debugEl.addChild(debugChildEl);\n\t        }\n\t        this.delegate.appendChild(parent, newChild);\n\t    };\n\t    /**\n\t     * @param {?} parent\n\t     * @param {?} newChild\n\t     * @param {?} refChild\n\t     * @return {?}\n\t     */\n\t    DebugRenderer2.prototype.insertBefore = function (parent, newChild, refChild) {\n\t        var /** @type {?} */ debugEl = getDebugNode(parent);\n\t        var /** @type {?} */ debugChildEl = getDebugNode(newChild);\n\t        var /** @type {?} */ debugRefEl = ((getDebugNode(refChild)));\n\t        if (debugEl && debugChildEl && debugEl instanceof DebugElement) {\n\t            debugEl.insertBefore(debugRefEl, debugChildEl);\n\t        }\n\t        this.delegate.insertBefore(parent, newChild, refChild);\n\t    };\n\t    /**\n\t     * @param {?} parent\n\t     * @param {?} oldChild\n\t     * @return {?}\n\t     */\n\t    DebugRenderer2.prototype.removeChild = function (parent, oldChild) {\n\t        var /** @type {?} */ debugEl = getDebugNode(parent);\n\t        var /** @type {?} */ debugChildEl = getDebugNode(oldChild);\n\t        if (debugEl && debugChildEl && debugEl instanceof DebugElement) {\n\t            debugEl.removeChild(debugChildEl);\n\t        }\n\t        this.delegate.removeChild(parent, oldChild);\n\t    };\n\t    /**\n\t     * @param {?} selectorOrNode\n\t     * @return {?}\n\t     */\n\t    DebugRenderer2.prototype.selectRootElement = function (selectorOrNode) {\n\t        var /** @type {?} */ el = this.delegate.selectRootElement(selectorOrNode);\n\t        var /** @type {?} */ debugCtx = getCurrentDebugContext();\n\t        if (debugCtx) {\n\t            indexDebugNode(new DebugElement(el, null, debugCtx));\n\t        }\n\t        return el;\n\t    };\n\t    /**\n\t     * @param {?} el\n\t     * @param {?} name\n\t     * @param {?} value\n\t     * @param {?=} namespace\n\t     * @return {?}\n\t     */\n\t    DebugRenderer2.prototype.setAttribute = function (el, name, value, namespace) {\n\t        var /** @type {?} */ debugEl = getDebugNode(el);\n\t        if (debugEl && debugEl instanceof DebugElement) {\n\t            var /** @type {?} */ fullName = namespace ? namespace + ':' + name : name;\n\t            debugEl.attributes[fullName] = value;\n\t        }\n\t        this.delegate.setAttribute(el, name, value, namespace);\n\t    };\n\t    /**\n\t     * @param {?} el\n\t     * @param {?} name\n\t     * @param {?=} namespace\n\t     * @return {?}\n\t     */\n\t    DebugRenderer2.prototype.removeAttribute = function (el, name, namespace) {\n\t        var /** @type {?} */ debugEl = getDebugNode(el);\n\t        if (debugEl && debugEl instanceof DebugElement) {\n\t            var /** @type {?} */ fullName = namespace ? namespace + ':' + name : name;\n\t            debugEl.attributes[fullName] = null;\n\t        }\n\t        this.delegate.removeAttribute(el, name, namespace);\n\t    };\n\t    /**\n\t     * @param {?} el\n\t     * @param {?} name\n\t     * @return {?}\n\t     */\n\t    DebugRenderer2.prototype.addClass = function (el, name) {\n\t        var /** @type {?} */ debugEl = getDebugNode(el);\n\t        if (debugEl && debugEl instanceof DebugElement) {\n\t            debugEl.classes[name] = true;\n\t        }\n\t        this.delegate.addClass(el, name);\n\t    };\n\t    /**\n\t     * @param {?} el\n\t     * @param {?} name\n\t     * @return {?}\n\t     */\n\t    DebugRenderer2.prototype.removeClass = function (el, name) {\n\t        var /** @type {?} */ debugEl = getDebugNode(el);\n\t        if (debugEl && debugEl instanceof DebugElement) {\n\t            debugEl.classes[name] = false;\n\t        }\n\t        this.delegate.removeClass(el, name);\n\t    };\n\t    /**\n\t     * @param {?} el\n\t     * @param {?} style\n\t     * @param {?} value\n\t     * @param {?} flags\n\t     * @return {?}\n\t     */\n\t    DebugRenderer2.prototype.setStyle = function (el, style, value, flags) {\n\t        var /** @type {?} */ debugEl = getDebugNode(el);\n\t        if (debugEl && debugEl instanceof DebugElement) {\n\t            debugEl.styles[style] = value;\n\t        }\n\t        this.delegate.setStyle(el, style, value, flags);\n\t    };\n\t    /**\n\t     * @param {?} el\n\t     * @param {?} style\n\t     * @param {?} flags\n\t     * @return {?}\n\t     */\n\t    DebugRenderer2.prototype.removeStyle = function (el, style, flags) {\n\t        var /** @type {?} */ debugEl = getDebugNode(el);\n\t        if (debugEl && debugEl instanceof DebugElement) {\n\t            debugEl.styles[style] = null;\n\t        }\n\t        this.delegate.removeStyle(el, style, flags);\n\t    };\n\t    /**\n\t     * @param {?} el\n\t     * @param {?} name\n\t     * @param {?} value\n\t     * @return {?}\n\t     */\n\t    DebugRenderer2.prototype.setProperty = function (el, name, value) {\n\t        var /** @type {?} */ debugEl = getDebugNode(el);\n\t        if (debugEl && debugEl instanceof DebugElement) {\n\t            debugEl.properties[name] = value;\n\t        }\n\t        this.delegate.setProperty(el, name, value);\n\t    };\n\t    /**\n\t     * @param {?} target\n\t     * @param {?} eventName\n\t     * @param {?} callback\n\t     * @return {?}\n\t     */\n\t    DebugRenderer2.prototype.listen = function (target, eventName, callback) {\n\t        if (typeof target !== 'string') {\n\t            var /** @type {?} */ debugEl = getDebugNode(target);\n\t            if (debugEl) {\n\t                debugEl.listeners.push(new EventListener(eventName, callback));\n\t            }\n\t        }\n\t        return this.delegate.listen(target, eventName, callback);\n\t    };\n\t    /**\n\t     * @param {?} node\n\t     * @return {?}\n\t     */\n\t    DebugRenderer2.prototype.parentNode = function (node) { return this.delegate.parentNode(node); };\n\t    /**\n\t     * @param {?} node\n\t     * @return {?}\n\t     */\n\t    DebugRenderer2.prototype.nextSibling = function (node) { return this.delegate.nextSibling(node); };\n\t    /**\n\t     * @param {?} node\n\t     * @param {?} value\n\t     * @return {?}\n\t     */\n\t    DebugRenderer2.prototype.setValue = function (node, value) { return this.delegate.setValue(node, value); };\n\t    return DebugRenderer2;\n\t}());\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t/**\n\t * @param {?} override\n\t * @return {?}\n\t */\n\tfunction overrideProvider(override) {\n\t    initServicesIfNeeded();\n\t    return Services.overrideProvider(override);\n\t}\n\t/**\n\t * @return {?}\n\t */\n\tfunction clearProviderOverrides() {\n\t    initServicesIfNeeded();\n\t    return Services.clearProviderOverrides();\n\t}\n\t/**\n\t * @param {?} ngModuleType\n\t * @param {?} bootstrapComponents\n\t * @param {?} defFactory\n\t * @return {?}\n\t */\n\tfunction createNgModuleFactory(ngModuleType, bootstrapComponents, defFactory) {\n\t    return new NgModuleFactory_(ngModuleType, bootstrapComponents, defFactory);\n\t}\n\tvar NgModuleFactory_ = (function (_super) {\n\t    __extends(NgModuleFactory_, _super);\n\t    /**\n\t     * @param {?} moduleType\n\t     * @param {?} _bootstrapComponents\n\t     * @param {?} _ngModuleDefFactory\n\t     */\n\t    function NgModuleFactory_(moduleType, _bootstrapComponents, _ngModuleDefFactory) {\n\t        var _this = \n\t        // Attention: this ctor is called as top level function.\n\t        // Putting any logic in here will destroy closure tree shaking!\n\t        _super.call(this) || this;\n\t        _this.moduleType = moduleType;\n\t        _this._bootstrapComponents = _bootstrapComponents;\n\t        _this._ngModuleDefFactory = _ngModuleDefFactory;\n\t        return _this;\n\t    }\n\t    /**\n\t     * @param {?} parentInjector\n\t     * @return {?}\n\t     */\n\t    NgModuleFactory_.prototype.create = function (parentInjector) {\n\t        initServicesIfNeeded();\n\t        var /** @type {?} */ def = resolveDefinition(this._ngModuleDefFactory);\n\t        return Services.createNgModuleRef(this.moduleType, parentInjector || Injector.NULL, this._bootstrapComponents, def);\n\t    };\n\t    return NgModuleFactory_;\n\t}(NgModuleFactory));\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t/**\n\t * \\@experimental Animation support is experimental.\n\t */\n\t/**\n\t * `trigger` is an animation-specific function that is designed to be used inside of Angular's\n\t * animation DSL language. If this information is new, please navigate to the\n\t * {\\@link Component#animations component animations metadata page} to gain a better\n\t * understanding of how animations in Angular are used.\n\t *\n\t * `trigger` Creates an animation trigger which will a list of {\\@link state state} and\n\t * {\\@link transition transition} entries that will be evaluated when the expression\n\t * bound to the trigger changes.\n\t *\n\t * Triggers are registered within the component annotation data under the\n\t * {\\@link Component#animations animations section}. An animation trigger can be placed on an element\n\t * within a template by referencing the name of the trigger followed by the expression value that\n\t * the\n\t * trigger is bound to (in the form of `[\\@triggerName]=\"expression\"`.\n\t *\n\t * Animation trigger bindings strigify values and then match the previous and current values against\n\t * any linked transitions. If a boolean value is provided into the trigger binding then it will both\n\t * be represented as `1` or `true` and `0` or `false` for a true and false boolean values\n\t * respectively.\n\t *\n\t * ### Usage\n\t *\n\t * `trigger` will create an animation trigger reference based on the provided `name` value. The\n\t * provided `animation` value is expected to be an array consisting of {\\@link state state} and\n\t * {\\@link transition transition} declarations.\n\t *\n\t * ```typescript\n\t * \\@Component({\n\t *   selector: 'my-component',\n\t *   templateUrl: 'my-component-tpl.html',\n\t *   animations: [\n\t *     trigger(\"myAnimationTrigger\", [\n\t *       state(...),\n\t *       state(...),\n\t *       transition(...),\n\t *       transition(...)\n\t *     ])\n\t *   ]\n\t * })\n\t * class MyComponent {\n\t *   myStatusExp = \"something\";\n\t * }\n\t * ```\n\t *\n\t * The template associated with this component will make use of the `myAnimationTrigger` animation\n\t * trigger by binding to an element within its template code.\n\t *\n\t * ```html\n\t * <!-- somewhere inside of my-component-tpl.html -->\n\t * <div [\\@myAnimationTrigger]=\"myStatusExp\">...</div>\n\t * ```\n\t *\n\t * ## Disable Animations\n\t * A special animation control binding called `\\@.disabled` can be placed on an element which will\n\t * then disable animations for any inner animation triggers situated within the element as well as\n\t * any animations on the element itself.\n\t *\n\t * When true, the `\\@.disabled` binding will prevent all animations from rendering. The example\n\t * below shows how to use this feature:\n\t *\n\t * ```ts\n\t * \\@Component({\n\t *   selector: 'my-component',\n\t *   template: `\n\t *     <div [\\@.disabled]=\"isDisabled\">\n\t *       <div [\\@childAnimation]=\"exp\"></div>\n\t *     </div>\n\t *   `,\n\t *   animations: [\n\t *     trigger(\"childAnimation\", [\n\t *       // ...\n\t *     ])\n\t *   ]\n\t * })\n\t * class MyComponent {\n\t *   isDisabled = true;\n\t *   exp = '...';\n\t * }\n\t * ```\n\t *\n\t * The `\\@childAnimation` trigger will not animate because `\\@.disabled` prevents it from happening\n\t * (when true).\n\t *\n\t * Note that `\\@.disbled` will only disable all animations (this means any animations running on\n\t * the same element will also be disabled).\n\t *\n\t * ### Disabling Animations Application-wide\n\t * When an area of the template is set to have animations disabled, **all** inner components will\n\t * also have their animations disabled as well. This means that all animations for an angular\n\t * application can be disabled by placing a host binding set on `\\@.disabled` on the topmost Angular\n\t * component.\n\t *\n\t * ```ts\n\t * import {Component, HostBinding} from '\\@angular/core';\n\t *\n\t * \\@Component({\n\t *   selector: 'app-component',\n\t *   templateUrl: 'app.component.html',\n\t * })\n\t * class AppComponent {\n\t *   \\@HostBinding('\\@.disabled')\n\t *   public animationsDisabled = true;\n\t * }\n\t * ```\n\t *\n\t * ### What about animations that us `query()` and `animateChild()`?\n\t * Despite inner animations being disabled, a parent animation can {\\@link query query} for inner\n\t * elements located in disabled areas of the template and still animate them as it sees fit. This is\n\t * also the case for when a sub animation is queried by a parent and then later animated using {\\@link\n\t * animateChild animateChild}.\n\t *\n\t * \\@experimental Animation support is experimental.\n\t * @param {?} name\n\t * @param {?} definitions\n\t * @return {?}\n\t */\n\tfunction trigger$1(name, definitions) {\n\t    return { type: 7 /* Trigger */, name: name, definitions: definitions, options: {} };\n\t}\n\t/**\n\t * `animate` is an animation-specific function that is designed to be used inside of Angular's\n\t * animation DSL language. If this information is new, please navigate to the {\\@link\n\t * Component#animations component animations metadata page} to gain a better understanding of\n\t * how animations in Angular are used.\n\t *\n\t * `animate` specifies an animation step that will apply the provided `styles` data for a given\n\t * amount of time based on the provided `timing` expression value. Calls to `animate` are expected\n\t * to be used within {\\@link sequence an animation sequence}, {\\@link group group}, or {\\@link\n\t * transition transition}.\n\t *\n\t * ### Usage\n\t *\n\t * The `animate` function accepts two input parameters: `timing` and `styles`:\n\t *\n\t * - `timing` is a string based value that can be a combination of a duration with optional delay\n\t * and easing values. The format for the expression breaks down to `duration delay easing`\n\t * (therefore a value such as `1s 100ms ease-out` will be parse itself into `duration=1000,\n\t * delay=100, easing=ease-out`. If a numeric value is provided then that will be used as the\n\t * `duration` value in millisecond form.\n\t * - `styles` is the style input data which can either be a call to {\\@link style style} or {\\@link\n\t * keyframes keyframes}. If left empty then the styles from the destination state will be collected\n\t * and used (this is useful when describing an animation step that will complete an animation by\n\t * {\\@link transition#the-final-animate-call animating to the final state}).\n\t *\n\t * ```typescript\n\t * // various functions for specifying timing data\n\t * animate(500, style(...))\n\t * animate(\"1s\", style(...))\n\t * animate(\"100ms 0.5s\", style(...))\n\t * animate(\"5s ease\", style(...))\n\t * animate(\"5s 10ms cubic-bezier(.17,.67,.88,.1)\", style(...))\n\t *\n\t * // either style() of keyframes() can be used\n\t * animate(500, style({ background: \"red\" }))\n\t * animate(500, keyframes([\n\t *   style({ background: \"blue\" })),\n\t *   style({ background: \"red\" }))\n\t * ])\n\t * ```\n\t *\n\t * {\\@example core/animation/ts/dsl/animation_example.ts region='Component'}\n\t *\n\t * \\@experimental Animation support is experimental.\n\t * @param {?} timings\n\t * @param {?=} styles\n\t * @return {?}\n\t */\n\tfunction animate$1(timings, styles) {\n\t    if (styles === void 0) { styles = null; }\n\t    return { type: 4 /* Animate */, styles: styles, timings: timings };\n\t}\n\t/**\n\t * `group` is an animation-specific function that is designed to be used inside of Angular's\n\t * animation DSL language. If this information is new, please navigate to the {\\@link\n\t * Component#animations component animations metadata page} to gain a better understanding of\n\t * how animations in Angular are used.\n\t *\n\t * `group` specifies a list of animation steps that are all run in parallel. Grouped animations are\n\t * useful when a series of styles must be animated/closed off at different starting/ending times.\n\t *\n\t * The `group` function can either be used within a {\\@link sequence sequence} or a {\\@link transition\n\t * transition} and it will only continue to the next instruction once all of the inner animation\n\t * steps have completed.\n\t *\n\t * ### Usage\n\t *\n\t * The `steps` data that is passed into the `group` animation function can either consist of {\\@link\n\t * style style} or {\\@link animate animate} function calls. Each call to `style()` or `animate()`\n\t * within a group will be executed instantly (use {\\@link keyframes keyframes} or a {\\@link\n\t * animate#usage animate() with a delay value} to offset styles to be applied at a later time).\n\t *\n\t * ```typescript\n\t * group([\n\t *   animate(\"1s\", { background: \"black\" }))\n\t *   animate(\"2s\", { color: \"white\" }))\n\t * ])\n\t * ```\n\t *\n\t * {\\@example core/animation/ts/dsl/animation_example.ts region='Component'}\n\t *\n\t * \\@experimental Animation support is experimental.\n\t * @param {?} steps\n\t * @param {?=} options\n\t * @return {?}\n\t */\n\tfunction group$1(steps, options) {\n\t    if (options === void 0) { options = null; }\n\t    return { type: 3 /* Group */, steps: steps, options: options };\n\t}\n\t/**\n\t * `sequence` is an animation-specific function that is designed to be used inside of Angular's\n\t * animation DSL language. If this information is new, please navigate to the {\\@link\n\t * Component#animations component animations metadata page} to gain a better understanding of\n\t * how animations in Angular are used.\n\t *\n\t * `sequence` Specifies a list of animation steps that are run one by one. (`sequence` is used by\n\t * default when an array is passed as animation data into {\\@link transition transition}.)\n\t *\n\t * The `sequence` function can either be used within a {\\@link group group} or a {\\@link transition\n\t * transition} and it will only continue to the next instruction once each of the inner animation\n\t * steps have completed.\n\t *\n\t * To perform animation styling in parallel with other animation steps then have a look at the\n\t * {\\@link group group} animation function.\n\t *\n\t * ### Usage\n\t *\n\t * The `steps` data that is passed into the `sequence` animation function can either consist of\n\t * {\\@link style style} or {\\@link animate animate} function calls. A call to `style()` will apply the\n\t * provided styling data immediately while a call to `animate()` will apply its styling data over a\n\t * given time depending on its timing data.\n\t *\n\t * ```typescript\n\t * sequence([\n\t *   style({ opacity: 0 })),\n\t *   animate(\"1s\", { opacity: 1 }))\n\t * ])\n\t * ```\n\t *\n\t * {\\@example core/animation/ts/dsl/animation_example.ts region='Component'}\n\t *\n\t * \\@experimental Animation support is experimental.\n\t * @param {?} steps\n\t * @param {?=} options\n\t * @return {?}\n\t */\n\tfunction sequence$1(steps, options) {\n\t    if (options === void 0) { options = null; }\n\t    return { type: 2 /* Sequence */, steps: steps, options: options };\n\t}\n\t/**\n\t * `style` is an animation-specific function that is designed to be used inside of Angular's\n\t * animation DSL language. If this information is new, please navigate to the {\\@link\n\t * Component#animations component animations metadata page} to gain a better understanding of\n\t * how animations in Angular are used.\n\t *\n\t * `style` declares a key/value object containing CSS properties/styles that can then be used for\n\t * {\\@link state animation states}, within an {\\@link sequence animation sequence}, or as styling data\n\t * for both {\\@link animate animate} and {\\@link keyframes keyframes}.\n\t *\n\t * ### Usage\n\t *\n\t * `style` takes in a key/value string map as data and expects one or more CSS property/value pairs\n\t * to be defined.\n\t *\n\t * ```typescript\n\t * // string values are used for css properties\n\t * style({ background: \"red\", color: \"blue\" })\n\t *\n\t * // numerical (pixel) values are also supported\n\t * style({ width: 100, height: 0 })\n\t * ```\n\t *\n\t * #### Auto-styles (using `*`)\n\t *\n\t * When an asterix (`*`) character is used as a value then it will be detected from the element\n\t * being animated and applied as animation data when the animation starts.\n\t *\n\t * This feature proves useful for a state depending on layout and/or environment factors; in such\n\t * cases the styles are calculated just before the animation starts.\n\t *\n\t * ```typescript\n\t * // the steps below will animate from 0 to the\n\t * // actual height of the element\n\t * style({ height: 0 }),\n\t * animate(\"1s\", style({ height: \"*\" }))\n\t * ```\n\t *\n\t * {\\@example core/animation/ts/dsl/animation_example.ts region='Component'}\n\t *\n\t * \\@experimental Animation support is experimental.\n\t * @param {?} tokens\n\t * @return {?}\n\t */\n\tfunction style$1(tokens) {\n\t    return { type: 6 /* Style */, styles: tokens, offset: null };\n\t}\n\t/**\n\t * `state` is an animation-specific function that is designed to be used inside of Angular's\n\t * animation DSL language. If this information is new, please navigate to the {\\@link\n\t * Component#animations component animations metadata page} to gain a better understanding of\n\t * how animations in Angular are used.\n\t *\n\t * `state` declares an animation state within the given trigger. When a state is active within a\n\t * component then its associated styles will persist on the element that the trigger is attached to\n\t * (even when the animation ends).\n\t *\n\t * To animate between states, have a look at the animation {\\@link transition transition} DSL\n\t * function. To register states to an animation trigger please have a look at the {\\@link trigger\n\t * trigger} function.\n\t *\n\t * #### The `void` state\n\t *\n\t * The `void` state value is a reserved word that angular uses to determine when the element is not\n\t * apart of the application anymore (e.g. when an `ngIf` evaluates to false then the state of the\n\t * associated element is void).\n\t *\n\t * #### The `*` (default) state\n\t *\n\t * The `*` state (when styled) is a fallback state that will be used if the state that is being\n\t * animated is not declared within the trigger.\n\t *\n\t * ### Usage\n\t *\n\t * `state` will declare an animation state with its associated styles\n\t * within the given trigger.\n\t *\n\t * - `stateNameExpr` can be one or more state names separated by commas.\n\t * - `styles` refers to the {\\@link style styling data} that will be persisted on the element once\n\t * the state has been reached.\n\t *\n\t * ```typescript\n\t * // \"void\" is a reserved name for a state and is used to represent\n\t * // the state in which an element is detached from from the application.\n\t * state(\"void\", style({ height: 0 }))\n\t *\n\t * // user-defined states\n\t * state(\"closed\", style({ height: 0 }))\n\t * state(\"open, visible\", style({ height: \"*\" }))\n\t * ```\n\t *\n\t * {\\@example core/animation/ts/dsl/animation_example.ts region='Component'}\n\t *\n\t * \\@experimental Animation support is experimental.\n\t * @param {?} name\n\t * @param {?} styles\n\t * @param {?=} options\n\t * @return {?}\n\t */\n\tfunction state$1(name, styles, options) {\n\t    return { type: 0 /* State */, name: name, styles: styles, options: options };\n\t}\n\t/**\n\t * `keyframes` is an animation-specific function that is designed to be used inside of Angular's\n\t * animation DSL language. If this information is new, please navigate to the {\\@link\n\t * Component#animations component animations metadata page} to gain a better understanding of\n\t * how animations in Angular are used.\n\t *\n\t * `keyframes` specifies a collection of {\\@link style style} entries each optionally characterized\n\t * by an `offset` value.\n\t *\n\t * ### Usage\n\t *\n\t * The `keyframes` animation function is designed to be used alongside the {\\@link animate animate}\n\t * animation function. Instead of applying animations from where they are currently to their\n\t * destination, keyframes can describe how each style entry is applied and at what point within the\n\t * animation arc (much like CSS Keyframe Animations do).\n\t *\n\t * For each `style()` entry an `offset` value can be set. Doing so allows to specifiy at what\n\t * percentage of the animate time the styles will be applied.\n\t *\n\t * ```typescript\n\t * // the provided offset values describe when each backgroundColor value is applied.\n\t * animate(\"5s\", keyframes([\n\t *   style({ backgroundColor: \"red\", offset: 0 }),\n\t *   style({ backgroundColor: \"blue\", offset: 0.2 }),\n\t *   style({ backgroundColor: \"orange\", offset: 0.3 }),\n\t *   style({ backgroundColor: \"black\", offset: 1 })\n\t * ]))\n\t * ```\n\t *\n\t * Alternatively, if there are no `offset` values used within the style entries then the offsets\n\t * will be calculated automatically.\n\t *\n\t * ```typescript\n\t * animate(\"5s\", keyframes([\n\t *   style({ backgroundColor: \"red\" }) // offset = 0\n\t *   style({ backgroundColor: \"blue\" }) // offset = 0.33\n\t *   style({ backgroundColor: \"orange\" }) // offset = 0.66\n\t *   style({ backgroundColor: \"black\" }) // offset = 1\n\t * ]))\n\t * ```\n\t *\n\t * {\\@example core/animation/ts/dsl/animation_example.ts region='Component'}\n\t *\n\t * \\@experimental Animation support is experimental.\n\t * @param {?} steps\n\t * @return {?}\n\t */\n\tfunction keyframes$1(steps) {\n\t    return { type: 5 /* Keyframes */, steps: steps };\n\t}\n\t/**\n\t * `transition` is an animation-specific function that is designed to be used inside of Angular's\n\t * animation DSL language. If this information is new, please navigate to the {\\@link\n\t * Component#animations component animations metadata page} to gain a better understanding of\n\t * how animations in Angular are used.\n\t *\n\t * `transition` declares the {\\@link sequence sequence of animation steps} that will be run when the\n\t * provided `stateChangeExpr` value is satisfied. The `stateChangeExpr` consists of a `state1 =>\n\t * state2` which consists of two known states (use an asterix (`*`) to refer to a dynamic starting\n\t * and/or ending state).\n\t *\n\t * A function can also be provided as the `stateChangeExpr` argument for a transition and this\n\t * function will be executed each time a state change occurs. If the value returned within the\n\t * function is true then the associated animation will be run.\n\t *\n\t * Animation transitions are placed within an {\\@link trigger animation trigger}. For an transition\n\t * to animate to a state value and persist its styles then one or more {\\@link state animation\n\t * states} is expected to be defined.\n\t *\n\t * ### Usage\n\t *\n\t * An animation transition is kicked off the `stateChangeExpr` predicate evaluates to true based on\n\t * what the previous state is and what the current state has become. In other words, if a transition\n\t * is defined that matches the old/current state criteria then the associated animation will be\n\t * triggered.\n\t *\n\t * ```typescript\n\t * // all transition/state changes are defined within an animation trigger\n\t * trigger(\"myAnimationTrigger\", [\n\t *   // if a state is defined then its styles will be persisted when the\n\t *   // animation has fully completed itself\n\t *   state(\"on\", style({ background: \"green\" })),\n\t *   state(\"off\", style({ background: \"grey\" })),\n\t *\n\t *   // a transition animation that will be kicked off when the state value\n\t *   // bound to \"myAnimationTrigger\" changes from \"on\" to \"off\"\n\t *   transition(\"on => off\", animate(500)),\n\t *\n\t *   // it is also possible to do run the same animation for both directions\n\t *   transition(\"on <=> off\", animate(500)),\n\t *\n\t *   // or to define multiple states pairs separated by commas\n\t *   transition(\"on => off, off => void\", animate(500)),\n\t *\n\t *   // this is a catch-all state change for when an element is inserted into\n\t *   // the page and the destination state is unknown\n\t *   transition(\"void => *\", [\n\t *     style({ opacity: 0 }),\n\t *     animate(500)\n\t *   ]),\n\t *\n\t *   // this will capture a state change between any states\n\t *   transition(\"* => *\", animate(\"1s 0s\")),\n\t *\n\t *   // you can also go full out and include a function\n\t *   transition((fromState, toState) => {\n\t *     // when `true` then it will allow the animation below to be invoked\n\t *     return fromState == \"off\" && toState == \"on\";\n\t *   }, animate(\"1s 0s\"))\n\t * ])\n\t * ```\n\t *\n\t * The template associated with this component will make use of the `myAnimationTrigger` animation\n\t * trigger by binding to an element within its template code.\n\t *\n\t * ```html\n\t * <!-- somewhere inside of my-component-tpl.html -->\n\t * <div [\\@myAnimationTrigger]=\"myStatusExp\">...</div>\n\t * ```\n\t *\n\t * #### The final `animate` call\n\t *\n\t * If the final step within the transition steps is a call to `animate()` that **only** uses a\n\t * timing value with **no style data** then it will be automatically used as the final animation arc\n\t * for the element to animate itself to the final state. This involves an automatic mix of\n\t * adding/removing CSS styles so that the element will be in the exact state it should be for the\n\t * applied state to be presented correctly.\n\t *\n\t * ```\n\t * // start off by hiding the element, but make sure that it animates properly to whatever state\n\t * // is currently active for \"myAnimationTrigger\"\n\t * transition(\"void => *\", [\n\t *   style({ opacity: 0 }),\n\t *   animate(500)\n\t * ])\n\t * ```\n\t *\n\t * ### Transition Aliases (`:enter` and `:leave`)\n\t *\n\t * Given that enter (insertion) and leave (removal) animations are so common, the `transition`\n\t * function accepts both `:enter` and `:leave` values which are aliases for the `void => *` and `*\n\t * => void` state changes.\n\t *\n\t * ```\n\t * transition(\":enter\", [\n\t *   style({ opacity: 0 }),\n\t *   animate(500, style({ opacity: 1 }))\n\t * ])\n\t * transition(\":leave\", [\n\t *   animate(500, style({ opacity: 0 }))\n\t * ])\n\t * ```\n\t *\n\t * ### Boolean values\n\t * if a trigger binding value is a boolean value then it can be matched using a transition\n\t * expression that compares `true` and `false` or `1` and `0`.\n\t *\n\t * ```\n\t * // in the template\n\t * <div [\\@openClose]=\"open ? true : false\">...</div>\n\t *\n\t * // in the component metadata\n\t * trigger('openClose', [\n\t *   state('true', style({ height: '*' })),\n\t *   state('false', style({ height: '0px' })),\n\t *   transition('false <=> true', animate(500))\n\t * ])\n\t * ```\n\t * {\\@example core/animation/ts/dsl/animation_example.ts region='Component'}\n\t *\n\t * \\@experimental Animation support is experimental.\n\t * @param {?} stateChangeExpr\n\t * @param {?} steps\n\t * @param {?=} options\n\t * @return {?}\n\t */\n\tfunction transition$1(stateChangeExpr, steps, options) {\n\t    if (options === void 0) { options = null; }\n\t    return { type: 1 /* Transition */, expr: stateChangeExpr, animation: steps, options: options };\n\t}\n\t/**\n\t * `animation` is an animation-specific function that is designed to be used inside of Angular's\n\t * animation DSL language.\n\t *\n\t * `var myAnimation = animation(...)` is designed to produce a reusable animation that can be later\n\t * invoked in another animation or sequence. Reusable animations are designed to make use of\n\t * animation parameters and the produced animation can be used via the `useAnimation` method.\n\t *\n\t * ```\n\t * var fadeAnimation = animation([\n\t *   style({ opacity: '{{ start }}' }),\n\t *   animate('{{ time }}',\n\t *     style({ opacity: '{{ end }}'}))\n\t * ], { params: { time: '1000ms', start: 0, end: 1 }});\n\t * ```\n\t *\n\t * If parameters are attached to an animation then they act as **default parameter values**. When an\n\t * animation is invoked via `useAnimation` then parameter values are allowed to be passed in\n\t * directly. If any of the passed in parameter values are missing then the default values will be\n\t * used.\n\t *\n\t * ```\n\t * useAnimation(fadeAnimation, {\n\t *   params: {\n\t *     time: '2s',\n\t *     start: 1,\n\t *     end: 0\n\t *   }\n\t * })\n\t * ```\n\t *\n\t * If one or more parameter values are missing before animated then an error will be thrown.\n\t *\n\t * \\@experimental Animation support is experimental.\n\t * @param {?} steps\n\t * @param {?=} options\n\t * @return {?}\n\t */\n\t/**\n\t * `animateChild` is an animation-specific function that is designed to be used inside of Angular's\n\t * animation DSL language. It works by allowing a queried element to execute its own\n\t * animation within the animation sequence.\n\t *\n\t * Each time an animation is triggered in angular, the parent animation\n\t * will always get priority and any child animations will be blocked. In order\n\t * for a child animation to run, the parent animation must query each of the elements\n\t * containing child animations and then allow the animations to run using `animateChild`.\n\t *\n\t * The example HTML code below shows both parent and child elements that have animation\n\t * triggers that will execute at the same time.\n\t *\n\t * ```html\n\t * <!-- parent-child.component.html -->\n\t * <button (click)=\"exp =! exp\">Toggle</button>\n\t * <hr>\n\t *\n\t * <div [\\@parentAnimation]=\"exp\">\n\t *   <header>Hello</header>\n\t *   <div [\\@childAnimation]=\"exp\">\n\t *       one\n\t *   </div>\n\t *   <div [\\@childAnimation]=\"exp\">\n\t *       two\n\t *   </div>\n\t *   <div [\\@childAnimation]=\"exp\">\n\t *       three\n\t *   </div>\n\t * </div>\n\t * ```\n\t *\n\t * Now when the `exp` value changes to true, only the `parentAnimation` animation will animate\n\t * because it has priority. However, using `query` and `animateChild` each of the inner animations\n\t * can also fire:\n\t *\n\t * ```ts\n\t * // parent-child.component.ts\n\t * import {trigger, transition, animate, style, query, animateChild} from '\\@angular/animations';\n\t * \\@Component({\n\t *   selector: 'parent-child-component',\n\t *   animations: [\n\t *     trigger('parentAnimation', [\n\t *       transition('false => true', [\n\t *         query('header', [\n\t *           style({ opacity: 0 }),\n\t *           animate(500, style({ opacity: 1 }))\n\t *         ]),\n\t *         query('\\@childAnimation', [\n\t *           animateChild()\n\t *         ])\n\t *       ])\n\t *     ]),\n\t *     trigger('childAnimation', [\n\t *       transition('false => true', [\n\t *         style({ opacity: 0 }),\n\t *         animate(500, style({ opacity: 1 }))\n\t *       ])\n\t *     ])\n\t *   ]\n\t * })\n\t * class ParentChildCmp {\n\t *   exp: boolean = false;\n\t * }\n\t * ```\n\t *\n\t * In the animation code above, when the `parentAnimation` transition kicks off it first queries to\n\t * find the header element and fades it in. It then finds each of the sub elements that contain the\n\t * `\\@childAnimation` trigger and then allows for their animations to fire.\n\t *\n\t * This example can be further extended by using stagger:\n\t *\n\t * ```ts\n\t * query('\\@childAnimation', stagger(100, [\n\t *   animateChild()\n\t * ]))\n\t * ```\n\t *\n\t * Now each of the sub animations start off with respect to the `100ms` staggering step.\n\t *\n\t * ## The first frame of child animations\n\t * When sub animations are executed using `animateChild` the animation engine will always apply the\n\t * first frame of every sub animation immediately at the start of the animation sequence. This way\n\t * the parent animation does not need to set any initial styling data on the sub elements before the\n\t * sub animations kick off.\n\t *\n\t * In the example above the first frame of the `childAnimation`'s `false => true` transition\n\t * consists of a style of `opacity: 0`. This is applied immediately when the `parentAnimation`\n\t * animation transition sequence starts. Only then when the `\\@childAnimation` is queried and called\n\t * with `animateChild` will it then animate to its destination of `opacity: 1`.\n\t *\n\t * Note that this feature designed to be used alongside {\\@link query query()} and it will only work\n\t * with animations that are assigned using the Angular animation DSL (this means that CSS keyframes\n\t * and transitions are not handled by this API).\n\t *\n\t * \\@experimental Animation support is experimental.\n\t * @param {?=} options\n\t * @return {?}\n\t */\n\t/**\n\t * `useAnimation` is an animation-specific function that is designed to be used inside of Angular's\n\t * animation DSL language. It is used to kick off a reusable animation that is created using {\\@link\n\t * animation animation()}.\n\t *\n\t * \\@experimental Animation support is experimental.\n\t * @param {?} animation\n\t * @param {?=} options\n\t * @return {?}\n\t */\n\t/**\n\t * `query` is an animation-specific function that is designed to be used inside of Angular's\n\t * animation DSL language.\n\t *\n\t * query() is used to find one or more inner elements within the current element that is\n\t * being animated within the sequence. The provided animation steps are applied\n\t * to the queried element (by default, an array is provided, then this will be\n\t * treated as an animation sequence).\n\t *\n\t * ### Usage\n\t *\n\t * query() is designed to collect mutiple elements and works internally by using\n\t * `element.querySelectorAll`. An additional options object can be provided which\n\t * can be used to limit the total amount of items to be collected.\n\t *\n\t * ```js\n\t * query('div', [\n\t *   animate(...),\n\t *   animate(...)\n\t * ], { limit: 1 })\n\t * ```\n\t *\n\t * query(), by default, will throw an error when zero items are found. If a query\n\t * has the `optional` flag set to true then this error will be ignored.\n\t *\n\t * ```js\n\t * query('.some-element-that-may-not-be-there', [\n\t *   animate(...),\n\t *   animate(...)\n\t * ], { optional: true })\n\t * ```\n\t *\n\t * ### Special Selector Values\n\t *\n\t * The selector value within a query can collect elements that contain angular-specific\n\t * characteristics\n\t * using special pseudo-selectors tokens.\n\t *\n\t * These include:\n\t *\n\t *  - Querying for newly inserted/removed elements using `query(\":enter\")`/`query(\":leave\")`\n\t *  - Querying all currently animating elements using `query(\":animating\")`\n\t *  - Querying elements that contain an animation trigger using `query(\"\\@triggerName\")`\n\t *  - Querying all elements that contain an animation triggers using `query(\"\\@*\")`\n\t *  - Including the current element into the animation sequence using `query(\":self\")`\n\t *\n\t *\n\t *  Each of these pseudo-selector tokens can be merged together into a combined query selector\n\t * string:\n\t *\n\t *  ```\n\t *  query(':self, .record:enter, .record:leave, \\@subTrigger', [...])\n\t *  ```\n\t *\n\t * ### Demo\n\t *\n\t * ```\n\t * \\@Component({\n\t *   selector: 'inner',\n\t *   template: `\n\t *     <div [\\@queryAnimation]=\"exp\">\n\t *       <h1>Title</h1>\n\t *       <div class=\"content\">\n\t *         Blah blah blah\n\t *       </div>\n\t *     </div>\n\t *   `,\n\t *   animations: [\n\t *    trigger('queryAnimation', [\n\t *      transition('* => goAnimate', [\n\t *        // hide the inner elements\n\t *        query('h1', style({ opacity: 0 })),\n\t *        query('.content', style({ opacity: 0 })),\n\t *\n\t *        // animate the inner elements in, one by one\n\t *        query('h1', animate(1000, style({ opacity: 1 })),\n\t *        query('.content', animate(1000, style({ opacity: 1 })),\n\t *      ])\n\t *    ])\n\t *  ]\n\t * })\n\t * class Cmp {\n\t *   exp = '';\n\t *\n\t *   goAnimate() {\n\t *     this.exp = 'goAnimate';\n\t *   }\n\t * }\n\t * ```\n\t *\n\t * \\@experimental Animation support is experimental.\n\t * @param {?} selector\n\t * @param {?} animation\n\t * @param {?=} options\n\t * @return {?}\n\t */\n\t/**\n\t * `stagger` is an animation-specific function that is designed to be used inside of Angular's\n\t * animation DSL language. It is designed to be used inside of an animation {\\@link query query()}\n\t * and works by issuing a timing gap between after each queried item is animated.\n\t *\n\t * ### Usage\n\t *\n\t * In the example below there is a container element that wraps a list of items stamped out\n\t * by an ngFor. The container element contains an animation trigger that will later be set\n\t * to query for each of the inner items.\n\t *\n\t * ```html\n\t * <!-- list.component.html -->\n\t * <button (click)=\"toggle()\">Show / Hide Items</button>\n\t * <hr />\n\t * <div [\\@listAnimation]=\"items.length\">\n\t *   <div *ngFor=\"let item of items\">\n\t *     {{ item }}\n\t *   </div>\n\t * </div>\n\t * ```\n\t *\n\t * The component code for this looks as such:\n\t *\n\t * ```ts\n\t * import {trigger, transition, style, animate, query, stagger} from '\\@angular/animations';\n\t * \\@Component({\n\t *   templateUrl: 'list.component.html',\n\t *   animations: [\n\t *     trigger('listAnimation', [\n\t *        //...\n\t *     ])\n\t *   ]\n\t * })\n\t * class ListComponent {\n\t *   items = [];\n\t *\n\t *   showItems() {\n\t *     this.items = [0,1,2,3,4];\n\t *   }\n\t *\n\t *   hideItems() {\n\t *     this.items = [];\n\t *   }\n\t *\n\t *   toggle() {\n\t *     this.items.length ? this.hideItems() : this.showItems();\n\t *   }\n\t * }\n\t * ```\n\t *\n\t * And now for the animation trigger code:\n\t *\n\t * ```ts\n\t * trigger('listAnimation', [\n\t *   transition('* => *', [ // each time the binding value changes\n\t *     query(':leave', [\n\t *       stagger(100, [\n\t *         animate('0.5s', style({ opacity: 0 }))\n\t *       ])\n\t *     ]),\n\t *     query(':enter', [\n\t *       style({ opacity: 0 }),\n\t *       stagger(100, [\n\t *         animate('0.5s', style({ opacity: 1 }))\n\t *       ])\n\t *     ])\n\t *   ])\n\t * ])\n\t * ```\n\t *\n\t * Now each time the items are added/removed then either the opacity\n\t * fade-in animation will run or each removed item will be faded out.\n\t * When either of these animations occur then a stagger effect will be\n\t * applied after each item's animation is started.\n\t *\n\t * \\@experimental Animation support is experimental.\n\t * @param {?} timings\n\t * @param {?} animation\n\t * @return {?}\n\t */\n\t/**\n\t * @license\n\t * Copyright Google Inc. All Rights Reserved.\n\t *\n\t * Use of this source code is governed by an MIT-style license that can be\n\t * found in the LICENSE file at https://angular.io/license\n\t */\n\t/**\n\t * @deprecated This symbol has moved. Please Import from \\@angular/animations instead!\n\t */\n\tvar AUTO_STYLE$$1 = '*';\n\t/**\n\t * @deprecated This symbol has moved. Please Import from \\@angular/animations instead!\n\t * @param {?} name\n\t * @param {?} definitions\n\t * @return {?}\n\t */\n\tfunction trigger$$1(name, definitions) {\n\t    return trigger$1(name, definitions);\n\t}\n\t/**\n\t * @deprecated This symbol has moved. Please Import from \\@angular/animations instead!\n\t * @param {?} timings\n\t * @param {?=} styles\n\t * @return {?}\n\t */\n\tfunction animate$$1(timings, styles) {\n\t    return animate$1(timings, styles);\n\t}\n\t/**\n\t * @deprecated This symbol has moved. Please Import from \\@angular/animations instead!\n\t * @param {?} steps\n\t * @return {?}\n\t */\n\tfunction group$$1(steps) {\n\t    return group$1(steps);\n\t}\n\t/**\n\t * @deprecated This symbol has moved. Please Import from \\@angular/animations instead!\n\t * @param {?} steps\n\t * @return {?}\n\t */\n\tfunction sequence$$1(steps) {\n\t    return sequence$1(steps);\n\t}\n\t/**\n\t * @deprecated This symbol has moved. Please Import from \\@angular/animations instead!\n\t * @param {?} tokens\n\t * @return {?}\n\t */\n\tfunction style$$1(tokens) {\n\t    return style$1(tokens);\n\t}\n\t/**\n\t * @deprecated This symbol has moved. Please Import from \\@angular/animations instead!\n\t * @param {?} name\n\t * @param {?} styles\n\t * @return {?}\n\t */\n\tfunction state$$1(name, styles) {\n\t    return state$1(name, styles);\n\t}\n\t/**\n\t * @deprecated This symbol has moved. Please Import from \\@angular/animations instead!\n\t * @param {?} steps\n\t * @return {?}\n\t */\n\tfunction keyframes$$1(steps) {\n\t    return keyframes$1(steps);\n\t}\n\t/**\n\t * @deprecated This symbol has moved. Please Import from \\@angular/animations instead!\n\t * @param {?} stateChangeExpr\n\t * @param {?} steps\n\t * @return {?}\n\t */\n\tfunction transition$$1(stateChangeExpr, steps) {\n\t    return transition$1(stateChangeExpr, steps);\n\t}\n\t\n\texports.Class = Class;\n\texports.createPlatform = createPlatform;\n\texports.assertPlatform = assertPlatform;\n\texports.destroyPlatform = destroyPlatform;\n\texports.getPlatform = getPlatform;\n\texports.PlatformRef = PlatformRef;\n\texports.ApplicationRef = ApplicationRef;\n\texports.enableProdMode = enableProdMode;\n\texports.isDevMode = isDevMode;\n\texports.createPlatformFactory = createPlatformFactory;\n\texports.NgProbeToken = NgProbeToken;\n\texports.APP_ID = APP_ID;\n\texports.PACKAGE_ROOT_URL = PACKAGE_ROOT_URL;\n\texports.PLATFORM_INITIALIZER = PLATFORM_INITIALIZER;\n\texports.PLATFORM_ID = PLATFORM_ID;\n\texports.APP_BOOTSTRAP_LISTENER = APP_BOOTSTRAP_LISTENER;\n\texports.APP_INITIALIZER = APP_INITIALIZER;\n\texports.ApplicationInitStatus = ApplicationInitStatus;\n\texports.DebugElement = DebugElement;\n\texports.DebugNode = DebugNode;\n\texports.asNativeElements = asNativeElements;\n\texports.getDebugNode = getDebugNode;\n\texports.Testability = Testability;\n\texports.TestabilityRegistry = TestabilityRegistry;\n\texports.setTestabilityGetter = setTestabilityGetter;\n\texports.TRANSLATIONS = TRANSLATIONS;\n\texports.TRANSLATIONS_FORMAT = TRANSLATIONS_FORMAT;\n\texports.LOCALE_ID = LOCALE_ID;\n\texports.MissingTranslationStrategy = MissingTranslationStrategy;\n\texports.ApplicationModule = ApplicationModule;\n\texports.wtfCreateScope = wtfCreateScope;\n\texports.wtfLeave = wtfLeave;\n\texports.wtfStartTimeRange = wtfStartTimeRange;\n\texports.wtfEndTimeRange = wtfEndTimeRange;\n\texports.Type = Type;\n\texports.EventEmitter = EventEmitter;\n\texports.ErrorHandler = ErrorHandler;\n\texports.Sanitizer = Sanitizer;\n\texports.SecurityContext = SecurityContext;\n\texports.ANALYZE_FOR_ENTRY_COMPONENTS = ANALYZE_FOR_ENTRY_COMPONENTS;\n\texports.Attribute = Attribute;\n\texports.ContentChild = ContentChild;\n\texports.ContentChildren = ContentChildren;\n\texports.Query = Query;\n\texports.ViewChild = ViewChild;\n\texports.ViewChildren = ViewChildren;\n\texports.Component = Component;\n\texports.Directive = Directive;\n\texports.HostBinding = HostBinding;\n\texports.HostListener = HostListener;\n\texports.Input = Input;\n\texports.Output = Output;\n\texports.Pipe = Pipe;\n\texports.CUSTOM_ELEMENTS_SCHEMA = CUSTOM_ELEMENTS_SCHEMA;\n\texports.NO_ERRORS_SCHEMA = NO_ERRORS_SCHEMA;\n\texports.NgModule = NgModule;\n\texports.ViewEncapsulation = ViewEncapsulation;\n\texports.Version = Version;\n\texports.VERSION = VERSION;\n\texports.forwardRef = forwardRef;\n\texports.resolveForwardRef = resolveForwardRef;\n\texports.Injector = Injector;\n\texports.ReflectiveInjector = ReflectiveInjector;\n\texports.ResolvedReflectiveFactory = ResolvedReflectiveFactory;\n\texports.ReflectiveKey = ReflectiveKey;\n\texports.InjectionToken = InjectionToken;\n\texports.OpaqueToken = OpaqueToken;\n\texports.Inject = Inject;\n\texports.Optional = Optional;\n\texports.Injectable = Injectable;\n\texports.Self = Self;\n\texports.SkipSelf = SkipSelf;\n\texports.Host = Host;\n\texports.NgZone = NgZone;\n\texports.RenderComponentType = RenderComponentType;\n\texports.Renderer = Renderer;\n\texports.Renderer2 = Renderer2;\n\texports.RendererFactory2 = RendererFactory2;\n\texports.RendererStyleFlags2 = RendererStyleFlags2;\n\texports.RootRenderer = RootRenderer;\n\texports.COMPILER_OPTIONS = COMPILER_OPTIONS;\n\texports.Compiler = Compiler;\n\texports.CompilerFactory = CompilerFactory;\n\texports.ModuleWithComponentFactories = ModuleWithComponentFactories;\n\texports.ComponentFactory = ComponentFactory;\n\texports.ComponentRef = ComponentRef;\n\texports.ComponentFactoryResolver = ComponentFactoryResolver;\n\texports.ElementRef = ElementRef;\n\texports.NgModuleFactory = NgModuleFactory;\n\texports.NgModuleRef = NgModuleRef;\n\texports.NgModuleFactoryLoader = NgModuleFactoryLoader;\n\texports.getModuleFactory = getModuleFactory;\n\texports.QueryList = QueryList;\n\texports.SystemJsNgModuleLoader = SystemJsNgModuleLoader;\n\texports.SystemJsNgModuleLoaderConfig = SystemJsNgModuleLoaderConfig;\n\texports.TemplateRef = TemplateRef;\n\texports.ViewContainerRef = ViewContainerRef;\n\texports.EmbeddedViewRef = EmbeddedViewRef;\n\texports.ViewRef = ViewRef;\n\texports.ChangeDetectionStrategy = ChangeDetectionStrategy;\n\texports.ChangeDetectorRef = ChangeDetectorRef;\n\texports.DefaultIterableDiffer = DefaultIterableDiffer;\n\texports.IterableDiffers = IterableDiffers;\n\texports.KeyValueDiffers = KeyValueDiffers;\n\texports.SimpleChange = SimpleChange;\n\texports.WrappedValue = WrappedValue;\n\texports.platformCore = platformCore;\n\texports.ɵALLOW_MULTIPLE_PLATFORMS = ALLOW_MULTIPLE_PLATFORMS;\n\texports.ɵAPP_ID_RANDOM_PROVIDER = APP_ID_RANDOM_PROVIDER;\n\texports.ɵValueUnwrapper = ValueUnwrapper;\n\texports.ɵdevModeEqual = devModeEqual;\n\texports.ɵisListLikeIterable = isListLikeIterable;\n\texports.ɵChangeDetectorStatus = ChangeDetectorStatus;\n\texports.ɵisDefaultChangeDetectionStrategy = isDefaultChangeDetectionStrategy;\n\texports.ɵConsole = Console;\n\texports.ɵERROR_COMPONENT_TYPE = ERROR_COMPONENT_TYPE;\n\texports.ɵComponentFactory = ComponentFactory;\n\texports.ɵCodegenComponentFactoryResolver = CodegenComponentFactoryResolver;\n\texports.ɵViewMetadata = ViewMetadata;\n\texports.ɵReflectionCapabilities = ReflectionCapabilities;\n\texports.ɵRenderDebugInfo = RenderDebugInfo;\n\texports.ɵglobal = _global;\n\texports.ɵlooseIdentical = looseIdentical;\n\texports.ɵstringify = stringify;\n\texports.ɵmakeDecorator = makeDecorator;\n\texports.ɵisObservable = isObservable;\n\texports.ɵisPromise = isPromise;\n\texports.ɵclearProviderOverrides = clearProviderOverrides;\n\texports.ɵoverrideProvider = overrideProvider;\n\texports.ɵNOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR = NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR;\n\texports.ɵregisterModuleFactory = registerModuleFactory;\n\texports.ɵEMPTY_ARRAY = EMPTY_ARRAY;\n\texports.ɵEMPTY_MAP = EMPTY_MAP;\n\texports.ɵand = anchorDef;\n\texports.ɵccf = createComponentFactory;\n\texports.ɵcmf = createNgModuleFactory;\n\texports.ɵcrt = createRendererType2;\n\texports.ɵdid = directiveDef;\n\texports.ɵeld = elementDef;\n\texports.ɵelementEventFullName = elementEventFullName;\n\texports.ɵgetComponentViewDefinitionFactory = getComponentViewDefinitionFactory;\n\texports.ɵinlineInterpolate = inlineInterpolate;\n\texports.ɵinterpolate = interpolate;\n\texports.ɵmod = moduleDef;\n\texports.ɵmpd = moduleProvideDef;\n\texports.ɵncd = ngContentDef;\n\texports.ɵnov = nodeValue;\n\texports.ɵpid = pipeDef;\n\texports.ɵprd = providerDef;\n\texports.ɵpad = pureArrayDef;\n\texports.ɵpod = pureObjectDef;\n\texports.ɵppd = purePipeDef;\n\texports.ɵqud = queryDef;\n\texports.ɵted = textDef;\n\texports.ɵunv = unwrapValue;\n\texports.ɵvid = viewDef;\n\texports.AUTO_STYLE = AUTO_STYLE$$1;\n\texports.trigger = trigger$$1;\n\texports.animate = animate$$1;\n\texports.group = group$$1;\n\texports.sequence = sequence$$1;\n\texports.style = style$$1;\n\texports.state = state$$1;\n\texports.keyframes = keyframes$$1;\n\texports.transition = transition$$1;\n\texports.ɵx = animate$1;\n\texports.ɵy = group$1;\n\texports.ɵbc = keyframes$1;\n\texports.ɵz = sequence$1;\n\texports.ɵbb = state$1;\n\texports.ɵba = style$1;\n\texports.ɵbd = transition$1;\n\texports.ɵw = trigger$1;\n\texports.ɵk = _iterableDiffersFactory;\n\texports.ɵl = _keyValueDiffersFactory;\n\texports.ɵm = _localeFactory;\n\texports.ɵe = ApplicationRef_;\n\texports.ɵf = _appIdRandomProviderFactory;\n\texports.ɵg = defaultIterableDiffers;\n\texports.ɵh = defaultKeyValueDiffers;\n\texports.ɵi = DefaultIterableDifferFactory;\n\texports.ɵj = DefaultKeyValueDifferFactory;\n\texports.ɵb = ReflectiveInjector_;\n\texports.ɵc = ReflectiveDependency;\n\texports.ɵd = resolveReflectiveProviders;\n\texports.ɵn = wtfEnabled;\n\texports.ɵp = createScope$1;\n\texports.ɵo = detectWTF;\n\texports.ɵs = endTimeRange;\n\texports.ɵq = leave;\n\texports.ɵr = startTimeRange;\n\texports.ɵa = makeParamDecorator;\n\texports.ɵt = _def;\n\texports.ɵu = DebugContext;\n\t\n\tObject.defineProperty(exports, '__esModule', { value: true });\n\t\n\t})));\n\t//# sourceMappingURL=core.umd.js.map\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar root_1 = __webpack_require__(7);\n\tvar toSubscriber_1 = __webpack_require__(8);\n\tvar observable_1 = __webpack_require__(19);\n\tvar pipe_1 = __webpack_require__(20);\n\t/**\n\t * A representation of any set of values over any amount of time. This is the most basic building block\n\t * of RxJS.\n\t *\n\t * @class Observable<T>\n\t */\n\tvar Observable = (function () {\n\t    /**\n\t     * @constructor\n\t     * @param {Function} subscribe the function that is called when the Observable is\n\t     * initially subscribed to. This function is given a Subscriber, to which new values\n\t     * can be `next`ed, or an `error` method can be called to raise an error, or\n\t     * `complete` can be called to notify of a successful completion.\n\t     */\n\t    function Observable(subscribe) {\n\t        this._isScalar = false;\n\t        if (subscribe) {\n\t            this._subscribe = subscribe;\n\t        }\n\t    }\n\t    /**\n\t     * Creates a new Observable, with this Observable as the source, and the passed\n\t     * operator defined as the new observable's operator.\n\t     * @method lift\n\t     * @param {Operator} operator the operator defining the operation to take on the observable\n\t     * @return {Observable} a new observable with the Operator applied\n\t     */\n\t    Observable.prototype.lift = function (operator) {\n\t        var observable = new Observable();\n\t        observable.source = this;\n\t        observable.operator = operator;\n\t        return observable;\n\t    };\n\t    /**\n\t     * Invokes an execution of an Observable and registers Observer handlers for notifications it will emit.\n\t     *\n\t     * <span class=\"informal\">Use it when you have all these Observables, but still nothing is happening.</span>\n\t     *\n\t     * `subscribe` is not a regular operator, but a method that calls Observable's internal `subscribe` function. It\n\t     * might be for example a function that you passed to a {@link create} static factory, but most of the time it is\n\t     * a library implementation, which defines what and when will be emitted by an Observable. This means that calling\n\t     * `subscribe` is actually the moment when Observable starts its work, not when it is created, as it is often\n\t     * thought.\n\t     *\n\t     * Apart from starting the execution of an Observable, this method allows you to listen for values\n\t     * that an Observable emits, as well as for when it completes or errors. You can achieve this in two\n\t     * following ways.\n\t     *\n\t     * The first way is creating an object that implements {@link Observer} interface. It should have methods\n\t     * defined by that interface, but note that it should be just a regular JavaScript object, which you can create\n\t     * yourself in any way you want (ES6 class, classic function constructor, object literal etc.). In particular do\n\t     * not attempt to use any RxJS implementation details to create Observers - you don't need them. Remember also\n\t     * that your object does not have to implement all methods. If you find yourself creating a method that doesn't\n\t     * do anything, you can simply omit it. Note however, that if `error` method is not provided, all errors will\n\t     * be left uncaught.\n\t     *\n\t     * The second way is to give up on Observer object altogether and simply provide callback functions in place of its methods.\n\t     * This means you can provide three functions as arguments to `subscribe`, where first function is equivalent\n\t     * of a `next` method, second of an `error` method and third of a `complete` method. Just as in case of Observer,\n\t     * if you do not need to listen for something, you can omit a function, preferably by passing `undefined` or `null`,\n\t     * since `subscribe` recognizes these functions by where they were placed in function call. When it comes\n\t     * to `error` function, just as before, if not provided, errors emitted by an Observable will be thrown.\n\t     *\n\t     * Whatever style of calling `subscribe` you use, in both cases it returns a Subscription object.\n\t     * This object allows you to call `unsubscribe` on it, which in turn will stop work that an Observable does and will clean\n\t     * up all resources that an Observable used. Note that cancelling a subscription will not call `complete` callback\n\t     * provided to `subscribe` function, which is reserved for a regular completion signal that comes from an Observable.\n\t     *\n\t     * Remember that callbacks provided to `subscribe` are not guaranteed to be called asynchronously.\n\t     * It is an Observable itself that decides when these functions will be called. For example {@link of}\n\t     * by default emits all its values synchronously. Always check documentation for how given Observable\n\t     * will behave when subscribed and if its default behavior can be modified with a {@link Scheduler}.\n\t     *\n\t     * @example <caption>Subscribe with an Observer</caption>\n\t     * const sumObserver = {\n\t     *   sum: 0,\n\t     *   next(value) {\n\t     *     console.log('Adding: ' + value);\n\t     *     this.sum = this.sum + value;\n\t     *   },\n\t     *   error() { // We actually could just remove this method,\n\t     *   },        // since we do not really care about errors right now.\n\t     *   complete() {\n\t     *     console.log('Sum equals: ' + this.sum);\n\t     *   }\n\t     * };\n\t     *\n\t     * Rx.Observable.of(1, 2, 3) // Synchronously emits 1, 2, 3 and then completes.\n\t     * .subscribe(sumObserver);\n\t     *\n\t     * // Logs:\n\t     * // \"Adding: 1\"\n\t     * // \"Adding: 2\"\n\t     * // \"Adding: 3\"\n\t     * // \"Sum equals: 6\"\n\t     *\n\t     *\n\t     * @example <caption>Subscribe with functions</caption>\n\t     * let sum = 0;\n\t     *\n\t     * Rx.Observable.of(1, 2, 3)\n\t     * .subscribe(\n\t     *   function(value) {\n\t     *     console.log('Adding: ' + value);\n\t     *     sum = sum + value;\n\t     *   },\n\t     *   undefined,\n\t     *   function() {\n\t     *     console.log('Sum equals: ' + sum);\n\t     *   }\n\t     * );\n\t     *\n\t     * // Logs:\n\t     * // \"Adding: 1\"\n\t     * // \"Adding: 2\"\n\t     * // \"Adding: 3\"\n\t     * // \"Sum equals: 6\"\n\t     *\n\t     *\n\t     * @example <caption>Cancel a subscription</caption>\n\t     * const subscription = Rx.Observable.interval(1000).subscribe(\n\t     *   num => console.log(num),\n\t     *   undefined,\n\t     *   () => console.log('completed!') // Will not be called, even\n\t     * );                                // when cancelling subscription\n\t     *\n\t     *\n\t     * setTimeout(() => {\n\t     *   subscription.unsubscribe();\n\t     *   console.log('unsubscribed!');\n\t     * }, 2500);\n\t     *\n\t     * // Logs:\n\t     * // 0 after 1s\n\t     * // 1 after 2s\n\t     * // \"unsubscribed!\" after 2.5s\n\t     *\n\t     *\n\t     * @param {Observer|Function} observerOrNext (optional) Either an observer with methods to be called,\n\t     *  or the first of three possible handlers, which is the handler for each value emitted from the subscribed\n\t     *  Observable.\n\t     * @param {Function} error (optional) A handler for a terminal event resulting from an error. If no error handler is provided,\n\t     *  the error will be thrown as unhandled.\n\t     * @param {Function} complete (optional) A handler for a terminal event resulting from successful completion.\n\t     * @return {ISubscription} a subscription reference to the registered handlers\n\t     * @method subscribe\n\t     */\n\t    Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n\t        var operator = this.operator;\n\t        var sink = toSubscriber_1.toSubscriber(observerOrNext, error, complete);\n\t        if (operator) {\n\t            operator.call(sink, this.source);\n\t        }\n\t        else {\n\t            sink.add(this.source ? this._subscribe(sink) : this._trySubscribe(sink));\n\t        }\n\t        if (sink.syncErrorThrowable) {\n\t            sink.syncErrorThrowable = false;\n\t            if (sink.syncErrorThrown) {\n\t                throw sink.syncErrorValue;\n\t            }\n\t        }\n\t        return sink;\n\t    };\n\t    Observable.prototype._trySubscribe = function (sink) {\n\t        try {\n\t            return this._subscribe(sink);\n\t        }\n\t        catch (err) {\n\t            sink.syncErrorThrown = true;\n\t            sink.syncErrorValue = err;\n\t            sink.error(err);\n\t        }\n\t    };\n\t    /**\n\t     * @method forEach\n\t     * @param {Function} next a handler for each value emitted by the observable\n\t     * @param {PromiseConstructor} [PromiseCtor] a constructor function used to instantiate the Promise\n\t     * @return {Promise} a promise that either resolves on observable completion or\n\t     *  rejects with the handled error\n\t     */\n\t    Observable.prototype.forEach = function (next, PromiseCtor) {\n\t        var _this = this;\n\t        if (!PromiseCtor) {\n\t            if (root_1.root.Rx && root_1.root.Rx.config && root_1.root.Rx.config.Promise) {\n\t                PromiseCtor = root_1.root.Rx.config.Promise;\n\t            }\n\t            else if (root_1.root.Promise) {\n\t                PromiseCtor = root_1.root.Promise;\n\t            }\n\t        }\n\t        if (!PromiseCtor) {\n\t            throw new Error('no Promise impl found');\n\t        }\n\t        return new PromiseCtor(function (resolve, reject) {\n\t            // Must be declared in a separate statement to avoid a RefernceError when\n\t            // accessing subscription below in the closure due to Temporal Dead Zone.\n\t            var subscription;\n\t            subscription = _this.subscribe(function (value) {\n\t                if (subscription) {\n\t                    // if there is a subscription, then we can surmise\n\t                    // the next handling is asynchronous. Any errors thrown\n\t                    // need to be rejected explicitly and unsubscribe must be\n\t                    // called manually\n\t                    try {\n\t                        next(value);\n\t                    }\n\t                    catch (err) {\n\t                        reject(err);\n\t                        subscription.unsubscribe();\n\t                    }\n\t                }\n\t                else {\n\t                    // if there is NO subscription, then we're getting a nexted\n\t                    // value synchronously during subscription. We can just call it.\n\t                    // If it errors, Observable's `subscribe` will ensure the\n\t                    // unsubscription logic is called, then synchronously rethrow the error.\n\t                    // After that, Promise will trap the error and send it\n\t                    // down the rejection path.\n\t                    next(value);\n\t                }\n\t            }, reject, resolve);\n\t        });\n\t    };\n\t    Observable.prototype._subscribe = function (subscriber) {\n\t        return this.source.subscribe(subscriber);\n\t    };\n\t    /**\n\t     * An interop point defined by the es7-observable spec https://github.com/zenparsing/es-observable\n\t     * @method Symbol.observable\n\t     * @return {Observable} this instance of the observable\n\t     */\n\t    Observable.prototype[observable_1.observable] = function () {\n\t        return this;\n\t    };\n\t    /* tslint:enable:max-line-length */\n\t    /**\n\t     * Used to stitch together functional operators into a chain.\n\t     * @method pipe\n\t     * @return {Observable} the Observable result of all of the operators having\n\t     * been called in the order they were passed in.\n\t     *\n\t     * @example\n\t     *\n\t     * import { map, filter, scan } from 'rxjs/operators';\n\t     *\n\t     * Rx.Observable.interval(1000)\n\t     *   .pipe(\n\t     *     filter(x => x % 2 === 0),\n\t     *     map(x => x + x),\n\t     *     scan((acc, x) => acc + x)\n\t     *   )\n\t     *   .subscribe(x => console.log(x))\n\t     */\n\t    Observable.prototype.pipe = function () {\n\t        var operations = [];\n\t        for (var _i = 0; _i < arguments.length; _i++) {\n\t            operations[_i - 0] = arguments[_i];\n\t        }\n\t        if (operations.length === 0) {\n\t            return this;\n\t        }\n\t        return pipe_1.pipeFromArray(operations)(this);\n\t    };\n\t    /* tslint:enable:max-line-length */\n\t    Observable.prototype.toPromise = function (PromiseCtor) {\n\t        var _this = this;\n\t        if (!PromiseCtor) {\n\t            if (root_1.root.Rx && root_1.root.Rx.config && root_1.root.Rx.config.Promise) {\n\t                PromiseCtor = root_1.root.Rx.config.Promise;\n\t            }\n\t            else if (root_1.root.Promise) {\n\t                PromiseCtor = root_1.root.Promise;\n\t            }\n\t        }\n\t        if (!PromiseCtor) {\n\t            throw new Error('no Promise impl found');\n\t        }\n\t        return new PromiseCtor(function (resolve, reject) {\n\t            var value;\n\t            _this.subscribe(function (x) { return value = x; }, function (err) { return reject(err); }, function () { return resolve(value); });\n\t        });\n\t    };\n\t    // HACK: Since TypeScript inherits static properties too, we have to\n\t    // fight against TypeScript here so Subject can have a different static create signature\n\t    /**\n\t     * Creates a new cold Observable by calling the Observable constructor\n\t     * @static true\n\t     * @owner Observable\n\t     * @method create\n\t     * @param {Function} subscribe? the subscriber function to be passed to the Observable constructor\n\t     * @return {Observable} a new cold observable\n\t     */\n\t    Observable.create = function (subscribe) {\n\t        return new Observable(subscribe);\n\t    };\n\t    return Observable;\n\t}());\n\texports.Observable = Observable;\n\t//# sourceMappingURL=Observable.js.map\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {\"use strict\";\n\t// CommonJS / Node have global context exposed as \"global\" variable.\n\t// We don't want to include the whole node.d.ts this this compilation unit so we'll just fake\n\t// the global \"global\" var for now.\n\tvar __window = typeof window !== 'undefined' && window;\n\tvar __self = typeof self !== 'undefined' && typeof WorkerGlobalScope !== 'undefined' &&\n\t    self instanceof WorkerGlobalScope && self;\n\tvar __global = typeof global !== 'undefined' && global;\n\tvar _root = __window || __global || __self;\n\texports.root = _root;\n\t// Workaround Closure Compiler restriction: The body of a goog.module cannot use throw.\n\t// This is needed when used with angular/tsickle which inserts a goog.module statement.\n\t// Wrap in IIFE\n\t(function () {\n\t    if (!_root) {\n\t        throw new Error('RxJS could not find any global context (window, self, global)');\n\t    }\n\t})();\n\t//# sourceMappingURL=root.js.map\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar Subscriber_1 = __webpack_require__(9);\n\tvar rxSubscriber_1 = __webpack_require__(18);\n\tvar Observer_1 = __webpack_require__(17);\n\tfunction toSubscriber(nextOrObserver, error, complete) {\n\t    if (nextOrObserver) {\n\t        if (nextOrObserver instanceof Subscriber_1.Subscriber) {\n\t            return nextOrObserver;\n\t        }\n\t        if (nextOrObserver[rxSubscriber_1.rxSubscriber]) {\n\t            return nextOrObserver[rxSubscriber_1.rxSubscriber]();\n\t        }\n\t    }\n\t    if (!nextOrObserver && !error && !complete) {\n\t        return new Subscriber_1.Subscriber(Observer_1.empty);\n\t    }\n\t    return new Subscriber_1.Subscriber(nextOrObserver, error, complete);\n\t}\n\texports.toSubscriber = toSubscriber;\n\t//# sourceMappingURL=toSubscriber.js.map\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __extends = (this && this.__extends) || function (d, b) {\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n\t    function __() { this.constructor = d; }\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n\t};\n\tvar isFunction_1 = __webpack_require__(10);\n\tvar Subscription_1 = __webpack_require__(11);\n\tvar Observer_1 = __webpack_require__(17);\n\tvar rxSubscriber_1 = __webpack_require__(18);\n\t/**\n\t * Implements the {@link Observer} interface and extends the\n\t * {@link Subscription} class. While the {@link Observer} is the public API for\n\t * consuming the values of an {@link Observable}, all Observers get converted to\n\t * a Subscriber, in order to provide Subscription-like capabilities such as\n\t * `unsubscribe`. Subscriber is a common type in RxJS, and crucial for\n\t * implementing operators, but it is rarely used as a public API.\n\t *\n\t * @class Subscriber<T>\n\t */\n\tvar Subscriber = (function (_super) {\n\t    __extends(Subscriber, _super);\n\t    /**\n\t     * @param {Observer|function(value: T): void} [destinationOrNext] A partially\n\t     * defined Observer or a `next` callback function.\n\t     * @param {function(e: ?any): void} [error] The `error` callback of an\n\t     * Observer.\n\t     * @param {function(): void} [complete] The `complete` callback of an\n\t     * Observer.\n\t     */\n\t    function Subscriber(destinationOrNext, error, complete) {\n\t        _super.call(this);\n\t        this.syncErrorValue = null;\n\t        this.syncErrorThrown = false;\n\t        this.syncErrorThrowable = false;\n\t        this.isStopped = false;\n\t        switch (arguments.length) {\n\t            case 0:\n\t                this.destination = Observer_1.empty;\n\t                break;\n\t            case 1:\n\t                if (!destinationOrNext) {\n\t                    this.destination = Observer_1.empty;\n\t                    break;\n\t                }\n\t                if (typeof destinationOrNext === 'object') {\n\t                    if (destinationOrNext instanceof Subscriber) {\n\t                        this.destination = destinationOrNext;\n\t                        this.destination.add(this);\n\t                    }\n\t                    else {\n\t                        this.syncErrorThrowable = true;\n\t                        this.destination = new SafeSubscriber(this, destinationOrNext);\n\t                    }\n\t                    break;\n\t                }\n\t            default:\n\t                this.syncErrorThrowable = true;\n\t                this.destination = new SafeSubscriber(this, destinationOrNext, error, complete);\n\t                break;\n\t        }\n\t    }\n\t    Subscriber.prototype[rxSubscriber_1.rxSubscriber] = function () { return this; };\n\t    /**\n\t     * A static factory for a Subscriber, given a (potentially partial) definition\n\t     * of an Observer.\n\t     * @param {function(x: ?T): void} [next] The `next` callback of an Observer.\n\t     * @param {function(e: ?any): void} [error] The `error` callback of an\n\t     * Observer.\n\t     * @param {function(): void} [complete] The `complete` callback of an\n\t     * Observer.\n\t     * @return {Subscriber<T>} A Subscriber wrapping the (partially defined)\n\t     * Observer represented by the given arguments.\n\t     */\n\t    Subscriber.create = function (next, error, complete) {\n\t        var subscriber = new Subscriber(next, error, complete);\n\t        subscriber.syncErrorThrowable = false;\n\t        return subscriber;\n\t    };\n\t    /**\n\t     * The {@link Observer} callback to receive notifications of type `next` from\n\t     * the Observable, with a value. The Observable may call this method 0 or more\n\t     * times.\n\t     * @param {T} [value] The `next` value.\n\t     * @return {void}\n\t     */\n\t    Subscriber.prototype.next = function (value) {\n\t        if (!this.isStopped) {\n\t            this._next(value);\n\t        }\n\t    };\n\t    /**\n\t     * The {@link Observer} callback to receive notifications of type `error` from\n\t     * the Observable, with an attached {@link Error}. Notifies the Observer that\n\t     * the Observable has experienced an error condition.\n\t     * @param {any} [err] The `error` exception.\n\t     * @return {void}\n\t     */\n\t    Subscriber.prototype.error = function (err) {\n\t        if (!this.isStopped) {\n\t            this.isStopped = true;\n\t            this._error(err);\n\t        }\n\t    };\n\t    /**\n\t     * The {@link Observer} callback to receive a valueless notification of type\n\t     * `complete` from the Observable. Notifies the Observer that the Observable\n\t     * has finished sending push-based notifications.\n\t     * @return {void}\n\t     */\n\t    Subscriber.prototype.complete = function () {\n\t        if (!this.isStopped) {\n\t            this.isStopped = true;\n\t            this._complete();\n\t        }\n\t    };\n\t    Subscriber.prototype.unsubscribe = function () {\n\t        if (this.closed) {\n\t            return;\n\t        }\n\t        this.isStopped = true;\n\t        _super.prototype.unsubscribe.call(this);\n\t    };\n\t    Subscriber.prototype._next = function (value) {\n\t        this.destination.next(value);\n\t    };\n\t    Subscriber.prototype._error = function (err) {\n\t        this.destination.error(err);\n\t        this.unsubscribe();\n\t    };\n\t    Subscriber.prototype._complete = function () {\n\t        this.destination.complete();\n\t        this.unsubscribe();\n\t    };\n\t    Subscriber.prototype._unsubscribeAndRecycle = function () {\n\t        var _a = this, _parent = _a._parent, _parents = _a._parents;\n\t        this._parent = null;\n\t        this._parents = null;\n\t        this.unsubscribe();\n\t        this.closed = false;\n\t        this.isStopped = false;\n\t        this._parent = _parent;\n\t        this._parents = _parents;\n\t        return this;\n\t    };\n\t    return Subscriber;\n\t}(Subscription_1.Subscription));\n\texports.Subscriber = Subscriber;\n\t/**\n\t * We need this JSDoc comment for affecting ESDoc.\n\t * @ignore\n\t * @extends {Ignored}\n\t */\n\tvar SafeSubscriber = (function (_super) {\n\t    __extends(SafeSubscriber, _super);\n\t    function SafeSubscriber(_parentSubscriber, observerOrNext, error, complete) {\n\t        _super.call(this);\n\t        this._parentSubscriber = _parentSubscriber;\n\t        var next;\n\t        var context = this;\n\t        if (isFunction_1.isFunction(observerOrNext)) {\n\t            next = observerOrNext;\n\t        }\n\t        else if (observerOrNext) {\n\t            next = observerOrNext.next;\n\t            error = observerOrNext.error;\n\t            complete = observerOrNext.complete;\n\t            if (observerOrNext !== Observer_1.empty) {\n\t                context = Object.create(observerOrNext);\n\t                if (isFunction_1.isFunction(context.unsubscribe)) {\n\t                    this.add(context.unsubscribe.bind(context));\n\t                }\n\t                context.unsubscribe = this.unsubscribe.bind(this);\n\t            }\n\t        }\n\t        this._context = context;\n\t        this._next = next;\n\t        this._error = error;\n\t        this._complete = complete;\n\t    }\n\t    SafeSubscriber.prototype.next = function (value) {\n\t        if (!this.isStopped && this._next) {\n\t            var _parentSubscriber = this._parentSubscriber;\n\t            if (!_parentSubscriber.syncErrorThrowable) {\n\t                this.__tryOrUnsub(this._next, value);\n\t            }\n\t            else if (this.__tryOrSetError(_parentSubscriber, this._next, value)) {\n\t                this.unsubscribe();\n\t            }\n\t        }\n\t    };\n\t    SafeSubscriber.prototype.error = function (err) {\n\t        if (!this.isStopped) {\n\t            var _parentSubscriber = this._parentSubscriber;\n\t            if (this._error) {\n\t                if (!_parentSubscriber.syncErrorThrowable) {\n\t                    this.__tryOrUnsub(this._error, err);\n\t                    this.unsubscribe();\n\t                }\n\t                else {\n\t                    this.__tryOrSetError(_parentSubscriber, this._error, err);\n\t                    this.unsubscribe();\n\t                }\n\t            }\n\t            else if (!_parentSubscriber.syncErrorThrowable) {\n\t                this.unsubscribe();\n\t                throw err;\n\t            }\n\t            else {\n\t                _parentSubscriber.syncErrorValue = err;\n\t                _parentSubscriber.syncErrorThrown = true;\n\t                this.unsubscribe();\n\t            }\n\t        }\n\t    };\n\t    SafeSubscriber.prototype.complete = function () {\n\t        var _this = this;\n\t        if (!this.isStopped) {\n\t            var _parentSubscriber = this._parentSubscriber;\n\t            if (this._complete) {\n\t                var wrappedComplete = function () { return _this._complete.call(_this._context); };\n\t                if (!_parentSubscriber.syncErrorThrowable) {\n\t                    this.__tryOrUnsub(wrappedComplete);\n\t                    this.unsubscribe();\n\t                }\n\t                else {\n\t                    this.__tryOrSetError(_parentSubscriber, wrappedComplete);\n\t                    this.unsubscribe();\n\t                }\n\t            }\n\t            else {\n\t                this.unsubscribe();\n\t            }\n\t        }\n\t    };\n\t    SafeSubscriber.prototype.__tryOrUnsub = function (fn, value) {\n\t        try {\n\t            fn.call(this._context, value);\n\t        }\n\t        catch (err) {\n\t            this.unsubscribe();\n\t            throw err;\n\t        }\n\t    };\n\t    SafeSubscriber.prototype.__tryOrSetError = function (parent, fn, value) {\n\t        try {\n\t            fn.call(this._context, value);\n\t        }\n\t        catch (err) {\n\t            parent.syncErrorValue = err;\n\t            parent.syncErrorThrown = true;\n\t            return true;\n\t        }\n\t        return false;\n\t    };\n\t    SafeSubscriber.prototype._unsubscribe = function () {\n\t        var _parentSubscriber = this._parentSubscriber;\n\t        this._context = null;\n\t        this._parentSubscriber = null;\n\t        _parentSubscriber.unsubscribe();\n\t    };\n\t    return SafeSubscriber;\n\t}(Subscriber));\n\t//# sourceMappingURL=Subscriber.js.map\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\tfunction isFunction(x) {\n\t    return typeof x === 'function';\n\t}\n\texports.isFunction = isFunction;\n\t//# sourceMappingURL=isFunction.js.map\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar isArray_1 = __webpack_require__(12);\n\tvar isObject_1 = __webpack_require__(13);\n\tvar isFunction_1 = __webpack_require__(10);\n\tvar tryCatch_1 = __webpack_require__(14);\n\tvar errorObject_1 = __webpack_require__(15);\n\tvar UnsubscriptionError_1 = __webpack_require__(16);\n\t/**\n\t * Represents a disposable resource, such as the execution of an Observable. A\n\t * Subscription has one important method, `unsubscribe`, that takes no argument\n\t * and just disposes the resource held by the subscription.\n\t *\n\t * Additionally, subscriptions may be grouped together through the `add()`\n\t * method, which will attach a child Subscription to the current Subscription.\n\t * When a Subscription is unsubscribed, all its children (and its grandchildren)\n\t * will be unsubscribed as well.\n\t *\n\t * @class Subscription\n\t */\n\tvar Subscription = (function () {\n\t    /**\n\t     * @param {function(): void} [unsubscribe] A function describing how to\n\t     * perform the disposal of resources when the `unsubscribe` method is called.\n\t     */\n\t    function Subscription(unsubscribe) {\n\t        /**\n\t         * A flag to indicate whether this Subscription has already been unsubscribed.\n\t         * @type {boolean}\n\t         */\n\t        this.closed = false;\n\t        this._parent = null;\n\t        this._parents = null;\n\t        this._subscriptions = null;\n\t        if (unsubscribe) {\n\t            this._unsubscribe = unsubscribe;\n\t        }\n\t    }\n\t    /**\n\t     * Disposes the resources held by the subscription. May, for instance, cancel\n\t     * an ongoing Observable execution or cancel any other type of work that\n\t     * started when the Subscription was created.\n\t     * @return {void}\n\t     */\n\t    Subscription.prototype.unsubscribe = function () {\n\t        var hasErrors = false;\n\t        var errors;\n\t        if (this.closed) {\n\t            return;\n\t        }\n\t        var _a = this, _parent = _a._parent, _parents = _a._parents, _unsubscribe = _a._unsubscribe, _subscriptions = _a._subscriptions;\n\t        this.closed = true;\n\t        this._parent = null;\n\t        this._parents = null;\n\t        // null out _subscriptions first so any child subscriptions that attempt\n\t        // to remove themselves from this subscription will noop\n\t        this._subscriptions = null;\n\t        var index = -1;\n\t        var len = _parents ? _parents.length : 0;\n\t        // if this._parent is null, then so is this._parents, and we\n\t        // don't have to remove ourselves from any parent subscriptions.\n\t        while (_parent) {\n\t            _parent.remove(this);\n\t            // if this._parents is null or index >= len,\n\t            // then _parent is set to null, and the loop exits\n\t            _parent = ++index < len && _parents[index] || null;\n\t        }\n\t        if (isFunction_1.isFunction(_unsubscribe)) {\n\t            var trial = tryCatch_1.tryCatch(_unsubscribe).call(this);\n\t            if (trial === errorObject_1.errorObject) {\n\t                hasErrors = true;\n\t                errors = errors || (errorObject_1.errorObject.e instanceof UnsubscriptionError_1.UnsubscriptionError ?\n\t                    flattenUnsubscriptionErrors(errorObject_1.errorObject.e.errors) : [errorObject_1.errorObject.e]);\n\t            }\n\t        }\n\t        if (isArray_1.isArray(_subscriptions)) {\n\t            index = -1;\n\t            len = _subscriptions.length;\n\t            while (++index < len) {\n\t                var sub = _subscriptions[index];\n\t                if (isObject_1.isObject(sub)) {\n\t                    var trial = tryCatch_1.tryCatch(sub.unsubscribe).call(sub);\n\t                    if (trial === errorObject_1.errorObject) {\n\t                        hasErrors = true;\n\t                        errors = errors || [];\n\t                        var err = errorObject_1.errorObject.e;\n\t                        if (err instanceof UnsubscriptionError_1.UnsubscriptionError) {\n\t                            errors = errors.concat(flattenUnsubscriptionErrors(err.errors));\n\t                        }\n\t                        else {\n\t                            errors.push(err);\n\t                        }\n\t                    }\n\t                }\n\t            }\n\t        }\n\t        if (hasErrors) {\n\t            throw new UnsubscriptionError_1.UnsubscriptionError(errors);\n\t        }\n\t    };\n\t    /**\n\t     * Adds a tear down to be called during the unsubscribe() of this\n\t     * Subscription.\n\t     *\n\t     * If the tear down being added is a subscription that is already\n\t     * unsubscribed, is the same reference `add` is being called on, or is\n\t     * `Subscription.EMPTY`, it will not be added.\n\t     *\n\t     * If this subscription is already in an `closed` state, the passed\n\t     * tear down logic will be executed immediately.\n\t     *\n\t     * @param {TeardownLogic} teardown The additional logic to execute on\n\t     * teardown.\n\t     * @return {Subscription} Returns the Subscription used or created to be\n\t     * added to the inner subscriptions list. This Subscription can be used with\n\t     * `remove()` to remove the passed teardown logic from the inner subscriptions\n\t     * list.\n\t     */\n\t    Subscription.prototype.add = function (teardown) {\n\t        if (!teardown || (teardown === Subscription.EMPTY)) {\n\t            return Subscription.EMPTY;\n\t        }\n\t        if (teardown === this) {\n\t            return this;\n\t        }\n\t        var subscription = teardown;\n\t        switch (typeof teardown) {\n\t            case 'function':\n\t                subscription = new Subscription(teardown);\n\t            case 'object':\n\t                if (subscription.closed || typeof subscription.unsubscribe !== 'function') {\n\t                    return subscription;\n\t                }\n\t                else if (this.closed) {\n\t                    subscription.unsubscribe();\n\t                    return subscription;\n\t                }\n\t                else if (typeof subscription._addParent !== 'function' /* quack quack */) {\n\t                    var tmp = subscription;\n\t                    subscription = new Subscription();\n\t                    subscription._subscriptions = [tmp];\n\t                }\n\t                break;\n\t            default:\n\t                throw new Error('unrecognized teardown ' + teardown + ' added to Subscription.');\n\t        }\n\t        var subscriptions = this._subscriptions || (this._subscriptions = []);\n\t        subscriptions.push(subscription);\n\t        subscription._addParent(this);\n\t        return subscription;\n\t    };\n\t    /**\n\t     * Removes a Subscription from the internal list of subscriptions that will\n\t     * unsubscribe during the unsubscribe process of this Subscription.\n\t     * @param {Subscription} subscription The subscription to remove.\n\t     * @return {void}\n\t     */\n\t    Subscription.prototype.remove = function (subscription) {\n\t        var subscriptions = this._subscriptions;\n\t        if (subscriptions) {\n\t            var subscriptionIndex = subscriptions.indexOf(subscription);\n\t            if (subscriptionIndex !== -1) {\n\t                subscriptions.splice(subscriptionIndex, 1);\n\t            }\n\t        }\n\t    };\n\t    Subscription.prototype._addParent = function (parent) {\n\t        var _a = this, _parent = _a._parent, _parents = _a._parents;\n\t        if (!_parent || _parent === parent) {\n\t            // If we don't have a parent, or the new parent is the same as the\n\t            // current parent, then set this._parent to the new parent.\n\t            this._parent = parent;\n\t        }\n\t        else if (!_parents) {\n\t            // If there's already one parent, but not multiple, allocate an Array to\n\t            // store the rest of the parent Subscriptions.\n\t            this._parents = [parent];\n\t        }\n\t        else if (_parents.indexOf(parent) === -1) {\n\t            // Only add the new parent to the _parents list if it's not already there.\n\t            _parents.push(parent);\n\t        }\n\t    };\n\t    Subscription.EMPTY = (function (empty) {\n\t        empty.closed = true;\n\t        return empty;\n\t    }(new Subscription()));\n\t    return Subscription;\n\t}());\n\texports.Subscription = Subscription;\n\tfunction flattenUnsubscriptionErrors(errors) {\n\t    return errors.reduce(function (errs, err) { return errs.concat((err instanceof UnsubscriptionError_1.UnsubscriptionError) ? err.errors : err); }, []);\n\t}\n\t//# sourceMappingURL=Subscription.js.map\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\texports.isArray = Array.isArray || (function (x) { return x && typeof x.length === 'number'; });\n\t//# sourceMappingURL=isArray.js.map\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\tfunction isObject(x) {\n\t    return x != null && typeof x === 'object';\n\t}\n\texports.isObject = isObject;\n\t//# sourceMappingURL=isObject.js.map\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar errorObject_1 = __webpack_require__(15);\n\tvar tryCatchTarget;\n\tfunction tryCatcher() {\n\t    try {\n\t        return tryCatchTarget.apply(this, arguments);\n\t    }\n\t    catch (e) {\n\t        errorObject_1.errorObject.e = e;\n\t        return errorObject_1.errorObject;\n\t    }\n\t}\n\tfunction tryCatch(fn) {\n\t    tryCatchTarget = fn;\n\t    return tryCatcher;\n\t}\n\texports.tryCatch = tryCatch;\n\t;\n\t//# sourceMappingURL=tryCatch.js.map\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t// typeof any so that it we don't have to cast when comparing a result to the error object\n\texports.errorObject = { e: {} };\n\t//# sourceMappingURL=errorObject.js.map\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\tvar __extends = (this && this.__extends) || function (d, b) {\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n\t    function __() { this.constructor = d; }\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n\t};\n\t/**\n\t * An error thrown when one or more errors have occurred during the\n\t * `unsubscribe` of a {@link Subscription}.\n\t */\n\tvar UnsubscriptionError = (function (_super) {\n\t    __extends(UnsubscriptionError, _super);\n\t    function UnsubscriptionError(errors) {\n\t        _super.call(this);\n\t        this.errors = errors;\n\t        var err = Error.call(this, errors ?\n\t            errors.length + \" errors occurred during unsubscription:\\n  \" + errors.map(function (err, i) { return ((i + 1) + \") \" + err.toString()); }).join('\\n  ') : '');\n\t        this.name = err.name = 'UnsubscriptionError';\n\t        this.stack = err.stack;\n\t        this.message = err.message;\n\t    }\n\t    return UnsubscriptionError;\n\t}(Error));\n\texports.UnsubscriptionError = UnsubscriptionError;\n\t//# sourceMappingURL=UnsubscriptionError.js.map\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\texports.empty = {\n\t    closed: true,\n\t    next: function (value) { },\n\t    error: function (err) { throw err; },\n\t    complete: function () { }\n\t};\n\t//# sourceMappingURL=Observer.js.map\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar root_1 = __webpack_require__(7);\n\tvar Symbol = root_1.root.Symbol;\n\texports.rxSubscriber = (typeof Symbol === 'function' && typeof Symbol.for === 'function') ?\n\t    Symbol.for('rxSubscriber') : '@@rxSubscriber';\n\t/**\n\t * @deprecated use rxSubscriber instead\n\t */\n\texports.$$rxSubscriber = exports.rxSubscriber;\n\t//# sourceMappingURL=rxSubscriber.js.map\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar root_1 = __webpack_require__(7);\n\tfunction getSymbolObservable(context) {\n\t    var $$observable;\n\t    var Symbol = context.Symbol;\n\t    if (typeof Symbol === 'function') {\n\t        if (Symbol.observable) {\n\t            $$observable = Symbol.observable;\n\t        }\n\t        else {\n\t            $$observable = Symbol('observable');\n\t            Symbol.observable = $$observable;\n\t        }\n\t    }\n\t    else {\n\t        $$observable = '@@observable';\n\t    }\n\t    return $$observable;\n\t}\n\texports.getSymbolObservable = getSymbolObservable;\n\texports.observable = getSymbolObservable(root_1.root);\n\t/**\n\t * @deprecated use observable instead\n\t */\n\texports.$$observable = exports.observable;\n\t//# sourceMappingURL=observable.js.map\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar noop_1 = __webpack_require__(21);\n\t/* tslint:enable:max-line-length */\n\tfunction pipe() {\n\t    var fns = [];\n\t    for (var _i = 0; _i < arguments.length; _i++) {\n\t        fns[_i - 0] = arguments[_i];\n\t    }\n\t    return pipeFromArray(fns);\n\t}\n\texports.pipe = pipe;\n\t/* @internal */\n\tfunction pipeFromArray(fns) {\n\t    if (!fns) {\n\t        return noop_1.noop;\n\t    }\n\t    if (fns.length === 1) {\n\t        return fns[0];\n\t    }\n\t    return function piped(input) {\n\t        return fns.reduce(function (prev, fn) { return fn(prev); }, input);\n\t    };\n\t}\n\texports.pipeFromArray = pipeFromArray;\n\t//# sourceMappingURL=pipe.js.map\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t/* tslint:disable:no-empty */\n\tfunction noop() { }\n\texports.noop = noop;\n\t//# sourceMappingURL=noop.js.map\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar merge_1 = __webpack_require__(23);\n\texports.merge = merge_1.mergeStatic;\n\t//# sourceMappingURL=merge.js.map\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar merge_1 = __webpack_require__(24);\n\tvar merge_2 = __webpack_require__(24);\n\texports.mergeStatic = merge_2.mergeStatic;\n\t/* tslint:enable:max-line-length */\n\t/**\n\t * Creates an output Observable which concurrently emits all values from every\n\t * given input Observable.\n\t *\n\t * <span class=\"informal\">Flattens multiple Observables together by blending\n\t * their values into one Observable.</span>\n\t *\n\t * <img src=\"./img/merge.png\" width=\"100%\">\n\t *\n\t * `merge` subscribes to each given input Observable (either the source or an\n\t * Observable given as argument), and simply forwards (without doing any\n\t * transformation) all the values from all the input Observables to the output\n\t * Observable. The output Observable only completes once all input Observables\n\t * have completed. Any error delivered by an input Observable will be immediately\n\t * emitted on the output Observable.\n\t *\n\t * @example <caption>Merge together two Observables: 1s interval and clicks</caption>\n\t * var clicks = Rx.Observable.fromEvent(document, 'click');\n\t * var timer = Rx.Observable.interval(1000);\n\t * var clicksOrTimer = clicks.merge(timer);\n\t * clicksOrTimer.subscribe(x => console.log(x));\n\t *\n\t * @example <caption>Merge together 3 Observables, but only 2 run concurrently</caption>\n\t * var timer1 = Rx.Observable.interval(1000).take(10);\n\t * var timer2 = Rx.Observable.interval(2000).take(6);\n\t * var timer3 = Rx.Observable.interval(500).take(10);\n\t * var concurrent = 2; // the argument\n\t * var merged = timer1.merge(timer2, timer3, concurrent);\n\t * merged.subscribe(x => console.log(x));\n\t *\n\t * @see {@link mergeAll}\n\t * @see {@link mergeMap}\n\t * @see {@link mergeMapTo}\n\t * @see {@link mergeScan}\n\t *\n\t * @param {ObservableInput} other An input Observable to merge with the source\n\t * Observable. More than one input Observables may be given as argument.\n\t * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of input\n\t * Observables being subscribed to concurrently.\n\t * @param {Scheduler} [scheduler=null] The IScheduler to use for managing\n\t * concurrency of input Observables.\n\t * @return {Observable} An Observable that emits items that are the result of\n\t * every input Observable.\n\t * @method merge\n\t * @owner Observable\n\t */\n\tfunction merge() {\n\t    var observables = [];\n\t    for (var _i = 0; _i < arguments.length; _i++) {\n\t        observables[_i - 0] = arguments[_i];\n\t    }\n\t    return merge_1.merge.apply(void 0, observables)(this);\n\t}\n\texports.merge = merge;\n\t//# sourceMappingURL=merge.js.map\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar Observable_1 = __webpack_require__(6);\n\tvar ArrayObservable_1 = __webpack_require__(25);\n\tvar mergeAll_1 = __webpack_require__(29);\n\tvar isScheduler_1 = __webpack_require__(28);\n\t/* tslint:enable:max-line-length */\n\tfunction merge() {\n\t    var observables = [];\n\t    for (var _i = 0; _i < arguments.length; _i++) {\n\t        observables[_i - 0] = arguments[_i];\n\t    }\n\t    return function (source) { return source.lift.call(mergeStatic.apply(void 0, [source].concat(observables))); };\n\t}\n\texports.merge = merge;\n\t/* tslint:enable:max-line-length */\n\t/**\n\t * Creates an output Observable which concurrently emits all values from every\n\t * given input Observable.\n\t *\n\t * <span class=\"informal\">Flattens multiple Observables together by blending\n\t * their values into one Observable.</span>\n\t *\n\t * <img src=\"./img/merge.png\" width=\"100%\">\n\t *\n\t * `merge` subscribes to each given input Observable (as arguments), and simply\n\t * forwards (without doing any transformation) all the values from all the input\n\t * Observables to the output Observable. The output Observable only completes\n\t * once all input Observables have completed. Any error delivered by an input\n\t * Observable will be immediately emitted on the output Observable.\n\t *\n\t * @example <caption>Merge together two Observables: 1s interval and clicks</caption>\n\t * var clicks = Rx.Observable.fromEvent(document, 'click');\n\t * var timer = Rx.Observable.interval(1000);\n\t * var clicksOrTimer = Rx.Observable.merge(clicks, timer);\n\t * clicksOrTimer.subscribe(x => console.log(x));\n\t *\n\t * // Results in the following:\n\t * // timer will emit ascending values, one every second(1000ms) to console\n\t * // clicks logs MouseEvents to console everytime the \"document\" is clicked\n\t * // Since the two streams are merged you see these happening\n\t * // as they occur.\n\t *\n\t * @example <caption>Merge together 3 Observables, but only 2 run concurrently</caption>\n\t * var timer1 = Rx.Observable.interval(1000).take(10);\n\t * var timer2 = Rx.Observable.interval(2000).take(6);\n\t * var timer3 = Rx.Observable.interval(500).take(10);\n\t * var concurrent = 2; // the argument\n\t * var merged = Rx.Observable.merge(timer1, timer2, timer3, concurrent);\n\t * merged.subscribe(x => console.log(x));\n\t *\n\t * // Results in the following:\n\t * // - First timer1 and timer2 will run concurrently\n\t * // - timer1 will emit a value every 1000ms for 10 iterations\n\t * // - timer2 will emit a value every 2000ms for 6 iterations\n\t * // - after timer1 hits it's max iteration, timer2 will\n\t * //   continue, and timer3 will start to run concurrently with timer2\n\t * // - when timer2 hits it's max iteration it terminates, and\n\t * //   timer3 will continue to emit a value every 500ms until it is complete\n\t *\n\t * @see {@link mergeAll}\n\t * @see {@link mergeMap}\n\t * @see {@link mergeMapTo}\n\t * @see {@link mergeScan}\n\t *\n\t * @param {...ObservableInput} observables Input Observables to merge together.\n\t * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of input\n\t * Observables being subscribed to concurrently.\n\t * @param {Scheduler} [scheduler=null] The IScheduler to use for managing\n\t * concurrency of input Observables.\n\t * @return {Observable} an Observable that emits items that are the result of\n\t * every input Observable.\n\t * @static true\n\t * @name merge\n\t * @owner Observable\n\t */\n\tfunction mergeStatic() {\n\t    var observables = [];\n\t    for (var _i = 0; _i < arguments.length; _i++) {\n\t        observables[_i - 0] = arguments[_i];\n\t    }\n\t    var concurrent = Number.POSITIVE_INFINITY;\n\t    var scheduler = null;\n\t    var last = observables[observables.length - 1];\n\t    if (isScheduler_1.isScheduler(last)) {\n\t        scheduler = observables.pop();\n\t        if (observables.length > 1 && typeof observables[observables.length - 1] === 'number') {\n\t            concurrent = observables.pop();\n\t        }\n\t    }\n\t    else if (typeof last === 'number') {\n\t        concurrent = observables.pop();\n\t    }\n\t    if (scheduler === null && observables.length === 1 && observables[0] instanceof Observable_1.Observable) {\n\t        return observables[0];\n\t    }\n\t    return mergeAll_1.mergeAll(concurrent)(new ArrayObservable_1.ArrayObservable(observables, scheduler));\n\t}\n\texports.mergeStatic = mergeStatic;\n\t//# sourceMappingURL=merge.js.map\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __extends = (this && this.__extends) || function (d, b) {\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n\t    function __() { this.constructor = d; }\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n\t};\n\tvar Observable_1 = __webpack_require__(6);\n\tvar ScalarObservable_1 = __webpack_require__(26);\n\tvar EmptyObservable_1 = __webpack_require__(27);\n\tvar isScheduler_1 = __webpack_require__(28);\n\t/**\n\t * We need this JSDoc comment for affecting ESDoc.\n\t * @extends {Ignored}\n\t * @hide true\n\t */\n\tvar ArrayObservable = (function (_super) {\n\t    __extends(ArrayObservable, _super);\n\t    function ArrayObservable(array, scheduler) {\n\t        _super.call(this);\n\t        this.array = array;\n\t        this.scheduler = scheduler;\n\t        if (!scheduler && array.length === 1) {\n\t            this._isScalar = true;\n\t            this.value = array[0];\n\t        }\n\t    }\n\t    ArrayObservable.create = function (array, scheduler) {\n\t        return new ArrayObservable(array, scheduler);\n\t    };\n\t    /**\n\t     * Creates an Observable that emits some values you specify as arguments,\n\t     * immediately one after the other, and then emits a complete notification.\n\t     *\n\t     * <span class=\"informal\">Emits the arguments you provide, then completes.\n\t     * </span>\n\t     *\n\t     * <img src=\"./img/of.png\" width=\"100%\">\n\t     *\n\t     * This static operator is useful for creating a simple Observable that only\n\t     * emits the arguments given, and the complete notification thereafter. It can\n\t     * be used for composing with other Observables, such as with {@link concat}.\n\t     * By default, it uses a `null` IScheduler, which means the `next`\n\t     * notifications are sent synchronously, although with a different IScheduler\n\t     * it is possible to determine when those notifications will be delivered.\n\t     *\n\t     * @example <caption>Emit 10, 20, 30, then 'a', 'b', 'c', then start ticking every second.</caption>\n\t     * var numbers = Rx.Observable.of(10, 20, 30);\n\t     * var letters = Rx.Observable.of('a', 'b', 'c');\n\t     * var interval = Rx.Observable.interval(1000);\n\t     * var result = numbers.concat(letters).concat(interval);\n\t     * result.subscribe(x => console.log(x));\n\t     *\n\t     * @see {@link create}\n\t     * @see {@link empty}\n\t     * @see {@link never}\n\t     * @see {@link throw}\n\t     *\n\t     * @param {...T} values Arguments that represent `next` values to be emitted.\n\t     * @param {Scheduler} [scheduler] A {@link IScheduler} to use for scheduling\n\t     * the emissions of the `next` notifications.\n\t     * @return {Observable<T>} An Observable that emits each given input value.\n\t     * @static true\n\t     * @name of\n\t     * @owner Observable\n\t     */\n\t    ArrayObservable.of = function () {\n\t        var array = [];\n\t        for (var _i = 0; _i < arguments.length; _i++) {\n\t            array[_i - 0] = arguments[_i];\n\t        }\n\t        var scheduler = array[array.length - 1];\n\t        if (isScheduler_1.isScheduler(scheduler)) {\n\t            array.pop();\n\t        }\n\t        else {\n\t            scheduler = null;\n\t        }\n\t        var len = array.length;\n\t        if (len > 1) {\n\t            return new ArrayObservable(array, scheduler);\n\t        }\n\t        else if (len === 1) {\n\t            return new ScalarObservable_1.ScalarObservable(array[0], scheduler);\n\t        }\n\t        else {\n\t            return new EmptyObservable_1.EmptyObservable(scheduler);\n\t        }\n\t    };\n\t    ArrayObservable.dispatch = function (state) {\n\t        var array = state.array, index = state.index, count = state.count, subscriber = state.subscriber;\n\t        if (index >= count) {\n\t            subscriber.complete();\n\t            return;\n\t        }\n\t        subscriber.next(array[index]);\n\t        if (subscriber.closed) {\n\t            return;\n\t        }\n\t        state.index = index + 1;\n\t        this.schedule(state);\n\t    };\n\t    ArrayObservable.prototype._subscribe = function (subscriber) {\n\t        var index = 0;\n\t        var array = this.array;\n\t        var count = array.length;\n\t        var scheduler = this.scheduler;\n\t        if (scheduler) {\n\t            return scheduler.schedule(ArrayObservable.dispatch, 0, {\n\t                array: array, index: index, count: count, subscriber: subscriber\n\t            });\n\t        }\n\t        else {\n\t            for (var i = 0; i < count && !subscriber.closed; i++) {\n\t                subscriber.next(array[i]);\n\t            }\n\t            subscriber.complete();\n\t        }\n\t    };\n\t    return ArrayObservable;\n\t}(Observable_1.Observable));\n\texports.ArrayObservable = ArrayObservable;\n\t//# sourceMappingURL=ArrayObservable.js.map\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __extends = (this && this.__extends) || function (d, b) {\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n\t    function __() { this.constructor = d; }\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n\t};\n\tvar Observable_1 = __webpack_require__(6);\n\t/**\n\t * We need this JSDoc comment for affecting ESDoc.\n\t * @extends {Ignored}\n\t * @hide true\n\t */\n\tvar ScalarObservable = (function (_super) {\n\t    __extends(ScalarObservable, _super);\n\t    function ScalarObservable(value, scheduler) {\n\t        _super.call(this);\n\t        this.value = value;\n\t        this.scheduler = scheduler;\n\t        this._isScalar = true;\n\t        if (scheduler) {\n\t            this._isScalar = false;\n\t        }\n\t    }\n\t    ScalarObservable.create = function (value, scheduler) {\n\t        return new ScalarObservable(value, scheduler);\n\t    };\n\t    ScalarObservable.dispatch = function (state) {\n\t        var done = state.done, value = state.value, subscriber = state.subscriber;\n\t        if (done) {\n\t            subscriber.complete();\n\t            return;\n\t        }\n\t        subscriber.next(value);\n\t        if (subscriber.closed) {\n\t            return;\n\t        }\n\t        state.done = true;\n\t        this.schedule(state);\n\t    };\n\t    ScalarObservable.prototype._subscribe = function (subscriber) {\n\t        var value = this.value;\n\t        var scheduler = this.scheduler;\n\t        if (scheduler) {\n\t            return scheduler.schedule(ScalarObservable.dispatch, 0, {\n\t                done: false, value: value, subscriber: subscriber\n\t            });\n\t        }\n\t        else {\n\t            subscriber.next(value);\n\t            if (!subscriber.closed) {\n\t                subscriber.complete();\n\t            }\n\t        }\n\t    };\n\t    return ScalarObservable;\n\t}(Observable_1.Observable));\n\texports.ScalarObservable = ScalarObservable;\n\t//# sourceMappingURL=ScalarObservable.js.map\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __extends = (this && this.__extends) || function (d, b) {\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n\t    function __() { this.constructor = d; }\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n\t};\n\tvar Observable_1 = __webpack_require__(6);\n\t/**\n\t * We need this JSDoc comment for affecting ESDoc.\n\t * @extends {Ignored}\n\t * @hide true\n\t */\n\tvar EmptyObservable = (function (_super) {\n\t    __extends(EmptyObservable, _super);\n\t    function EmptyObservable(scheduler) {\n\t        _super.call(this);\n\t        this.scheduler = scheduler;\n\t    }\n\t    /**\n\t     * Creates an Observable that emits no items to the Observer and immediately\n\t     * emits a complete notification.\n\t     *\n\t     * <span class=\"informal\">Just emits 'complete', and nothing else.\n\t     * </span>\n\t     *\n\t     * <img src=\"./img/empty.png\" width=\"100%\">\n\t     *\n\t     * This static operator is useful for creating a simple Observable that only\n\t     * emits the complete notification. It can be used for composing with other\n\t     * Observables, such as in a {@link mergeMap}.\n\t     *\n\t     * @example <caption>Emit the number 7, then complete.</caption>\n\t     * var result = Rx.Observable.empty().startWith(7);\n\t     * result.subscribe(x => console.log(x));\n\t     *\n\t     * @example <caption>Map and flatten only odd numbers to the sequence 'a', 'b', 'c'</caption>\n\t     * var interval = Rx.Observable.interval(1000);\n\t     * var result = interval.mergeMap(x =>\n\t     *   x % 2 === 1 ? Rx.Observable.of('a', 'b', 'c') : Rx.Observable.empty()\n\t     * );\n\t     * result.subscribe(x => console.log(x));\n\t     *\n\t     * // Results in the following to the console:\n\t     * // x is equal to the count on the interval eg(0,1,2,3,...)\n\t     * // x will occur every 1000ms\n\t     * // if x % 2 is equal to 1 print abc\n\t     * // if x % 2 is not equal to 1 nothing will be output\n\t     *\n\t     * @see {@link create}\n\t     * @see {@link never}\n\t     * @see {@link of}\n\t     * @see {@link throw}\n\t     *\n\t     * @param {Scheduler} [scheduler] A {@link IScheduler} to use for scheduling\n\t     * the emission of the complete notification.\n\t     * @return {Observable} An \"empty\" Observable: emits only the complete\n\t     * notification.\n\t     * @static true\n\t     * @name empty\n\t     * @owner Observable\n\t     */\n\t    EmptyObservable.create = function (scheduler) {\n\t        return new EmptyObservable(scheduler);\n\t    };\n\t    EmptyObservable.dispatch = function (arg) {\n\t        var subscriber = arg.subscriber;\n\t        subscriber.complete();\n\t    };\n\t    EmptyObservable.prototype._subscribe = function (subscriber) {\n\t        var scheduler = this.scheduler;\n\t        if (scheduler) {\n\t            return scheduler.schedule(EmptyObservable.dispatch, 0, { subscriber: subscriber });\n\t        }\n\t        else {\n\t            subscriber.complete();\n\t        }\n\t    };\n\t    return EmptyObservable;\n\t}(Observable_1.Observable));\n\texports.EmptyObservable = EmptyObservable;\n\t//# sourceMappingURL=EmptyObservable.js.map\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\tfunction isScheduler(value) {\n\t    return value && typeof value.schedule === 'function';\n\t}\n\texports.isScheduler = isScheduler;\n\t//# sourceMappingURL=isScheduler.js.map\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar mergeMap_1 = __webpack_require__(30);\n\tvar identity_1 = __webpack_require__(37);\n\t/**\n\t * Converts a higher-order Observable into a first-order Observable which\n\t * concurrently delivers all values that are emitted on the inner Observables.\n\t *\n\t * <span class=\"informal\">Flattens an Observable-of-Observables.</span>\n\t *\n\t * <img src=\"./img/mergeAll.png\" width=\"100%\">\n\t *\n\t * `mergeAll` subscribes to an Observable that emits Observables, also known as\n\t * a higher-order Observable. Each time it observes one of these emitted inner\n\t * Observables, it subscribes to that and delivers all the values from the\n\t * inner Observable on the output Observable. The output Observable only\n\t * completes once all inner Observables have completed. Any error delivered by\n\t * a inner Observable will be immediately emitted on the output Observable.\n\t *\n\t * @example <caption>Spawn a new interval Observable for each click event, and blend their outputs as one Observable</caption>\n\t * var clicks = Rx.Observable.fromEvent(document, 'click');\n\t * var higherOrder = clicks.map((ev) => Rx.Observable.interval(1000));\n\t * var firstOrder = higherOrder.mergeAll();\n\t * firstOrder.subscribe(x => console.log(x));\n\t *\n\t * @example <caption>Count from 0 to 9 every second for each click, but only allow 2 concurrent timers</caption>\n\t * var clicks = Rx.Observable.fromEvent(document, 'click');\n\t * var higherOrder = clicks.map((ev) => Rx.Observable.interval(1000).take(10));\n\t * var firstOrder = higherOrder.mergeAll(2);\n\t * firstOrder.subscribe(x => console.log(x));\n\t *\n\t * @see {@link combineAll}\n\t * @see {@link concatAll}\n\t * @see {@link exhaust}\n\t * @see {@link merge}\n\t * @see {@link mergeMap}\n\t * @see {@link mergeMapTo}\n\t * @see {@link mergeScan}\n\t * @see {@link switch}\n\t * @see {@link zipAll}\n\t *\n\t * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of inner\n\t * Observables being subscribed to concurrently.\n\t * @return {Observable} An Observable that emits values coming from all the\n\t * inner Observables emitted by the source Observable.\n\t * @method mergeAll\n\t * @owner Observable\n\t */\n\tfunction mergeAll(concurrent) {\n\t    if (concurrent === void 0) { concurrent = Number.POSITIVE_INFINITY; }\n\t    return mergeMap_1.mergeMap(identity_1.identity, null, concurrent);\n\t}\n\texports.mergeAll = mergeAll;\n\t//# sourceMappingURL=mergeAll.js.map\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __extends = (this && this.__extends) || function (d, b) {\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n\t    function __() { this.constructor = d; }\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n\t};\n\tvar subscribeToResult_1 = __webpack_require__(31);\n\tvar OuterSubscriber_1 = __webpack_require__(36);\n\t/* tslint:enable:max-line-length */\n\t/**\n\t * Projects each source value to an Observable which is merged in the output\n\t * Observable.\n\t *\n\t * <span class=\"informal\">Maps each value to an Observable, then flattens all of\n\t * these inner Observables using {@link mergeAll}.</span>\n\t *\n\t * <img src=\"./img/mergeMap.png\" width=\"100%\">\n\t *\n\t * Returns an Observable that emits items based on applying a function that you\n\t * supply to each item emitted by the source Observable, where that function\n\t * returns an Observable, and then merging those resulting Observables and\n\t * emitting the results of this merger.\n\t *\n\t * @example <caption>Map and flatten each letter to an Observable ticking every 1 second</caption>\n\t * var letters = Rx.Observable.of('a', 'b', 'c');\n\t * var result = letters.mergeMap(x =>\n\t *   Rx.Observable.interval(1000).map(i => x+i)\n\t * );\n\t * result.subscribe(x => console.log(x));\n\t *\n\t * // Results in the following:\n\t * // a0\n\t * // b0\n\t * // c0\n\t * // a1\n\t * // b1\n\t * // c1\n\t * // continues to list a,b,c with respective ascending integers\n\t *\n\t * @see {@link concatMap}\n\t * @see {@link exhaustMap}\n\t * @see {@link merge}\n\t * @see {@link mergeAll}\n\t * @see {@link mergeMapTo}\n\t * @see {@link mergeScan}\n\t * @see {@link switchMap}\n\t *\n\t * @param {function(value: T, ?index: number): ObservableInput} project A function\n\t * that, when applied to an item emitted by the source Observable, returns an\n\t * Observable.\n\t * @param {function(outerValue: T, innerValue: I, outerIndex: number, innerIndex: number): any} [resultSelector]\n\t * A function to produce the value on the output Observable based on the values\n\t * and the indices of the source (outer) emission and the inner Observable\n\t * emission. The arguments passed to this function are:\n\t * - `outerValue`: the value that came from the source\n\t * - `innerValue`: the value that came from the projected Observable\n\t * - `outerIndex`: the \"index\" of the value that came from the source\n\t * - `innerIndex`: the \"index\" of the value from the projected Observable\n\t * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of input\n\t * Observables being subscribed to concurrently.\n\t * @return {Observable} An Observable that emits the result of applying the\n\t * projection function (and the optional `resultSelector`) to each item emitted\n\t * by the source Observable and merging the results of the Observables obtained\n\t * from this transformation.\n\t * @method mergeMap\n\t * @owner Observable\n\t */\n\tfunction mergeMap(project, resultSelector, concurrent) {\n\t    if (concurrent === void 0) { concurrent = Number.POSITIVE_INFINITY; }\n\t    return function mergeMapOperatorFunction(source) {\n\t        if (typeof resultSelector === 'number') {\n\t            concurrent = resultSelector;\n\t            resultSelector = null;\n\t        }\n\t        return source.lift(new MergeMapOperator(project, resultSelector, concurrent));\n\t    };\n\t}\n\texports.mergeMap = mergeMap;\n\tvar MergeMapOperator = (function () {\n\t    function MergeMapOperator(project, resultSelector, concurrent) {\n\t        if (concurrent === void 0) { concurrent = Number.POSITIVE_INFINITY; }\n\t        this.project = project;\n\t        this.resultSelector = resultSelector;\n\t        this.concurrent = concurrent;\n\t    }\n\t    MergeMapOperator.prototype.call = function (observer, source) {\n\t        return source.subscribe(new MergeMapSubscriber(observer, this.project, this.resultSelector, this.concurrent));\n\t    };\n\t    return MergeMapOperator;\n\t}());\n\texports.MergeMapOperator = MergeMapOperator;\n\t/**\n\t * We need this JSDoc comment for affecting ESDoc.\n\t * @ignore\n\t * @extends {Ignored}\n\t */\n\tvar MergeMapSubscriber = (function (_super) {\n\t    __extends(MergeMapSubscriber, _super);\n\t    function MergeMapSubscriber(destination, project, resultSelector, concurrent) {\n\t        if (concurrent === void 0) { concurrent = Number.POSITIVE_INFINITY; }\n\t        _super.call(this, destination);\n\t        this.project = project;\n\t        this.resultSelector = resultSelector;\n\t        this.concurrent = concurrent;\n\t        this.hasCompleted = false;\n\t        this.buffer = [];\n\t        this.active = 0;\n\t        this.index = 0;\n\t    }\n\t    MergeMapSubscriber.prototype._next = function (value) {\n\t        if (this.active < this.concurrent) {\n\t            this._tryNext(value);\n\t        }\n\t        else {\n\t            this.buffer.push(value);\n\t        }\n\t    };\n\t    MergeMapSubscriber.prototype._tryNext = function (value) {\n\t        var result;\n\t        var index = this.index++;\n\t        try {\n\t            result = this.project(value, index);\n\t        }\n\t        catch (err) {\n\t            this.destination.error(err);\n\t            return;\n\t        }\n\t        this.active++;\n\t        this._innerSub(result, value, index);\n\t    };\n\t    MergeMapSubscriber.prototype._innerSub = function (ish, value, index) {\n\t        this.add(subscribeToResult_1.subscribeToResult(this, ish, value, index));\n\t    };\n\t    MergeMapSubscriber.prototype._complete = function () {\n\t        this.hasCompleted = true;\n\t        if (this.active === 0 && this.buffer.length === 0) {\n\t            this.destination.complete();\n\t        }\n\t    };\n\t    MergeMapSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n\t        if (this.resultSelector) {\n\t            this._notifyResultSelector(outerValue, innerValue, outerIndex, innerIndex);\n\t        }\n\t        else {\n\t            this.destination.next(innerValue);\n\t        }\n\t    };\n\t    MergeMapSubscriber.prototype._notifyResultSelector = function (outerValue, innerValue, outerIndex, innerIndex) {\n\t        var result;\n\t        try {\n\t            result = this.resultSelector(outerValue, innerValue, outerIndex, innerIndex);\n\t        }\n\t        catch (err) {\n\t            this.destination.error(err);\n\t            return;\n\t        }\n\t        this.destination.next(result);\n\t    };\n\t    MergeMapSubscriber.prototype.notifyComplete = function (innerSub) {\n\t        var buffer = this.buffer;\n\t        this.remove(innerSub);\n\t        this.active--;\n\t        if (buffer.length > 0) {\n\t            this._next(buffer.shift());\n\t        }\n\t        else if (this.active === 0 && this.hasCompleted) {\n\t            this.destination.complete();\n\t        }\n\t    };\n\t    return MergeMapSubscriber;\n\t}(OuterSubscriber_1.OuterSubscriber));\n\texports.MergeMapSubscriber = MergeMapSubscriber;\n\t//# sourceMappingURL=mergeMap.js.map\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar root_1 = __webpack_require__(7);\n\tvar isArrayLike_1 = __webpack_require__(32);\n\tvar isPromise_1 = __webpack_require__(33);\n\tvar isObject_1 = __webpack_require__(13);\n\tvar Observable_1 = __webpack_require__(6);\n\tvar iterator_1 = __webpack_require__(34);\n\tvar InnerSubscriber_1 = __webpack_require__(35);\n\tvar observable_1 = __webpack_require__(19);\n\tfunction subscribeToResult(outerSubscriber, result, outerValue, outerIndex) {\n\t    var destination = new InnerSubscriber_1.InnerSubscriber(outerSubscriber, outerValue, outerIndex);\n\t    if (destination.closed) {\n\t        return null;\n\t    }\n\t    if (result instanceof Observable_1.Observable) {\n\t        if (result._isScalar) {\n\t            destination.next(result.value);\n\t            destination.complete();\n\t            return null;\n\t        }\n\t        else {\n\t            destination.syncErrorThrowable = true;\n\t            return result.subscribe(destination);\n\t        }\n\t    }\n\t    else if (isArrayLike_1.isArrayLike(result)) {\n\t        for (var i = 0, len = result.length; i < len && !destination.closed; i++) {\n\t            destination.next(result[i]);\n\t        }\n\t        if (!destination.closed) {\n\t            destination.complete();\n\t        }\n\t    }\n\t    else if (isPromise_1.isPromise(result)) {\n\t        result.then(function (value) {\n\t            if (!destination.closed) {\n\t                destination.next(value);\n\t                destination.complete();\n\t            }\n\t        }, function (err) { return destination.error(err); })\n\t            .then(null, function (err) {\n\t            // Escaping the Promise trap: globally throw unhandled errors\n\t            root_1.root.setTimeout(function () { throw err; });\n\t        });\n\t        return destination;\n\t    }\n\t    else if (result && typeof result[iterator_1.iterator] === 'function') {\n\t        var iterator = result[iterator_1.iterator]();\n\t        do {\n\t            var item = iterator.next();\n\t            if (item.done) {\n\t                destination.complete();\n\t                break;\n\t            }\n\t            destination.next(item.value);\n\t            if (destination.closed) {\n\t                break;\n\t            }\n\t        } while (true);\n\t    }\n\t    else if (result && typeof result[observable_1.observable] === 'function') {\n\t        var obs = result[observable_1.observable]();\n\t        if (typeof obs.subscribe !== 'function') {\n\t            destination.error(new TypeError('Provided object does not correctly implement Symbol.observable'));\n\t        }\n\t        else {\n\t            return obs.subscribe(new InnerSubscriber_1.InnerSubscriber(outerSubscriber, outerValue, outerIndex));\n\t        }\n\t    }\n\t    else {\n\t        var value = isObject_1.isObject(result) ? 'an invalid object' : \"'\" + result + \"'\";\n\t        var msg = (\"You provided \" + value + \" where a stream was expected.\")\n\t            + ' You can provide an Observable, Promise, Array, or Iterable.';\n\t        destination.error(new TypeError(msg));\n\t    }\n\t    return null;\n\t}\n\texports.subscribeToResult = subscribeToResult;\n\t//# sourceMappingURL=subscribeToResult.js.map\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\texports.isArrayLike = (function (x) { return x && typeof x.length === 'number'; });\n\t//# sourceMappingURL=isArrayLike.js.map\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\tfunction isPromise(value) {\n\t    return value && typeof value.subscribe !== 'function' && typeof value.then === 'function';\n\t}\n\texports.isPromise = isPromise;\n\t//# sourceMappingURL=isPromise.js.map\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar root_1 = __webpack_require__(7);\n\tfunction symbolIteratorPonyfill(root) {\n\t    var Symbol = root.Symbol;\n\t    if (typeof Symbol === 'function') {\n\t        if (!Symbol.iterator) {\n\t            Symbol.iterator = Symbol('iterator polyfill');\n\t        }\n\t        return Symbol.iterator;\n\t    }\n\t    else {\n\t        // [for Mozilla Gecko 27-35:](https://mzl.la/2ewE1zC)\n\t        var Set_1 = root.Set;\n\t        if (Set_1 && typeof new Set_1()['@@iterator'] === 'function') {\n\t            return '@@iterator';\n\t        }\n\t        var Map_1 = root.Map;\n\t        // required for compatability with es6-shim\n\t        if (Map_1) {\n\t            var keys = Object.getOwnPropertyNames(Map_1.prototype);\n\t            for (var i = 0; i < keys.length; ++i) {\n\t                var key = keys[i];\n\t                // according to spec, Map.prototype[@@iterator] and Map.orototype.entries must be equal.\n\t                if (key !== 'entries' && key !== 'size' && Map_1.prototype[key] === Map_1.prototype['entries']) {\n\t                    return key;\n\t                }\n\t            }\n\t        }\n\t        return '@@iterator';\n\t    }\n\t}\n\texports.symbolIteratorPonyfill = symbolIteratorPonyfill;\n\texports.iterator = symbolIteratorPonyfill(root_1.root);\n\t/**\n\t * @deprecated use iterator instead\n\t */\n\texports.$$iterator = exports.iterator;\n\t//# sourceMappingURL=iterator.js.map\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __extends = (this && this.__extends) || function (d, b) {\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n\t    function __() { this.constructor = d; }\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n\t};\n\tvar Subscriber_1 = __webpack_require__(9);\n\t/**\n\t * We need this JSDoc comment for affecting ESDoc.\n\t * @ignore\n\t * @extends {Ignored}\n\t */\n\tvar InnerSubscriber = (function (_super) {\n\t    __extends(InnerSubscriber, _super);\n\t    function InnerSubscriber(parent, outerValue, outerIndex) {\n\t        _super.call(this);\n\t        this.parent = parent;\n\t        this.outerValue = outerValue;\n\t        this.outerIndex = outerIndex;\n\t        this.index = 0;\n\t    }\n\t    InnerSubscriber.prototype._next = function (value) {\n\t        this.parent.notifyNext(this.outerValue, value, this.outerIndex, this.index++, this);\n\t    };\n\t    InnerSubscriber.prototype._error = function (error) {\n\t        this.parent.notifyError(error, this);\n\t        this.unsubscribe();\n\t    };\n\t    InnerSubscriber.prototype._complete = function () {\n\t        this.parent.notifyComplete(this);\n\t        this.unsubscribe();\n\t    };\n\t    return InnerSubscriber;\n\t}(Subscriber_1.Subscriber));\n\texports.InnerSubscriber = InnerSubscriber;\n\t//# sourceMappingURL=InnerSubscriber.js.map\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __extends = (this && this.__extends) || function (d, b) {\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n\t    function __() { this.constructor = d; }\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n\t};\n\tvar Subscriber_1 = __webpack_require__(9);\n\t/**\n\t * We need this JSDoc comment for affecting ESDoc.\n\t * @ignore\n\t * @extends {Ignored}\n\t */\n\tvar OuterSubscriber = (function (_super) {\n\t    __extends(OuterSubscriber, _super);\n\t    function OuterSubscriber() {\n\t        _super.apply(this, arguments);\n\t    }\n\t    OuterSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n\t        this.destination.next(innerValue);\n\t    };\n\t    OuterSubscriber.prototype.notifyError = function (error, innerSub) {\n\t        this.destination.error(error);\n\t    };\n\t    OuterSubscriber.prototype.notifyComplete = function (innerSub) {\n\t        this.destination.complete();\n\t    };\n\t    return OuterSubscriber;\n\t}(Subscriber_1.Subscriber));\n\texports.OuterSubscriber = OuterSubscriber;\n\t//# sourceMappingURL=OuterSubscriber.js.map\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\tfunction identity(x) {\n\t    return x;\n\t}\n\texports.identity = identity;\n\t//# sourceMappingURL=identity.js.map\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar share_1 = __webpack_require__(39);\n\t/**\n\t * Returns a new Observable that multicasts (shares) the original Observable. As long as there is at least one\n\t * Subscriber this Observable will be subscribed and emitting data. When all subscribers have unsubscribed it will\n\t * unsubscribe from the source Observable. Because the Observable is multicasting it makes the stream `hot`.\n\t *\n\t * This behaves similarly to .publish().refCount(), with a behavior difference when the source observable emits complete.\n\t * .publish().refCount() will not resubscribe to the original source, however .share() will resubscribe to the original source.\n\t * Observable.of(\"test\").publish().refCount() will not re-emit \"test\" on new subscriptions, Observable.of(\"test\").share() will\n\t * re-emit \"test\" to new subscriptions.\n\t *\n\t * <img src=\"./img/share.png\" width=\"100%\">\n\t *\n\t * @return {Observable<T>} An Observable that upon connection causes the source Observable to emit items to its Observers.\n\t * @method share\n\t * @owner Observable\n\t */\n\tfunction share() {\n\t    return share_1.share()(this);\n\t}\n\texports.share = share;\n\t;\n\t//# sourceMappingURL=share.js.map\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar multicast_1 = __webpack_require__(40);\n\tvar refCount_1 = __webpack_require__(45);\n\tvar Subject_1 = __webpack_require__(42);\n\tfunction shareSubjectFactory() {\n\t    return new Subject_1.Subject();\n\t}\n\t/**\n\t * Returns a new Observable that multicasts (shares) the original Observable. As long as there is at least one\n\t * Subscriber this Observable will be subscribed and emitting data. When all subscribers have unsubscribed it will\n\t * unsubscribe from the source Observable. Because the Observable is multicasting it makes the stream `hot`.\n\t * This is an alias for .multicast(() => new Subject()).refCount().\n\t *\n\t * <img src=\"./img/share.png\" width=\"100%\">\n\t *\n\t * @return {Observable<T>} An Observable that upon connection causes the source Observable to emit items to its Observers.\n\t * @method share\n\t * @owner Observable\n\t */\n\tfunction share() {\n\t    return function (source) { return refCount_1.refCount()(multicast_1.multicast(shareSubjectFactory)(source)); };\n\t}\n\texports.share = share;\n\t;\n\t//# sourceMappingURL=share.js.map\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar ConnectableObservable_1 = __webpack_require__(41);\n\t/* tslint:enable:max-line-length */\n\t/**\n\t * Returns an Observable that emits the results of invoking a specified selector on items\n\t * emitted by a ConnectableObservable that shares a single subscription to the underlying stream.\n\t *\n\t * <img src=\"./img/multicast.png\" width=\"100%\">\n\t *\n\t * @param {Function|Subject} subjectOrSubjectFactory - Factory function to create an intermediate subject through\n\t * which the source sequence's elements will be multicast to the selector function\n\t * or Subject to push source elements into.\n\t * @param {Function} [selector] - Optional selector function that can use the multicasted source stream\n\t * as many times as needed, without causing multiple subscriptions to the source stream.\n\t * Subscribers to the given source will receive all notifications of the source from the\n\t * time of the subscription forward.\n\t * @return {Observable} An Observable that emits the results of invoking the selector\n\t * on the items emitted by a `ConnectableObservable` that shares a single subscription to\n\t * the underlying stream.\n\t * @method multicast\n\t * @owner Observable\n\t */\n\tfunction multicast(subjectOrSubjectFactory, selector) {\n\t    return function multicastOperatorFunction(source) {\n\t        var subjectFactory;\n\t        if (typeof subjectOrSubjectFactory === 'function') {\n\t            subjectFactory = subjectOrSubjectFactory;\n\t        }\n\t        else {\n\t            subjectFactory = function subjectFactory() {\n\t                return subjectOrSubjectFactory;\n\t            };\n\t        }\n\t        if (typeof selector === 'function') {\n\t            return source.lift(new MulticastOperator(subjectFactory, selector));\n\t        }\n\t        var connectable = Object.create(source, ConnectableObservable_1.connectableObservableDescriptor);\n\t        connectable.source = source;\n\t        connectable.subjectFactory = subjectFactory;\n\t        return connectable;\n\t    };\n\t}\n\texports.multicast = multicast;\n\tvar MulticastOperator = (function () {\n\t    function MulticastOperator(subjectFactory, selector) {\n\t        this.subjectFactory = subjectFactory;\n\t        this.selector = selector;\n\t    }\n\t    MulticastOperator.prototype.call = function (subscriber, source) {\n\t        var selector = this.selector;\n\t        var subject = this.subjectFactory();\n\t        var subscription = selector(subject).subscribe(subscriber);\n\t        subscription.add(source.subscribe(subject));\n\t        return subscription;\n\t    };\n\t    return MulticastOperator;\n\t}());\n\texports.MulticastOperator = MulticastOperator;\n\t//# sourceMappingURL=multicast.js.map\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __extends = (this && this.__extends) || function (d, b) {\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n\t    function __() { this.constructor = d; }\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n\t};\n\tvar Subject_1 = __webpack_require__(42);\n\tvar Observable_1 = __webpack_require__(6);\n\tvar Subscriber_1 = __webpack_require__(9);\n\tvar Subscription_1 = __webpack_require__(11);\n\tvar refCount_1 = __webpack_require__(45);\n\t/**\n\t * @class ConnectableObservable<T>\n\t */\n\tvar ConnectableObservable = (function (_super) {\n\t    __extends(ConnectableObservable, _super);\n\t    function ConnectableObservable(source, subjectFactory) {\n\t        _super.call(this);\n\t        this.source = source;\n\t        this.subjectFactory = subjectFactory;\n\t        this._refCount = 0;\n\t        this._isComplete = false;\n\t    }\n\t    ConnectableObservable.prototype._subscribe = function (subscriber) {\n\t        return this.getSubject().subscribe(subscriber);\n\t    };\n\t    ConnectableObservable.prototype.getSubject = function () {\n\t        var subject = this._subject;\n\t        if (!subject || subject.isStopped) {\n\t            this._subject = this.subjectFactory();\n\t        }\n\t        return this._subject;\n\t    };\n\t    ConnectableObservable.prototype.connect = function () {\n\t        var connection = this._connection;\n\t        if (!connection) {\n\t            this._isComplete = false;\n\t            connection = this._connection = new Subscription_1.Subscription();\n\t            connection.add(this.source\n\t                .subscribe(new ConnectableSubscriber(this.getSubject(), this)));\n\t            if (connection.closed) {\n\t                this._connection = null;\n\t                connection = Subscription_1.Subscription.EMPTY;\n\t            }\n\t            else {\n\t                this._connection = connection;\n\t            }\n\t        }\n\t        return connection;\n\t    };\n\t    ConnectableObservable.prototype.refCount = function () {\n\t        return refCount_1.refCount()(this);\n\t    };\n\t    return ConnectableObservable;\n\t}(Observable_1.Observable));\n\texports.ConnectableObservable = ConnectableObservable;\n\tvar connectableProto = ConnectableObservable.prototype;\n\texports.connectableObservableDescriptor = {\n\t    operator: { value: null },\n\t    _refCount: { value: 0, writable: true },\n\t    _subject: { value: null, writable: true },\n\t    _connection: { value: null, writable: true },\n\t    _subscribe: { value: connectableProto._subscribe },\n\t    _isComplete: { value: connectableProto._isComplete, writable: true },\n\t    getSubject: { value: connectableProto.getSubject },\n\t    connect: { value: connectableProto.connect },\n\t    refCount: { value: connectableProto.refCount }\n\t};\n\tvar ConnectableSubscriber = (function (_super) {\n\t    __extends(ConnectableSubscriber, _super);\n\t    function ConnectableSubscriber(destination, connectable) {\n\t        _super.call(this, destination);\n\t        this.connectable = connectable;\n\t    }\n\t    ConnectableSubscriber.prototype._error = function (err) {\n\t        this._unsubscribe();\n\t        _super.prototype._error.call(this, err);\n\t    };\n\t    ConnectableSubscriber.prototype._complete = function () {\n\t        this.connectable._isComplete = true;\n\t        this._unsubscribe();\n\t        _super.prototype._complete.call(this);\n\t    };\n\t    ConnectableSubscriber.prototype._unsubscribe = function () {\n\t        var connectable = this.connectable;\n\t        if (connectable) {\n\t            this.connectable = null;\n\t            var connection = connectable._connection;\n\t            connectable._refCount = 0;\n\t            connectable._subject = null;\n\t            connectable._connection = null;\n\t            if (connection) {\n\t                connection.unsubscribe();\n\t            }\n\t        }\n\t    };\n\t    return ConnectableSubscriber;\n\t}(Subject_1.SubjectSubscriber));\n\tvar RefCountOperator = (function () {\n\t    function RefCountOperator(connectable) {\n\t        this.connectable = connectable;\n\t    }\n\t    RefCountOperator.prototype.call = function (subscriber, source) {\n\t        var connectable = this.connectable;\n\t        connectable._refCount++;\n\t        var refCounter = new RefCountSubscriber(subscriber, connectable);\n\t        var subscription = source.subscribe(refCounter);\n\t        if (!refCounter.closed) {\n\t            refCounter.connection = connectable.connect();\n\t        }\n\t        return subscription;\n\t    };\n\t    return RefCountOperator;\n\t}());\n\tvar RefCountSubscriber = (function (_super) {\n\t    __extends(RefCountSubscriber, _super);\n\t    function RefCountSubscriber(destination, connectable) {\n\t        _super.call(this, destination);\n\t        this.connectable = connectable;\n\t    }\n\t    RefCountSubscriber.prototype._unsubscribe = function () {\n\t        var connectable = this.connectable;\n\t        if (!connectable) {\n\t            this.connection = null;\n\t            return;\n\t        }\n\t        this.connectable = null;\n\t        var refCount = connectable._refCount;\n\t        if (refCount <= 0) {\n\t            this.connection = null;\n\t            return;\n\t        }\n\t        connectable._refCount = refCount - 1;\n\t        if (refCount > 1) {\n\t            this.connection = null;\n\t            return;\n\t        }\n\t        ///\n\t        // Compare the local RefCountSubscriber's connection Subscription to the\n\t        // connection Subscription on the shared ConnectableObservable. In cases\n\t        // where the ConnectableObservable source synchronously emits values, and\n\t        // the RefCountSubscriber's downstream Observers synchronously unsubscribe,\n\t        // execution continues to here before the RefCountOperator has a chance to\n\t        // supply the RefCountSubscriber with the shared connection Subscription.\n\t        // For example:\n\t        // ```\n\t        // Observable.range(0, 10)\n\t        //   .publish()\n\t        //   .refCount()\n\t        //   .take(5)\n\t        //   .subscribe();\n\t        // ```\n\t        // In order to account for this case, RefCountSubscriber should only dispose\n\t        // the ConnectableObservable's shared connection Subscription if the\n\t        // connection Subscription exists, *and* either:\n\t        //   a. RefCountSubscriber doesn't have a reference to the shared connection\n\t        //      Subscription yet, or,\n\t        //   b. RefCountSubscriber's connection Subscription reference is identical\n\t        //      to the shared connection Subscription\n\t        ///\n\t        var connection = this.connection;\n\t        var sharedConnection = connectable._connection;\n\t        this.connection = null;\n\t        if (sharedConnection && (!connection || sharedConnection === connection)) {\n\t            sharedConnection.unsubscribe();\n\t        }\n\t    };\n\t    return RefCountSubscriber;\n\t}(Subscriber_1.Subscriber));\n\t//# sourceMappingURL=ConnectableObservable.js.map\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __extends = (this && this.__extends) || function (d, b) {\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n\t    function __() { this.constructor = d; }\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n\t};\n\tvar Observable_1 = __webpack_require__(6);\n\tvar Subscriber_1 = __webpack_require__(9);\n\tvar Subscription_1 = __webpack_require__(11);\n\tvar ObjectUnsubscribedError_1 = __webpack_require__(43);\n\tvar SubjectSubscription_1 = __webpack_require__(44);\n\tvar rxSubscriber_1 = __webpack_require__(18);\n\t/**\n\t * @class SubjectSubscriber<T>\n\t */\n\tvar SubjectSubscriber = (function (_super) {\n\t    __extends(SubjectSubscriber, _super);\n\t    function SubjectSubscriber(destination) {\n\t        _super.call(this, destination);\n\t        this.destination = destination;\n\t    }\n\t    return SubjectSubscriber;\n\t}(Subscriber_1.Subscriber));\n\texports.SubjectSubscriber = SubjectSubscriber;\n\t/**\n\t * @class Subject<T>\n\t */\n\tvar Subject = (function (_super) {\n\t    __extends(Subject, _super);\n\t    function Subject() {\n\t        _super.call(this);\n\t        this.observers = [];\n\t        this.closed = false;\n\t        this.isStopped = false;\n\t        this.hasError = false;\n\t        this.thrownError = null;\n\t    }\n\t    Subject.prototype[rxSubscriber_1.rxSubscriber] = function () {\n\t        return new SubjectSubscriber(this);\n\t    };\n\t    Subject.prototype.lift = function (operator) {\n\t        var subject = new AnonymousSubject(this, this);\n\t        subject.operator = operator;\n\t        return subject;\n\t    };\n\t    Subject.prototype.next = function (value) {\n\t        if (this.closed) {\n\t            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n\t        }\n\t        if (!this.isStopped) {\n\t            var observers = this.observers;\n\t            var len = observers.length;\n\t            var copy = observers.slice();\n\t            for (var i = 0; i < len; i++) {\n\t                copy[i].next(value);\n\t            }\n\t        }\n\t    };\n\t    Subject.prototype.error = function (err) {\n\t        if (this.closed) {\n\t            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n\t        }\n\t        this.hasError = true;\n\t        this.thrownError = err;\n\t        this.isStopped = true;\n\t        var observers = this.observers;\n\t        var len = observers.length;\n\t        var copy = observers.slice();\n\t        for (var i = 0; i < len; i++) {\n\t            copy[i].error(err);\n\t        }\n\t        this.observers.length = 0;\n\t    };\n\t    Subject.prototype.complete = function () {\n\t        if (this.closed) {\n\t            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n\t        }\n\t        this.isStopped = true;\n\t        var observers = this.observers;\n\t        var len = observers.length;\n\t        var copy = observers.slice();\n\t        for (var i = 0; i < len; i++) {\n\t            copy[i].complete();\n\t        }\n\t        this.observers.length = 0;\n\t    };\n\t    Subject.prototype.unsubscribe = function () {\n\t        this.isStopped = true;\n\t        this.closed = true;\n\t        this.observers = null;\n\t    };\n\t    Subject.prototype._trySubscribe = function (subscriber) {\n\t        if (this.closed) {\n\t            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n\t        }\n\t        else {\n\t            return _super.prototype._trySubscribe.call(this, subscriber);\n\t        }\n\t    };\n\t    Subject.prototype._subscribe = function (subscriber) {\n\t        if (this.closed) {\n\t            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n\t        }\n\t        else if (this.hasError) {\n\t            subscriber.error(this.thrownError);\n\t            return Subscription_1.Subscription.EMPTY;\n\t        }\n\t        else if (this.isStopped) {\n\t            subscriber.complete();\n\t            return Subscription_1.Subscription.EMPTY;\n\t        }\n\t        else {\n\t            this.observers.push(subscriber);\n\t            return new SubjectSubscription_1.SubjectSubscription(this, subscriber);\n\t        }\n\t    };\n\t    Subject.prototype.asObservable = function () {\n\t        var observable = new Observable_1.Observable();\n\t        observable.source = this;\n\t        return observable;\n\t    };\n\t    Subject.create = function (destination, source) {\n\t        return new AnonymousSubject(destination, source);\n\t    };\n\t    return Subject;\n\t}(Observable_1.Observable));\n\texports.Subject = Subject;\n\t/**\n\t * @class AnonymousSubject<T>\n\t */\n\tvar AnonymousSubject = (function (_super) {\n\t    __extends(AnonymousSubject, _super);\n\t    function AnonymousSubject(destination, source) {\n\t        _super.call(this);\n\t        this.destination = destination;\n\t        this.source = source;\n\t    }\n\t    AnonymousSubject.prototype.next = function (value) {\n\t        var destination = this.destination;\n\t        if (destination && destination.next) {\n\t            destination.next(value);\n\t        }\n\t    };\n\t    AnonymousSubject.prototype.error = function (err) {\n\t        var destination = this.destination;\n\t        if (destination && destination.error) {\n\t            this.destination.error(err);\n\t        }\n\t    };\n\t    AnonymousSubject.prototype.complete = function () {\n\t        var destination = this.destination;\n\t        if (destination && destination.complete) {\n\t            this.destination.complete();\n\t        }\n\t    };\n\t    AnonymousSubject.prototype._subscribe = function (subscriber) {\n\t        var source = this.source;\n\t        if (source) {\n\t            return this.source.subscribe(subscriber);\n\t        }\n\t        else {\n\t            return Subscription_1.Subscription.EMPTY;\n\t        }\n\t    };\n\t    return AnonymousSubject;\n\t}(Subject));\n\texports.AnonymousSubject = AnonymousSubject;\n\t//# sourceMappingURL=Subject.js.map\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\tvar __extends = (this && this.__extends) || function (d, b) {\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n\t    function __() { this.constructor = d; }\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n\t};\n\t/**\n\t * An error thrown when an action is invalid because the object has been\n\t * unsubscribed.\n\t *\n\t * @see {@link Subject}\n\t * @see {@link BehaviorSubject}\n\t *\n\t * @class ObjectUnsubscribedError\n\t */\n\tvar ObjectUnsubscribedError = (function (_super) {\n\t    __extends(ObjectUnsubscribedError, _super);\n\t    function ObjectUnsubscribedError() {\n\t        var err = _super.call(this, 'object unsubscribed');\n\t        this.name = err.name = 'ObjectUnsubscribedError';\n\t        this.stack = err.stack;\n\t        this.message = err.message;\n\t    }\n\t    return ObjectUnsubscribedError;\n\t}(Error));\n\texports.ObjectUnsubscribedError = ObjectUnsubscribedError;\n\t//# sourceMappingURL=ObjectUnsubscribedError.js.map\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __extends = (this && this.__extends) || function (d, b) {\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n\t    function __() { this.constructor = d; }\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n\t};\n\tvar Subscription_1 = __webpack_require__(11);\n\t/**\n\t * We need this JSDoc comment for affecting ESDoc.\n\t * @ignore\n\t * @extends {Ignored}\n\t */\n\tvar SubjectSubscription = (function (_super) {\n\t    __extends(SubjectSubscription, _super);\n\t    function SubjectSubscription(subject, subscriber) {\n\t        _super.call(this);\n\t        this.subject = subject;\n\t        this.subscriber = subscriber;\n\t        this.closed = false;\n\t    }\n\t    SubjectSubscription.prototype.unsubscribe = function () {\n\t        if (this.closed) {\n\t            return;\n\t        }\n\t        this.closed = true;\n\t        var subject = this.subject;\n\t        var observers = subject.observers;\n\t        this.subject = null;\n\t        if (!observers || observers.length === 0 || subject.isStopped || subject.closed) {\n\t            return;\n\t        }\n\t        var subscriberIndex = observers.indexOf(this.subscriber);\n\t        if (subscriberIndex !== -1) {\n\t            observers.splice(subscriberIndex, 1);\n\t        }\n\t    };\n\t    return SubjectSubscription;\n\t}(Subscription_1.Subscription));\n\texports.SubjectSubscription = SubjectSubscription;\n\t//# sourceMappingURL=SubjectSubscription.js.map\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar __extends = (this && this.__extends) || function (d, b) {\n\t    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n\t    function __() { this.constructor = d; }\n\t    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n\t};\n\tvar Subscriber_1 = __webpack_require__(9);\n\tfunction refCount() {\n\t    return function refCountOperatorFunction(source) {\n\t        return source.lift(new RefCountOperator(source));\n\t    };\n\t}\n\texports.refCount = refCount;\n\tvar RefCountOperator = (function () {\n\t    function RefCountOperator(connectable) {\n\t        this.connectable = connectable;\n\t    }\n\t    RefCountOperator.prototype.call = function (subscriber, source) {\n\t        var connectable = this.connectable;\n\t        connectable._refCount++;\n\t        var refCounter = new RefCountSubscriber(subscriber, connectable);\n\t        var subscription = source.subscribe(refCounter);\n\t        if (!refCounter.closed) {\n\t            refCounter.connection = connectable.connect();\n\t        }\n\t        return subscription;\n\t    };\n\t    return RefCountOperator;\n\t}());\n\tvar RefCountSubscriber = (function (_super) {\n\t    __extends(RefCountSubscriber, _super);\n\t    function RefCountSubscriber(destination, connectable) {\n\t        _super.call(this, destination);\n\t        this.connectable = connectable;\n\t    }\n\t    RefCountSubscriber.prototype._unsubscribe = function () {\n\t        var connectable = this.connectable;\n\t        if (!connectable) {\n\t            this.connection = null;\n\t            return;\n\t        }\n\t        this.connectable = null;\n\t        var refCount = connectable._refCount;\n\t        if (refCount <= 0) {\n\t            this.connection = null;\n\t            return;\n\t        }\n\t        connectable._refCount = refCount - 1;\n\t        if (refCount > 1) {\n\t            this.connection = null;\n\t            return;\n\t        }\n\t        ///\n\t        // Compare the local RefCountSubscriber's connection Subscription to the\n\t        // connection Subscription on the shared ConnectableObservable. In cases\n\t        // where the ConnectableObservable source synchronously emits values, and\n\t        // the RefCountSubscriber's downstream Observers synchronously unsubscribe,\n\t        // execution continues to here before the RefCountOperator has a chance to\n\t        // supply the RefCountSubscriber with the shared connection Subscription.\n\t        // For example:\n\t        // ```\n\t        // Observable.range(0, 10)\n\t        //   .publish()\n\t        //   .refCount()\n\t        //   .take(5)\n\t        //   .subscribe();\n\t        // ```\n\t        // In order to account for this case, RefCountSubscriber should only dispose\n\t        // the ConnectableObservable's shared connection Subscription if the\n\t        // connection Subscription exists, *and* either:\n\t        //   a. RefCountSubscriber doesn't have a reference to the shared connection\n\t        //      Subscription yet, or,\n\t        //   b. RefCountSubscriber's connection Subscription reference is identical\n\t        //      to the shared connection Subscription\n\t        ///\n\t        var connection = this.connection;\n\t        var sharedConnection = connectable._connection;\n\t        this.connection = null;\n\t        if (sharedConnection && (!connection || sharedConnection === connection)) {\n\t            sharedConnection.unsubscribe();\n\t        }\n\t    };\n\t    return RefCountSubscriber;\n\t}(Subscriber_1.Subscriber));\n\t//# sourceMappingURL=refCount.js.map\n\n/***/ }),\n/* 46 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports) {\n\t    \"use strict\";\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    var FormBase = (function () {\n\t        function FormBase() {\n\t        }\n\t        FormBase.prototype.localChange = function (e) {\n\t            if (this.propagateChange !== undefined) {\n\t                this.propagateChange((e.checked === undefined ? e.value : e.checked));\n\t            }\n\t        };\n\t        FormBase.prototype.registerOnChange = function (registerFunction) {\n\t            this.propagateChange = registerFunction;\n\t        };\n\t        FormBase.prototype.registerOnTouched = function (registerFunction) {\n\t            this.propagateTouch = registerFunction;\n\t        };\n\t        FormBase.prototype.ngAfterViewInit = function () {\n\t            this.appendTo(this.element);\n\t            if (this.ngEle.nativeElement.nodeName.toLowerCase() !== 'input') {\n\t                this.element.addEventListener('focus', this.ngOnFocus.bind(this));\n\t                this.element.addEventListener('blur', this.ngOnBlur.bind(this));\n\t            }\n\t        };\n\t        FormBase.prototype.writeValue = function (value) {\n\t            this.value = value;\n\t        };\n\t        FormBase.prototype.ngOnFocus = function (e) {\n\t            this.focus.emit(e);\n\t        };\n\t        FormBase.prototype.ngOnBlur = function (e) {\n\t            this.blur.emit(e);\n\t        };\n\t        return FormBase;\n\t    }());\n\t    exports.FormBase = FormBase;\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ }),\n/* 47 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(2), __webpack_require__(2)], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, ej2_base_1, ej2_base_2) {\n\t    \"use strict\";\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    var stringCompiler = ej2_base_1.getTemplateEngine();\n\t    function compile(templateEle, helper) {\n\t        if (typeof templateEle === 'string') {\n\t            return stringCompiler(templateEle, helper);\n\t        }\n\t        else {\n\t            var contRef_1 = templateEle.elementRef.nativeElement._viewContainerRef;\n\t            var pName_1 = templateEle.elementRef.nativeElement.propName;\n\t            return function (data, component, propName) {\n\t                var context = { $implicit: data };\n\t                var conRef = contRef_1 ? contRef_1 : component.viewContainerRef;\n\t                var viewRef = conRef.createEmbeddedView(templateEle, context);\n\t                var viewCollection = component ?\n\t                    component.registeredTemplate : ej2_base_2.getValue('currentInstance.registeredTemplate', conRef);\n\t                propName = propName ? propName : pName_1;\n\t                if (typeof viewCollection[propName] === 'undefined') {\n\t                    viewCollection[propName] = [];\n\t                }\n\t                viewCollection[propName].push(viewRef);\n\t                return viewRef.rootNodes;\n\t            };\n\t        }\n\t    }\n\t    exports.compile = compile;\n\t    function Template(defaultValue) {\n\t        return function (target, key) {\n\t            var propertyDescriptor = {\n\t                set: setter(key),\n\t                get: getter(key, defaultValue),\n\t                enumerable: true,\n\t                configurable: true\n\t            };\n\t            Object.defineProperty(target, key, propertyDescriptor);\n\t        };\n\t    }\n\t    exports.Template = Template;\n\t    function setter(key) {\n\t        return function (val) {\n\t            if (val === undefined) {\n\t                return;\n\t            }\n\t            ej2_base_2.setValue(key + 'Ref', val, this);\n\t            if (typeof val !== 'string') {\n\t                val.elementRef.nativeElement._viewContainerRef = this.viewContainerRef;\n\t                val.elementRef.nativeElement.propName = key;\n\t            }\n\t            else {\n\t                if (this.saveChanges) {\n\t                    this.saveChanges(key, val, undefined);\n\t                    this.dataBind();\n\t                }\n\t            }\n\t        };\n\t    }\n\t    function getter(key, defaultValue) {\n\t        return function () {\n\t            return ej2_base_2.getValue(key + 'Ref', this) || defaultValue;\n\t        };\n\t    }\n\t    ej2_base_1.setTemplateEngine({ compile: compile });\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ })\n/******/ ])\n});\n;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCAxNTY1YTBkYzBiNjU0NGFlMTNlYiIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBsZXgtYXJyYXktYmFzZS5qcyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJAc3luY2Z1c2lvbi9lajItYmFzZVwiIiwid2VicGFjazovLy8uL3NyYy91dGlsLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnQtYmFzZS5qcyIsIndlYnBhY2s6Ly8vLi9+L0Bhbmd1bGFyL2NvcmUvYnVuZGxlcy9jb3JlLnVtZC5qcyIsIndlYnBhY2s6Ly8vLi9+L3J4anMvT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9+L3J4anMvdXRpbC9yb290LmpzIiwid2VicGFjazovLy8uL34vcnhqcy91dGlsL3RvU3Vic2NyaWJlci5qcyIsIndlYnBhY2s6Ly8vLi9+L3J4anMvU3Vic2NyaWJlci5qcyIsIndlYnBhY2s6Ly8vLi9+L3J4anMvdXRpbC9pc0Z1bmN0aW9uLmpzIiwid2VicGFjazovLy8uL34vcnhqcy9TdWJzY3JpcHRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vfi9yeGpzL3V0aWwvaXNBcnJheS5qcyIsIndlYnBhY2s6Ly8vLi9+L3J4anMvdXRpbC9pc09iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9+L3J4anMvdXRpbC90cnlDYXRjaC5qcyIsIndlYnBhY2s6Ly8vLi9+L3J4anMvdXRpbC9lcnJvck9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9+L3J4anMvdXRpbC9VbnN1YnNjcmlwdGlvbkVycm9yLmpzIiwid2VicGFjazovLy8uL34vcnhqcy9PYnNlcnZlci5qcyIsIndlYnBhY2s6Ly8vLi9+L3J4anMvc3ltYm9sL3J4U3Vic2NyaWJlci5qcyIsIndlYnBhY2s6Ly8vLi9+L3J4anMvc3ltYm9sL29ic2VydmFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yeGpzL3V0aWwvcGlwZS5qcyIsIndlYnBhY2s6Ly8vLi9+L3J4anMvdXRpbC9ub29wLmpzIiwid2VicGFjazovLy8uL34vcnhqcy9vYnNlcnZhYmxlL21lcmdlLmpzIiwid2VicGFjazovLy8uL34vcnhqcy9vcGVyYXRvci9tZXJnZS5qcyIsIndlYnBhY2s6Ly8vLi9+L3J4anMvb3BlcmF0b3JzL21lcmdlLmpzIiwid2VicGFjazovLy8uL34vcnhqcy9vYnNlcnZhYmxlL0FycmF5T2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9+L3J4anMvb2JzZXJ2YWJsZS9TY2FsYXJPYnNlcnZhYmxlLmpzIiwid2VicGFjazovLy8uL34vcnhqcy9vYnNlcnZhYmxlL0VtcHR5T2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9+L3J4anMvdXRpbC9pc1NjaGVkdWxlci5qcyIsIndlYnBhY2s6Ly8vLi9+L3J4anMvb3BlcmF0b3JzL21lcmdlQWxsLmpzIiwid2VicGFjazovLy8uL34vcnhqcy9vcGVyYXRvcnMvbWVyZ2VNYXAuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yeGpzL3V0aWwvc3Vic2NyaWJlVG9SZXN1bHQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yeGpzL3V0aWwvaXNBcnJheUxpa2UuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yeGpzL3V0aWwvaXNQcm9taXNlLmpzIiwid2VicGFjazovLy8uL34vcnhqcy9zeW1ib2wvaXRlcmF0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vfi9yeGpzL0lubmVyU3Vic2NyaWJlci5qcyIsIndlYnBhY2s6Ly8vLi9+L3J4anMvT3V0ZXJTdWJzY3JpYmVyLmpzIiwid2VicGFjazovLy8uL34vcnhqcy91dGlsL2lkZW50aXR5LmpzIiwid2VicGFjazovLy8uL34vcnhqcy9vcGVyYXRvci9zaGFyZS5qcyIsIndlYnBhY2s6Ly8vLi9+L3J4anMvb3BlcmF0b3JzL3NoYXJlLmpzIiwid2VicGFjazovLy8uL34vcnhqcy9vcGVyYXRvcnMvbXVsdGljYXN0LmpzIiwid2VicGFjazovLy8uL34vcnhqcy9vYnNlcnZhYmxlL0Nvbm5lY3RhYmxlT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9+L3J4anMvU3ViamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9+L3J4anMvdXRpbC9PYmplY3RVbnN1YnNjcmliZWRFcnJvci5qcyIsIndlYnBhY2s6Ly8vLi9+L3J4anMvU3ViamVjdFN1YnNjcmlwdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9+L3J4anMvb3BlcmF0b3JzL3JlZkNvdW50LmpzIiwid2VicGFjazovLy8uL3NyYy9mb3JtLWJhc2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RlbXBsYXRlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxPO0FDVkE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsdUJBQWU7QUFDZjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7Ozs7OztpRUN0Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFrRCxjQUFjO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDOzs7Ozs7O2lFQ1hEO0FBQ0E7QUFDQSxtREFBa0QsY0FBYztBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNEMsZ0JBQWdCO0FBQzVEO0FBQ0E7QUFDQTtBQUNBLDJDQUEwQyxtQ0FBbUM7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYix3RUFBdUUsa0NBQWtDO0FBQ3pHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF1RCxnQkFBZ0I7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFD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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWUsRUFBRTtBQUNqQixnQkFBZSxFQUFFO0FBQ2pCLGdCQUFlLEVBQUU7QUFDakIsaUJBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFlLEVBQUU7QUFDakIsZ0JBQWUsRUFBRTtBQUNqQixnQkFBZSxFQUFFO0FBQ2pCLGlCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZSxFQUFFO0FBQ2pCLGdCQUFlLEVBQUU7QUFDakIsZ0JBQWUsRUFBRTtBQUNqQixpQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXVCLEVBQUU7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFlLEVBQUU7QUFDakIsaUJBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFlLEVBQUU7QUFDakIsaUJBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBdUIsRUFBRTtBQUN6Qix3QkFBdUIsRUFBRTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFlLEVBQUU7QUFDakIsZ0JBQWUsRUFBRTtBQUNqQixpQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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dUIsRUFBRTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBVyxFQUFFO0FBQ2IsYUFBWTtBQUNaO0FBQ0E7QUFDQSxvQkFBbUIsRUFBRTtBQUNyQix5QkFBd0IsRUFBRSxVQUFVLHFCQUFxQjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBVyxFQUFFO0FBQ2IsWUFBVyxFQUFFO0FBQ2IsYUFBWTtBQUNaO0FBQ0E7QUFDQSxvQkFBbUIsRUFBRTtBQUNyQix5QkFBd0IsRUFBRSxVQUFVLG9CQUFvQjtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBVyxFQUFFO0FBQ2IsWUFBVyxFQUFFO0FBQ2IsWUFBVyxFQUFFO0FBQ2IsWUFBVyxFQUFFO0FBQ2IsWUFBVyxHQUFHO0FBQ2QsWUFBVyxHQUFHO0FBQ2QsWUFBVyxHQUFHO0FBQ2QsWUFBVyxHQUFHO0FBQ2QsWUFBVyxHQUFHO0FBQ2QsWUFBVyxHQUFHO0FBQ2QsWUFBVyxHQUFHO0FBQ2QsWUFBVyxHQUFHO0FBQ2QsWUFBVyxHQUFHO0FBQ2QsWUFBVyxHQUFHO0FBQ2QsWUFBVyxHQUFHO0FBQ2QsWUFBVyxHQUFHO0FBQ2QsWUFBVyxHQUFHO0FBQ2QsWUFBVyxHQUFHO0FBQ2QsWUFBVyxHQUFHO0FBQ2QsWUFBVyxHQUFHO0FBQ2QsYUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVcsRUFBRTtBQUNiLGFBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBVyxFQUFFO0FBQ2IsWUFBVyxFQUFFO0FBQ2IsWUFBVyxFQUFFO0FBQ2IsWUFBVyxFQUFFO0FBQ2IsWUFBVyxHQUFHO0FBQ2QsWUFBVyxHQUFHO0FBQ2QsYUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW1CLEVBQUU7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVcsRUFBRTtBQUNiLFlBQVcsRUFBRTtBQUNiLFlBQVcsRUFBRTtBQUNiLFlBQVcsRUFBRTtBQUNiLFlBQVcsRUFBRTtBQUNiLFlBQVcsRUFBRTtBQUNiLFlBQVcsR0FBRztBQUNkLFlBQVcsR0FBRztBQUNkLFlBQVcsR0FBRztBQUNkLFlBQVcsR0FBRztBQUNkLFlBQVcsR0FBRztBQUNkLFlBQVcsR0FBRztBQUNkLGFBQVk7QUFDWjtBQUNBO0FBQ0EsaUNBQWdDLGlCQUFpQjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFtQixFQUFFO0FBQ3JCLG9CQUFtQixFQUFFO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW1CLEVBQUU7QUFDckIseUJBQXdCLEVBQUUsVUFBVSxxQkFBcUI7QUFDekQ7QUFDQTtBQUNBLHdCQUF1QixFQUFFO0FBQ3pCLHdCQUF1QixFQUFFO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYTtBQUNiO0FBQ0E7QUFDQSxvQkFBbUIsRUFBRTtBQUNyQix5QkFBd0IsRUFBRSxVQUFVLG9CQUFvQjtBQUN4RDtBQUNBO0FBQ0E7QUFDQSxnQ0FBK0IsRUFBRTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFtQixFQUFFO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLE1BQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVcsRUFBRTtBQUNiLFlBQVcsRUFBRTtBQUNiLFlBQVcsRUFBRTtBQUNiLGFBQVk7QUFDWjtBQUNBO0FBQ0Esb0JBQW1CLEVBQUU7QUFDckIsb0JBQW1CLEVBQUU7QUFDckIsb0JBQW1CLEVBQUU7QUFDckIsb0JBQW1CLEVBQUU7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBdUIsRUFBRTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTRCLEVBQUUsVUFBVSx3QkFBd0I7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFXLEVBQUU7QUFDYixZQUFXLEVBQUU7QUFDYixZQUFXLEVBQUU7QUFDYixZQUFXLEVBQUU7QUFDYixhQUFZO0FBQ1o7QUFDQTtBQUNBLHlCQUF3QixFQUFFLFVBQVUsd0JBQXdCO0FBQzVELHdCQUF1QixFQUFFO0FBQ3pCLHdCQUF1QixFQUFFO0FBQ3pCLHdCQUF1QixFQUFFO0FBQ3pCLHdCQUF1QixFQUFFO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXVCLEVBQUUsMEdBQTBHLFlBQVksRUFBRTtBQUNqSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVcsRUFBRTtBQUNiLFlBQVcsRUFBRTtBQUNiLFlBQVcsRUFBRTtBQUNiLGFBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVcsRUFBRTtBQUNiLFlBQVcsRUFBRTtBQUNiLFlBQVcsRUFBRTtBQUNiLFlBQVcsRUFBRTtBQUNiLFlBQVcsRUFBRTtBQUNiLFlBQVcsRUFBRTtBQUNiLFlBQVcsRUFBRTtBQUNiLFlBQVcsRUFBRTtBQUNiLFlBQVcsRUFBRTtBQUNiLFlBQVcsRUFBRTtBQUNiLFlBQVcsRUFBRTtBQUNiLFlBQVcsRUFBRTtBQUNiLGFBQVk7QUFDWjtBQUNBO0FBQ0Esb0JBQW1CLEVBQUU7QUFDckIsb0JBQW1CLEVBQUU7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVcsRUFBRTtBQUNiLFlBQVcsRUFBRTtBQUNiLFlBQVcsRUFBRTtBQUNiLGFBQVk7QUFDWjtBQUNBO0FBQ0Esb0JBQW1CLEVBQUU7QUFDckIseUJBQXdCLEVBQUUsVUFBVSxtQkFBbUI7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBVyxFQUFFO0FBQ2IsWUFBVyxFQUFFO0FBQ2IsWUFBVyxFQUFFO0FBQ2IsWUFBVyxFQUFFO0FBQ2IsYUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBbUIsRUFBRTtBQUNyQixvQkFBbUIsRUFBRTtBQUNyQixvQkFBbUIsRUFBRTtBQUNyQixvQkFBbUIsRUFBRTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTJCLEVBQUU7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBVyxFQUFFO0FBQ2IsWUFBVyxFQUFFO0FBQ2IsWUFBVyxFQUFFO0FBQ2IsWUFBVyxFQUFFO0FBQ2IsWUFBVyxFQUFFO0FBQ2IsWUFBVyxFQUFFO0FBQ2IsYUFBWTtBQUNaO0FBQ0E7QUFDQSxvQkFBbUIsRUFBRTtBQUNyQixvQkFBbUIsRUFBRTtBQUNyQjtBQUNBLG9CQUFtQixFQUFF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QTtBQUNBLFlBQVcsRUFBRTtBQUNiLFlBQVcsR0FBRztBQUNkLGFBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFXLEVBQUU7QUFDYixhQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBVyxFQUFFO0FBQ2IsYUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVcsRUFBRTtBQUNiLGFBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFXLEVBQUU7QUFDYixZQUFXLEVBQUU7QUFDYixhQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBVyxFQUFFO0FBQ2IsYUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVcsRUFBRTtBQUNiLFlBQVcsRUFBRTtBQUNiLGFBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLCtDQUE4QyxjQUFjOztBQUU1RCxFQUFDO0FBQ0Q7Ozs7Ozs7O0FDaHJkQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWUsU0FBUztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWUsU0FBUztBQUN4QixpQkFBZ0IsV0FBVztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE2RCxhQUFhO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNEQsZUFBZTtBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFtRCw2Q0FBNkM7QUFDaEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRCx1Qzs7Ozs7O0FDdlFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Qzs7Ozs7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWUsaUJBQWlCO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBa0I7QUFDbEI7QUFDQTtBQUNB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QUNBLHFDQUFvQyx1Q0FBdUM7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFvQyx1Q0FBdUM7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQSxxQzs7Ozs7O0FDNUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNEMsZ0NBQWdDO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVMsa0JBQWtCLCtCQUErQixFQUFFO0FBQzVEO0FBQ0E7QUFDQSxpREFBZ0QsV0FBVyxFQUFFO0FBQzdELFVBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQTtBQUNB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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTJCLFNBQVM7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF1QixTQUFTO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF1QixTQUFTO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBLG9DOzs7Ozs7QUN2S0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW1CLHNCQUFzQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1QsVUFBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBLG9EOzs7Ozs7QUMxQkE7QUFDQTtBQUNBO0FBQ0Esb0JBQW1CLHNCQUFzQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBLGdEOzs7Ozs7QUN2Q0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW1CLHNCQUFzQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQztBQUNELHFDOzs7Ozs7aUVDcEZBO0FBQ0E7QUFDQSxtREFBa0QsY0FBYztBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7QUFDTDtBQUNBLEVBQUM7Ozs7Ozs7aUVDcENEO0FBQ0E7QUFDQSxtREFBa0QsY0FBYztBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBa0MsbUJBQW1CO0FBQ3JELEVBQUMiLCJmaWxlIjoiZWoyLW5nLWJhc2UudW1kLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwiQHN5bmNmdXNpb24vZWoyLWJhc2VcIikpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW1wiQHN5bmNmdXNpb24vZWoyLWJhc2VcIl0sIGZhY3RvcnkpO1xuXHRlbHNlIHtcblx0XHR2YXIgYSA9IHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyA/IGZhY3RvcnkocmVxdWlyZShcIkBzeW5jZnVzaW9uL2VqMi1iYXNlXCIpKSA6IGZhY3Rvcnkocm9vdFtcIkBzeW5jZnVzaW9uL2VqMi1iYXNlXCJdKTtcblx0XHRmb3IodmFyIGkgaW4gYSkgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyA/IGV4cG9ydHMgOiByb290KVtpXSA9IGFbaV07XG5cdH1cbn0pKHRoaXMsIGZ1bmN0aW9uKF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMl9fKSB7XG5yZXR1cm4gXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRleHBvcnRzOiB7fSxcbiBcdFx0XHRpZDogbW9kdWxlSWQsXG4gXHRcdFx0bG9hZGVkOiBmYWxzZVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIDE1NjVhMGRjMGI2NTQ0YWUxM2ViIiwiZGVmaW5lKFtcInJlcXVpcmVcIiwgXCJleHBvcnRzXCIsIFwiLi9jb21wbGV4LWFycmF5LWJhc2VcIiwgXCIuL2NvbXBvbmVudC1iYXNlXCIsIFwiLi9mb3JtLWJhc2VcIiwgXCIuL3V0aWxcIiwgXCIuL3RlbXBsYXRlXCJdLCBmdW5jdGlvbiAocmVxdWlyZSwgZXhwb3J0cywgY29tcGxleF9hcnJheV9iYXNlXzEsIGNvbXBvbmVudF9iYXNlXzEsIGZvcm1fYmFzZV8xLCB1dGlsXzEsIHRlbXBsYXRlXzEpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBmdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuICAgIF9fZXhwb3J0KGNvbXBsZXhfYXJyYXlfYmFzZV8xKTtcbiAgICBfX2V4cG9ydChjb21wb25lbnRfYmFzZV8xKTtcbiAgICBfX2V4cG9ydChmb3JtX2Jhc2VfMSk7XG4gICAgX19leHBvcnQodXRpbF8xKTtcbiAgICBfX2V4cG9ydCh0ZW1wbGF0ZV8xKTtcbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiZGVmaW5lKFtcInJlcXVpcmVcIiwgXCJleHBvcnRzXCIsIFwiQHN5bmNmdXNpb24vZWoyLWJhc2VcIiwgXCIuL3V0aWxcIl0sIGZ1bmN0aW9uIChyZXF1aXJlLCBleHBvcnRzLCBlajJfYmFzZV8xLCB1dGlsXzEpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4gICAgdmFyIENvbXBsZXhCYXNlID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gQ29tcGxleEJhc2UoKSB7XG4gICAgICAgICAgICB0aGlzLmhhc0NoYW5nZXMgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMucHJvcENvbGxlY3Rpb24gPSB7fTtcbiAgICAgICAgICAgIHRoaXMudGFncyA9IFtdO1xuICAgICAgICAgICAgdGhpcy50YWdPYmplY3RzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgQ29tcGxleEJhc2UucHJvdG90eXBlLm5nT25Jbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5yZWdpc3RlcmVkVGVtcGxhdGUgPSB7fTtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLnRhZ3M7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRhZyA9IF9hW19pXTtcbiAgICAgICAgICAgICAgICB2YXIgb2JqSW5zdGFuY2UgPSBlajJfYmFzZV8xLmdldFZhbHVlKCdjaGlsZCcgKyB0YWcuc3Vic3RyaW5nKDAsIDEpLnRvVXBwZXJDYXNlKCkgKyB0YWcuc3Vic3RyaW5nKDEpLCB0aGlzKTtcbiAgICAgICAgICAgICAgICBpZiAob2JqSW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YWdPYmplY3RzLnB1c2goeyBpbnN0YW5jZTogb2JqSW5zdGFuY2UsIG5hbWU6IHRhZyB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdGVtcGxhdGVQcm9wZXJ0aWVzID0gT2JqZWN0LmtleXModGhpcyk7XG4gICAgICAgICAgICB0ZW1wbGF0ZVByb3BlcnRpZXMgPSB0ZW1wbGF0ZVByb3BlcnRpZXMuZmlsdGVyKGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gL1JlZiQvaS50ZXN0KHZhbCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGZvciAodmFyIF9iID0gMCwgdGVtcGxhdGVQcm9wZXJ0aWVzXzEgPSB0ZW1wbGF0ZVByb3BlcnRpZXM7IF9iIDwgdGVtcGxhdGVQcm9wZXJ0aWVzXzEubGVuZ3RoOyBfYisrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRlbXBOYW1lID0gdGVtcGxhdGVQcm9wZXJ0aWVzXzFbX2JdO1xuICAgICAgICAgICAgICAgIHZhciBwcm9wTmFtZSA9IHRlbXBOYW1lLnJlcGxhY2UoJ1JlZicsICcnKTtcbiAgICAgICAgICAgICAgICBlajJfYmFzZV8xLnNldFZhbHVlKHByb3BOYW1lLnJlcGxhY2UoJ18nLCAnLicpLCBlajJfYmFzZV8xLmdldFZhbHVlKHByb3BOYW1lLCB0aGlzKSwgdGhpcy5wcm9wQ29sbGVjdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIENvbXBsZXhCYXNlLnByb3RvdHlwZS5uZ09uQ2hhbmdlcyA9IGZ1bmN0aW9uIChjaGFuZ2VzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gT2JqZWN0LmtleXMoY2hhbmdlcyk7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHByb3BOYW1lID0gX2FbX2ldO1xuICAgICAgICAgICAgICAgIHZhciBjaGFuZ2VkVmFsID0gY2hhbmdlc1twcm9wTmFtZV07XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wQ29sbGVjdGlvbltwcm9wTmFtZV0gPSBjaGFuZ2VkVmFsLmN1cnJlbnRWYWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuaGFzQ2hhbmdlcyA9IHRydWU7XG4gICAgICAgIH07XG4gICAgICAgIENvbXBsZXhCYXNlLnByb3RvdHlwZS5jbGVhclRlbXBsYXRlID0gZnVuY3Rpb24gKHRlbXBsYXRlTmFtZXMpIHtcbiAgICAgICAgICAgIHV0aWxfMS5jbGVhclRlbXBsYXRlKHRoaXMsIHRlbXBsYXRlTmFtZXMpO1xuICAgICAgICB9O1xuICAgICAgICA7XG4gICAgICAgIENvbXBsZXhCYXNlLnByb3RvdHlwZS5nZXRQcm9wZXJ0aWVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMudGFnT2JqZWN0czsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgdGFnT2JqZWN0ID0gX2FbX2ldO1xuICAgICAgICAgICAgICAgIHRoaXMucHJvcENvbGxlY3Rpb25bdGFnT2JqZWN0Lm5hbWVdID0gdGFnT2JqZWN0Lmluc3RhbmNlLmdldFByb3BlcnRpZXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByb3BDb2xsZWN0aW9uO1xuICAgICAgICB9O1xuICAgICAgICBDb21wbGV4QmFzZS5wcm90b3R5cGUuaXNDaGFuZ2VkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuaGFzQ2hhbmdlcztcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLnRhZ09iamVjdHM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBfYVtfaV07XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0IHx8IGl0ZW0uaW5zdGFuY2UuaGFzQ2hhbmdlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH07XG4gICAgICAgIENvbXBsZXhCYXNlLnByb3RvdHlwZS5uZ0FmdGVyQ29udGVudENoZWNrZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLmhhc0NoYW5nZXMgPSB0aGlzLmlzQ2hhbmdlZCgpO1xuICAgICAgICAgICAgdmFyIHRlbXBsYXRlUHJvcGVydGllcyA9IE9iamVjdC5rZXlzKHRoaXMpO1xuICAgICAgICAgICAgdGVtcGxhdGVQcm9wZXJ0aWVzID0gdGVtcGxhdGVQcm9wZXJ0aWVzLmZpbHRlcihmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIC9SZWYkL2kudGVzdCh2YWwpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIENvbXBsZXhCYXNlLnByb3RvdHlwZS5uZ0FmdGVyVmlld0NoZWNrZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLmhhc0NoYW5nZXMgPSBmYWxzZTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIENvbXBsZXhCYXNlO1xuICAgIH0oKSk7XG4gICAgZXhwb3J0cy5Db21wbGV4QmFzZSA9IENvbXBsZXhCYXNlO1xuICAgIHZhciBBcnJheUJhc2UgPSAoZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiBBcnJheUJhc2UocHJvcGVydHlOYW1lKSB7XG4gICAgICAgICAgICB0aGlzLmxpc3QgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuaGFzQ2hhbmdlcyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5wcm9wZXJ0eU5hbWUgPSBwcm9wZXJ0eU5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgQXJyYXlCYXNlLnByb3RvdHlwZS5uZ09uSW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMuaXNJbml0Q2hhbmdlcyA9IHRydWU7XG4gICAgICAgIH07XG4gICAgICAgIEFycmF5QmFzZS5wcm90b3R5cGUubmdBZnRlckNvbnRlbnRJbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgICAgICB0aGlzLmxpc3QgPSB0aGlzLmNoaWxkcmVuLm1hcChmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgICAgICAgICBjaGlsZC5pbmRleCA9IGluZGV4Kys7XG4gICAgICAgICAgICAgICAgY2hpbGQucHJvcGVydHkgPSBfdGhpcy5wcm9wZXJ0eU5hbWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmhhc0NoYW5nZXMgPSB0cnVlO1xuICAgICAgICB9O1xuICAgICAgICBBcnJheUJhc2UucHJvdG90eXBlLmdldFByb3BlcnRpZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgb25seVByb3AgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLmxpc3Q7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBfYVtfaV07XG4gICAgICAgICAgICAgICAgb25seVByb3AucHVzaChpdGVtLmdldFByb3BlcnRpZXMoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb25seVByb3A7XG4gICAgICAgIH07XG4gICAgICAgIEFycmF5QmFzZS5wcm90b3R5cGUuaXNDaGFuZ2VkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMubGlzdDsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IF9hW19pXTtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQgfHwgaXRlbS5oYXNDaGFuZ2VzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuICEhdGhpcy5saXN0Lmxlbmd0aCAmJiByZXN1bHQ7XG4gICAgICAgIH07XG4gICAgICAgIEFycmF5QmFzZS5wcm90b3R5cGUuY2xlYXJUZW1wbGF0ZSA9IGZ1bmN0aW9uICh0ZW1wbGF0ZU5hbWVzKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMubGlzdDsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IF9hW19pXTtcbiAgICAgICAgICAgICAgICBpdGVtLmNsZWFyVGVtcGxhdGUodGVtcGxhdGVOYW1lcyAmJiB0ZW1wbGF0ZU5hbWVzLm1hcChmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKF90aGlzLnByb3BlcnR5TmFtZSkudGVzdCh2YWwpID8gdmFsLnJlcGxhY2UoX3RoaXMucHJvcGVydHlOYW1lICsgJy4nLCAnJykgOiB2YWw7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBBcnJheUJhc2UucHJvdG90eXBlLm5nQWZ0ZXJDb250ZW50Q2hlY2tlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMuaGFzQ2hhbmdlcyA9IHRoaXMuaXNDaGFuZ2VkKCk7XG4gICAgICAgIH07XG4gICAgICAgIEFycmF5QmFzZS5wcm90b3R5cGUubmdBZnRlclZpZXdJbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5pc0luaXRDaGFuZ2VzID0gZmFsc2U7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBBcnJheUJhc2U7XG4gICAgfSgpKTtcbiAgICBleHBvcnRzLkFycmF5QmFzZSA9IEFycmF5QmFzZTtcbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvY29tcGxleC1hcnJheS1iYXNlLmpzXG4vLyBtb2R1bGUgaWQgPSAxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8yX187XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJAc3luY2Z1c2lvbi9lajItYmFzZVwiXG4vLyBtb2R1bGUgaWQgPSAyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImRlZmluZShbXCJyZXF1aXJlXCIsIFwiZXhwb3J0c1wiXSwgZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4gICAgZnVuY3Rpb24gYXBwbHlNaXhpbnMoZGVyaXZlZENsYXNzLCBiYXNlQ2xhc3MpIHtcbiAgICAgICAgYmFzZUNsYXNzLmZvckVhY2goZnVuY3Rpb24gKGJhc2VDbGFzcykge1xuICAgICAgICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoYmFzZUNsYXNzLnByb3RvdHlwZSkuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgICAgIGRlcml2ZWRDbGFzcy5wcm90b3R5cGVbbmFtZV0gPSBiYXNlQ2xhc3MucHJvdG90eXBlW25hbWVdO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBleHBvcnRzLmFwcGx5TWl4aW5zID0gYXBwbHlNaXhpbnM7XG4gICAgZnVuY3Rpb24gY2xlYXJUZW1wbGF0ZShfdGhpcywgdGVtcGxhdGVOYW1lcykge1xuICAgICAgICB2YXIgcmVnVGVtcGxhdGVzID0gT2JqZWN0LmtleXMoX3RoaXMucmVnaXN0ZXJlZFRlbXBsYXRlKTtcbiAgICAgICAgaWYgKHJlZ1RlbXBsYXRlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciByZWdQcm9wZXJ0aWVzID0gdGVtcGxhdGVOYW1lcyAmJiB0ZW1wbGF0ZU5hbWVzLmZpbHRlcihmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICgvXFwuL2cudGVzdCh2YWwpID8gZmFsc2UgOiB0cnVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IChyZWdQcm9wZXJ0aWVzICYmIHJlZ1Byb3BlcnRpZXMgfHwgcmVnVGVtcGxhdGVzKTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVnaXN0ZXJlZFRlbXBsYXRlID0gX2FbX2ldO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9iID0gMCwgX2MgPSBfdGhpcy5yZWdpc3RlcmVkVGVtcGxhdGVbcmVnaXN0ZXJlZFRlbXBsYXRlXTsgX2IgPCBfYy5sZW5ndGg7IF9iKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJ0ID0gX2NbX2JdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXJ0LmRlc3Ryb3llZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcnQuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlbGV0ZSBfdGhpcy5yZWdpc3RlcmVkVGVtcGxhdGVbcmVnaXN0ZXJlZFRlbXBsYXRlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgX2xvb3BfMSA9IGZ1bmN0aW9uICh0YWdPYmplY3QpIHtcbiAgICAgICAgICAgIGlmICh0YWdPYmplY3QuaW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICB0YWdPYmplY3QuaW5zdGFuY2UuY2xlYXJUZW1wbGF0ZSgodGVtcGxhdGVOYW1lcyAmJiB0ZW1wbGF0ZU5hbWVzLmZpbHRlcihmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAobmV3IFJlZ0V4cCh0YWdPYmplY3QubmFtZSkudGVzdCh2YWwpID8gdHJ1ZSA6IGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9KSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBmb3IgKHZhciBfZCA9IDAsIF9lID0gX3RoaXMudGFnT2JqZWN0czsgX2QgPCBfZS5sZW5ndGg7IF9kKyspIHtcbiAgICAgICAgICAgIHZhciB0YWdPYmplY3QgPSBfZVtfZF07XG4gICAgICAgICAgICBfbG9vcF8xKHRhZ09iamVjdCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZXhwb3J0cy5jbGVhclRlbXBsYXRlID0gY2xlYXJUZW1wbGF0ZTtcbiAgICBmdW5jdGlvbiBzZXRWYWx1ZShuYW1lU3BhY2UsIHZhbHVlLCBvYmplY3QpIHtcbiAgICAgICAgdmFyIGtleXMgPSBuYW1lU3BhY2Uuc3BsaXQoJy4nKTtcbiAgICAgICAgdmFyIGZyb21PYmogPSBvYmplY3QgfHwge307XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgICAgICAgICBpZiAoaSArIDEgPT09IGtleXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgZnJvbU9ialtrZXldID0gdmFsdWUgPT09IHVuZGVmaW5lZCA/IHt9IDogdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChmcm9tT2JqW2tleV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGZyb21PYmpba2V5XSA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnJvbU9iaiA9IGZyb21PYmpba2V5XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnJvbU9iajtcbiAgICB9XG4gICAgZXhwb3J0cy5zZXRWYWx1ZSA9IHNldFZhbHVlO1xufSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy91dGlsLmpzXG4vLyBtb2R1bGUgaWQgPSAzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImRlZmluZShbXCJyZXF1aXJlXCIsIFwiZXhwb3J0c1wiLCBcIkBzeW5jZnVzaW9uL2VqMi1iYXNlXCIsIFwiQGFuZ3VsYXIvY29yZVwiLCBcIi4vdXRpbFwiXSwgZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMsIGVqMl9iYXNlXzEsIGNvcmVfMSwgdXRpbF8xKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuICAgIHZhciBDb21wb25lbnRCYXNlID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gQ29tcG9uZW50QmFzZSgpIHtcbiAgICAgICAgfVxuICAgICAgICBDb21wb25lbnRCYXNlLnByb3RvdHlwZS5uZ09uSW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJlZFRlbXBsYXRlID0ge307XG4gICAgICAgICAgICB0aGlzLm5nQm91bmRlZEV2ZW50cyA9IHt9O1xuICAgICAgICAgICAgdGhpcy50YWdzID0gdGhpcy50YWdzIHx8IFtdO1xuICAgICAgICAgICAgdGhpcy5jb21wbGV4VGVtcGxhdGUgPSB0aGlzLmNvbXBsZXhUZW1wbGF0ZSB8fCBbXTtcbiAgICAgICAgICAgIHRoaXMudGFnT2JqZWN0cyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMudGFnczsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgdGFnID0gX2FbX2ldO1xuICAgICAgICAgICAgICAgIHZhciB0YWdPYmplY3QgPSB7XG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlOiBlajJfYmFzZV8xLmdldFZhbHVlKCdjaGlsZCcgKyB0YWcuc3Vic3RyaW5nKDAsIDEpLnRvVXBwZXJDYXNlKCkgKyB0YWcuc3Vic3RyaW5nKDEpLCB0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogdGFnXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGlzLnRhZ09iamVjdHMucHVzaCh0YWdPYmplY3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGNvbXBsZXhUZW1wbGF0ZXMgPSBPYmplY3Qua2V5cyh0aGlzKTtcbiAgICAgICAgICAgIGNvbXBsZXhUZW1wbGF0ZXMgPSBjb21wbGV4VGVtcGxhdGVzLmZpbHRlcihmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIC9SZWYkL2kudGVzdCh2YWwpICYmIC9cXF8vaS50ZXN0KHZhbCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGZvciAodmFyIF9iID0gMCwgY29tcGxleFRlbXBsYXRlc18xID0gY29tcGxleFRlbXBsYXRlczsgX2IgPCBjb21wbGV4VGVtcGxhdGVzXzEubGVuZ3RoOyBfYisrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRlbXBOYW1lID0gY29tcGxleFRlbXBsYXRlc18xW19iXTtcbiAgICAgICAgICAgICAgICB2YXIgcHJvcE5hbWUgPSB0ZW1wTmFtZS5yZXBsYWNlKCdSZWYnLCAnJyk7XG4gICAgICAgICAgICAgICAgdmFyIHZhbCA9IHt9O1xuICAgICAgICAgICAgICAgIGVqMl9iYXNlXzEuc2V0VmFsdWUocHJvcE5hbWUucmVwbGFjZSgnXycsICcuJyksIGVqMl9iYXNlXzEuZ2V0VmFsdWUocHJvcE5hbWUsIHRoaXMpLCB2YWwpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0UHJvcGVydGllcyh2YWwsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBDb21wb25lbnRCYXNlLnByb3RvdHlwZS5uZ0FmdGVyVmlld0luaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuYXBwZW5kVG8oX3RoaXMuZWxlbWVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgQ29tcG9uZW50QmFzZS5wcm90b3R5cGUubmdPbkRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuY2xlYXJUZW1wbGF0ZShudWxsKTtcbiAgICAgICAgfTtcbiAgICAgICAgQ29tcG9uZW50QmFzZS5wcm90b3R5cGUuY2xlYXJUZW1wbGF0ZSA9IGZ1bmN0aW9uICh0ZW1wbGF0ZU5hbWVzKSB7XG4gICAgICAgICAgICB1dGlsXzEuY2xlYXJUZW1wbGF0ZSh0aGlzLCB0ZW1wbGF0ZU5hbWVzKTtcbiAgICAgICAgfTtcbiAgICAgICAgO1xuICAgICAgICBDb21wb25lbnRCYXNlLnByb3RvdHlwZS5uZ0FmdGVyQ29udGVudENoZWNrZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy50YWdPYmplY3RzOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIHZhciB0YWdPYmplY3QgPSBfYVtfaV07XG4gICAgICAgICAgICAgICAgaWYgKCFlajJfYmFzZV8xLmlzVW5kZWZpbmVkKHRhZ09iamVjdC5pbnN0YW5jZSkgJiYgdGFnT2JqZWN0Lmluc3RhbmNlLmhhc0NoYW5nZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZ09iamVjdC5pbnN0YW5jZS5pc0luaXRDaGFuZ2VzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvcE9iaiA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcE9ialt0YWdPYmplY3QubmFtZV0gPSB0YWdPYmplY3QuaW5zdGFuY2UuZ2V0UHJvcGVydGllcygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRQcm9wZXJ0aWVzKHByb3BPYmosIHRhZ09iamVjdC5pbnN0YW5jZS5pc0luaXRDaGFuZ2VzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9iID0gMCwgX2MgPSB0YWdPYmplY3QuaW5zdGFuY2UubGlzdDsgX2IgPCBfYy5sZW5ndGg7IF9iKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGlzdCA9IF9jW19iXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGlzdC5oYXNDaGFuZ2VzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJJbmRleCA9IHRhZ09iamVjdC5pbnN0YW5jZS5saXN0LmluZGV4T2YobGlzdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVqMl9iYXNlXzEuZ2V0VmFsdWUodGFnT2JqZWN0Lm5hbWUsIHRoaXMpW2N1ckluZGV4XS5zZXRQcm9wZXJ0aWVzKGxpc3QuZ2V0UHJvcGVydGllcygpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIENvbXBvbmVudEJhc2UucHJvdG90eXBlLnJlZ2lzdGVyRXZlbnRzID0gZnVuY3Rpb24gKGV2ZW50TGlzdCkge1xuICAgICAgICAgICAgdmFyIG5nRXZlbnRzRW1pdHRlciA9IHt9O1xuICAgICAgICAgICAgaWYgKGV2ZW50TGlzdCAmJiBldmVudExpc3QubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBldmVudExpc3RfMSA9IGV2ZW50TGlzdDsgX2kgPCBldmVudExpc3RfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGV2ZW50XzEgPSBldmVudExpc3RfMVtfaV07XG4gICAgICAgICAgICAgICAgICAgIG5nRXZlbnRzRW1pdHRlcltldmVudF8xXSA9IG5ldyBjb3JlXzEuRXZlbnRFbWl0dGVyKGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRQcm9wZXJ0aWVzKG5nRXZlbnRzRW1pdHRlciwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIENvbXBvbmVudEJhc2UucHJvdG90eXBlLmFkZFR3b1dheSA9IGZ1bmN0aW9uIChwcm9wTGlzdCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKHByb3ApIHtcbiAgICAgICAgICAgICAgICBlajJfYmFzZV8xLmdldFZhbHVlKHByb3AsIHRoaXNfMSk7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXNfMSwgcHJvcCwge1xuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlajJfYmFzZV8xLmdldFZhbHVlKHByb3AsIF90aGlzLnByb3BlcnRpZXMpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChuZXdWYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvbGRWYWwgPSBlajJfYmFzZV8xLmdldFZhbHVlKHByb3AsIF90aGlzLnByb3BlcnRpZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9sZFZhbCA9PT0gbmV3VmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2F2ZUNoYW5nZXMocHJvcCwgbmV3VmFsLCBvbGRWYWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWoyX2Jhc2VfMS5zZXRWYWx1ZShwcm9wLCAoZWoyX2Jhc2VfMS5pc051bGxPclVuZGVmaW5lZChuZXdWYWwpID8gbnVsbCA6IG5ld1ZhbCksIF90aGlzLnByb3BlcnRpZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWoyX2Jhc2VfMS5nZXRWYWx1ZShwcm9wICsgJ0NoYW5nZScsIF90aGlzKS5lbWl0KG5ld1ZhbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBlajJfYmFzZV8xLnNldFZhbHVlKHByb3AgKyAnQ2hhbmdlJywgbmV3IGNvcmVfMS5FdmVudEVtaXR0ZXIoKSwgdGhpc18xKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgdGhpc18xID0gdGhpcztcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgcHJvcExpc3RfMSA9IHByb3BMaXN0OyBfaSA8IHByb3BMaXN0XzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHByb3AgPSBwcm9wTGlzdF8xW19pXTtcbiAgICAgICAgICAgICAgICBfbG9vcF8xKHByb3ApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBDb21wb25lbnRCYXNlLnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgaGFuZGxlcikge1xuICAgICAgICAgICAgdmFyIGV2ZW50T2JqID0gZWoyX2Jhc2VfMS5nZXRWYWx1ZShldmVudE5hbWUsIHRoaXMpO1xuICAgICAgICAgICAgaWYgKCFlajJfYmFzZV8xLmlzVW5kZWZpbmVkKGV2ZW50T2JqKSkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5uZ0JvdW5kZWRFdmVudHNbZXZlbnROYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm5nQm91bmRlZEV2ZW50c1tldmVudE5hbWVdID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLm5nQm91bmRlZEV2ZW50c1tldmVudE5hbWVdLnNldChoYW5kbGVyLCBldmVudE9iai5zdWJzY3JpYmUoaGFuZGxlcikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBDb21wb25lbnRCYXNlLnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgaGFuZGxlcikge1xuICAgICAgICAgICAgdmFyIGV2ZW50T2JqID0gZWoyX2Jhc2VfMS5nZXRWYWx1ZShldmVudE5hbWUsIHRoaXMpO1xuICAgICAgICAgICAgaWYgKCFlajJfYmFzZV8xLmlzVW5kZWZpbmVkKGV2ZW50T2JqKSkge1xuICAgICAgICAgICAgICAgIHRoaXMubmdCb3VuZGVkRXZlbnRzW2V2ZW50TmFtZV0uZ2V0KGhhbmRsZXIpLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIENvbXBvbmVudEJhc2UucHJvdG90eXBlLnRyaWdnZXIgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBldmVudEFyZ3MpIHtcbiAgICAgICAgICAgIHZhciBldmVudE9iaiA9IGVqMl9iYXNlXzEuZ2V0VmFsdWUoZXZlbnROYW1lLCB0aGlzKTtcbiAgICAgICAgICAgIGlmICghZWoyX2Jhc2VfMS5pc1VuZGVmaW5lZChldmVudE9iaikpIHtcbiAgICAgICAgICAgICAgICBldmVudE9iai5uZXh0KGV2ZW50QXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbG9jYWxFdmVudE9iaiA9IGVqMl9iYXNlXzEuZ2V0VmFsdWUoJ2xvY2FsJyArIGV2ZW50TmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGV2ZW50TmFtZS5zbGljZSgxKSwgdGhpcyk7XG4gICAgICAgICAgICBpZiAoIWVqMl9iYXNlXzEuaXNVbmRlZmluZWQobG9jYWxFdmVudE9iaikpIHtcbiAgICAgICAgICAgICAgICBsb2NhbEV2ZW50T2JqLmNhbGwodGhpcywgZXZlbnRBcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIENvbXBvbmVudEJhc2U7XG4gICAgfSgpKTtcbiAgICBleHBvcnRzLkNvbXBvbmVudEJhc2UgPSBDb21wb25lbnRCYXNlO1xufSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9jb21wb25lbnQtYmFzZS5qc1xuLy8gbW9kdWxlIGlkID0gNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKipcbiAqIEBsaWNlbnNlIEFuZ3VsYXIgdjQuNC42XG4gKiAoYykgMjAxMC0yMDE3IEdvb2dsZSwgSW5jLiBodHRwczovL2FuZ3VsYXIuaW8vXG4gKiBMaWNlbnNlOiBNSVRcbiAqL1xuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcblx0dHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gZmFjdG9yeShleHBvcnRzLCByZXF1aXJlKCdyeGpzL09ic2VydmFibGUnKSwgcmVxdWlyZSgncnhqcy9vYnNlcnZhYmxlL21lcmdlJyksIHJlcXVpcmUoJ3J4anMvb3BlcmF0b3Ivc2hhcmUnKSwgcmVxdWlyZSgncnhqcy9TdWJqZWN0JykpIDpcblx0dHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKFsnZXhwb3J0cycsICdyeGpzL09ic2VydmFibGUnLCAncnhqcy9vYnNlcnZhYmxlL21lcmdlJywgJ3J4anMvb3BlcmF0b3Ivc2hhcmUnLCAncnhqcy9TdWJqZWN0J10sIGZhY3RvcnkpIDpcblx0KGZhY3RvcnkoKGdsb2JhbC5uZyA9IGdsb2JhbC5uZyB8fCB7fSwgZ2xvYmFsLm5nLmNvcmUgPSBnbG9iYWwubmcuY29yZSB8fCB7fSksZ2xvYmFsLlJ4LGdsb2JhbC5SeC5PYnNlcnZhYmxlLGdsb2JhbC5SeC5PYnNlcnZhYmxlLnByb3RvdHlwZSxnbG9iYWwuUngpKTtcbn0odGhpcywgKGZ1bmN0aW9uIChleHBvcnRzLHJ4anNfT2JzZXJ2YWJsZSxyeGpzX29ic2VydmFibGVfbWVyZ2Uscnhqc19vcGVyYXRvcl9zaGFyZSxyeGpzX1N1YmplY3QpIHsgJ3VzZSBzdHJpY3QnO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG4vKipcbiAqIEBsaWNlbnNlIEFuZ3VsYXIgdjQuNC42XG4gKiAoYykgMjAxMC0yMDE3IEdvb2dsZSwgSW5jLiBodHRwczovL2FuZ3VsYXIuaW8vXG4gKiBMaWNlbnNlOiBNSVRcbiAqL1xuLyoqXG4gKiBDcmVhdGVzIGEgdG9rZW4gdGhhdCBjYW4gYmUgdXNlZCBpbiBhIERJIFByb3ZpZGVyLlxuICpcbiAqICMjIyBFeGFtcGxlIChbbGl2ZSBkZW1vXShodHRwOi8vcGxua3IuY28vZWRpdC9ZczllelhwajJNbm95M1VjOEtCcD9wPXByZXZpZXcpKVxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIHZhciB0ID0gbmV3IE9wYXF1ZVRva2VuKFwidmFsdWVcIik7XG4gKlxuICogdmFyIGluamVjdG9yID0gSW5qZWN0b3IucmVzb2x2ZUFuZENyZWF0ZShbXG4gKiAgIHtwcm92aWRlOiB0LCB1c2VWYWx1ZTogXCJiaW5kaW5nVmFsdWVcIn1cbiAqIF0pO1xuICpcbiAqIGV4cGVjdChpbmplY3Rvci5nZXQodCkpLnRvRXF1YWwoXCJiaW5kaW5nVmFsdWVcIik7XG4gKiBgYGBcbiAqXG4gKiBVc2luZyBhbiBgT3BhcXVlVG9rZW5gIGlzIHByZWZlcmFibGUgdG8gdXNpbmcgc3RyaW5ncyBhcyB0b2tlbnMgYmVjYXVzZSBvZiBwb3NzaWJsZSBjb2xsaXNpb25zXG4gKiBjYXVzZWQgYnkgbXVsdGlwbGUgcHJvdmlkZXJzIHVzaW5nIHRoZSBzYW1lIHN0cmluZyBhcyB0d28gZGlmZmVyZW50IHRva2Vucy5cbiAqXG4gKiBVc2luZyBhbiBgT3BhcXVlVG9rZW5gIGlzIHByZWZlcmFibGUgdG8gdXNpbmcgYW4gYE9iamVjdGAgYXMgdG9rZW5zIGJlY2F1c2UgaXQgcHJvdmlkZXMgYmV0dGVyXG4gKiBlcnJvciBtZXNzYWdlcy5cbiAqIEBkZXByZWNhdGVkIHNpbmNlIHY0LjAuMCBiZWNhdXNlIGl0IGRvZXMgbm90IHN1cHBvcnQgdHlwZSBpbmZvcm1hdGlvbiwgdXNlIGBJbmplY3Rpb25Ub2tlbjw/PmBcbiAqIGluc3RlYWQuXG4gKi9cbnZhciBPcGFxdWVUb2tlbiA9IChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBfZGVzY1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIE9wYXF1ZVRva2VuKF9kZXNjKSB7XG4gICAgICAgIHRoaXMuX2Rlc2MgPSBfZGVzYztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBPcGFxdWVUb2tlbi5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBcIlRva2VuIFwiICsgdGhpcy5fZGVzYzsgfTtcbiAgICByZXR1cm4gT3BhcXVlVG9rZW47XG59KCkpO1xuLyoqXG4gKiBDcmVhdGVzIGEgdG9rZW4gdGhhdCBjYW4gYmUgdXNlZCBpbiBhIERJIFByb3ZpZGVyLlxuICpcbiAqIFVzZSBhbiBgSW5qZWN0aW9uVG9rZW5gIHdoZW5ldmVyIHRoZSB0eXBlIHlvdSBhcmUgaW5qZWN0aW5nIGlzIG5vdCByZWlmaWVkIChkb2VzIG5vdCBoYXZlIGFcbiAqIHJ1bnRpbWUgcmVwcmVzZW50YXRpb24pIHN1Y2ggYXMgd2hlbiBpbmplY3RpbmcgYW4gaW50ZXJmYWNlLCBjYWxsYWJsZSB0eXBlLCBhcnJheSBvclxuICogcGFyYW1ldHJpemVkIHR5cGUuXG4gKlxuICogYEluamVjdGlvblRva2VuYCBpcyBwYXJhbWV0ZXJpemVkIG9uIGBUYCB3aGljaCBpcyB0aGUgdHlwZSBvZiBvYmplY3Qgd2hpY2ggd2lsbCBiZSByZXR1cm5lZCBieVxuICogdGhlIGBJbmplY3RvcmAuIFRoaXMgcHJvdmlkZXMgYWRkaXRpb25hbCBsZXZlbCBvZiB0eXBlIHNhZmV0eS5cbiAqXG4gKiBgYGBcbiAqIGludGVyZmFjZSBNeUludGVyZmFjZSB7Li4ufVxuICogdmFyIG15SW50ZXJmYWNlID0gaW5qZWN0b3IuZ2V0KG5ldyBJbmplY3Rpb25Ub2tlbjxNeUludGVyZmFjZT4oJ1NvbWVUb2tlbicpKTtcbiAqIC8vIG15SW50ZXJmYWNlIGlzIGluZmVycmVkIHRvIGJlIE15SW50ZXJmYWNlLlxuICogYGBgXG4gKlxuICogIyMjIEV4YW1wbGVcbiAqXG4gKiB7XFxAZXhhbXBsZSBjb3JlL2RpL3RzL2luamVjdG9yX3NwZWMudHMgcmVnaW9uPSdJbmplY3Rpb25Ub2tlbid9XG4gKlxuICogXFxAc3RhYmxlXG4gKi9cbnZhciBJbmplY3Rpb25Ub2tlbiA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEluamVjdGlvblRva2VuLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gZGVzY1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIEluamVjdGlvblRva2VuKGRlc2MpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIGRlc2MpIHx8IHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgSW5qZWN0aW9uVG9rZW4ucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gXCJJbmplY3Rpb25Ub2tlbiBcIiArIHRoaXMuX2Rlc2M7IH07XG4gICAgcmV0dXJuIEluamVjdGlvblRva2VuO1xufShPcGFxdWVUb2tlbikpO1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xudmFyIF9fd2luZG93ID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93O1xudmFyIF9fc2VsZiA9IHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgV29ya2VyR2xvYmFsU2NvcGUgIT09ICd1bmRlZmluZWQnICYmXG4gICAgc2VsZiBpbnN0YW5jZW9mIFdvcmtlckdsb2JhbFNjb3BlICYmIHNlbGY7XG52YXIgX19nbG9iYWwgPSB0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJyAmJiBnbG9iYWw7XG52YXIgX2dsb2JhbCA9IF9fd2luZG93IHx8IF9fZ2xvYmFsIHx8IF9fc2VsZjtcbnZhciBfc3ltYm9sSXRlcmF0b3IgPSBudWxsO1xuLyoqXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBnZXRTeW1ib2xJdGVyYXRvcigpIHtcbiAgICBpZiAoIV9zeW1ib2xJdGVyYXRvcikge1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBTeW1ib2wgPSBfZ2xvYmFsWydTeW1ib2wnXTtcbiAgICAgICAgaWYgKFN5bWJvbCAmJiBTeW1ib2wuaXRlcmF0b3IpIHtcbiAgICAgICAgICAgIF9zeW1ib2xJdGVyYXRvciA9IFN5bWJvbC5pdGVyYXRvcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGVzNi1zaGltIHNwZWNpZmljIGxvZ2ljXG4gICAgICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoTWFwLnByb3RvdHlwZSk7XG4gICAgICAgICAgICBmb3IgKHZhciAvKiogQHR5cGUgez99ICovIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGtleSA9IGtleXNbaV07XG4gICAgICAgICAgICAgICAgaWYgKGtleSAhPT0gJ2VudHJpZXMnICYmIGtleSAhPT0gJ3NpemUnICYmXG4gICAgICAgICAgICAgICAgICAgICgoTWFwKSkucHJvdG90eXBlW2tleV0gPT09IE1hcC5wcm90b3R5cGVbJ2VudHJpZXMnXSkge1xuICAgICAgICAgICAgICAgICAgICBfc3ltYm9sSXRlcmF0b3IgPSBrZXk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBfc3ltYm9sSXRlcmF0b3I7XG59XG4vKipcbiAqIEBwYXJhbSB7P30gZm5cbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIHNjaGVkdWxlTWljcm9UYXNrKGZuKSB7XG4gICAgWm9uZS5jdXJyZW50LnNjaGVkdWxlTWljcm9UYXNrKCdzY2hlZHVsZU1pY3JvdGFzaycsIGZuKTtcbn1cbi8qKlxuICogQHBhcmFtIHs/fSBhXG4gKiBAcGFyYW0gez99IGJcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGxvb3NlSWRlbnRpY2FsKGEsIGIpIHtcbiAgICByZXR1cm4gYSA9PT0gYiB8fCB0eXBlb2YgYSA9PT0gJ251bWJlcicgJiYgdHlwZW9mIGIgPT09ICdudW1iZXInICYmIGlzTmFOKGEpICYmIGlzTmFOKGIpO1xufVxuLyoqXG4gKiBAcGFyYW0gez99IHRva2VuXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBzdHJpbmdpZnkodG9rZW4pIHtcbiAgICBpZiAodHlwZW9mIHRva2VuID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgfVxuICAgIGlmICh0b2tlbiA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAnJyArIHRva2VuO1xuICAgIH1cbiAgICBpZiAodG9rZW4ub3ZlcnJpZGRlbk5hbWUpIHtcbiAgICAgICAgcmV0dXJuIFwiXCIgKyB0b2tlbi5vdmVycmlkZGVuTmFtZTtcbiAgICB9XG4gICAgaWYgKHRva2VuLm5hbWUpIHtcbiAgICAgICAgcmV0dXJuIFwiXCIgKyB0b2tlbi5uYW1lO1xuICAgIH1cbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyByZXMgPSB0b2tlbi50b1N0cmluZygpO1xuICAgIGlmIChyZXMgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gJycgKyByZXM7XG4gICAgfVxuICAgIHZhciAvKiogQHR5cGUgez99ICovIG5ld0xpbmVJbmRleCA9IHJlcy5pbmRleE9mKCdcXG4nKTtcbiAgICByZXR1cm4gbmV3TGluZUluZGV4ID09PSAtMSA/IHJlcyA6IHJlcy5zdWJzdHJpbmcoMCwgbmV3TGluZUluZGV4KTtcbn1cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbnZhciBfbmV4dENsYXNzSWQgPSAwO1xudmFyIFJlZmxlY3QkMSA9IF9nbG9iYWxbJ1JlZmxlY3QnXTtcbi8qKlxuICogQHBhcmFtIHs/fSBhbm5vdGF0aW9uXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBleHRyYWN0QW5ub3RhdGlvbihhbm5vdGF0aW9uKSB7XG4gICAgaWYgKHR5cGVvZiBhbm5vdGF0aW9uID09PSAnZnVuY3Rpb24nICYmIGFubm90YXRpb24uaGFzT3duUHJvcGVydHkoJ2Fubm90YXRpb24nKSkge1xuICAgICAgICAvLyBpdCBpcyBhIGRlY29yYXRvciwgZXh0cmFjdCBhbm5vdGF0aW9uXG4gICAgICAgIGFubm90YXRpb24gPSBhbm5vdGF0aW9uLmFubm90YXRpb247XG4gICAgfVxuICAgIHJldHVybiBhbm5vdGF0aW9uO1xufVxuLyoqXG4gKiBAcGFyYW0gez99IGZuT3JBcnJheVxuICogQHBhcmFtIHs/fSBrZXlcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGFwcGx5UGFyYW1zKGZuT3JBcnJheSwga2V5KSB7XG4gICAgaWYgKGZuT3JBcnJheSA9PT0gT2JqZWN0IHx8IGZuT3JBcnJheSA9PT0gU3RyaW5nIHx8IGZuT3JBcnJheSA9PT0gRnVuY3Rpb24gfHxcbiAgICAgICAgZm5PckFycmF5ID09PSBOdW1iZXIgfHwgZm5PckFycmF5ID09PSBBcnJheSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW4gbm90IHVzZSBuYXRpdmUgXCIgKyBzdHJpbmdpZnkoZm5PckFycmF5KSArIFwiIGFzIGNvbnN0cnVjdG9yXCIpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGZuT3JBcnJheSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gZm5PckFycmF5O1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheShmbk9yQXJyYXkpKSB7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGFubm90YXRpb25zID0gKGZuT3JBcnJheSk7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGFubm9MZW5ndGggPSBhbm5vdGF0aW9ucy5sZW5ndGggLSAxO1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBmbiA9IGZuT3JBcnJheVthbm5vTGVuZ3RoXTtcbiAgICAgICAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTGFzdCBwb3NpdGlvbiBvZiBDbGFzcyBtZXRob2QgYXJyYXkgbXVzdCBiZSBGdW5jdGlvbiBpbiBrZXkgXCIgKyBrZXkgKyBcIiB3YXMgJ1wiICsgc3RyaW5naWZ5KGZuKSArIFwiJ1wiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYW5ub0xlbmd0aCAhPSBmbi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk51bWJlciBvZiBhbm5vdGF0aW9ucyAoXCIgKyBhbm5vTGVuZ3RoICsgXCIpIGRvZXMgbm90IG1hdGNoIG51bWJlciBvZiBhcmd1bWVudHMgKFwiICsgZm4ubGVuZ3RoICsgXCIpIGluIHRoZSBmdW5jdGlvbjogXCIgKyBzdHJpbmdpZnkoZm4pKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBwYXJhbXNBbm5vdGF0aW9ucyA9IFtdO1xuICAgICAgICBmb3IgKHZhciAvKiogQHR5cGUgez99ICovIGkgPSAwLCAvKiogQHR5cGUgez99ICovIGlpID0gYW5ub3RhdGlvbnMubGVuZ3RoIC0gMTsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIHBhcmFtQW5ub3RhdGlvbnMgPSBbXTtcbiAgICAgICAgICAgIHBhcmFtc0Fubm90YXRpb25zLnB1c2gocGFyYW1Bbm5vdGF0aW9ucyk7XG4gICAgICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBhbm5vdGF0aW9uID0gYW5ub3RhdGlvbnNbaV07XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhbm5vdGF0aW9uKSkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIC8qKiBAdHlwZSB7P30gKi8gaiA9IDA7IGogPCBhbm5vdGF0aW9uLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmFtQW5ub3RhdGlvbnMucHVzaChleHRyYWN0QW5ub3RhdGlvbihhbm5vdGF0aW9uW2pdKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGFubm90YXRpb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBwYXJhbUFubm90YXRpb25zLnB1c2goZXh0cmFjdEFubm90YXRpb24oYW5ub3RhdGlvbikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcGFyYW1Bbm5vdGF0aW9ucy5wdXNoKGFubm90YXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFJlZmxlY3QkMS5kZWZpbmVNZXRhZGF0YSgncGFyYW1ldGVycycsIHBhcmFtc0Fubm90YXRpb25zLCBmbik7XG4gICAgICAgIHJldHVybiBmbjtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiT25seSBGdW5jdGlvbiBvciBBcnJheSBpcyBzdXBwb3J0ZWQgaW4gQ2xhc3MgZGVmaW5pdGlvbiBmb3Iga2V5ICdcIiArIGtleSArIFwiJyBpcyAnXCIgKyBzdHJpbmdpZnkoZm5PckFycmF5KSArIFwiJ1wiKTtcbn1cbi8qKlxuICogUHJvdmlkZXMgYSB3YXkgZm9yIGV4cHJlc3NpbmcgRVM2IGNsYXNzZXMgd2l0aCBwYXJhbWV0ZXIgYW5ub3RhdGlvbnMgaW4gRVM1LlxuICpcbiAqICMjIEJhc2ljIEV4YW1wbGVcbiAqXG4gKiBgYGBcbiAqIHZhciBHcmVldGVyID0gbmcuQ2xhc3Moe1xuICogICBjb25zdHJ1Y3RvcjogZnVuY3Rpb24obmFtZSkge1xuICogICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gKiAgIH0sXG4gKlxuICogICBncmVldDogZnVuY3Rpb24oKSB7XG4gKiAgICAgYWxlcnQoJ0hlbGxvICcgKyB0aGlzLm5hbWUgKyAnIScpO1xuICogICB9XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIGlzIGVxdWl2YWxlbnQgdG8gRVM2OlxuICpcbiAqIGBgYFxuICogY2xhc3MgR3JlZXRlciB7XG4gKiAgIGNvbnN0cnVjdG9yKG5hbWUpIHtcbiAqICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICogICB9XG4gKlxuICogICBncmVldCgpIHtcbiAqICAgICBhbGVydCgnSGVsbG8gJyArIHRoaXMubmFtZSArICchJyk7XG4gKiAgIH1cbiAqIH1cbiAqIGBgYFxuICpcbiAqIG9yIGVxdWl2YWxlbnQgdG8gRVM1OlxuICpcbiAqIGBgYFxuICogdmFyIEdyZWV0ZXIgPSBmdW5jdGlvbiAobmFtZSkge1xuICogICB0aGlzLm5hbWUgPSBuYW1lO1xuICogfVxuICpcbiAqIEdyZWV0ZXIucHJvdG90eXBlLmdyZWV0ID0gZnVuY3Rpb24gKCkge1xuICogICBhbGVydCgnSGVsbG8gJyArIHRoaXMubmFtZSArICchJyk7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiAjIyMgRXhhbXBsZSB3aXRoIHBhcmFtZXRlciBhbm5vdGF0aW9uc1xuICpcbiAqIGBgYFxuICogdmFyIE15U2VydmljZSA9IG5nLkNsYXNzKHtcbiAqICAgY29uc3RydWN0b3I6IFtTdHJpbmcsIFtuZXcgT3B0aW9uYWwoKSwgU2VydmljZV0sIGZ1bmN0aW9uKG5hbWUsIG15U2VydmljZSkge1xuICogICAgIC4uLlxuICogICB9XVxuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBpcyBlcXVpdmFsZW50IHRvIEVTNjpcbiAqXG4gKiBgYGBcbiAqIGNsYXNzIE15U2VydmljZSB7XG4gKiAgIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgXFxAT3B0aW9uYWwoKSBteVNlcnZpY2U6IFNlcnZpY2UpIHtcbiAqICAgICAuLi5cbiAqICAgfVxuICogfVxuICogYGBgXG4gKlxuICogIyMjIEV4YW1wbGUgd2l0aCBpbmhlcml0YW5jZVxuICpcbiAqIGBgYFxuICogdmFyIFNoYXBlID0gbmcuQ2xhc3Moe1xuICogICBjb25zdHJ1Y3RvcjogKGNvbG9yKSB7XG4gKiAgICAgdGhpcy5jb2xvciA9IGNvbG9yO1xuICogICB9XG4gKiB9KTtcbiAqXG4gKiB2YXIgU3F1YXJlID0gbmcuQ2xhc3Moe1xuICogICBleHRlbmRzOiBTaGFwZSxcbiAqICAgY29uc3RydWN0b3I6IGZ1bmN0aW9uKGNvbG9yLCBzaXplKSB7XG4gKiAgICAgU2hhcGUuY2FsbCh0aGlzLCBjb2xvcik7XG4gKiAgICAgdGhpcy5zaXplID0gc2l6ZTtcbiAqICAgfVxuICogfSk7XG4gKiBgYGBcbiAqIEBzdXBwcmVzcyB7Z2xvYmFsVGhpc31cbiAqIFxcQHN0YWJsZVxuICogQHBhcmFtIHs/fSBjbHNEZWZcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIENsYXNzKGNsc0RlZikge1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIGNvbnN0cnVjdG9yID0gYXBwbHlQYXJhbXMoY2xzRGVmLmhhc093blByb3BlcnR5KCdjb25zdHJ1Y3RvcicpID8gY2xzRGVmLmNvbnN0cnVjdG9yIDogdW5kZWZpbmVkLCAnY29uc3RydWN0b3InKTtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBwcm90byA9IGNvbnN0cnVjdG9yLnByb3RvdHlwZTtcbiAgICBpZiAoY2xzRGVmLmhhc093blByb3BlcnR5KCdleHRlbmRzJykpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbHNEZWYuZXh0ZW5kcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgKChjb25zdHJ1Y3RvcikpLnByb3RvdHlwZSA9IHByb3RvID1cbiAgICAgICAgICAgICAgICBPYmplY3QuY3JlYXRlKCgoY2xzRGVmLmV4dGVuZHMpKS5wcm90b3R5cGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2xhc3MgZGVmaW5pdGlvbiAnZXh0ZW5kcycgcHJvcGVydHkgbXVzdCBiZSBhIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIHdhczogXCIgKyBzdHJpbmdpZnkoY2xzRGVmLmV4dGVuZHMpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHZhciAvKiogQHR5cGUgez99ICovIGtleSBpbiBjbHNEZWYpIHtcbiAgICAgICAgaWYgKGtleSAhPT0gJ2V4dGVuZHMnICYmIGtleSAhPT0gJ3Byb3RvdHlwZScgJiYgY2xzRGVmLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgIHByb3RvW2tleV0gPSBhcHBseVBhcmFtcyhjbHNEZWZba2V5XSwga2V5KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcyAmJiB0aGlzLmFubm90YXRpb25zIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgUmVmbGVjdCQxLmRlZmluZU1ldGFkYXRhKCdhbm5vdGF0aW9ucycsIHRoaXMuYW5ub3RhdGlvbnMsIGNvbnN0cnVjdG9yKTtcbiAgICB9XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gY29uc3RydWN0b3JOYW1lID0gY29uc3RydWN0b3JbJ25hbWUnXTtcbiAgICBpZiAoIWNvbnN0cnVjdG9yTmFtZSB8fCBjb25zdHJ1Y3Rvck5hbWUgPT09ICdjb25zdHJ1Y3RvcicpIHtcbiAgICAgICAgKChjb25zdHJ1Y3RvcikpWydvdmVycmlkZGVuTmFtZSddID0gXCJjbGFzc1wiICsgX25leHRDbGFzc0lkKys7XG4gICAgfVxuICAgIHJldHVybiAoY29uc3RydWN0b3IpO1xufVxuLyoqXG4gKiBAc3VwcHJlc3Mge2dsb2JhbFRoaXN9XG4gKiBAcGFyYW0gez99IG5hbWVcbiAqIEBwYXJhbSB7Pz19IHByb3BzXG4gKiBAcGFyYW0gez89fSBwYXJlbnRDbGFzc1xuICogQHBhcmFtIHs/PX0gY2hhaW5GblxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gbWFrZURlY29yYXRvcihuYW1lLCBwcm9wcywgcGFyZW50Q2xhc3MsIGNoYWluRm4pIHtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBtZXRhQ3RvciA9IG1ha2VNZXRhZGF0YUN0b3IocHJvcHMpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gb2JqT3JUeXBlXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBEZWNvcmF0b3JGYWN0b3J5KG9iak9yVHlwZSkge1xuICAgICAgICBpZiAoIShSZWZsZWN0JDEgJiYgUmVmbGVjdCQxLmdldE93bk1ldGFkYXRhKSkge1xuICAgICAgICAgICAgdGhyb3cgJ3JlZmxlY3QtbWV0YWRhdGEgc2hpbSBpcyByZXF1aXJlZCB3aGVuIHVzaW5nIGNsYXNzIGRlY29yYXRvcnMnO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzIGluc3RhbmNlb2YgRGVjb3JhdG9yRmFjdG9yeSkge1xuICAgICAgICAgICAgbWV0YUN0b3IuY2FsbCh0aGlzLCBvYmpPclR5cGUpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gYW5ub3RhdGlvbkluc3RhbmNlID0gbmV3ICgoRGVjb3JhdG9yRmFjdG9yeSkpKG9iak9yVHlwZSk7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGNoYWluQW5ub3RhdGlvbiA9IHR5cGVvZiB0aGlzID09PSAnZnVuY3Rpb24nICYmIEFycmF5LmlzQXJyYXkodGhpcy5hbm5vdGF0aW9ucykgPyB0aGlzLmFubm90YXRpb25zIDogW107XG4gICAgICAgIGNoYWluQW5ub3RhdGlvbi5wdXNoKGFubm90YXRpb25JbnN0YW5jZSk7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIFR5cGVEZWNvcmF0b3IgPSAoZnVuY3Rpb24gVHlwZURlY29yYXRvcihjbHMpIHtcbiAgICAgICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGFubm90YXRpb25zID0gUmVmbGVjdCQxLmdldE93bk1ldGFkYXRhKCdhbm5vdGF0aW9ucycsIGNscykgfHwgW107XG4gICAgICAgICAgICBhbm5vdGF0aW9ucy5wdXNoKGFubm90YXRpb25JbnN0YW5jZSk7XG4gICAgICAgICAgICBSZWZsZWN0JDEuZGVmaW5lTWV0YWRhdGEoJ2Fubm90YXRpb25zJywgYW5ub3RhdGlvbnMsIGNscyk7XG4gICAgICAgICAgICByZXR1cm4gY2xzO1xuICAgICAgICB9KTtcbiAgICAgICAgVHlwZURlY29yYXRvci5hbm5vdGF0aW9ucyA9IGNoYWluQW5ub3RhdGlvbjtcbiAgICAgICAgVHlwZURlY29yYXRvci5DbGFzcyA9IENsYXNzO1xuICAgICAgICBpZiAoY2hhaW5GbilcbiAgICAgICAgICAgIGNoYWluRm4oVHlwZURlY29yYXRvcik7XG4gICAgICAgIHJldHVybiBUeXBlRGVjb3JhdG9yO1xuICAgIH1cbiAgICBpZiAocGFyZW50Q2xhc3MpIHtcbiAgICAgICAgRGVjb3JhdG9yRmFjdG9yeS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHBhcmVudENsYXNzLnByb3RvdHlwZSk7XG4gICAgfVxuICAgIERlY29yYXRvckZhY3RvcnkucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gXCJAXCIgKyBuYW1lOyB9O1xuICAgICgoRGVjb3JhdG9yRmFjdG9yeSkpLmFubm90YXRpb25DbHMgPSBEZWNvcmF0b3JGYWN0b3J5O1xuICAgIHJldHVybiBEZWNvcmF0b3JGYWN0b3J5O1xufVxuLyoqXG4gKiBAcGFyYW0gez89fSBwcm9wc1xuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gbWFrZU1ldGFkYXRhQ3Rvcihwcm9wcykge1xuICAgIHJldHVybiBmdW5jdGlvbiBjdG9yKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9wcykge1xuICAgICAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gdmFsdWVzID0gcHJvcHMuYXBwbHkodm9pZCAwLCBhcmdzKTtcbiAgICAgICAgICAgIGZvciAodmFyIC8qKiBAdHlwZSB7P30gKi8gcHJvcE5hbWUgaW4gdmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgdGhpc1twcm9wTmFtZV0gPSB2YWx1ZXNbcHJvcE5hbWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn1cbi8qKlxuICogQHBhcmFtIHs/fSBuYW1lXG4gKiBAcGFyYW0gez89fSBwcm9wc1xuICogQHBhcmFtIHs/PX0gcGFyZW50Q2xhc3NcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIG1ha2VQYXJhbURlY29yYXRvcihuYW1lLCBwcm9wcywgcGFyZW50Q2xhc3MpIHtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBtZXRhQ3RvciA9IG1ha2VNZXRhZGF0YUN0b3IocHJvcHMpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Li4uP30gYXJnc1xuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgZnVuY3Rpb24gUGFyYW1EZWNvcmF0b3JGYWN0b3J5KCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzIGluc3RhbmNlb2YgUGFyYW1EZWNvcmF0b3JGYWN0b3J5KSB7XG4gICAgICAgICAgICBtZXRhQ3Rvci5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGFubm90YXRpb25JbnN0YW5jZSA9IG5ldyAoKChQYXJhbURlY29yYXRvckZhY3RvcnkpKS5iaW5kLmFwcGx5KCgoUGFyYW1EZWNvcmF0b3JGYWN0b3J5KSksIFt2b2lkIDBdLmNvbmNhdChhcmdzKSkpKCk7XG4gICAgICAgICgoUGFyYW1EZWNvcmF0b3IpKS5hbm5vdGF0aW9uID0gYW5ub3RhdGlvbkluc3RhbmNlO1xuICAgICAgICByZXR1cm4gUGFyYW1EZWNvcmF0b3I7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0gez99IGNsc1xuICAgICAgICAgKiBAcGFyYW0gez99IHVudXNlZEtleVxuICAgICAgICAgKiBAcGFyYW0gez99IGluZGV4XG4gICAgICAgICAqIEByZXR1cm4gez99XG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBQYXJhbURlY29yYXRvcihjbHMsIHVudXNlZEtleSwgaW5kZXgpIHtcbiAgICAgICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIHBhcmFtZXRlcnMgPSBSZWZsZWN0JDEuZ2V0T3duTWV0YWRhdGEoJ3BhcmFtZXRlcnMnLCBjbHMpIHx8IFtdO1xuICAgICAgICAgICAgLy8gdGhlcmUgbWlnaHQgYmUgZ2FwcyBpZiBzb21lIGluIGJldHdlZW4gcGFyYW1ldGVycyBkbyBub3QgaGF2ZSBhbm5vdGF0aW9ucy5cbiAgICAgICAgICAgIC8vIHdlIHBhZCB3aXRoIG51bGxzLlxuICAgICAgICAgICAgd2hpbGUgKHBhcmFtZXRlcnMubGVuZ3RoIDw9IGluZGV4KSB7XG4gICAgICAgICAgICAgICAgcGFyYW1ldGVycy5wdXNoKG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyYW1ldGVyc1tpbmRleF0gPSBwYXJhbWV0ZXJzW2luZGV4XSB8fCBbXTsgLyoqIEB0eXBlIHs/fSAqL1xuICAgICAgICAgICAgKChwYXJhbWV0ZXJzW2luZGV4XSkpLnB1c2goYW5ub3RhdGlvbkluc3RhbmNlKTtcbiAgICAgICAgICAgIFJlZmxlY3QkMS5kZWZpbmVNZXRhZGF0YSgncGFyYW1ldGVycycsIHBhcmFtZXRlcnMsIGNscyk7XG4gICAgICAgICAgICByZXR1cm4gY2xzO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChwYXJlbnRDbGFzcykge1xuICAgICAgICBQYXJhbURlY29yYXRvckZhY3RvcnkucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShwYXJlbnRDbGFzcy5wcm90b3R5cGUpO1xuICAgIH1cbiAgICBQYXJhbURlY29yYXRvckZhY3RvcnkucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gXCJAXCIgKyBuYW1lOyB9O1xuICAgICgoUGFyYW1EZWNvcmF0b3JGYWN0b3J5KSkuYW5ub3RhdGlvbkNscyA9IFBhcmFtRGVjb3JhdG9yRmFjdG9yeTtcbiAgICByZXR1cm4gUGFyYW1EZWNvcmF0b3JGYWN0b3J5O1xufVxuLyoqXG4gKiBAcGFyYW0gez99IG5hbWVcbiAqIEBwYXJhbSB7Pz19IHByb3BzXG4gKiBAcGFyYW0gez89fSBwYXJlbnRDbGFzc1xuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gbWFrZVByb3BEZWNvcmF0b3IobmFtZSwgcHJvcHMsIHBhcmVudENsYXNzKSB7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gbWV0YUN0b3IgPSBtYWtlTWV0YWRhdGFDdG9yKHByb3BzKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gey4uLj99IGFyZ3NcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFByb3BEZWNvcmF0b3JGYWN0b3J5KCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzIGluc3RhbmNlb2YgUHJvcERlY29yYXRvckZhY3RvcnkpIHtcbiAgICAgICAgICAgIG1ldGFDdG9yLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gZGVjb3JhdG9ySW5zdGFuY2UgPSBuZXcgKCgoUHJvcERlY29yYXRvckZhY3RvcnkpKS5iaW5kLmFwcGx5KCgoUHJvcERlY29yYXRvckZhY3RvcnkpKSwgW3ZvaWQgMF0uY29uY2F0KGFyZ3MpKSkoKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIFByb3BEZWNvcmF0b3IodGFyZ2V0LCBuYW1lKSB7XG4gICAgICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBtZXRhID0gUmVmbGVjdCQxLmdldE93bk1ldGFkYXRhKCdwcm9wTWV0YWRhdGEnLCB0YXJnZXQuY29uc3RydWN0b3IpIHx8IHt9O1xuICAgICAgICAgICAgbWV0YVtuYW1lXSA9IG1ldGEuaGFzT3duUHJvcGVydHkobmFtZSkgJiYgbWV0YVtuYW1lXSB8fCBbXTtcbiAgICAgICAgICAgIG1ldGFbbmFtZV0udW5zaGlmdChkZWNvcmF0b3JJbnN0YW5jZSk7XG4gICAgICAgICAgICBSZWZsZWN0JDEuZGVmaW5lTWV0YWRhdGEoJ3Byb3BNZXRhZGF0YScsIG1ldGEsIHRhcmdldC5jb25zdHJ1Y3Rvcik7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmIChwYXJlbnRDbGFzcykge1xuICAgICAgICBQcm9wRGVjb3JhdG9yRmFjdG9yeS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHBhcmVudENsYXNzLnByb3RvdHlwZSk7XG4gICAgfVxuICAgIFByb3BEZWNvcmF0b3JGYWN0b3J5LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFwiQFwiICsgbmFtZTsgfTtcbiAgICAoKFByb3BEZWNvcmF0b3JGYWN0b3J5KSkuYW5ub3RhdGlvbkNscyA9IFByb3BEZWNvcmF0b3JGYWN0b3J5O1xuICAgIHJldHVybiBQcm9wRGVjb3JhdG9yRmFjdG9yeTtcbn1cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogVGhpcyB0b2tlbiBjYW4gYmUgdXNlZCB0byBjcmVhdGUgYSB2aXJ0dWFsIHByb3ZpZGVyIHRoYXQgd2lsbCBwb3B1bGF0ZSB0aGVcbiAqIGBlbnRyeUNvbXBvbmVudHNgIGZpZWxkcyBvZiBjb21wb25lbnRzIGFuZCBuZyBtb2R1bGVzIGJhc2VkIG9uIGl0cyBgdXNlVmFsdWVgLlxuICogQWxsIGNvbXBvbmVudHMgdGhhdCBhcmUgcmVmZXJlbmNlZCBpbiB0aGUgYHVzZVZhbHVlYCB2YWx1ZSAoZWl0aGVyIGRpcmVjdGx5XG4gKiBvciBpbiBhIG5lc3RlZCBhcnJheSBvciBtYXApIHdpbGwgYmUgYWRkZWQgdG8gdGhlIGBlbnRyeUNvbXBvbmVudHNgIHByb3BlcnR5LlxuICpcbiAqICMjIyBFeGFtcGxlXG4gKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgc2hvd3MgaG93IHRoZSByb3V0ZXIgY2FuIHBvcHVsYXRlIHRoZSBgZW50cnlDb21wb25lbnRzYFxuICogZmllbGQgb2YgYW4gTmdNb2R1bGUgYmFzZWQgb24gdGhlIHJvdXRlciBjb25maWd1cmF0aW9uIHdoaWNoIHJlZmVyc1xuICogdG8gY29tcG9uZW50cy5cbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiAvLyBoZWxwZXIgZnVuY3Rpb24gaW5zaWRlIHRoZSByb3V0ZXJcbiAqIGZ1bmN0aW9uIHByb3ZpZGVSb3V0ZXMocm91dGVzKSB7XG4gKiAgIHJldHVybiBbXG4gKiAgICAge3Byb3ZpZGU6IFJPVVRFUywgdXNlVmFsdWU6IHJvdXRlc30sXG4gKiAgICAge3Byb3ZpZGU6IEFOQUxZWkVfRk9SX0VOVFJZX0NPTVBPTkVOVFMsIHVzZVZhbHVlOiByb3V0ZXMsIG11bHRpOiB0cnVlfVxuICogICBdO1xuICogfVxuICpcbiAqIC8vIHVzZXIgY29kZVxuICogbGV0IHJvdXRlcyA9IFtcbiAqICAge3BhdGg6ICcvcm9vdCcsIGNvbXBvbmVudDogUm9vdENvbXB9LFxuICogICB7cGF0aDogJy90ZWFtcycsIGNvbXBvbmVudDogVGVhbXNDb21wfVxuICogXTtcbiAqXG4gKiBcXEBOZ01vZHVsZSh7XG4gKiAgIHByb3ZpZGVyczogW3Byb3ZpZGVSb3V0ZXMocm91dGVzKV1cbiAqIH0pXG4gKiBjbGFzcyBNb2R1bGVXaXRoUm91dGVzIHt9XG4gKiBgYGBcbiAqXG4gKiBcXEBleHBlcmltZW50YWxcbiAqL1xudmFyIEFOQUxZWkVfRk9SX0VOVFJZX0NPTVBPTkVOVFMgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ0FuYWx5emVGb3JFbnRyeUNvbXBvbmVudHMnKTtcbi8qKlxuICogQXR0cmlidXRlIGRlY29yYXRvciBhbmQgbWV0YWRhdGEuXG4gKlxuICogXFxAc3RhYmxlXG4gKiBcXEBBbm5vdGF0aW9uXG4gKi9cbnZhciBBdHRyaWJ1dGUgPSBtYWtlUGFyYW1EZWNvcmF0b3IoJ0F0dHJpYnV0ZScsIGZ1bmN0aW9uIChhdHRyaWJ1dGVOYW1lKSB7IHJldHVybiAoeyBhdHRyaWJ1dGVOYW1lOiBhdHRyaWJ1dGVOYW1lIH0pOyB9KTtcbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgcXVlcnkgbWV0YWRhdGEuXG4gKlxuICogU2VlIHtcXEBsaW5rIENvbnRlbnRDaGlsZHJlbn0sIHtcXEBsaW5rIENvbnRlbnRDaGlsZH0sIHtcXEBsaW5rIFZpZXdDaGlsZHJlbn0sIHtcXEBsaW5rIFZpZXdDaGlsZH0gZm9yXG4gKiBtb3JlIGluZm9ybWF0aW9uLlxuICpcbiAqIFxcQHN0YWJsZVxuICogQGFic3RyYWN0XG4gKi9cbnZhciBRdWVyeSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUXVlcnkoKSB7XG4gICAgfVxuICAgIHJldHVybiBRdWVyeTtcbn0oKSk7XG4vKipcbiAqIENvbnRlbnRDaGlsZHJlbiBkZWNvcmF0b3IgYW5kIG1ldGFkYXRhLlxuICpcbiAqICBcXEBzdGFibGVcbiAqICBcXEBBbm5vdGF0aW9uXG4gKi9cbnZhciBDb250ZW50Q2hpbGRyZW4gPSBtYWtlUHJvcERlY29yYXRvcignQ29udGVudENoaWxkcmVuJywgZnVuY3Rpb24gKHNlbGVjdG9yLCBkYXRhKSB7XG4gICAgaWYgKGRhdGEgPT09IHZvaWQgMCkgeyBkYXRhID0ge307IH1cbiAgICByZXR1cm4gKE9iamVjdC5hc3NpZ24oeyBzZWxlY3Rvcjogc2VsZWN0b3IsIGZpcnN0OiBmYWxzZSwgaXNWaWV3UXVlcnk6IGZhbHNlLCBkZXNjZW5kYW50czogZmFsc2UgfSwgZGF0YSkpO1xufSwgUXVlcnkpO1xuLyoqXG4gKiBDb250ZW50Q2hpbGQgZGVjb3JhdG9yIGFuZCBtZXRhZGF0YS5cbiAqXG4gKiBcXEBzdGFibGVcbiAqIFxcQEFubm90YXRpb25cbiAqL1xudmFyIENvbnRlbnRDaGlsZCA9IG1ha2VQcm9wRGVjb3JhdG9yKCdDb250ZW50Q2hpbGQnLCBmdW5jdGlvbiAoc2VsZWN0b3IsIGRhdGEpIHtcbiAgICBpZiAoZGF0YSA9PT0gdm9pZCAwKSB7IGRhdGEgPSB7fTsgfVxuICAgIHJldHVybiAoT2JqZWN0LmFzc2lnbih7IHNlbGVjdG9yOiBzZWxlY3RvciwgZmlyc3Q6IHRydWUsIGlzVmlld1F1ZXJ5OiBmYWxzZSwgZGVzY2VuZGFudHM6IHRydWUgfSwgZGF0YSkpO1xufSwgUXVlcnkpO1xuLyoqXG4gKiBWaWV3Q2hpbGRyZW4gZGVjb3JhdG9yIGFuZCBtZXRhZGF0YS5cbiAqXG4gKiBcXEBzdGFibGVcbiAqIFxcQEFubm90YXRpb25cbiAqL1xudmFyIFZpZXdDaGlsZHJlbiA9IG1ha2VQcm9wRGVjb3JhdG9yKCdWaWV3Q2hpbGRyZW4nLCBmdW5jdGlvbiAoc2VsZWN0b3IsIGRhdGEpIHtcbiAgICBpZiAoZGF0YSA9PT0gdm9pZCAwKSB7IGRhdGEgPSB7fTsgfVxuICAgIHJldHVybiAoT2JqZWN0LmFzc2lnbih7IHNlbGVjdG9yOiBzZWxlY3RvciwgZmlyc3Q6IGZhbHNlLCBpc1ZpZXdRdWVyeTogdHJ1ZSwgZGVzY2VuZGFudHM6IHRydWUgfSwgZGF0YSkpO1xufSwgUXVlcnkpO1xuLyoqXG4gKiBWaWV3Q2hpbGQgZGVjb3JhdG9yIGFuZCBtZXRhZGF0YS5cbiAqXG4gKiBcXEBzdGFibGVcbiAqIFxcQEFubm90YXRpb25cbiAqL1xudmFyIFZpZXdDaGlsZCA9IG1ha2VQcm9wRGVjb3JhdG9yKCdWaWV3Q2hpbGQnLCBmdW5jdGlvbiAoc2VsZWN0b3IsIGRhdGEpIHsgcmV0dXJuIChPYmplY3QuYXNzaWduKHsgc2VsZWN0b3I6IHNlbGVjdG9yLCBmaXJzdDogdHJ1ZSwgaXNWaWV3UXVlcnk6IHRydWUsIGRlc2NlbmRhbnRzOiB0cnVlIH0sIGRhdGEpKTsgfSwgUXVlcnkpO1xudmFyIENoYW5nZURldGVjdGlvblN0cmF0ZWd5ID0ge307XG5DaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2ggPSAwO1xuQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuRGVmYXVsdCA9IDE7XG5DaGFuZ2VEZXRlY3Rpb25TdHJhdGVneVtDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2hdID0gXCJPblB1c2hcIjtcbkNoYW5nZURldGVjdGlvblN0cmF0ZWd5W0NoYW5nZURldGVjdGlvblN0cmF0ZWd5LkRlZmF1bHRdID0gXCJEZWZhdWx0XCI7XG52YXIgQ2hhbmdlRGV0ZWN0b3JTdGF0dXMgPSB7fTtcbkNoYW5nZURldGVjdG9yU3RhdHVzLkNoZWNrT25jZSA9IDA7XG5DaGFuZ2VEZXRlY3RvclN0YXR1cy5DaGVja2VkID0gMTtcbkNoYW5nZURldGVjdG9yU3RhdHVzLkNoZWNrQWx3YXlzID0gMjtcbkNoYW5nZURldGVjdG9yU3RhdHVzLkRldGFjaGVkID0gMztcbkNoYW5nZURldGVjdG9yU3RhdHVzLkVycm9yZWQgPSA0O1xuQ2hhbmdlRGV0ZWN0b3JTdGF0dXMuRGVzdHJveWVkID0gNTtcbkNoYW5nZURldGVjdG9yU3RhdHVzW0NoYW5nZURldGVjdG9yU3RhdHVzLkNoZWNrT25jZV0gPSBcIkNoZWNrT25jZVwiO1xuQ2hhbmdlRGV0ZWN0b3JTdGF0dXNbQ2hhbmdlRGV0ZWN0b3JTdGF0dXMuQ2hlY2tlZF0gPSBcIkNoZWNrZWRcIjtcbkNoYW5nZURldGVjdG9yU3RhdHVzW0NoYW5nZURldGVjdG9yU3RhdHVzLkNoZWNrQWx3YXlzXSA9IFwiQ2hlY2tBbHdheXNcIjtcbkNoYW5nZURldGVjdG9yU3RhdHVzW0NoYW5nZURldGVjdG9yU3RhdHVzLkRldGFjaGVkXSA9IFwiRGV0YWNoZWRcIjtcbkNoYW5nZURldGVjdG9yU3RhdHVzW0NoYW5nZURldGVjdG9yU3RhdHVzLkVycm9yZWRdID0gXCJFcnJvcmVkXCI7XG5DaGFuZ2VEZXRlY3RvclN0YXR1c1tDaGFuZ2VEZXRlY3RvclN0YXR1cy5EZXN0cm95ZWRdID0gXCJEZXN0cm95ZWRcIjtcbi8qKlxuICogQHBhcmFtIHs/fSBjaGFuZ2VEZXRlY3Rpb25TdHJhdGVneVxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gaXNEZWZhdWx0Q2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3koY2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kpIHtcbiAgICByZXR1cm4gY2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kgPT0gbnVsbCB8fFxuICAgICAgICBjaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSA9PT0gQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuRGVmYXVsdDtcbn1cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogRGlyZWN0aXZlIGRlY29yYXRvciBhbmQgbWV0YWRhdGEuXG4gKlxuICogXFxAc3RhYmxlXG4gKiBcXEBBbm5vdGF0aW9uXG4gKi9cbnZhciBEaXJlY3RpdmUgPSBtYWtlRGVjb3JhdG9yKCdEaXJlY3RpdmUnLCBmdW5jdGlvbiAoZGlyKSB7XG4gICAgaWYgKGRpciA9PT0gdm9pZCAwKSB7IGRpciA9IHt9OyB9XG4gICAgcmV0dXJuIGRpcjtcbn0pO1xuLyoqXG4gKiBDb21wb25lbnQgZGVjb3JhdG9yIGFuZCBtZXRhZGF0YS5cbiAqXG4gKiBcXEBzdGFibGVcbiAqIFxcQEFubm90YXRpb25cbiAqL1xudmFyIENvbXBvbmVudCA9IG1ha2VEZWNvcmF0b3IoJ0NvbXBvbmVudCcsIGZ1bmN0aW9uIChjKSB7XG4gICAgaWYgKGMgPT09IHZvaWQgMCkgeyBjID0ge307IH1cbiAgICByZXR1cm4gKE9iamVjdC5hc3NpZ24oeyBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5LkRlZmF1bHQgfSwgYykpO1xufSwgRGlyZWN0aXZlKTtcbi8qKlxuICogUGlwZSBkZWNvcmF0b3IgYW5kIG1ldGFkYXRhLlxuICpcbiAqIFxcQHN0YWJsZVxuICogXFxAQW5ub3RhdGlvblxuICovXG52YXIgUGlwZSA9IG1ha2VEZWNvcmF0b3IoJ1BpcGUnLCBmdW5jdGlvbiAocCkgeyByZXR1cm4gKE9iamVjdC5hc3NpZ24oeyBwdXJlOiB0cnVlIH0sIHApKTsgfSk7XG4vKipcbiAqIElucHV0IGRlY29yYXRvciBhbmQgbWV0YWRhdGEuXG4gKlxuICogXFxAc3RhYmxlXG4gKiBcXEBBbm5vdGF0aW9uXG4gKi9cbnZhciBJbnB1dCA9IG1ha2VQcm9wRGVjb3JhdG9yKCdJbnB1dCcsIGZ1bmN0aW9uIChiaW5kaW5nUHJvcGVydHlOYW1lKSB7IHJldHVybiAoeyBiaW5kaW5nUHJvcGVydHlOYW1lOiBiaW5kaW5nUHJvcGVydHlOYW1lIH0pOyB9KTtcbi8qKlxuICogT3V0cHV0IGRlY29yYXRvciBhbmQgbWV0YWRhdGEuXG4gKlxuICogXFxAc3RhYmxlXG4gKiBcXEBBbm5vdGF0aW9uXG4gKi9cbnZhciBPdXRwdXQgPSBtYWtlUHJvcERlY29yYXRvcignT3V0cHV0JywgZnVuY3Rpb24gKGJpbmRpbmdQcm9wZXJ0eU5hbWUpIHsgcmV0dXJuICh7IGJpbmRpbmdQcm9wZXJ0eU5hbWU6IGJpbmRpbmdQcm9wZXJ0eU5hbWUgfSk7IH0pO1xuLyoqXG4gKiBIb3N0QmluZGluZyBkZWNvcmF0b3IgYW5kIG1ldGFkYXRhLlxuICpcbiAqIFxcQHN0YWJsZVxuICogXFxAQW5ub3RhdGlvblxuICovXG52YXIgSG9zdEJpbmRpbmcgPSBtYWtlUHJvcERlY29yYXRvcignSG9zdEJpbmRpbmcnLCBmdW5jdGlvbiAoaG9zdFByb3BlcnR5TmFtZSkgeyByZXR1cm4gKHsgaG9zdFByb3BlcnR5TmFtZTogaG9zdFByb3BlcnR5TmFtZSB9KTsgfSk7XG4vKipcbiAqIEhvc3RMaXN0ZW5lciBkZWNvcmF0b3IgYW5kIG1ldGFkYXRhLlxuICpcbiAqIFxcQHN0YWJsZVxuICogXFxAQW5ub3RhdGlvblxuICovXG52YXIgSG9zdExpc3RlbmVyID0gbWFrZVByb3BEZWNvcmF0b3IoJ0hvc3RMaXN0ZW5lcicsIGZ1bmN0aW9uIChldmVudE5hbWUsIGFyZ3MpIHsgcmV0dXJuICh7IGV2ZW50TmFtZTogZXZlbnROYW1lLCBhcmdzOiBhcmdzIH0pOyB9KTtcbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogRGVmaW5lcyBhIHNjaGVtYSB0aGF0IHdpbGwgYWxsb3c6XG4gKiAtIGFueSBub24tQW5ndWxhciBlbGVtZW50cyB3aXRoIGEgYC1gIGluIHRoZWlyIG5hbWUsXG4gKiAtIGFueSBwcm9wZXJ0aWVzIG9uIGVsZW1lbnRzIHdpdGggYSBgLWAgaW4gdGhlaXIgbmFtZSB3aGljaCBpcyB0aGUgY29tbW9uIHJ1bGUgZm9yIGN1c3RvbVxuICogZWxlbWVudHMuXG4gKlxuICogXFxAc3RhYmxlXG4gKi9cbnZhciBDVVNUT01fRUxFTUVOVFNfU0NIRU1BID0ge1xuICAgIG5hbWU6ICdjdXN0b20tZWxlbWVudHMnXG59O1xuLyoqXG4gKiBEZWZpbmVzIGEgc2NoZW1hIHRoYXQgd2lsbCBhbGxvdyBhbnkgcHJvcGVydHkgb24gYW55IGVsZW1lbnQuXG4gKlxuICogXFxAZXhwZXJpbWVudGFsXG4gKi9cbnZhciBOT19FUlJPUlNfU0NIRU1BID0ge1xuICAgIG5hbWU6ICduby1lcnJvcnMtc2NoZW1hJ1xufTtcbi8qKlxuICogTmdNb2R1bGUgZGVjb3JhdG9yIGFuZCBtZXRhZGF0YS5cbiAqXG4gKiBcXEBzdGFibGVcbiAqIFxcQEFubm90YXRpb25cbiAqL1xudmFyIE5nTW9kdWxlID0gbWFrZURlY29yYXRvcignTmdNb2R1bGUnLCBmdW5jdGlvbiAobmdNb2R1bGUpIHsgcmV0dXJuIG5nTW9kdWxlOyB9KTtcbnZhciBWaWV3RW5jYXBzdWxhdGlvbiA9IHt9O1xuVmlld0VuY2Fwc3VsYXRpb24uRW11bGF0ZWQgPSAwO1xuVmlld0VuY2Fwc3VsYXRpb24uTmF0aXZlID0gMTtcblZpZXdFbmNhcHN1bGF0aW9uLk5vbmUgPSAyO1xuVmlld0VuY2Fwc3VsYXRpb25bVmlld0VuY2Fwc3VsYXRpb24uRW11bGF0ZWRdID0gXCJFbXVsYXRlZFwiO1xuVmlld0VuY2Fwc3VsYXRpb25bVmlld0VuY2Fwc3VsYXRpb24uTmF0aXZlXSA9IFwiTmF0aXZlXCI7XG5WaWV3RW5jYXBzdWxhdGlvbltWaWV3RW5jYXBzdWxhdGlvbi5Ob25lXSA9IFwiTm9uZVwiO1xuLyoqXG4gKiBNZXRhZGF0YSBwcm9wZXJ0aWVzIGF2YWlsYWJsZSBmb3IgY29uZmlndXJpbmcgVmlld3MuXG4gKlxuICogRm9yIGRldGFpbHMgb24gdGhlIGBcXEBDb21wb25lbnRgIGFubm90YXRpb24sIHNlZSB7XFxAbGluayBDb21wb25lbnR9LlxuICpcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogYGBgXG4gKiBcXEBDb21wb25lbnQoe1xuICogICBzZWxlY3RvcjogJ2dyZWV0JyxcbiAqICAgdGVtcGxhdGU6ICdIZWxsbyB7e25hbWV9fSEnLFxuICogfSlcbiAqIGNsYXNzIEdyZWV0IHtcbiAqICAgbmFtZTogc3RyaW5nO1xuICpcbiAqICAgY29uc3RydWN0b3IoKSB7XG4gKiAgICAgdGhpcy5uYW1lID0gJ1dvcmxkJztcbiAqICAgfVxuICogfVxuICogYGBgXG4gKlxuICogQGRlcHJlY2F0ZWQgVXNlIENvbXBvbmVudCBpbnN0ZWFkLlxuICpcbiAqIHtcXEBsaW5rIENvbXBvbmVudH1cbiAqL1xudmFyIFZpZXdNZXRhZGF0YSA9IChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/PX0gb3B0c1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFZpZXdNZXRhZGF0YShvcHRzKSB7XG4gICAgICAgIGlmIChvcHRzID09PSB2b2lkIDApIHsgb3B0cyA9IHt9OyB9XG4gICAgICAgIHRoaXMudGVtcGxhdGVVcmwgPSBvcHRzLnRlbXBsYXRlVXJsO1xuICAgICAgICB0aGlzLnRlbXBsYXRlID0gb3B0cy50ZW1wbGF0ZTtcbiAgICAgICAgdGhpcy5zdHlsZVVybHMgPSBvcHRzLnN0eWxlVXJscztcbiAgICAgICAgdGhpcy5zdHlsZXMgPSBvcHRzLnN0eWxlcztcbiAgICAgICAgdGhpcy5lbmNhcHN1bGF0aW9uID0gb3B0cy5lbmNhcHN1bGF0aW9uO1xuICAgICAgICB0aGlzLmFuaW1hdGlvbnMgPSBvcHRzLmFuaW1hdGlvbnM7XG4gICAgICAgIHRoaXMuaW50ZXJwb2xhdGlvbiA9IG9wdHMuaW50ZXJwb2xhdGlvbjtcbiAgICB9XG4gICAgcmV0dXJuIFZpZXdNZXRhZGF0YTtcbn0oKSk7XG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFxcQHdoYXRJdERvZXMgUmVwcmVzZW50cyB0aGUgdmVyc2lvbiBvZiBBbmd1bGFyXG4gKlxuICogXFxAc3RhYmxlXG4gKi9cbnZhciBWZXJzaW9uID0gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IGZ1bGxcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBWZXJzaW9uKGZ1bGwpIHtcbiAgICAgICAgdGhpcy5mdWxsID0gZnVsbDtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZlcnNpb24ucHJvdG90eXBlLCBcIm1ham9yXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm4gez99XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuZnVsbC5zcGxpdCgnLicpWzBdOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVmVyc2lvbi5wcm90b3R5cGUsIFwibWlub3JcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybiB7P31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5mdWxsLnNwbGl0KCcuJylbMV07IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWZXJzaW9uLnByb3RvdHlwZSwgXCJwYXRjaFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmZ1bGwuc3BsaXQoJy4nKS5zbGljZSgyKS5qb2luKCcuJyk7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBWZXJzaW9uO1xufSgpKTtcbi8qKlxuICogXFxAc3RhYmxlXG4gKi9cbnZhciBWRVJTSU9OID0gbmV3IFZlcnNpb24oJzQuNC42Jyk7XG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEluamVjdCBkZWNvcmF0b3IgYW5kIG1ldGFkYXRhLlxuICpcbiAqIFxcQHN0YWJsZVxuICogXFxAQW5ub3RhdGlvblxuICovXG52YXIgSW5qZWN0ID0gbWFrZVBhcmFtRGVjb3JhdG9yKCdJbmplY3QnLCBmdW5jdGlvbiAodG9rZW4pIHsgcmV0dXJuICh7IHRva2VuOiB0b2tlbiB9KTsgfSk7XG4vKipcbiAqIE9wdGlvbmFsIGRlY29yYXRvciBhbmQgbWV0YWRhdGEuXG4gKlxuICogXFxAc3RhYmxlXG4gKiBcXEBBbm5vdGF0aW9uXG4gKi9cbnZhciBPcHRpb25hbCA9IG1ha2VQYXJhbURlY29yYXRvcignT3B0aW9uYWwnKTtcbi8qKlxuICogSW5qZWN0YWJsZSBkZWNvcmF0b3IgYW5kIG1ldGFkYXRhLlxuICpcbiAqIFxcQHN0YWJsZVxuICogXFxAQW5ub3RhdGlvblxuICovXG52YXIgSW5qZWN0YWJsZSA9IG1ha2VEZWNvcmF0b3IoJ0luamVjdGFibGUnKTtcbi8qKlxuICogU2VsZiBkZWNvcmF0b3IgYW5kIG1ldGFkYXRhLlxuICpcbiAqIFxcQHN0YWJsZVxuICogXFxAQW5ub3RhdGlvblxuICovXG52YXIgU2VsZiA9IG1ha2VQYXJhbURlY29yYXRvcignU2VsZicpO1xuLyoqXG4gKiBTa2lwU2VsZiBkZWNvcmF0b3IgYW5kIG1ldGFkYXRhLlxuICpcbiAqIFxcQHN0YWJsZVxuICogXFxAQW5ub3RhdGlvblxuICovXG52YXIgU2tpcFNlbGYgPSBtYWtlUGFyYW1EZWNvcmF0b3IoJ1NraXBTZWxmJyk7XG4vKipcbiAqIEhvc3QgZGVjb3JhdG9yIGFuZCBtZXRhZGF0YS5cbiAqXG4gKiBcXEBzdGFibGVcbiAqIFxcQEFubm90YXRpb25cbiAqL1xudmFyIEhvc3QgPSBtYWtlUGFyYW1EZWNvcmF0b3IoJ0hvc3QnKTtcbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQWxsb3dzIHRvIHJlZmVyIHRvIHJlZmVyZW5jZXMgd2hpY2ggYXJlIG5vdCB5ZXQgZGVmaW5lZC5cbiAqXG4gKiBGb3IgaW5zdGFuY2UsIGBmb3J3YXJkUmVmYCBpcyB1c2VkIHdoZW4gdGhlIGB0b2tlbmAgd2hpY2ggd2UgbmVlZCB0byByZWZlciB0byBmb3IgdGhlIHB1cnBvc2VzIG9mXG4gKiBESSBpcyBkZWNsYXJlZCxcbiAqIGJ1dCBub3QgeWV0IGRlZmluZWQuIEl0IGlzIGFsc28gdXNlZCB3aGVuIHRoZSBgdG9rZW5gIHdoaWNoIHdlIHVzZSB3aGVuIGNyZWF0aW5nIGEgcXVlcnkgaXMgbm90XG4gKiB5ZXQgZGVmaW5lZC5cbiAqXG4gKiAjIyMgRXhhbXBsZVxuICoge1xcQGV4YW1wbGUgY29yZS9kaS90cy9mb3J3YXJkX3JlZi9mb3J3YXJkX3JlZl9zcGVjLnRzIHJlZ2lvbj0nZm9yd2FyZF9yZWYnfVxuICogXFxAZXhwZXJpbWVudGFsXG4gKiBAcGFyYW0gez99IGZvcndhcmRSZWZGblxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gZm9yd2FyZFJlZihmb3J3YXJkUmVmRm4pIHtcbiAgICAoKGZvcndhcmRSZWZGbikpLl9fZm9yd2FyZF9yZWZfXyA9IGZvcndhcmRSZWY7XG4gICAgKChmb3J3YXJkUmVmRm4pKS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN0cmluZ2lmeSh0aGlzKCkpOyB9O1xuICAgIHJldHVybiAoKChmb3J3YXJkUmVmRm4pKSk7XG59XG4vKipcbiAqIExhemlseSByZXRyaWV2ZXMgdGhlIHJlZmVyZW5jZSB2YWx1ZSBmcm9tIGEgZm9yd2FyZFJlZi5cbiAqXG4gKiBBY3RzIGFzIHRoZSBpZGVudGl0eSBmdW5jdGlvbiB3aGVuIGdpdmVuIGEgbm9uLWZvcndhcmQtcmVmIHZhbHVlLlxuICpcbiAqICMjIyBFeGFtcGxlIChbbGl2ZSBkZW1vXShodHRwOi8vcGxua3IuY28vZWRpdC9HVTcybUpyazFmaW9kQ2hjbWlEUj9wPXByZXZpZXcpKVxuICpcbiAqIHtcXEBleGFtcGxlIGNvcmUvZGkvdHMvZm9yd2FyZF9yZWYvZm9yd2FyZF9yZWZfc3BlYy50cyByZWdpb249J3Jlc29sdmVfZm9yd2FyZF9yZWYnfVxuICpcbiAqIFNlZToge1xcQGxpbmsgZm9yd2FyZFJlZn1cbiAqIFxcQGV4cGVyaW1lbnRhbFxuICogQHBhcmFtIHs/fSB0eXBlXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiByZXNvbHZlRm9yd2FyZFJlZih0eXBlKSB7XG4gICAgaWYgKHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nICYmIHR5cGUuaGFzT3duUHJvcGVydHkoJ19fZm9yd2FyZF9yZWZfXycpICYmXG4gICAgICAgIHR5cGUuX19mb3J3YXJkX3JlZl9fID09PSBmb3J3YXJkUmVmKSB7XG4gICAgICAgIHJldHVybiAoKHR5cGUpKSgpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHR5cGU7XG4gICAgfVxufVxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xudmFyIF9USFJPV19JRl9OT1RfRk9VTkQgPSBuZXcgT2JqZWN0KCk7XG52YXIgVEhST1dfSUZfTk9UX0ZPVU5EID0gX1RIUk9XX0lGX05PVF9GT1VORDtcbnZhciBfTnVsbEluamVjdG9yID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBfTnVsbEluamVjdG9yKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IHRva2VuXG4gICAgICogQHBhcmFtIHs/PX0gbm90Rm91bmRWYWx1ZVxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgX051bGxJbmplY3Rvci5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKHRva2VuLCBub3RGb3VuZFZhbHVlKSB7XG4gICAgICAgIGlmIChub3RGb3VuZFZhbHVlID09PSB2b2lkIDApIHsgbm90Rm91bmRWYWx1ZSA9IF9USFJPV19JRl9OT1RfRk9VTkQ7IH1cbiAgICAgICAgaWYgKG5vdEZvdW5kVmFsdWUgPT09IF9USFJPV19JRl9OT1RfRk9VTkQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIHByb3ZpZGVyIGZvciBcIiArIHN0cmluZ2lmeSh0b2tlbikgKyBcIiFcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5vdEZvdW5kVmFsdWU7XG4gICAgfTtcbiAgICByZXR1cm4gX051bGxJbmplY3Rvcjtcbn0oKSk7XG4vKipcbiAqIFxcQHdoYXRJdERvZXMgSW5qZWN0b3IgaW50ZXJmYWNlXG4gKiBcXEBob3dUb1VzZVxuICogYGBgXG4gKiBjb25zdCBpbmplY3RvcjogSW5qZWN0b3IgPSAuLi47XG4gKiBpbmplY3Rvci5nZXQoLi4uKTtcbiAqIGBgYFxuICpcbiAqIFxcQGRlc2NyaXB0aW9uXG4gKiBGb3IgbW9yZSBkZXRhaWxzLCBzZWUgdGhlIHtcXEBsaW5rRG9jcyBndWlkZS9kZXBlbmRlbmN5LWluamVjdGlvbiBcIkRlcGVuZGVuY3kgSW5qZWN0aW9uIEd1aWRlXCJ9LlxuICpcbiAqICMjIyBFeGFtcGxlXG4gKlxuICoge1xcQGV4YW1wbGUgY29yZS9kaS90cy9pbmplY3Rvcl9zcGVjLnRzIHJlZ2lvbj0nSW5qZWN0b3InfVxuICpcbiAqIGBJbmplY3RvcmAgcmV0dXJucyBpdHNlbGYgd2hlbiBnaXZlbiBgSW5qZWN0b3JgIGFzIGEgdG9rZW46XG4gKiB7XFxAZXhhbXBsZSBjb3JlL2RpL3RzL2luamVjdG9yX3NwZWMudHMgcmVnaW9uPSdpbmplY3RJbmplY3Rvcid9XG4gKlxuICogXFxAc3RhYmxlXG4gKiBAYWJzdHJhY3RcbiAqL1xudmFyIEluamVjdG9yID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBJbmplY3RvcigpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIGFuIGluc3RhbmNlIGZyb20gdGhlIGluamVjdG9yIGJhc2VkIG9uIHRoZSBwcm92aWRlZCB0b2tlbi5cbiAgICAgKiBJZiBub3QgZm91bmQ6XG4gICAgICogLSBUaHJvd3MgYW4gZXJyb3IgaWYgbm8gYG5vdEZvdW5kVmFsdWVgIHRoYXQgaXMgbm90IGVxdWFsIHRvXG4gICAgICogSW5qZWN0b3IuVEhST1dfSUZfTk9UX0ZPVU5EIGlzIGdpdmVuXG4gICAgICogLSBSZXR1cm5zIHRoZSBgbm90Rm91bmRWYWx1ZWAgb3RoZXJ3aXNlXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHRlbXBsYXRlIFRcbiAgICAgKiBAcGFyYW0gez99IHRva2VuXG4gICAgICogQHBhcmFtIHs/PX0gbm90Rm91bmRWYWx1ZVxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgSW5qZWN0b3IucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uICh0b2tlbiwgbm90Rm91bmRWYWx1ZSkgeyB9O1xuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIGZyb20gdjQuMC4wIHVzZSBUeXBlPFQ+IG9yIEluamVjdGlvblRva2VuPFQ+XG4gICAgICogQHN1cHByZXNzIHtkdXBsaWNhdGV9XG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHBhcmFtIHs/fSB0b2tlblxuICAgICAqIEBwYXJhbSB7Pz19IG5vdEZvdW5kVmFsdWVcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIEluamVjdG9yLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAodG9rZW4sIG5vdEZvdW5kVmFsdWUpIHsgfTtcbiAgICByZXR1cm4gSW5qZWN0b3I7XG59KCkpO1xuSW5qZWN0b3IuVEhST1dfSUZfTk9UX0ZPVU5EID0gX1RIUk9XX0lGX05PVF9GT1VORDtcbkluamVjdG9yLk5VTEwgPSBuZXcgX051bGxJbmplY3RvcigpO1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xudmFyIEVSUk9SX0NPTVBPTkVOVF9UWVBFID0gJ25nQ29tcG9uZW50VHlwZSc7XG52YXIgRVJST1JfREVCVUdfQ09OVEVYVCA9ICduZ0RlYnVnQ29udGV4dCc7XG52YXIgRVJST1JfT1JJR0lOQUxfRVJST1IgPSAnbmdPcmlnaW5hbEVycm9yJztcbnZhciBFUlJPUl9MT0dHRVIgPSAnbmdFcnJvckxvZ2dlcic7XG4vKipcbiAqIEBwYXJhbSB7P30gZXJyb3JcbiAqIEByZXR1cm4gez99XG4gKi9cbi8qKlxuICogQHBhcmFtIHs/fSBlcnJvclxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gZ2V0RGVidWdDb250ZXh0KGVycm9yKSB7XG4gICAgcmV0dXJuICgoZXJyb3IpKVtFUlJPUl9ERUJVR19DT05URVhUXTtcbn1cbi8qKlxuICogQHBhcmFtIHs/fSBlcnJvclxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gZ2V0T3JpZ2luYWxFcnJvcihlcnJvcikge1xuICAgIHJldHVybiAoKGVycm9yKSlbRVJST1JfT1JJR0lOQUxfRVJST1JdO1xufVxuLyoqXG4gKiBAcGFyYW0gez99IGVycm9yXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBnZXRFcnJvckxvZ2dlcihlcnJvcikge1xuICAgIHJldHVybiAoKGVycm9yKSlbRVJST1JfTE9HR0VSXSB8fCBkZWZhdWx0RXJyb3JMb2dnZXI7XG59XG4vKipcbiAqIEBwYXJhbSB7P30gY29uc29sZVxuICogQHBhcmFtIHsuLi4/fSB2YWx1ZXNcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGRlZmF1bHRFcnJvckxvZ2dlcihjb25zb2xlKSB7XG4gICAgdmFyIHZhbHVlcyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHZhbHVlc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgY29uc29sZS5lcnJvci5hcHBseShjb25zb2xlLCB2YWx1ZXMpO1xufVxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBcXEB3aGF0SXREb2VzIFByb3ZpZGVzIGEgaG9vayBmb3IgY2VudHJhbGl6ZWQgZXhjZXB0aW9uIGhhbmRsaW5nLlxuICpcbiAqIFxcQGRlc2NyaXB0aW9uXG4gKlxuICogVGhlIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gb2YgYEVycm9ySGFuZGxlcmAgcHJpbnRzIGVycm9yIG1lc3NhZ2VzIHRvIHRoZSBgY29uc29sZWAuIFRvXG4gKiBpbnRlcmNlcHQgZXJyb3IgaGFuZGxpbmcsIHdyaXRlIGEgY3VzdG9tIGV4Y2VwdGlvbiBoYW5kbGVyIHRoYXQgcmVwbGFjZXMgdGhpcyBkZWZhdWx0IGFzXG4gKiBhcHByb3ByaWF0ZSBmb3IgeW91ciBhcHAuXG4gKlxuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBgYGBcbiAqIGNsYXNzIE15RXJyb3JIYW5kbGVyIGltcGxlbWVudHMgRXJyb3JIYW5kbGVyIHtcbiAqICAgaGFuZGxlRXJyb3IoZXJyb3IpIHtcbiAqICAgICAvLyBkbyBzb21ldGhpbmcgd2l0aCB0aGUgZXhjZXB0aW9uXG4gKiAgIH1cbiAqIH1cbiAqXG4gKiBcXEBOZ01vZHVsZSh7XG4gKiAgIHByb3ZpZGVyczogW3twcm92aWRlOiBFcnJvckhhbmRsZXIsIHVzZUNsYXNzOiBNeUVycm9ySGFuZGxlcn1dXG4gKiB9KVxuICogY2xhc3MgTXlNb2R1bGUge31cbiAqIGBgYFxuICpcbiAqIFxcQHN0YWJsZVxuICovXG52YXIgRXJyb3JIYW5kbGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez89fSBkZXByZWNhdGVkUGFyYW1ldGVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gRXJyb3JIYW5kbGVyKFxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdjQuMCBwYXJhbWV0ZXIgbm8gbG9uZ2VyIGhhcyBhbiBlZmZlY3QsIGFzIEVycm9ySGFuZGxlciB3aWxsIG5ldmVyXG4gICAgICAgICAqIHJldGhyb3cuXG4gICAgICAgICAqL1xuICAgICAgICBkZXByZWNhdGVkUGFyYW1ldGVyKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBcXEBpbnRlcm5hbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fY29uc29sZSA9IGNvbnNvbGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gZXJyb3JcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIEVycm9ySGFuZGxlci5wcm90b3R5cGUuaGFuZGxlRXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gb3JpZ2luYWxFcnJvciA9IHRoaXMuX2ZpbmRPcmlnaW5hbEVycm9yKGVycm9yKTtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gY29udGV4dCA9IHRoaXMuX2ZpbmRDb250ZXh0KGVycm9yKTtcbiAgICAgICAgLy8gTm90ZTogQnJvd3NlciBjb25zb2xlcyBzaG93IHRoZSBwbGFjZSBmcm9tIHdoZXJlIGNvbnNvbGUuZXJyb3Igd2FzIGNhbGxlZC5cbiAgICAgICAgLy8gV2UgY2FuIHVzZSB0aGlzIHRvIGdpdmUgdXNlcnMgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZXJyb3IuXG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGVycm9yTG9nZ2VyID0gZ2V0RXJyb3JMb2dnZXIoZXJyb3IpO1xuICAgICAgICBlcnJvckxvZ2dlcih0aGlzLl9jb25zb2xlLCBcIkVSUk9SXCIsIGVycm9yKTtcbiAgICAgICAgaWYgKG9yaWdpbmFsRXJyb3IpIHtcbiAgICAgICAgICAgIGVycm9yTG9nZ2VyKHRoaXMuX2NvbnNvbGUsIFwiT1JJR0lOQUwgRVJST1JcIiwgb3JpZ2luYWxFcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbnRleHQpIHtcbiAgICAgICAgICAgIGVycm9yTG9nZ2VyKHRoaXMuX2NvbnNvbGUsICdFUlJPUiBDT05URVhUJywgY29udGV4dCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFxcQGludGVybmFsXG4gICAgICogQHBhcmFtIHs/fSBlcnJvclxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgRXJyb3JIYW5kbGVyLnByb3RvdHlwZS5fZmluZENvbnRleHQgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0RGVidWdDb250ZXh0KGVycm9yKSA/IGdldERlYnVnQ29udGV4dChlcnJvcikgOlxuICAgICAgICAgICAgICAgIHRoaXMuX2ZpbmRDb250ZXh0KGdldE9yaWdpbmFsRXJyb3IoZXJyb3IpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFxcQGludGVybmFsXG4gICAgICogQHBhcmFtIHs/fSBlcnJvclxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgRXJyb3JIYW5kbGVyLnByb3RvdHlwZS5fZmluZE9yaWdpbmFsRXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gZSA9IGdldE9yaWdpbmFsRXJyb3IoZXJyb3IpO1xuICAgICAgICB3aGlsZSAoZSAmJiBnZXRPcmlnaW5hbEVycm9yKGUpKSB7XG4gICAgICAgICAgICBlID0gZ2V0T3JpZ2luYWxFcnJvcihlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZTtcbiAgICB9O1xuICAgIHJldHVybiBFcnJvckhhbmRsZXI7XG59KCkpO1xuLyoqXG4gKiBAcGFyYW0gez99IG1lc3NhZ2VcbiAqIEBwYXJhbSB7P30gb3JpZ2luYWxFcnJvclxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gd3JhcHBlZEVycm9yKG1lc3NhZ2UsIG9yaWdpbmFsRXJyb3IpIHtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBtc2cgPSBtZXNzYWdlICsgXCIgY2F1c2VkIGJ5OiBcIiArIChvcmlnaW5hbEVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBvcmlnaW5hbEVycm9yLm1lc3NhZ2UgOiBvcmlnaW5hbEVycm9yKTtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBlcnJvciA9IEVycm9yKG1zZyk7XG4gICAgKChlcnJvcikpW0VSUk9SX09SSUdJTkFMX0VSUk9SXSA9IG9yaWdpbmFsRXJyb3I7XG4gICAgcmV0dXJuIGVycm9yO1xufVxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBAcGFyYW0gez99IGtleXNcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGZpbmRGaXJzdENsb3NlZEN5Y2xlKGtleXMpIHtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyByZXMgPSBbXTtcbiAgICBmb3IgKHZhciAvKiogQHR5cGUgez99ICovIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICBpZiAocmVzLmluZGV4T2Yoa2V5c1tpXSkgPiAtMSkge1xuICAgICAgICAgICAgcmVzLnB1c2goa2V5c1tpXSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9XG4gICAgICAgIHJlcy5wdXNoKGtleXNbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuLyoqXG4gKiBAcGFyYW0gez99IGtleXNcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGNvbnN0cnVjdFJlc29sdmluZ1BhdGgoa2V5cykge1xuICAgIGlmIChrZXlzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcmV2ZXJzZWQgPSBmaW5kRmlyc3RDbG9zZWRDeWNsZShrZXlzLnNsaWNlKCkucmV2ZXJzZSgpKTtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gdG9rZW5TdHJzID0gcmV2ZXJzZWQubWFwKGZ1bmN0aW9uIChrKSB7IHJldHVybiBzdHJpbmdpZnkoay50b2tlbik7IH0pO1xuICAgICAgICByZXR1cm4gJyAoJyArIHRva2VuU3Rycy5qb2luKCcgLT4gJykgKyAnKSc7XG4gICAgfVxuICAgIHJldHVybiAnJztcbn1cbi8qKlxuICogQHBhcmFtIHs/fSBpbmplY3RvclxuICogQHBhcmFtIHs/fSBrZXlcbiAqIEBwYXJhbSB7P30gY29uc3RydWN0UmVzb2x2aW5nTWVzc2FnZVxuICogQHBhcmFtIHs/PX0gb3JpZ2luYWxFcnJvclxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gaW5qZWN0aW9uRXJyb3IoaW5qZWN0b3IsIGtleSwgY29uc3RydWN0UmVzb2x2aW5nTWVzc2FnZSwgb3JpZ2luYWxFcnJvcikge1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIGtleXMgPSBba2V5XTtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBlcnJNc2cgPSBjb25zdHJ1Y3RSZXNvbHZpbmdNZXNzYWdlKGtleXMpO1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIGVycm9yID0gKChvcmlnaW5hbEVycm9yID8gd3JhcHBlZEVycm9yKGVyck1zZywgb3JpZ2luYWxFcnJvcikgOiBFcnJvcihlcnJNc2cpKSk7XG4gICAgZXJyb3IuYWRkS2V5ID0gYWRkS2V5O1xuICAgIGVycm9yLmtleXMgPSBrZXlzO1xuICAgIGVycm9yLmluamVjdG9ycyA9IFtpbmplY3Rvcl07XG4gICAgZXJyb3IuY29uc3RydWN0UmVzb2x2aW5nTWVzc2FnZSA9IGNvbnN0cnVjdFJlc29sdmluZ01lc3NhZ2U7XG4gICAgKChlcnJvcikpW0VSUk9SX09SSUdJTkFMX0VSUk9SXSA9IG9yaWdpbmFsRXJyb3I7XG4gICAgcmV0dXJuIGVycm9yO1xufVxuLyoqXG4gKiBAdGhpcyB7P31cbiAqIEBwYXJhbSB7P30gaW5qZWN0b3JcbiAqIEBwYXJhbSB7P30ga2V5XG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBhZGRLZXkoaW5qZWN0b3IsIGtleSkge1xuICAgIHRoaXMuaW5qZWN0b3JzLnB1c2goaW5qZWN0b3IpO1xuICAgIHRoaXMua2V5cy5wdXNoKGtleSk7XG4gICAgLy8gTm90ZTogVGhpcyB1cGRhdGVkIG1lc3NhZ2Ugd29uJ3QgYmUgcmVmbGVjdGVkIGluIHRoZSBgLnN0YWNrYCBwcm9wZXJ0eVxuICAgIHRoaXMubWVzc2FnZSA9IHRoaXMuY29uc3RydWN0UmVzb2x2aW5nTWVzc2FnZSh0aGlzLmtleXMpO1xufVxuLyoqXG4gKiBUaHJvd24gd2hlbiB0cnlpbmcgdG8gcmV0cmlldmUgYSBkZXBlbmRlbmN5IGJ5IGtleSBmcm9tIHtcXEBsaW5rIEluamVjdG9yfSwgYnV0IHRoZVxuICoge1xcQGxpbmsgSW5qZWN0b3J9IGRvZXMgbm90IGhhdmUgYSB7XFxAbGluayBQcm92aWRlcn0gZm9yIHRoZSBnaXZlbiBrZXkuXG4gKlxuICogIyMjIEV4YW1wbGUgKFtsaXZlIGRlbW9dKGh0dHA6Ly9wbG5rci5jby9lZGl0L3ZxOEQzRlJCOWFHYm5XSnF0RVBFP3A9cHJldmlldykpXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogY2xhc3MgQSB7XG4gKiAgIGNvbnN0cnVjdG9yKGI6Qikge31cbiAqIH1cbiAqXG4gKiBleHBlY3QoKCkgPT4gSW5qZWN0b3IucmVzb2x2ZUFuZENyZWF0ZShbQV0pKS50b1Rocm93RXJyb3IoKTtcbiAqIGBgYFxuICogQHBhcmFtIHs/fSBpbmplY3RvclxuICogQHBhcmFtIHs/fSBrZXlcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIG5vUHJvdmlkZXJFcnJvcihpbmplY3Rvciwga2V5KSB7XG4gICAgcmV0dXJuIGluamVjdGlvbkVycm9yKGluamVjdG9yLCBrZXksIGZ1bmN0aW9uIChrZXlzKSB7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGZpcnN0ID0gc3RyaW5naWZ5KGtleXNbMF0udG9rZW4pO1xuICAgICAgICByZXR1cm4gXCJObyBwcm92aWRlciBmb3IgXCIgKyBmaXJzdCArIFwiIVwiICsgY29uc3RydWN0UmVzb2x2aW5nUGF0aChrZXlzKTtcbiAgICB9KTtcbn1cbi8qKlxuICogVGhyb3duIHdoZW4gZGVwZW5kZW5jaWVzIGZvcm0gYSBjeWNsZS5cbiAqXG4gKiAjIyMgRXhhbXBsZSAoW2xpdmUgZGVtb10oaHR0cDovL3BsbmtyLmNvL2VkaXQvd1lRZE5vczBUenFsM2VpMUVWOWo/cD1pbmZvKSlcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiB2YXIgaW5qZWN0b3IgPSBJbmplY3Rvci5yZXNvbHZlQW5kQ3JlYXRlKFtcbiAqICAge3Byb3ZpZGU6IFwib25lXCIsIHVzZUZhY3Rvcnk6ICh0d28pID0+IFwidHdvXCIsIGRlcHM6IFtbbmV3IEluamVjdChcInR3b1wiKV1dfSxcbiAqICAge3Byb3ZpZGU6IFwidHdvXCIsIHVzZUZhY3Rvcnk6IChvbmUpID0+IFwib25lXCIsIGRlcHM6IFtbbmV3IEluamVjdChcIm9uZVwiKV1dfVxuICogXSk7XG4gKlxuICogZXhwZWN0KCgpID0+IGluamVjdG9yLmdldChcIm9uZVwiKSkudG9UaHJvd0Vycm9yKCk7XG4gKiBgYGBcbiAqXG4gKiBSZXRyaWV2aW5nIGBBYCBvciBgQmAgdGhyb3dzIGEgYEN5Y2xpY0RlcGVuZGVuY3lFcnJvcmAgYXMgdGhlIGdyYXBoIGFib3ZlIGNhbm5vdCBiZSBjb25zdHJ1Y3RlZC5cbiAqIEBwYXJhbSB7P30gaW5qZWN0b3JcbiAqIEBwYXJhbSB7P30ga2V5XG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBjeWNsaWNEZXBlbmRlbmN5RXJyb3IoaW5qZWN0b3IsIGtleSkge1xuICAgIHJldHVybiBpbmplY3Rpb25FcnJvcihpbmplY3Rvciwga2V5LCBmdW5jdGlvbiAoa2V5cykge1xuICAgICAgICByZXR1cm4gXCJDYW5ub3QgaW5zdGFudGlhdGUgY3ljbGljIGRlcGVuZGVuY3khXCIgKyBjb25zdHJ1Y3RSZXNvbHZpbmdQYXRoKGtleXMpO1xuICAgIH0pO1xufVxuLyoqXG4gKiBUaHJvd24gd2hlbiBhIGNvbnN0cnVjdGluZyB0eXBlIHJldHVybnMgd2l0aCBhbiBFcnJvci5cbiAqXG4gKiBUaGUgYEluc3RhbnRpYXRpb25FcnJvcmAgY2xhc3MgY29udGFpbnMgdGhlIG9yaWdpbmFsIGVycm9yIHBsdXMgdGhlIGRlcGVuZGVuY3kgZ3JhcGggd2hpY2ggY2F1c2VkXG4gKiB0aGlzIG9iamVjdCB0byBiZSBpbnN0YW50aWF0ZWQuXG4gKlxuICogIyMjIEV4YW1wbGUgKFtsaXZlIGRlbW9dKGh0dHA6Ly9wbG5rci5jby9lZGl0LzdhV1lkY3FUUXNQMGVOcUVkVUFmP3A9cHJldmlldykpXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogY2xhc3MgQSB7XG4gKiAgIGNvbnN0cnVjdG9yKCkge1xuICogICAgIHRocm93IG5ldyBFcnJvcignbWVzc2FnZScpO1xuICogICB9XG4gKiB9XG4gKlxuICogdmFyIGluamVjdG9yID0gSW5qZWN0b3IucmVzb2x2ZUFuZENyZWF0ZShbQV0pO1xuICogdHJ5IHtcbiAqICAgaW5qZWN0b3IuZ2V0KEEpO1xuICogfSBjYXRjaCAoZSkge1xuICogICBleHBlY3QoZSBpbnN0YW5jZW9mIEluc3RhbnRpYXRpb25FcnJvcikudG9CZSh0cnVlKTtcbiAqICAgZXhwZWN0KGUub3JpZ2luYWxFeGNlcHRpb24ubWVzc2FnZSkudG9FcXVhbChcIm1lc3NhZ2VcIik7XG4gKiAgIGV4cGVjdChlLm9yaWdpbmFsU3RhY2spLnRvQmVEZWZpbmVkKCk7XG4gKiB9XG4gKiBgYGBcbiAqIEBwYXJhbSB7P30gaW5qZWN0b3JcbiAqIEBwYXJhbSB7P30gb3JpZ2luYWxFeGNlcHRpb25cbiAqIEBwYXJhbSB7P30gb3JpZ2luYWxTdGFja1xuICogQHBhcmFtIHs/fSBrZXlcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGluc3RhbnRpYXRpb25FcnJvcihpbmplY3Rvciwgb3JpZ2luYWxFeGNlcHRpb24sIG9yaWdpbmFsU3RhY2ssIGtleSkge1xuICAgIHJldHVybiBpbmplY3Rpb25FcnJvcihpbmplY3Rvciwga2V5LCBmdW5jdGlvbiAoa2V5cykge1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBmaXJzdCA9IHN0cmluZ2lmeShrZXlzWzBdLnRva2VuKTtcbiAgICAgICAgcmV0dXJuIG9yaWdpbmFsRXhjZXB0aW9uLm1lc3NhZ2UgKyBcIjogRXJyb3IgZHVyaW5nIGluc3RhbnRpYXRpb24gb2YgXCIgKyBmaXJzdCArIFwiIVwiICsgY29uc3RydWN0UmVzb2x2aW5nUGF0aChrZXlzKSArIFwiLlwiO1xuICAgIH0sIG9yaWdpbmFsRXhjZXB0aW9uKTtcbn1cbi8qKlxuICogVGhyb3duIHdoZW4gYW4gb2JqZWN0IG90aGVyIHRoZW4ge1xcQGxpbmsgUHJvdmlkZXJ9IChvciBgVHlwZWApIGlzIHBhc3NlZCB0byB7XFxAbGluayBJbmplY3Rvcn1cbiAqIGNyZWF0aW9uLlxuICpcbiAqICMjIyBFeGFtcGxlIChbbGl2ZSBkZW1vXShodHRwOi8vcGxua3IuY28vZWRpdC9ZYXRDRmJQQU1DTDBKU1NRNG12SD9wPXByZXZpZXcpKVxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGV4cGVjdCgoKSA9PiBJbmplY3Rvci5yZXNvbHZlQW5kQ3JlYXRlKFtcIm5vdCBhIHR5cGVcIl0pKS50b1Rocm93RXJyb3IoKTtcbiAqIGBgYFxuICogQHBhcmFtIHs/fSBwcm92aWRlclxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gaW52YWxpZFByb3ZpZGVyRXJyb3IocHJvdmlkZXIpIHtcbiAgICByZXR1cm4gRXJyb3IoXCJJbnZhbGlkIHByb3ZpZGVyIC0gb25seSBpbnN0YW5jZXMgb2YgUHJvdmlkZXIgYW5kIFR5cGUgYXJlIGFsbG93ZWQsIGdvdDogXCIgKyBwcm92aWRlcik7XG59XG4vKipcbiAqIFRocm93biB3aGVuIHRoZSBjbGFzcyBoYXMgbm8gYW5ub3RhdGlvbiBpbmZvcm1hdGlvbi5cbiAqXG4gKiBMYWNrIG9mIGFubm90YXRpb24gaW5mb3JtYXRpb24gcHJldmVudHMgdGhlIHtcXEBsaW5rIEluamVjdG9yfSBmcm9tIGRldGVybWluaW5nIHdoaWNoIGRlcGVuZGVuY2llc1xuICogbmVlZCB0byBiZSBpbmplY3RlZCBpbnRvIHRoZSBjb25zdHJ1Y3Rvci5cbiAqXG4gKiAjIyMgRXhhbXBsZSAoW2xpdmUgZGVtb10oaHR0cDovL3BsbmtyLmNvL2VkaXQvckhuWnRsTlM3dkpPUFE2cGNWa20/cD1wcmV2aWV3KSlcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBjbGFzcyBBIHtcbiAqICAgY29uc3RydWN0b3IoYikge31cbiAqIH1cbiAqXG4gKiBleHBlY3QoKCkgPT4gSW5qZWN0b3IucmVzb2x2ZUFuZENyZWF0ZShbQV0pKS50b1Rocm93RXJyb3IoKTtcbiAqIGBgYFxuICpcbiAqIFRoaXMgZXJyb3IgaXMgYWxzbyB0aHJvd24gd2hlbiB0aGUgY2xhc3Mgbm90IG1hcmtlZCB3aXRoIHtcXEBsaW5rIEluamVjdGFibGV9IGhhcyBwYXJhbWV0ZXIgdHlwZXMuXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogY2xhc3MgQiB7fVxuICpcbiAqIGNsYXNzIEEge1xuICogICBjb25zdHJ1Y3RvcihiOkIpIHt9IC8vIG5vIGluZm9ybWF0aW9uIGFib3V0IHRoZSBwYXJhbWV0ZXIgdHlwZXMgb2YgQSBpcyBhdmFpbGFibGUgYXQgcnVudGltZS5cbiAqIH1cbiAqXG4gKiBleHBlY3QoKCkgPT4gSW5qZWN0b3IucmVzb2x2ZUFuZENyZWF0ZShbQSxCXSkpLnRvVGhyb3dFcnJvcigpO1xuICogYGBgXG4gKiBcXEBzdGFibGVcbiAqIEBwYXJhbSB7P30gdHlwZU9yRnVuY1xuICogQHBhcmFtIHs/fSBwYXJhbXNcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIG5vQW5ub3RhdGlvbkVycm9yKHR5cGVPckZ1bmMsIHBhcmFtcykge1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIHNpZ25hdHVyZSA9IFtdO1xuICAgIGZvciAodmFyIC8qKiBAdHlwZSB7P30gKi8gaSA9IDAsIC8qKiBAdHlwZSB7P30gKi8gaWkgPSBwYXJhbXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBwYXJhbWV0ZXIgPSBwYXJhbXNbaV07XG4gICAgICAgIGlmICghcGFyYW1ldGVyIHx8IHBhcmFtZXRlci5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgc2lnbmF0dXJlLnB1c2goJz8nKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNpZ25hdHVyZS5wdXNoKHBhcmFtZXRlci5tYXAoc3RyaW5naWZ5KS5qb2luKCcgJykpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBFcnJvcignQ2Fubm90IHJlc29sdmUgYWxsIHBhcmFtZXRlcnMgZm9yIFxcJycgKyBzdHJpbmdpZnkodHlwZU9yRnVuYykgKyAnXFwnKCcgK1xuICAgICAgICBzaWduYXR1cmUuam9pbignLCAnKSArICcpLiAnICtcbiAgICAgICAgJ01ha2Ugc3VyZSB0aGF0IGFsbCB0aGUgcGFyYW1ldGVycyBhcmUgZGVjb3JhdGVkIHdpdGggSW5qZWN0IG9yIGhhdmUgdmFsaWQgdHlwZSBhbm5vdGF0aW9ucyBhbmQgdGhhdCBcXCcnICtcbiAgICAgICAgc3RyaW5naWZ5KHR5cGVPckZ1bmMpICsgJ1xcJyBpcyBkZWNvcmF0ZWQgd2l0aCBJbmplY3RhYmxlLicpO1xufVxuLyoqXG4gKiBUaHJvd24gd2hlbiBnZXR0aW5nIGFuIG9iamVjdCBieSBpbmRleC5cbiAqXG4gKiAjIyMgRXhhbXBsZSAoW2xpdmUgZGVtb10oaHR0cDovL3BsbmtyLmNvL2VkaXQvYlJzMFNYMk9UUWlKenF2amdsOFA/cD1wcmV2aWV3KSlcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBjbGFzcyBBIHt9XG4gKlxuICogdmFyIGluamVjdG9yID0gSW5qZWN0b3IucmVzb2x2ZUFuZENyZWF0ZShbQV0pO1xuICpcbiAqIGV4cGVjdCgoKSA9PiBpbmplY3Rvci5nZXRBdCgxMDApKS50b1Rocm93RXJyb3IoKTtcbiAqIGBgYFxuICogXFxAc3RhYmxlXG4gKiBAcGFyYW0gez99IGluZGV4XG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBvdXRPZkJvdW5kc0Vycm9yKGluZGV4KSB7XG4gICAgcmV0dXJuIEVycm9yKFwiSW5kZXggXCIgKyBpbmRleCArIFwiIGlzIG91dC1vZi1ib3VuZHMuXCIpO1xufVxuLyoqXG4gKiBUaHJvd24gd2hlbiBhIG11bHRpIHByb3ZpZGVyIGFuZCBhIHJlZ3VsYXIgcHJvdmlkZXIgYXJlIGJvdW5kIHRvIHRoZSBzYW1lIHRva2VuLlxuICpcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogZXhwZWN0KCgpID0+IEluamVjdG9yLnJlc29sdmVBbmRDcmVhdGUoW1xuICogICB7IHByb3ZpZGU6IFwiU3RyaW5nc1wiLCB1c2VWYWx1ZTogXCJzdHJpbmcxXCIsIG11bHRpOiB0cnVlfSxcbiAqICAgeyBwcm92aWRlOiBcIlN0cmluZ3NcIiwgdXNlVmFsdWU6IFwic3RyaW5nMlwiLCBtdWx0aTogZmFsc2V9XG4gKiBdKSkudG9UaHJvd0Vycm9yKCk7XG4gKiBgYGBcbiAqIEBwYXJhbSB7P30gcHJvdmlkZXIxXG4gKiBAcGFyYW0gez99IHByb3ZpZGVyMlxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gbWl4aW5nTXVsdGlQcm92aWRlcnNXaXRoUmVndWxhclByb3ZpZGVyc0Vycm9yKHByb3ZpZGVyMSwgcHJvdmlkZXIyKSB7XG4gICAgcmV0dXJuIEVycm9yKFwiQ2Fubm90IG1peCBtdWx0aSBwcm92aWRlcnMgYW5kIHJlZ3VsYXIgcHJvdmlkZXJzLCBnb3Q6IFwiICsgcHJvdmlkZXIxICsgXCIgXCIgKyBwcm92aWRlcjIpO1xufVxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBBIHVuaXF1ZSBvYmplY3QgdXNlZCBmb3IgcmV0cmlldmluZyBpdGVtcyBmcm9tIHRoZSB7XFxAbGluayBSZWZsZWN0aXZlSW5qZWN0b3J9LlxuICpcbiAqIEtleXMgaGF2ZTpcbiAqIC0gYSBzeXN0ZW0td2lkZSB1bmlxdWUgYGlkYC5cbiAqIC0gYSBgdG9rZW5gLlxuICpcbiAqIGBLZXlgIGlzIHVzZWQgaW50ZXJuYWxseSBieSB7XFxAbGluayBSZWZsZWN0aXZlSW5qZWN0b3J9IGJlY2F1c2UgaXRzIHN5c3RlbS13aWRlIHVuaXF1ZSBgaWRgIGFsbG93c1xuICogdGhlXG4gKiBpbmplY3RvciB0byBzdG9yZSBjcmVhdGVkIG9iamVjdHMgaW4gYSBtb3JlIGVmZmljaWVudCB3YXkuXG4gKlxuICogYEtleWAgc2hvdWxkIG5vdCBiZSBjcmVhdGVkIGRpcmVjdGx5LiB7XFxAbGluayBSZWZsZWN0aXZlSW5qZWN0b3J9IGNyZWF0ZXMga2V5cyBhdXRvbWF0aWNhbGx5IHdoZW5cbiAqIHJlc29sdmluZ1xuICogcHJvdmlkZXJzLlxuICogXFxAZXhwZXJpbWVudGFsXG4gKi9cbnZhciBSZWZsZWN0aXZlS2V5ID0gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBQcml2YXRlXG4gICAgICogQHBhcmFtIHs/fSB0b2tlblxuICAgICAqIEBwYXJhbSB7P30gaWRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSZWZsZWN0aXZlS2V5KHRva2VuLCBpZCkge1xuICAgICAgICB0aGlzLnRva2VuID0gdG9rZW47XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgaWYgKCF0b2tlbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUb2tlbiBtdXN0IGJlIGRlZmluZWQhJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlZmxlY3RpdmVLZXkucHJvdG90eXBlLCBcImRpc3BsYXlOYW1lXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgYSBzdHJpbmdpZmllZCB0b2tlbi5cbiAgICAgICAgICogQHJldHVybiB7P31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc3RyaW5naWZ5KHRoaXMudG9rZW4pOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgYSBgS2V5YCBmb3IgYSB0b2tlbi5cbiAgICAgKiBAcGFyYW0gez99IHRva2VuXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBSZWZsZWN0aXZlS2V5LmdldCA9IGZ1bmN0aW9uICh0b2tlbikge1xuICAgICAgICByZXR1cm4gX2dsb2JhbEtleVJlZ2lzdHJ5LmdldChyZXNvbHZlRm9yd2FyZFJlZih0b2tlbikpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlZmxlY3RpdmVLZXksIFwibnVtYmVyT2ZLZXlzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm4gez99IHRoZSBudW1iZXIgb2Yga2V5cyByZWdpc3RlcmVkIGluIHRoZSBzeXN0ZW0uXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF9nbG9iYWxLZXlSZWdpc3RyeS5udW1iZXJPZktleXM7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBSZWZsZWN0aXZlS2V5O1xufSgpKTtcbi8qKlxuICogXFxAaW50ZXJuYWxcbiAqL1xudmFyIEtleVJlZ2lzdHJ5ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBLZXlSZWdpc3RyeSgpIHtcbiAgICAgICAgdGhpcy5fYWxsS2V5cyA9IG5ldyBNYXAoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSB0b2tlblxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgS2V5UmVnaXN0cnkucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uICh0b2tlbikge1xuICAgICAgICBpZiAodG9rZW4gaW5zdGFuY2VvZiBSZWZsZWN0aXZlS2V5KVxuICAgICAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgICAgICBpZiAodGhpcy5fYWxsS2V5cy5oYXModG9rZW4pKSB7XG4gICAgICAgICAgICByZXR1cm4gKCh0aGlzLl9hbGxLZXlzLmdldCh0b2tlbikpKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBuZXdLZXkgPSBuZXcgUmVmbGVjdGl2ZUtleSh0b2tlbiwgUmVmbGVjdGl2ZUtleS5udW1iZXJPZktleXMpO1xuICAgICAgICB0aGlzLl9hbGxLZXlzLnNldCh0b2tlbiwgbmV3S2V5KTtcbiAgICAgICAgcmV0dXJuIG5ld0tleTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShLZXlSZWdpc3RyeS5wcm90b3R5cGUsIFwibnVtYmVyT2ZLZXlzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm4gez99XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX2FsbEtleXMuc2l6ZTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIEtleVJlZ2lzdHJ5O1xufSgpKTtcbnZhciBfZ2xvYmFsS2V5UmVnaXN0cnkgPSBuZXcgS2V5UmVnaXN0cnkoKTtcbi8qKlxuICogXFxAd2hhdEl0RG9lcyBSZXByZXNlbnRzIGEgdHlwZSB0aGF0IGEgQ29tcG9uZW50IG9yIG90aGVyIG9iamVjdCBpcyBpbnN0YW5jZXMgb2YuXG4gKlxuICogXFxAZGVzY3JpcHRpb25cbiAqXG4gKiBBbiBleGFtcGxlIG9mIGEgYFR5cGVgIGlzIGBNeUN1c3RvbUNvbXBvbmVudGAgY2xhc3MsIHdoaWNoIGluIEphdmFTY3JpcHQgaXMgYmUgcmVwcmVzZW50ZWQgYnlcbiAqIHRoZSBgTXlDdXN0b21Db21wb25lbnRgIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLlxuICpcbiAqIFxcQHN0YWJsZVxuICovXG52YXIgVHlwZSA9IEZ1bmN0aW9uO1xuLyoqXG4gKiBAcGFyYW0gez99IHZcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGlzVHlwZSh2KSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2ID09PSAnZnVuY3Rpb24nO1xufVxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBBdHRlbnRpb246IFRoaXMgcmVnZXggaGFzIHRvIGhvbGQgZXZlbiBpZiB0aGUgY29kZSBpcyBtaW5pZmllZCFcbiAqL1xudmFyIERFTEVHQVRFX0NUT1IgPSAvXmZ1bmN0aW9uXFxzK1xcUytcXChcXClcXHMqe1tcXHNcXFNdK1xcLmFwcGx5XFwodGhpcyxcXHMqYXJndW1lbnRzXFwpLztcbnZhciBSZWZsZWN0aW9uQ2FwYWJpbGl0aWVzID0gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez89fSByZWZsZWN0XG4gICAgICovXG4gICAgZnVuY3Rpb24gUmVmbGVjdGlvbkNhcGFiaWxpdGllcyhyZWZsZWN0KSB7XG4gICAgICAgIHRoaXMuX3JlZmxlY3QgPSByZWZsZWN0IHx8IF9nbG9iYWxbJ1JlZmxlY3QnXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBSZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLnByb3RvdHlwZS5pc1JlZmxlY3Rpb25FbmFibGVkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdHJ1ZTsgfTtcbiAgICAvKipcbiAgICAgKiBAdGVtcGxhdGUgVFxuICAgICAqIEBwYXJhbSB7P30gdFxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgUmVmbGVjdGlvbkNhcGFiaWxpdGllcy5wcm90b3R5cGUuZmFjdG9yeSA9IGZ1bmN0aW9uICh0KSB7IHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyAodC5iaW5kLmFwcGx5KHQsIFt2b2lkIDBdLmNvbmNhdChhcmdzKSkpKCk7XG4gICAgfTsgfTtcbiAgICAvKipcbiAgICAgKiBcXEBpbnRlcm5hbFxuICAgICAqIEBwYXJhbSB7P30gcGFyYW1UeXBlc1xuICAgICAqIEBwYXJhbSB7P30gcGFyYW1Bbm5vdGF0aW9uc1xuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgUmVmbGVjdGlvbkNhcGFiaWxpdGllcy5wcm90b3R5cGUuX3ppcFR5cGVzQW5kQW5ub3RhdGlvbnMgPSBmdW5jdGlvbiAocGFyYW1UeXBlcywgcGFyYW1Bbm5vdGF0aW9ucykge1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyByZXN1bHQ7XG4gICAgICAgIGlmICh0eXBlb2YgcGFyYW1UeXBlcyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IG5ldyBBcnJheShwYXJhbUFubm90YXRpb25zLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQgPSBuZXcgQXJyYXkocGFyYW1UeXBlcy5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIC8qKiBAdHlwZSB7P30gKi8gaSA9IDA7IGkgPCByZXN1bHQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIC8vIFRTIG91dHB1dHMgT2JqZWN0IGZvciBwYXJhbWV0ZXJzIHdpdGhvdXQgdHlwZXMsIHdoaWxlIFRyYWNldXIgb21pdHNcbiAgICAgICAgICAgIC8vIHRoZSBhbm5vdGF0aW9ucy4gRm9yIG5vdyB3ZSBwcmVzZXJ2ZSB0aGUgVHJhY2V1ciBiZWhhdmlvciB0byBhaWRcbiAgICAgICAgICAgIC8vIG1pZ3JhdGlvbiwgYnV0IHRoaXMgY2FuIGJlIHJldmlzaXRlZC5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgcGFyYW1UeXBlcyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICByZXN1bHRbaV0gPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHBhcmFtVHlwZXNbaV0gIT0gT2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W2ldID0gW3BhcmFtVHlwZXNbaV1dO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W2ldID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocGFyYW1Bbm5vdGF0aW9ucyAmJiBwYXJhbUFubm90YXRpb25zW2ldICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXN1bHRbaV0gPSByZXN1bHRbaV0uY29uY2F0KHBhcmFtQW5ub3RhdGlvbnNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IHR5cGVcbiAgICAgKiBAcGFyYW0gez99IHBhcmVudEN0b3JcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFJlZmxlY3Rpb25DYXBhYmlsaXRpZXMucHJvdG90eXBlLl9vd25QYXJhbWV0ZXJzID0gZnVuY3Rpb24gKHR5cGUsIHBhcmVudEN0b3IpIHtcbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBubyBkZWNvcmF0b3JzLCB3ZSBvbmx5IGhhdmUgZnVuY3Rpb24ubGVuZ3RoIGFzIG1ldGFkYXRhLlxuICAgICAgICAvLyBJbiB0aGF0IGNhc2UsIHRvIGRldGVjdCB3aGV0aGVyIGEgY2hpbGQgY2xhc3MgZGVjbGFyZWQgYW4gb3duIGNvbnN0cnVjdG9yIG9yIG5vdCxcbiAgICAgICAgLy8gd2UgbmVlZCB0byBsb29rIGluc2lkZSBvZiB0aGF0IGNvbnN0cnVjdG9yIHRvIGNoZWNrIHdoZXRoZXIgaXQgaXNcbiAgICAgICAgLy8ganVzdCBjYWxsaW5nIHRoZSBwYXJlbnQuXG4gICAgICAgIC8vIFRoaXMgYWxzbyBoZWxwcyB0byB3b3JrIGFyb3VuZCBmb3IgaHR0cHM6Ly9naXRodWIuY29tL01pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8xMjQzOVxuICAgICAgICAvLyB0aGF0IHNldHMgJ2Rlc2lnbjpwYXJhbXR5cGVzJyB0byBbXVxuICAgICAgICAvLyBpZiBhIGNsYXNzIGluaGVyaXRzIGZyb20gYW5vdGhlciBjbGFzcyBidXQgaGFzIG5vIGN0b3IgZGVjbGFyZWQgaXRzZWxmLlxuICAgICAgICBpZiAoREVMRUdBVEVfQ1RPUi5leGVjKHR5cGUudG9TdHJpbmcoKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIFByZWZlciB0aGUgZGlyZWN0IEFQSS5cbiAgICAgICAgaWYgKCgodHlwZSkpLnBhcmFtZXRlcnMgJiYgKCh0eXBlKSkucGFyYW1ldGVycyAhPT0gcGFyZW50Q3Rvci5wYXJhbWV0ZXJzKSB7XG4gICAgICAgICAgICByZXR1cm4gKCh0eXBlKSkucGFyYW1ldGVycztcbiAgICAgICAgfVxuICAgICAgICAvLyBBUEkgb2YgdHNpY2tsZSBmb3IgbG93ZXJpbmcgZGVjb3JhdG9ycyB0byBwcm9wZXJ0aWVzIG9uIHRoZSBjbGFzcy5cbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gdHNpY2tsZUN0b3JQYXJhbXMgPSAoKHR5cGUpKS5jdG9yUGFyYW1ldGVycztcbiAgICAgICAgaWYgKHRzaWNrbGVDdG9yUGFyYW1zICYmIHRzaWNrbGVDdG9yUGFyYW1zICE9PSBwYXJlbnRDdG9yLmN0b3JQYXJhbWV0ZXJzKSB7XG4gICAgICAgICAgICAvLyBOZXdlciB0c2lja2xlIHVzZXMgYSBmdW5jdGlvbiBjbG9zdXJlXG4gICAgICAgICAgICAvLyBSZXRhaW4gdGhlIG5vbi1mdW5jdGlvbiBjYXNlIGZvciBjb21wYXRpYmlsaXR5IHdpdGggb2xkZXIgdHNpY2tsZVxuICAgICAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gY3RvclBhcmFtZXRlcnMgPSB0eXBlb2YgdHNpY2tsZUN0b3JQYXJhbXMgPT09ICdmdW5jdGlvbicgPyB0c2lja2xlQ3RvclBhcmFtcygpIDogdHNpY2tsZUN0b3JQYXJhbXM7XG4gICAgICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBwYXJhbVR5cGVzID0gY3RvclBhcmFtZXRlcnMubWFwKGZ1bmN0aW9uIChjdG9yUGFyYW0pIHsgcmV0dXJuIGN0b3JQYXJhbSAmJiBjdG9yUGFyYW0udHlwZTsgfSk7XG4gICAgICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBwYXJhbUFubm90YXRpb25zID0gY3RvclBhcmFtZXRlcnMubWFwKGZ1bmN0aW9uIChjdG9yUGFyYW0pIHsgcmV0dXJuIGN0b3JQYXJhbSAmJiBjb252ZXJ0VHNpY2tsZURlY29yYXRvckludG9NZXRhZGF0YShjdG9yUGFyYW0uZGVjb3JhdG9ycyk7IH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3ppcFR5cGVzQW5kQW5ub3RhdGlvbnMocGFyYW1UeXBlcywgcGFyYW1Bbm5vdGF0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQVBJIGZvciBtZXRhZGF0YSBjcmVhdGVkIGJ5IGludm9raW5nIHRoZSBkZWNvcmF0b3JzLlxuICAgICAgICBpZiAodGhpcy5fcmVmbGVjdCAhPSBudWxsICYmIHRoaXMuX3JlZmxlY3QuZ2V0T3duTWV0YWRhdGEgIT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcGFyYW1Bbm5vdGF0aW9ucyA9IHRoaXMuX3JlZmxlY3QuZ2V0T3duTWV0YWRhdGEoJ3BhcmFtZXRlcnMnLCB0eXBlKTtcbiAgICAgICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIHBhcmFtVHlwZXMgPSB0aGlzLl9yZWZsZWN0LmdldE93bk1ldGFkYXRhKCdkZXNpZ246cGFyYW10eXBlcycsIHR5cGUpO1xuICAgICAgICAgICAgaWYgKHBhcmFtVHlwZXMgfHwgcGFyYW1Bbm5vdGF0aW9ucykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl96aXBUeXBlc0FuZEFubm90YXRpb25zKHBhcmFtVHlwZXMsIHBhcmFtQW5ub3RhdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIElmIGEgY2xhc3MgaGFzIG5vIGRlY29yYXRvcnMsIGF0IGxlYXN0IGNyZWF0ZSBtZXRhZGF0YVxuICAgICAgICAvLyBiYXNlZCBvbiBmdW5jdGlvbi5sZW5ndGguXG4gICAgICAgIC8vIE5vdGU6IFdlIGtub3cgdGhhdCB0aGlzIGlzIGEgcmVhbCBjb25zdHJ1Y3RvciBhcyB3ZSBjaGVja2VkXG4gICAgICAgIC8vIHRoZSBjb250ZW50IG9mIHRoZSBjb25zdHJ1Y3RvciBhYm92ZS5cbiAgICAgICAgcmV0dXJuIG5ldyBBcnJheSgoKHR5cGUubGVuZ3RoKSkpLmZpbGwodW5kZWZpbmVkKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gdHlwZVxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgUmVmbGVjdGlvbkNhcGFiaWxpdGllcy5wcm90b3R5cGUucGFyYW1ldGVycyA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgIC8vIE5vdGU6IG9ubHkgcmVwb3J0IG1ldGFkYXRhIGlmIHdlIGhhdmUgYXQgbGVhc3Qgb25lIGNsYXNzIGRlY29yYXRvclxuICAgICAgICAvLyB0byBzdGF5IGluIHN5bmMgd2l0aCB0aGUgc3RhdGljIHJlZmxlY3Rvci5cbiAgICAgICAgaWYgKCFpc1R5cGUodHlwZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBwYXJlbnRDdG9yID0gZ2V0UGFyZW50Q3Rvcih0eXBlKTtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcGFyYW1ldGVycyA9IHRoaXMuX293blBhcmFtZXRlcnModHlwZSwgcGFyZW50Q3Rvcik7XG4gICAgICAgIGlmICghcGFyYW1ldGVycyAmJiBwYXJlbnRDdG9yICE9PSBPYmplY3QpIHtcbiAgICAgICAgICAgIHBhcmFtZXRlcnMgPSB0aGlzLnBhcmFtZXRlcnMocGFyZW50Q3Rvcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcmFtZXRlcnMgfHwgW107XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IHR5cGVPckZ1bmNcbiAgICAgKiBAcGFyYW0gez99IHBhcmVudEN0b3JcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFJlZmxlY3Rpb25DYXBhYmlsaXRpZXMucHJvdG90eXBlLl9vd25Bbm5vdGF0aW9ucyA9IGZ1bmN0aW9uICh0eXBlT3JGdW5jLCBwYXJlbnRDdG9yKSB7XG4gICAgICAgIC8vIFByZWZlciB0aGUgZGlyZWN0IEFQSS5cbiAgICAgICAgaWYgKCgodHlwZU9yRnVuYykpLmFubm90YXRpb25zICYmICgodHlwZU9yRnVuYykpLmFubm90YXRpb25zICE9PSBwYXJlbnRDdG9yLmFubm90YXRpb25zKSB7XG4gICAgICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBhbm5vdGF0aW9ucyA9ICgodHlwZU9yRnVuYykpLmFubm90YXRpb25zO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBhbm5vdGF0aW9ucyA9PT0gJ2Z1bmN0aW9uJyAmJiBhbm5vdGF0aW9ucy5hbm5vdGF0aW9ucykge1xuICAgICAgICAgICAgICAgIGFubm90YXRpb25zID0gYW5ub3RhdGlvbnMuYW5ub3RhdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYW5ub3RhdGlvbnM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQVBJIG9mIHRzaWNrbGUgZm9yIGxvd2VyaW5nIGRlY29yYXRvcnMgdG8gcHJvcGVydGllcyBvbiB0aGUgY2xhc3MuXG4gICAgICAgIGlmICgoKHR5cGVPckZ1bmMpKS5kZWNvcmF0b3JzICYmICgodHlwZU9yRnVuYykpLmRlY29yYXRvcnMgIT09IHBhcmVudEN0b3IuZGVjb3JhdG9ycykge1xuICAgICAgICAgICAgcmV0dXJuIGNvbnZlcnRUc2lja2xlRGVjb3JhdG9ySW50b01ldGFkYXRhKCgodHlwZU9yRnVuYykpLmRlY29yYXRvcnMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFQSSBmb3IgbWV0YWRhdGEgY3JlYXRlZCBieSBpbnZva2luZyB0aGUgZGVjb3JhdG9ycy5cbiAgICAgICAgaWYgKHRoaXMuX3JlZmxlY3QgJiYgdGhpcy5fcmVmbGVjdC5nZXRPd25NZXRhZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlZmxlY3QuZ2V0T3duTWV0YWRhdGEoJ2Fubm90YXRpb25zJywgdHlwZU9yRnVuYyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IHR5cGVPckZ1bmNcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFJlZmxlY3Rpb25DYXBhYmlsaXRpZXMucHJvdG90eXBlLmFubm90YXRpb25zID0gZnVuY3Rpb24gKHR5cGVPckZ1bmMpIHtcbiAgICAgICAgaWYgKCFpc1R5cGUodHlwZU9yRnVuYykpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBwYXJlbnRDdG9yID0gZ2V0UGFyZW50Q3Rvcih0eXBlT3JGdW5jKTtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gb3duQW5ub3RhdGlvbnMgPSB0aGlzLl9vd25Bbm5vdGF0aW9ucyh0eXBlT3JGdW5jLCBwYXJlbnRDdG9yKSB8fCBbXTtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcGFyZW50QW5ub3RhdGlvbnMgPSBwYXJlbnRDdG9yICE9PSBPYmplY3QgPyB0aGlzLmFubm90YXRpb25zKHBhcmVudEN0b3IpIDogW107XG4gICAgICAgIHJldHVybiBwYXJlbnRBbm5vdGF0aW9ucy5jb25jYXQob3duQW5ub3RhdGlvbnMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSB0eXBlT3JGdW5jXG4gICAgICogQHBhcmFtIHs/fSBwYXJlbnRDdG9yXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBSZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLnByb3RvdHlwZS5fb3duUHJvcE1ldGFkYXRhID0gZnVuY3Rpb24gKHR5cGVPckZ1bmMsIHBhcmVudEN0b3IpIHtcbiAgICAgICAgLy8gUHJlZmVyIHRoZSBkaXJlY3QgQVBJLlxuICAgICAgICBpZiAoKCh0eXBlT3JGdW5jKSkucHJvcE1ldGFkYXRhICYmXG4gICAgICAgICAgICAoKHR5cGVPckZ1bmMpKS5wcm9wTWV0YWRhdGEgIT09IHBhcmVudEN0b3IucHJvcE1ldGFkYXRhKSB7XG4gICAgICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBwcm9wTWV0YWRhdGEgPSAoKHR5cGVPckZ1bmMpKS5wcm9wTWV0YWRhdGE7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHByb3BNZXRhZGF0YSA9PT0gJ2Z1bmN0aW9uJyAmJiBwcm9wTWV0YWRhdGEucHJvcE1ldGFkYXRhKSB7XG4gICAgICAgICAgICAgICAgcHJvcE1ldGFkYXRhID0gcHJvcE1ldGFkYXRhLnByb3BNZXRhZGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBwcm9wTWV0YWRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQVBJIG9mIHRzaWNrbGUgZm9yIGxvd2VyaW5nIGRlY29yYXRvcnMgdG8gcHJvcGVydGllcyBvbiB0aGUgY2xhc3MuXG4gICAgICAgIGlmICgoKHR5cGVPckZ1bmMpKS5wcm9wRGVjb3JhdG9ycyAmJlxuICAgICAgICAgICAgKCh0eXBlT3JGdW5jKSkucHJvcERlY29yYXRvcnMgIT09IHBhcmVudEN0b3IucHJvcERlY29yYXRvcnMpIHtcbiAgICAgICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIHByb3BEZWNvcmF0b3JzXzEgPSAoKHR5cGVPckZ1bmMpKS5wcm9wRGVjb3JhdG9ycztcbiAgICAgICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIHByb3BNZXRhZGF0YV8xID0gKHt9KTtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHByb3BEZWNvcmF0b3JzXzEpLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcbiAgICAgICAgICAgICAgICBwcm9wTWV0YWRhdGFfMVtwcm9wXSA9IGNvbnZlcnRUc2lja2xlRGVjb3JhdG9ySW50b01ldGFkYXRhKHByb3BEZWNvcmF0b3JzXzFbcHJvcF0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcHJvcE1ldGFkYXRhXzE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQVBJIGZvciBtZXRhZGF0YSBjcmVhdGVkIGJ5IGludm9raW5nIHRoZSBkZWNvcmF0b3JzLlxuICAgICAgICBpZiAodGhpcy5fcmVmbGVjdCAmJiB0aGlzLl9yZWZsZWN0LmdldE93bk1ldGFkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVmbGVjdC5nZXRPd25NZXRhZGF0YSgncHJvcE1ldGFkYXRhJywgdHlwZU9yRnVuYyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IHR5cGVPckZ1bmNcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFJlZmxlY3Rpb25DYXBhYmlsaXRpZXMucHJvdG90eXBlLnByb3BNZXRhZGF0YSA9IGZ1bmN0aW9uICh0eXBlT3JGdW5jKSB7XG4gICAgICAgIGlmICghaXNUeXBlKHR5cGVPckZ1bmMpKSB7XG4gICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgIH1cbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcGFyZW50Q3RvciA9IGdldFBhcmVudEN0b3IodHlwZU9yRnVuYyk7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIHByb3BNZXRhZGF0YSA9IHt9O1xuICAgICAgICBpZiAocGFyZW50Q3RvciAhPT0gT2JqZWN0KSB7XG4gICAgICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBwYXJlbnRQcm9wTWV0YWRhdGFfMSA9IHRoaXMucHJvcE1ldGFkYXRhKHBhcmVudEN0b3IpO1xuICAgICAgICAgICAgT2JqZWN0LmtleXMocGFyZW50UHJvcE1ldGFkYXRhXzEpLmZvckVhY2goZnVuY3Rpb24gKHByb3BOYW1lKSB7XG4gICAgICAgICAgICAgICAgcHJvcE1ldGFkYXRhW3Byb3BOYW1lXSA9IHBhcmVudFByb3BNZXRhZGF0YV8xW3Byb3BOYW1lXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIG93blByb3BNZXRhZGF0YSA9IHRoaXMuX293blByb3BNZXRhZGF0YSh0eXBlT3JGdW5jLCBwYXJlbnRDdG9yKTtcbiAgICAgICAgaWYgKG93blByb3BNZXRhZGF0YSkge1xuICAgICAgICAgICAgT2JqZWN0LmtleXMob3duUHJvcE1ldGFkYXRhKS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wTmFtZSkge1xuICAgICAgICAgICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGRlY29yYXRvcnMgPSBbXTtcbiAgICAgICAgICAgICAgICBpZiAocHJvcE1ldGFkYXRhLmhhc093blByb3BlcnR5KHByb3BOYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICBkZWNvcmF0b3JzLnB1c2guYXBwbHkoZGVjb3JhdG9ycywgcHJvcE1ldGFkYXRhW3Byb3BOYW1lXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlY29yYXRvcnMucHVzaC5hcHBseShkZWNvcmF0b3JzLCBvd25Qcm9wTWV0YWRhdGFbcHJvcE5hbWVdKTtcbiAgICAgICAgICAgICAgICBwcm9wTWV0YWRhdGFbcHJvcE5hbWVdID0gZGVjb3JhdG9ycztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwcm9wTWV0YWRhdGE7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IHR5cGVcbiAgICAgKiBAcGFyYW0gez99IGxjUHJvcGVydHlcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFJlZmxlY3Rpb25DYXBhYmlsaXRpZXMucHJvdG90eXBlLmhhc0xpZmVjeWNsZUhvb2sgPSBmdW5jdGlvbiAodHlwZSwgbGNQcm9wZXJ0eSkge1xuICAgICAgICByZXR1cm4gdHlwZSBpbnN0YW5jZW9mIFR5cGUgJiYgbGNQcm9wZXJ0eSBpbiB0eXBlLnByb3RvdHlwZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gbmFtZVxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgUmVmbGVjdGlvbkNhcGFiaWxpdGllcy5wcm90b3R5cGUuZ2V0dGVyID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIChuZXcgRnVuY3Rpb24oJ28nLCAncmV0dXJuIG8uJyArIG5hbWUgKyAnOycpKTsgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IG5hbWVcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFJlZmxlY3Rpb25DYXBhYmlsaXRpZXMucHJvdG90eXBlLnNldHRlciA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIHJldHVybiAobmV3IEZ1bmN0aW9uKCdvJywgJ3YnLCAncmV0dXJuIG8uJyArIG5hbWUgKyAnID0gdjsnKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IG5hbWVcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFJlZmxlY3Rpb25DYXBhYmlsaXRpZXMucHJvdG90eXBlLm1ldGhvZCA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGZ1bmN0aW9uQm9keSA9IFwiaWYgKCFvLlwiICsgbmFtZSArIFwiKSB0aHJvdyBuZXcgRXJyb3IoJ1xcXCJcIiArIG5hbWUgKyBcIlxcXCIgaXMgdW5kZWZpbmVkJyk7XFxuICAgICAgICByZXR1cm4gby5cIiArIG5hbWUgKyBcIi5hcHBseShvLCBhcmdzKTtcIjtcbiAgICAgICAgcmV0dXJuIChuZXcgRnVuY3Rpb24oJ28nLCAnYXJncycsIGZ1bmN0aW9uQm9keSkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSB0eXBlXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBSZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLnByb3RvdHlwZS5pbXBvcnRVcmkgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICAvLyBTdGF0aWNTeW1ib2xcbiAgICAgICAgaWYgKHR5cGVvZiB0eXBlID09PSAnb2JqZWN0JyAmJiB0eXBlWydmaWxlUGF0aCddKSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZVsnZmlsZVBhdGgnXTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSdW50aW1lIHR5cGVcbiAgICAgICAgcmV0dXJuIFwiLi9cIiArIHN0cmluZ2lmeSh0eXBlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gdHlwZVxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgUmVmbGVjdGlvbkNhcGFiaWxpdGllcy5wcm90b3R5cGUucmVzb3VyY2VVcmkgPSBmdW5jdGlvbiAodHlwZSkgeyByZXR1cm4gXCIuL1wiICsgc3RyaW5naWZ5KHR5cGUpOyB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gbmFtZVxuICAgICAqIEBwYXJhbSB7P30gbW9kdWxlVXJsXG4gICAgICogQHBhcmFtIHs/fSBtZW1iZXJzXG4gICAgICogQHBhcmFtIHs/fSBydW50aW1lXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBSZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLnByb3RvdHlwZS5yZXNvbHZlSWRlbnRpZmllciA9IGZ1bmN0aW9uIChuYW1lLCBtb2R1bGVVcmwsIG1lbWJlcnMsIHJ1bnRpbWUpIHtcbiAgICAgICAgcmV0dXJuIHJ1bnRpbWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IGVudW1JZGVudGlmaWVyXG4gICAgICogQHBhcmFtIHs/fSBuYW1lXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBSZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLnByb3RvdHlwZS5yZXNvbHZlRW51bSA9IGZ1bmN0aW9uIChlbnVtSWRlbnRpZmllciwgbmFtZSkgeyByZXR1cm4gZW51bUlkZW50aWZpZXJbbmFtZV07IH07XG4gICAgcmV0dXJuIFJlZmxlY3Rpb25DYXBhYmlsaXRpZXM7XG59KCkpO1xuLyoqXG4gKiBAcGFyYW0gez99IGRlY29yYXRvckludm9jYXRpb25zXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBjb252ZXJ0VHNpY2tsZURlY29yYXRvckludG9NZXRhZGF0YShkZWNvcmF0b3JJbnZvY2F0aW9ucykge1xuICAgIGlmICghZGVjb3JhdG9ySW52b2NhdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICByZXR1cm4gZGVjb3JhdG9ySW52b2NhdGlvbnMubWFwKGZ1bmN0aW9uIChkZWNvcmF0b3JJbnZvY2F0aW9uKSB7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGRlY29yYXRvclR5cGUgPSBkZWNvcmF0b3JJbnZvY2F0aW9uLnR5cGU7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGFubm90YXRpb25DbHMgPSBkZWNvcmF0b3JUeXBlLmFubm90YXRpb25DbHM7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGFubm90YXRpb25BcmdzID0gZGVjb3JhdG9ySW52b2NhdGlvbi5hcmdzID8gZGVjb3JhdG9ySW52b2NhdGlvbi5hcmdzIDogW107XG4gICAgICAgIHJldHVybiBuZXcgKGFubm90YXRpb25DbHMuYmluZC5hcHBseShhbm5vdGF0aW9uQ2xzLCBbdm9pZCAwXS5jb25jYXQoYW5ub3RhdGlvbkFyZ3MpKSkoKTtcbiAgICB9KTtcbn1cbi8qKlxuICogQHBhcmFtIHs/fSBjdG9yXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBnZXRQYXJlbnRDdG9yKGN0b3IpIHtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBwYXJlbnRQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihjdG9yLnByb3RvdHlwZSk7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcGFyZW50Q3RvciA9IHBhcmVudFByb3RvID8gcGFyZW50UHJvdG8uY29uc3RydWN0b3IgOiBudWxsO1xuICAgIC8vIE5vdGU6IFdlIGFsd2F5cyB1c2UgYE9iamVjdGAgYXMgdGhlIG51bGwgdmFsdWVcbiAgICAvLyB0byBzaW1wbGlmeSBjaGVja2luZyBsYXRlciBvbi5cbiAgICByZXR1cm4gcGFyZW50Q3RvciB8fCBPYmplY3Q7XG59XG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFByb3ZpZGVzIGFjY2VzcyB0byByZWZsZWN0aW9uIGRhdGEgYWJvdXQgc3ltYm9scy4gVXNlZCBpbnRlcm5hbGx5IGJ5IEFuZ3VsYXJcbiAqIHRvIHBvd2VyIGRlcGVuZGVuY3kgaW5qZWN0aW9uIGFuZCBjb21waWxhdGlvbi5cbiAqL1xudmFyIFJlZmxlY3RvciA9IChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSByZWZsZWN0aW9uQ2FwYWJpbGl0aWVzXG4gICAgICovXG4gICAgZnVuY3Rpb24gUmVmbGVjdG9yKHJlZmxlY3Rpb25DYXBhYmlsaXRpZXMpIHtcbiAgICAgICAgdGhpcy5yZWZsZWN0aW9uQ2FwYWJpbGl0aWVzID0gcmVmbGVjdGlvbkNhcGFiaWxpdGllcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBjYXBzXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBSZWZsZWN0b3IucHJvdG90eXBlLnVwZGF0ZUNhcGFiaWxpdGllcyA9IGZ1bmN0aW9uIChjYXBzKSB7IHRoaXMucmVmbGVjdGlvbkNhcGFiaWxpdGllcyA9IGNhcHM7IH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSB0eXBlXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBSZWZsZWN0b3IucHJvdG90eXBlLmZhY3RvcnkgPSBmdW5jdGlvbiAodHlwZSkgeyByZXR1cm4gdGhpcy5yZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLmZhY3RvcnkodHlwZSk7IH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSB0eXBlT3JGdW5jXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBSZWZsZWN0b3IucHJvdG90eXBlLnBhcmFtZXRlcnMgPSBmdW5jdGlvbiAodHlwZU9yRnVuYykge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLnBhcmFtZXRlcnModHlwZU9yRnVuYyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IHR5cGVPckZ1bmNcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFJlZmxlY3Rvci5wcm90b3R5cGUuYW5ub3RhdGlvbnMgPSBmdW5jdGlvbiAodHlwZU9yRnVuYykge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLmFubm90YXRpb25zKHR5cGVPckZ1bmMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSB0eXBlT3JGdW5jXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBSZWZsZWN0b3IucHJvdG90eXBlLnByb3BNZXRhZGF0YSA9IGZ1bmN0aW9uICh0eXBlT3JGdW5jKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZmxlY3Rpb25DYXBhYmlsaXRpZXMucHJvcE1ldGFkYXRhKHR5cGVPckZ1bmMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSB0eXBlXG4gICAgICogQHBhcmFtIHs/fSBsY1Byb3BlcnR5XG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBSZWZsZWN0b3IucHJvdG90eXBlLmhhc0xpZmVjeWNsZUhvb2sgPSBmdW5jdGlvbiAodHlwZSwgbGNQcm9wZXJ0eSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLmhhc0xpZmVjeWNsZUhvb2sodHlwZSwgbGNQcm9wZXJ0eSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IG5hbWVcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFJlZmxlY3Rvci5wcm90b3R5cGUuZ2V0dGVyID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIHRoaXMucmVmbGVjdGlvbkNhcGFiaWxpdGllcy5nZXR0ZXIobmFtZSk7IH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBuYW1lXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBSZWZsZWN0b3IucHJvdG90eXBlLnNldHRlciA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiB0aGlzLnJlZmxlY3Rpb25DYXBhYmlsaXRpZXMuc2V0dGVyKG5hbWUpOyB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gbmFtZVxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgUmVmbGVjdG9yLnByb3RvdHlwZS5tZXRob2QgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gdGhpcy5yZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLm1ldGhvZChuYW1lKTsgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IHR5cGVcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFJlZmxlY3Rvci5wcm90b3R5cGUuaW1wb3J0VXJpID0gZnVuY3Rpb24gKHR5cGUpIHsgcmV0dXJuIHRoaXMucmVmbGVjdGlvbkNhcGFiaWxpdGllcy5pbXBvcnRVcmkodHlwZSk7IH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSB0eXBlXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBSZWZsZWN0b3IucHJvdG90eXBlLnJlc291cmNlVXJpID0gZnVuY3Rpb24gKHR5cGUpIHsgcmV0dXJuIHRoaXMucmVmbGVjdGlvbkNhcGFiaWxpdGllcy5yZXNvdXJjZVVyaSh0eXBlKTsgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IG5hbWVcbiAgICAgKiBAcGFyYW0gez99IG1vZHVsZVVybFxuICAgICAqIEBwYXJhbSB7P30gbWVtYmVyc1xuICAgICAqIEBwYXJhbSB7P30gcnVudGltZVxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgUmVmbGVjdG9yLnByb3RvdHlwZS5yZXNvbHZlSWRlbnRpZmllciA9IGZ1bmN0aW9uIChuYW1lLCBtb2R1bGVVcmwsIG1lbWJlcnMsIHJ1bnRpbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVmbGVjdGlvbkNhcGFiaWxpdGllcy5yZXNvbHZlSWRlbnRpZmllcihuYW1lLCBtb2R1bGVVcmwsIG1lbWJlcnMsIHJ1bnRpbWUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBpZGVudGlmaWVyXG4gICAgICogQHBhcmFtIHs/fSBuYW1lXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBSZWZsZWN0b3IucHJvdG90eXBlLnJlc29sdmVFbnVtID0gZnVuY3Rpb24gKGlkZW50aWZpZXIsIG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVmbGVjdGlvbkNhcGFiaWxpdGllcy5yZXNvbHZlRW51bShpZGVudGlmaWVyLCBuYW1lKTtcbiAgICB9O1xuICAgIHJldHVybiBSZWZsZWN0b3I7XG59KCkpO1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBUaGUge1xcQGxpbmsgUmVmbGVjdG9yfSB1c2VkIGludGVybmFsbHkgaW4gQW5ndWxhciB0byBhY2Nlc3MgbWV0YWRhdGFcbiAqIGFib3V0IHN5bWJvbHMuXG4gKi9cbnZhciByZWZsZWN0b3IgPSBuZXcgUmVmbGVjdG9yKG5ldyBSZWZsZWN0aW9uQ2FwYWJpbGl0aWVzKCkpO1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBgRGVwZW5kZW5jeWAgaXMgdXNlZCBieSB0aGUgZnJhbWV3b3JrIHRvIGV4dGVuZCBESS5cbiAqIFRoaXMgaXMgaW50ZXJuYWwgdG8gQW5ndWxhciBhbmQgc2hvdWxkIG5vdCBiZSB1c2VkIGRpcmVjdGx5LlxuICovXG52YXIgUmVmbGVjdGl2ZURlcGVuZGVuY3kgPSAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30ga2V5XG4gICAgICogQHBhcmFtIHs/fSBvcHRpb25hbFxuICAgICAqIEBwYXJhbSB7P30gdmlzaWJpbGl0eVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJlZmxlY3RpdmVEZXBlbmRlbmN5KGtleSwgb3B0aW9uYWwsIHZpc2liaWxpdHkpIHtcbiAgICAgICAgdGhpcy5rZXkgPSBrZXk7XG4gICAgICAgIHRoaXMub3B0aW9uYWwgPSBvcHRpb25hbDtcbiAgICAgICAgdGhpcy52aXNpYmlsaXR5ID0gdmlzaWJpbGl0eTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBrZXlcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFJlZmxlY3RpdmVEZXBlbmRlbmN5LmZyb21LZXkgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVmbGVjdGl2ZURlcGVuZGVuY3koa2V5LCBmYWxzZSwgbnVsbCk7XG4gICAgfTtcbiAgICByZXR1cm4gUmVmbGVjdGl2ZURlcGVuZGVuY3k7XG59KCkpO1xudmFyIF9FTVBUWV9MSVNUID0gW107XG52YXIgUmVzb2x2ZWRSZWZsZWN0aXZlUHJvdmlkZXJfID0gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IGtleVxuICAgICAqIEBwYXJhbSB7P30gcmVzb2x2ZWRGYWN0b3JpZXNcbiAgICAgKiBAcGFyYW0gez99IG11bHRpUHJvdmlkZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlcl8oa2V5LCByZXNvbHZlZEZhY3RvcmllcywgbXVsdGlQcm92aWRlcikge1xuICAgICAgICB0aGlzLmtleSA9IGtleTtcbiAgICAgICAgdGhpcy5yZXNvbHZlZEZhY3RvcmllcyA9IHJlc29sdmVkRmFjdG9yaWVzO1xuICAgICAgICB0aGlzLm11bHRpUHJvdmlkZXIgPSBtdWx0aVByb3ZpZGVyO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVzb2x2ZWRSZWZsZWN0aXZlUHJvdmlkZXJfLnByb3RvdHlwZSwgXCJyZXNvbHZlZEZhY3RvcnlcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybiB7P31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5yZXNvbHZlZEZhY3Rvcmllc1swXTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIFJlc29sdmVkUmVmbGVjdGl2ZVByb3ZpZGVyXztcbn0oKSk7XG4vKipcbiAqIEFuIGludGVybmFsIHJlc29sdmVkIHJlcHJlc2VudGF0aW9uIG9mIGEgZmFjdG9yeSBmdW5jdGlvbiBjcmVhdGVkIGJ5IHJlc29sdmluZyB7XFxAbGlua1xuICogUHJvdmlkZXJ9LlxuICogXFxAZXhwZXJpbWVudGFsXG4gKi9cbnZhciBSZXNvbHZlZFJlZmxlY3RpdmVGYWN0b3J5ID0gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IGZhY3RvcnlcbiAgICAgKiBAcGFyYW0gez99IGRlcGVuZGVuY2llc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJlc29sdmVkUmVmbGVjdGl2ZUZhY3RvcnkoZmFjdG9yeSwgZGVwZW5kZW5jaWVzKSB7XG4gICAgICAgIHRoaXMuZmFjdG9yeSA9IGZhY3Rvcnk7XG4gICAgICAgIHRoaXMuZGVwZW5kZW5jaWVzID0gZGVwZW5kZW5jaWVzO1xuICAgIH1cbiAgICByZXR1cm4gUmVzb2x2ZWRSZWZsZWN0aXZlRmFjdG9yeTtcbn0oKSk7XG4vKipcbiAqIFJlc29sdmUgYSBzaW5nbGUgcHJvdmlkZXIuXG4gKiBAcGFyYW0gez99IHByb3ZpZGVyXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiByZXNvbHZlUmVmbGVjdGl2ZUZhY3RvcnkocHJvdmlkZXIpIHtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBmYWN0b3J5Rm47XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcmVzb2x2ZWREZXBzO1xuICAgIGlmIChwcm92aWRlci51c2VDbGFzcykge1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyB1c2VDbGFzcyA9IHJlc29sdmVGb3J3YXJkUmVmKHByb3ZpZGVyLnVzZUNsYXNzKTtcbiAgICAgICAgZmFjdG9yeUZuID0gcmVmbGVjdG9yLmZhY3RvcnkodXNlQ2xhc3MpO1xuICAgICAgICByZXNvbHZlZERlcHMgPSBfZGVwZW5kZW5jaWVzRm9yKHVzZUNsYXNzKTtcbiAgICB9XG4gICAgZWxzZSBpZiAocHJvdmlkZXIudXNlRXhpc3RpbmcpIHtcbiAgICAgICAgZmFjdG9yeUZuID0gZnVuY3Rpb24gKGFsaWFzSW5zdGFuY2UpIHsgcmV0dXJuIGFsaWFzSW5zdGFuY2U7IH07XG4gICAgICAgIHJlc29sdmVkRGVwcyA9IFtSZWZsZWN0aXZlRGVwZW5kZW5jeS5mcm9tS2V5KFJlZmxlY3RpdmVLZXkuZ2V0KHByb3ZpZGVyLnVzZUV4aXN0aW5nKSldO1xuICAgIH1cbiAgICBlbHNlIGlmIChwcm92aWRlci51c2VGYWN0b3J5KSB7XG4gICAgICAgIGZhY3RvcnlGbiA9IHByb3ZpZGVyLnVzZUZhY3Rvcnk7XG4gICAgICAgIHJlc29sdmVkRGVwcyA9IGNvbnN0cnVjdERlcGVuZGVuY2llcyhwcm92aWRlci51c2VGYWN0b3J5LCBwcm92aWRlci5kZXBzKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGZhY3RvcnlGbiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHByb3ZpZGVyLnVzZVZhbHVlOyB9O1xuICAgICAgICByZXNvbHZlZERlcHMgPSBfRU1QVFlfTElTVDtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBSZXNvbHZlZFJlZmxlY3RpdmVGYWN0b3J5KGZhY3RvcnlGbiwgcmVzb2x2ZWREZXBzKTtcbn1cbi8qKlxuICogQ29udmVydHMgdGhlIHtcXEBsaW5rIFByb3ZpZGVyfSBpbnRvIHtcXEBsaW5rIFJlc29sdmVkUHJvdmlkZXJ9LlxuICpcbiAqIHtcXEBsaW5rIEluamVjdG9yfSBpbnRlcm5hbGx5IG9ubHkgdXNlcyB7XFxAbGluayBSZXNvbHZlZFByb3ZpZGVyfSwge1xcQGxpbmsgUHJvdmlkZXJ9IGNvbnRhaW5zXG4gKiBjb252ZW5pZW5jZSBwcm92aWRlciBzeW50YXguXG4gKiBAcGFyYW0gez99IHByb3ZpZGVyXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiByZXNvbHZlUmVmbGVjdGl2ZVByb3ZpZGVyKHByb3ZpZGVyKSB7XG4gICAgcmV0dXJuIG5ldyBSZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlcl8oUmVmbGVjdGl2ZUtleS5nZXQocHJvdmlkZXIucHJvdmlkZSksIFtyZXNvbHZlUmVmbGVjdGl2ZUZhY3RvcnkocHJvdmlkZXIpXSwgcHJvdmlkZXIubXVsdGkgfHwgZmFsc2UpO1xufVxuLyoqXG4gKiBSZXNvbHZlIGEgbGlzdCBvZiBQcm92aWRlcnMuXG4gKiBAcGFyYW0gez99IHByb3ZpZGVyc1xuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gcmVzb2x2ZVJlZmxlY3RpdmVQcm92aWRlcnMocHJvdmlkZXJzKSB7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gbm9ybWFsaXplZCA9IF9ub3JtYWxpemVQcm92aWRlcnMocHJvdmlkZXJzLCBbXSk7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcmVzb2x2ZWQgPSBub3JtYWxpemVkLm1hcChyZXNvbHZlUmVmbGVjdGl2ZVByb3ZpZGVyKTtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyByZXNvbHZlZFByb3ZpZGVyTWFwID0gbWVyZ2VSZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlcnMocmVzb2x2ZWQsIG5ldyBNYXAoKSk7XG4gICAgcmV0dXJuIEFycmF5LmZyb20ocmVzb2x2ZWRQcm92aWRlck1hcC52YWx1ZXMoKSk7XG59XG4vKipcbiAqIE1lcmdlcyBhIGxpc3Qgb2YgUmVzb2x2ZWRQcm92aWRlcnMgaW50byBhIGxpc3Qgd2hlcmVcbiAqIGVhY2gga2V5IGlzIGNvbnRhaW5lZCBleGFjdGx5IG9uY2UgYW5kIG11bHRpIHByb3ZpZGVyc1xuICogaGF2ZSBiZWVuIG1lcmdlZC5cbiAqIEBwYXJhbSB7P30gcHJvdmlkZXJzXG4gKiBAcGFyYW0gez99IG5vcm1hbGl6ZWRQcm92aWRlcnNNYXBcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIG1lcmdlUmVzb2x2ZWRSZWZsZWN0aXZlUHJvdmlkZXJzKHByb3ZpZGVycywgbm9ybWFsaXplZFByb3ZpZGVyc01hcCkge1xuICAgIGZvciAodmFyIC8qKiBAdHlwZSB7P30gKi8gaSA9IDA7IGkgPCBwcm92aWRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcHJvdmlkZXIgPSBwcm92aWRlcnNbaV07XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGV4aXN0aW5nID0gbm9ybWFsaXplZFByb3ZpZGVyc01hcC5nZXQocHJvdmlkZXIua2V5LmlkKTtcbiAgICAgICAgaWYgKGV4aXN0aW5nKSB7XG4gICAgICAgICAgICBpZiAocHJvdmlkZXIubXVsdGlQcm92aWRlciAhPT0gZXhpc3RpbmcubXVsdGlQcm92aWRlcikge1xuICAgICAgICAgICAgICAgIHRocm93IG1peGluZ011bHRpUHJvdmlkZXJzV2l0aFJlZ3VsYXJQcm92aWRlcnNFcnJvcihleGlzdGluZywgcHJvdmlkZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHByb3ZpZGVyLm11bHRpUHJvdmlkZXIpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciAvKiogQHR5cGUgez99ICovIGogPSAwOyBqIDwgcHJvdmlkZXIucmVzb2x2ZWRGYWN0b3JpZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmcucmVzb2x2ZWRGYWN0b3JpZXMucHVzaChwcm92aWRlci5yZXNvbHZlZEZhY3Rvcmllc1tqXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbm9ybWFsaXplZFByb3ZpZGVyc01hcC5zZXQocHJvdmlkZXIua2V5LmlkLCBwcm92aWRlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyByZXNvbHZlZFByb3ZpZGVyID0gdm9pZCAwO1xuICAgICAgICAgICAgaWYgKHByb3ZpZGVyLm11bHRpUHJvdmlkZXIpIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlZFByb3ZpZGVyID0gbmV3IFJlc29sdmVkUmVmbGVjdGl2ZVByb3ZpZGVyXyhwcm92aWRlci5rZXksIHByb3ZpZGVyLnJlc29sdmVkRmFjdG9yaWVzLnNsaWNlKCksIHByb3ZpZGVyLm11bHRpUHJvdmlkZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZWRQcm92aWRlciA9IHByb3ZpZGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbm9ybWFsaXplZFByb3ZpZGVyc01hcC5zZXQocHJvdmlkZXIua2V5LmlkLCByZXNvbHZlZFByb3ZpZGVyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbm9ybWFsaXplZFByb3ZpZGVyc01hcDtcbn1cbi8qKlxuICogQHBhcmFtIHs/fSBwcm92aWRlcnNcbiAqIEBwYXJhbSB7P30gcmVzXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBfbm9ybWFsaXplUHJvdmlkZXJzKHByb3ZpZGVycywgcmVzKSB7XG4gICAgcHJvdmlkZXJzLmZvckVhY2goZnVuY3Rpb24gKGIpIHtcbiAgICAgICAgaWYgKGIgaW5zdGFuY2VvZiBUeXBlKSB7XG4gICAgICAgICAgICByZXMucHVzaCh7IHByb3ZpZGU6IGIsIHVzZUNsYXNzOiBiIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGIgJiYgdHlwZW9mIGIgPT0gJ29iamVjdCcgJiYgKChiKSkucHJvdmlkZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXMucHVzaCgvKiogQHR5cGUgez99ICovIChiKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYiBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICBfbm9ybWFsaXplUHJvdmlkZXJzKGIsIHJlcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBpbnZhbGlkUHJvdmlkZXJFcnJvcihiKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXM7XG59XG4vKipcbiAqIEBwYXJhbSB7P30gdHlwZU9yRnVuY1xuICogQHBhcmFtIHs/PX0gZGVwZW5kZW5jaWVzXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBjb25zdHJ1Y3REZXBlbmRlbmNpZXModHlwZU9yRnVuYywgZGVwZW5kZW5jaWVzKSB7XG4gICAgaWYgKCFkZXBlbmRlbmNpZXMpIHtcbiAgICAgICAgcmV0dXJuIF9kZXBlbmRlbmNpZXNGb3IodHlwZU9yRnVuYyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBwYXJhbXNfMSA9IGRlcGVuZGVuY2llcy5tYXAoZnVuY3Rpb24gKHQpIHsgcmV0dXJuIFt0XTsgfSk7XG4gICAgICAgIHJldHVybiBkZXBlbmRlbmNpZXMubWFwKGZ1bmN0aW9uICh0KSB7IHJldHVybiBfZXh0cmFjdFRva2VuKHR5cGVPckZ1bmMsIHQsIHBhcmFtc18xKTsgfSk7XG4gICAgfVxufVxuLyoqXG4gKiBAcGFyYW0gez99IHR5cGVPckZ1bmNcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIF9kZXBlbmRlbmNpZXNGb3IodHlwZU9yRnVuYykge1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIHBhcmFtcyA9IHJlZmxlY3Rvci5wYXJhbWV0ZXJzKHR5cGVPckZ1bmMpO1xuICAgIGlmICghcGFyYW1zKVxuICAgICAgICByZXR1cm4gW107XG4gICAgaWYgKHBhcmFtcy5zb21lKGZ1bmN0aW9uIChwKSB7IHJldHVybiBwID09IG51bGw7IH0pKSB7XG4gICAgICAgIHRocm93IG5vQW5ub3RhdGlvbkVycm9yKHR5cGVPckZ1bmMsIHBhcmFtcyk7XG4gICAgfVxuICAgIHJldHVybiBwYXJhbXMubWFwKGZ1bmN0aW9uIChwKSB7IHJldHVybiBfZXh0cmFjdFRva2VuKHR5cGVPckZ1bmMsIHAsIHBhcmFtcyk7IH0pO1xufVxuLyoqXG4gKiBAcGFyYW0gez99IHR5cGVPckZ1bmNcbiAqIEBwYXJhbSB7P30gbWV0YWRhdGFcbiAqIEBwYXJhbSB7P30gcGFyYW1zXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBfZXh0cmFjdFRva2VuKHR5cGVPckZ1bmMsIG1ldGFkYXRhLCBwYXJhbXMpIHtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyB0b2tlbiA9IG51bGw7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gb3B0aW9uYWwgPSBmYWxzZTtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkobWV0YWRhdGEpKSB7XG4gICAgICAgIGlmIChtZXRhZGF0YSBpbnN0YW5jZW9mIEluamVjdCkge1xuICAgICAgICAgICAgcmV0dXJuIF9jcmVhdGVEZXBlbmRlbmN5KG1ldGFkYXRhLnRva2VuLCBvcHRpb25hbCwgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gX2NyZWF0ZURlcGVuZGVuY3kobWV0YWRhdGEsIG9wdGlvbmFsLCBudWxsKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyB2aXNpYmlsaXR5ID0gbnVsbDtcbiAgICBmb3IgKHZhciAvKiogQHR5cGUgez99ICovIGkgPSAwOyBpIDwgbWV0YWRhdGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcGFyYW1NZXRhZGF0YSA9IG1ldGFkYXRhW2ldO1xuICAgICAgICBpZiAocGFyYW1NZXRhZGF0YSBpbnN0YW5jZW9mIFR5cGUpIHtcbiAgICAgICAgICAgIHRva2VuID0gcGFyYW1NZXRhZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwYXJhbU1ldGFkYXRhIGluc3RhbmNlb2YgSW5qZWN0KSB7XG4gICAgICAgICAgICB0b2tlbiA9IHBhcmFtTWV0YWRhdGEudG9rZW47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocGFyYW1NZXRhZGF0YSBpbnN0YW5jZW9mIE9wdGlvbmFsKSB7XG4gICAgICAgICAgICBvcHRpb25hbCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocGFyYW1NZXRhZGF0YSBpbnN0YW5jZW9mIFNlbGYgfHwgcGFyYW1NZXRhZGF0YSBpbnN0YW5jZW9mIFNraXBTZWxmKSB7XG4gICAgICAgICAgICB2aXNpYmlsaXR5ID0gcGFyYW1NZXRhZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwYXJhbU1ldGFkYXRhIGluc3RhbmNlb2YgSW5qZWN0aW9uVG9rZW4pIHtcbiAgICAgICAgICAgIHRva2VuID0gcGFyYW1NZXRhZGF0YTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0b2tlbiA9IHJlc29sdmVGb3J3YXJkUmVmKHRva2VuKTtcbiAgICBpZiAodG9rZW4gIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gX2NyZWF0ZURlcGVuZGVuY3kodG9rZW4sIG9wdGlvbmFsLCB2aXNpYmlsaXR5KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5vQW5ub3RhdGlvbkVycm9yKHR5cGVPckZ1bmMsIHBhcmFtcyk7XG4gICAgfVxufVxuLyoqXG4gKiBAcGFyYW0gez99IHRva2VuXG4gKiBAcGFyYW0gez99IG9wdGlvbmFsXG4gKiBAcGFyYW0gez99IHZpc2liaWxpdHlcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIF9jcmVhdGVEZXBlbmRlbmN5KHRva2VuLCBvcHRpb25hbCwgdmlzaWJpbGl0eSkge1xuICAgIHJldHVybiBuZXcgUmVmbGVjdGl2ZURlcGVuZGVuY3koUmVmbGVjdGl2ZUtleS5nZXQodG9rZW4pLCBvcHRpb25hbCwgdmlzaWJpbGl0eSk7XG59XG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vLyBUaHJlc2hvbGQgZm9yIHRoZSBkeW5hbWljIHZlcnNpb25cbnZhciBVTkRFRklORUQgPSBuZXcgT2JqZWN0KCk7XG4vKipcbiAqIEEgUmVmbGVjdGl2ZURlcGVuZGVuY3kgaW5qZWN0aW9uIGNvbnRhaW5lciB1c2VkIGZvciBpbnN0YW50aWF0aW5nIG9iamVjdHMgYW5kIHJlc29sdmluZ1xuICogZGVwZW5kZW5jaWVzLlxuICpcbiAqIEFuIGBJbmplY3RvcmAgaXMgYSByZXBsYWNlbWVudCBmb3IgYSBgbmV3YCBvcGVyYXRvciwgd2hpY2ggY2FuIGF1dG9tYXRpY2FsbHkgcmVzb2x2ZSB0aGVcbiAqIGNvbnN0cnVjdG9yIGRlcGVuZGVuY2llcy5cbiAqXG4gKiBJbiB0eXBpY2FsIHVzZSwgYXBwbGljYXRpb24gY29kZSBhc2tzIGZvciB0aGUgZGVwZW5kZW5jaWVzIGluIHRoZSBjb25zdHJ1Y3RvciBhbmQgdGhleSBhcmVcbiAqIHJlc29sdmVkIGJ5IHRoZSBgSW5qZWN0b3JgLlxuICpcbiAqICMjIyBFeGFtcGxlIChbbGl2ZSBkZW1vXShodHRwOi8vcGxua3IuY28vZWRpdC9qemplYzA/cD1wcmV2aWV3KSlcbiAqXG4gKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgY3JlYXRlcyBhbiBgSW5qZWN0b3JgIGNvbmZpZ3VyZWQgdG8gY3JlYXRlIGBFbmdpbmVgIGFuZCBgQ2FyYC5cbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBcXEBJbmplY3RhYmxlKClcbiAqIGNsYXNzIEVuZ2luZSB7XG4gKiB9XG4gKlxuICogXFxASW5qZWN0YWJsZSgpXG4gKiBjbGFzcyBDYXIge1xuICogICBjb25zdHJ1Y3RvcihwdWJsaWMgZW5naW5lOkVuZ2luZSkge31cbiAqIH1cbiAqXG4gKiB2YXIgaW5qZWN0b3IgPSBSZWZsZWN0aXZlSW5qZWN0b3IucmVzb2x2ZUFuZENyZWF0ZShbQ2FyLCBFbmdpbmVdKTtcbiAqIHZhciBjYXIgPSBpbmplY3Rvci5nZXQoQ2FyKTtcbiAqIGV4cGVjdChjYXIgaW5zdGFuY2VvZiBDYXIpLnRvQmUodHJ1ZSk7XG4gKiBleHBlY3QoY2FyLmVuZ2luZSBpbnN0YW5jZW9mIEVuZ2luZSkudG9CZSh0cnVlKTtcbiAqIGBgYFxuICpcbiAqIE5vdGljZSwgd2UgZG9uJ3QgdXNlIHRoZSBgbmV3YCBvcGVyYXRvciBiZWNhdXNlIHdlIGV4cGxpY2l0bHkgd2FudCB0byBoYXZlIHRoZSBgSW5qZWN0b3JgXG4gKiByZXNvbHZlIGFsbCBvZiB0aGUgb2JqZWN0J3MgZGVwZW5kZW5jaWVzIGF1dG9tYXRpY2FsbHkuXG4gKlxuICogXFxAc3RhYmxlXG4gKiBAYWJzdHJhY3RcbiAqL1xudmFyIFJlZmxlY3RpdmVJbmplY3RvciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVmbGVjdGl2ZUluamVjdG9yKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUdXJucyBhbiBhcnJheSBvZiBwcm92aWRlciBkZWZpbml0aW9ucyBpbnRvIGFuIGFycmF5IG9mIHJlc29sdmVkIHByb3ZpZGVycy5cbiAgICAgKlxuICAgICAqIEEgcmVzb2x1dGlvbiBpcyBhIHByb2Nlc3Mgb2YgZmxhdHRlbmluZyBtdWx0aXBsZSBuZXN0ZWQgYXJyYXlzIGFuZCBjb252ZXJ0aW5nIGluZGl2aWR1YWxcbiAgICAgKiBwcm92aWRlcnMgaW50byBhbiBhcnJheSBvZiB7XFxAbGluayBSZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlcn1zLlxuICAgICAqXG4gICAgICogIyMjIEV4YW1wbGUgKFtsaXZlIGRlbW9dKGh0dHA6Ly9wbG5rci5jby9lZGl0L0FpWFRIaT9wPXByZXZpZXcpKVxuICAgICAqXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIFxcQEluamVjdGFibGUoKVxuICAgICAqIGNsYXNzIEVuZ2luZSB7XG4gICAgICogfVxuICAgICAqXG4gICAgICogXFxASW5qZWN0YWJsZSgpXG4gICAgICogY2xhc3MgQ2FyIHtcbiAgICAgKiAgIGNvbnN0cnVjdG9yKHB1YmxpYyBlbmdpbmU6RW5naW5lKSB7fVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBwcm92aWRlcnMgPSBSZWZsZWN0aXZlSW5qZWN0b3IucmVzb2x2ZShbQ2FyLCBbW0VuZ2luZV1dXSk7XG4gICAgICpcbiAgICAgKiBleHBlY3QocHJvdmlkZXJzLmxlbmd0aCkudG9FcXVhbCgyKTtcbiAgICAgKlxuICAgICAqIGV4cGVjdChwcm92aWRlcnNbMF0gaW5zdGFuY2VvZiBSZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlcikudG9CZSh0cnVlKTtcbiAgICAgKiBleHBlY3QocHJvdmlkZXJzWzBdLmtleS5kaXNwbGF5TmFtZSkudG9CZShcIkNhclwiKTtcbiAgICAgKiBleHBlY3QocHJvdmlkZXJzWzBdLmRlcGVuZGVuY2llcy5sZW5ndGgpLnRvRXF1YWwoMSk7XG4gICAgICogZXhwZWN0KHByb3ZpZGVyc1swXS5mYWN0b3J5KS50b0JlRGVmaW5lZCgpO1xuICAgICAqXG4gICAgICogZXhwZWN0KHByb3ZpZGVyc1sxXS5rZXkuZGlzcGxheU5hbWUpLnRvQmUoXCJFbmdpbmVcIik7XG4gICAgICogfSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBTZWUge1xcQGxpbmsgUmVmbGVjdGl2ZUluamVjdG9yI2Zyb21SZXNvbHZlZFByb3ZpZGVyc30gZm9yIG1vcmUgaW5mby5cbiAgICAgKiBAcGFyYW0gez99IHByb3ZpZGVyc1xuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgUmVmbGVjdGl2ZUluamVjdG9yLnJlc29sdmUgPSBmdW5jdGlvbiAocHJvdmlkZXJzKSB7XG4gICAgICAgIHJldHVybiByZXNvbHZlUmVmbGVjdGl2ZVByb3ZpZGVycyhwcm92aWRlcnMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVzb2x2ZXMgYW4gYXJyYXkgb2YgcHJvdmlkZXJzIGFuZCBjcmVhdGVzIGFuIGluamVjdG9yIGZyb20gdGhvc2UgcHJvdmlkZXJzLlxuICAgICAqXG4gICAgICogVGhlIHBhc3NlZC1pbiBwcm92aWRlcnMgY2FuIGJlIGFuIGFycmF5IG9mIGBUeXBlYCwge1xcQGxpbmsgUHJvdmlkZXJ9LFxuICAgICAqIG9yIGEgcmVjdXJzaXZlIGFycmF5IG9mIG1vcmUgcHJvdmlkZXJzLlxuICAgICAqXG4gICAgICogIyMjIEV4YW1wbGUgKFtsaXZlIGRlbW9dKGh0dHA6Ly9wbG5rci5jby9lZGl0L2VQT2NjQT9wPXByZXZpZXcpKVxuICAgICAqXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIFxcQEluamVjdGFibGUoKVxuICAgICAqIGNsYXNzIEVuZ2luZSB7XG4gICAgICogfVxuICAgICAqXG4gICAgICogXFxASW5qZWN0YWJsZSgpXG4gICAgICogY2xhc3MgQ2FyIHtcbiAgICAgKiAgIGNvbnN0cnVjdG9yKHB1YmxpYyBlbmdpbmU6RW5naW5lKSB7fVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBpbmplY3RvciA9IFJlZmxlY3RpdmVJbmplY3Rvci5yZXNvbHZlQW5kQ3JlYXRlKFtDYXIsIEVuZ2luZV0pO1xuICAgICAqIGV4cGVjdChpbmplY3Rvci5nZXQoQ2FyKSBpbnN0YW5jZW9mIENhcikudG9CZSh0cnVlKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgc2xvd2VyIHRoYW4gdGhlIGNvcnJlc3BvbmRpbmcgYGZyb21SZXNvbHZlZFByb3ZpZGVyc2BcbiAgICAgKiBiZWNhdXNlIGl0IG5lZWRzIHRvIHJlc29sdmUgdGhlIHBhc3NlZC1pbiBwcm92aWRlcnMgZmlyc3QuXG4gICAgICogU2VlIHtcXEBsaW5rIFJlZmxlY3RpdmVJbmplY3RvciNyZXNvbHZlfSBhbmQge1xcQGxpbmsgUmVmbGVjdGl2ZUluamVjdG9yI2Zyb21SZXNvbHZlZFByb3ZpZGVyc30uXG4gICAgICogQHBhcmFtIHs/fSBwcm92aWRlcnNcbiAgICAgKiBAcGFyYW0gez89fSBwYXJlbnRcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFJlZmxlY3RpdmVJbmplY3Rvci5yZXNvbHZlQW5kQ3JlYXRlID0gZnVuY3Rpb24gKHByb3ZpZGVycywgcGFyZW50KSB7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIFJlc29sdmVkUmVmbGVjdGl2ZVByb3ZpZGVycyA9IFJlZmxlY3RpdmVJbmplY3Rvci5yZXNvbHZlKHByb3ZpZGVycyk7XG4gICAgICAgIHJldHVybiBSZWZsZWN0aXZlSW5qZWN0b3IuZnJvbVJlc29sdmVkUHJvdmlkZXJzKFJlc29sdmVkUmVmbGVjdGl2ZVByb3ZpZGVycywgcGFyZW50KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaW5qZWN0b3IgZnJvbSBwcmV2aW91c2x5IHJlc29sdmVkIHByb3ZpZGVycy5cbiAgICAgKlxuICAgICAqIFRoaXMgQVBJIGlzIHRoZSByZWNvbW1lbmRlZCB3YXkgdG8gY29uc3RydWN0IGluamVjdG9ycyBpbiBwZXJmb3JtYW5jZS1zZW5zaXRpdmUgcGFydHMuXG4gICAgICpcbiAgICAgKiAjIyMgRXhhbXBsZSAoW2xpdmUgZGVtb10oaHR0cDovL3BsbmtyLmNvL2VkaXQvS3JTTWNpP3A9cHJldmlldykpXG4gICAgICpcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogXFxASW5qZWN0YWJsZSgpXG4gICAgICogY2xhc3MgRW5naW5lIHtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBcXEBJbmplY3RhYmxlKClcbiAgICAgKiBjbGFzcyBDYXIge1xuICAgICAqICAgY29uc3RydWN0b3IocHVibGljIGVuZ2luZTpFbmdpbmUpIHt9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIHByb3ZpZGVycyA9IFJlZmxlY3RpdmVJbmplY3Rvci5yZXNvbHZlKFtDYXIsIEVuZ2luZV0pO1xuICAgICAqIHZhciBpbmplY3RvciA9IFJlZmxlY3RpdmVJbmplY3Rvci5mcm9tUmVzb2x2ZWRQcm92aWRlcnMocHJvdmlkZXJzKTtcbiAgICAgKiBleHBlY3QoaW5qZWN0b3IuZ2V0KENhcikgaW5zdGFuY2VvZiBDYXIpLnRvQmUodHJ1ZSk7XG4gICAgICogYGBgXG4gICAgICogXFxAZXhwZXJpbWVudGFsXG4gICAgICogQHBhcmFtIHs/fSBwcm92aWRlcnNcbiAgICAgKiBAcGFyYW0gez89fSBwYXJlbnRcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFJlZmxlY3RpdmVJbmplY3Rvci5mcm9tUmVzb2x2ZWRQcm92aWRlcnMgPSBmdW5jdGlvbiAocHJvdmlkZXJzLCBwYXJlbnQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZWZsZWN0aXZlSW5qZWN0b3JfKHByb3ZpZGVycywgcGFyZW50KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBhcmVudCBvZiB0aGlzIGluamVjdG9yLlxuICAgICAqXG4gICAgICogPCEtLSBUT0RPOiBBZGQgYSBsaW5rIHRvIHRoZSBzZWN0aW9uIG9mIHRoZSB1c2VyIGd1aWRlIHRhbGtpbmcgYWJvdXQgaGllcmFyY2hpY2FsIGluamVjdGlvbi5cbiAgICAgKiAtLT5cbiAgICAgKlxuICAgICAqICMjIyBFeGFtcGxlIChbbGl2ZSBkZW1vXShodHRwOi8vcGxua3IuY28vZWRpdC9lb3NNR28/cD1wcmV2aWV3KSlcbiAgICAgKlxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiB2YXIgcGFyZW50ID0gUmVmbGVjdGl2ZUluamVjdG9yLnJlc29sdmVBbmRDcmVhdGUoW10pO1xuICAgICAqIHZhciBjaGlsZCA9IHBhcmVudC5yZXNvbHZlQW5kQ3JlYXRlQ2hpbGQoW10pO1xuICAgICAqIGV4cGVjdChjaGlsZC5wYXJlbnQpLnRvQmUocGFyZW50KTtcbiAgICAgKiBgYGBcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFJlZmxlY3RpdmVJbmplY3Rvci5wcm90b3R5cGUucGFyZW50ID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIC8qKlxuICAgICAqIFJlc29sdmVzIGFuIGFycmF5IG9mIHByb3ZpZGVycyBhbmQgY3JlYXRlcyBhIGNoaWxkIGluamVjdG9yIGZyb20gdGhvc2UgcHJvdmlkZXJzLlxuICAgICAqXG4gICAgICogPCEtLSBUT0RPOiBBZGQgYSBsaW5rIHRvIHRoZSBzZWN0aW9uIG9mIHRoZSB1c2VyIGd1aWRlIHRhbGtpbmcgYWJvdXQgaGllcmFyY2hpY2FsIGluamVjdGlvbi5cbiAgICAgKiAtLT5cbiAgICAgKlxuICAgICAqIFRoZSBwYXNzZWQtaW4gcHJvdmlkZXJzIGNhbiBiZSBhbiBhcnJheSBvZiBgVHlwZWAsIHtcXEBsaW5rIFByb3ZpZGVyfSxcbiAgICAgKiBvciBhIHJlY3Vyc2l2ZSBhcnJheSBvZiBtb3JlIHByb3ZpZGVycy5cbiAgICAgKlxuICAgICAqICMjIyBFeGFtcGxlIChbbGl2ZSBkZW1vXShodHRwOi8vcGxua3IuY28vZWRpdC9vcEIzVDQ/cD1wcmV2aWV3KSlcbiAgICAgKlxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBjbGFzcyBQYXJlbnRQcm92aWRlciB7fVxuICAgICAqIGNsYXNzIENoaWxkUHJvdmlkZXIge31cbiAgICAgKlxuICAgICAqIHZhciBwYXJlbnQgPSBSZWZsZWN0aXZlSW5qZWN0b3IucmVzb2x2ZUFuZENyZWF0ZShbUGFyZW50UHJvdmlkZXJdKTtcbiAgICAgKiB2YXIgY2hpbGQgPSBwYXJlbnQucmVzb2x2ZUFuZENyZWF0ZUNoaWxkKFtDaGlsZFByb3ZpZGVyXSk7XG4gICAgICpcbiAgICAgKiBleHBlY3QoY2hpbGQuZ2V0KFBhcmVudFByb3ZpZGVyKSBpbnN0YW5jZW9mIFBhcmVudFByb3ZpZGVyKS50b0JlKHRydWUpO1xuICAgICAqIGV4cGVjdChjaGlsZC5nZXQoQ2hpbGRQcm92aWRlcikgaW5zdGFuY2VvZiBDaGlsZFByb3ZpZGVyKS50b0JlKHRydWUpO1xuICAgICAqIGV4cGVjdChjaGlsZC5nZXQoUGFyZW50UHJvdmlkZXIpKS50b0JlKHBhcmVudC5nZXQoUGFyZW50UHJvdmlkZXIpKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgc2xvd2VyIHRoYW4gdGhlIGNvcnJlc3BvbmRpbmcgYGNyZWF0ZUNoaWxkRnJvbVJlc29sdmVkYFxuICAgICAqIGJlY2F1c2UgaXQgbmVlZHMgdG8gcmVzb2x2ZSB0aGUgcGFzc2VkLWluIHByb3ZpZGVycyBmaXJzdC5cbiAgICAgKiBTZWUge1xcQGxpbmsgUmVmbGVjdGl2ZUluamVjdG9yI3Jlc29sdmV9IGFuZCB7XFxAbGluayBSZWZsZWN0aXZlSW5qZWN0b3IjY3JlYXRlQ2hpbGRGcm9tUmVzb2x2ZWR9LlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7P30gcHJvdmlkZXJzXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBSZWZsZWN0aXZlSW5qZWN0b3IucHJvdG90eXBlLnJlc29sdmVBbmRDcmVhdGVDaGlsZCA9IGZ1bmN0aW9uIChwcm92aWRlcnMpIHsgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2hpbGQgaW5qZWN0b3IgZnJvbSBwcmV2aW91c2x5IHJlc29sdmVkIHByb3ZpZGVycy5cbiAgICAgKlxuICAgICAqIDwhLS0gVE9ETzogQWRkIGEgbGluayB0byB0aGUgc2VjdGlvbiBvZiB0aGUgdXNlciBndWlkZSB0YWxraW5nIGFib3V0IGhpZXJhcmNoaWNhbCBpbmplY3Rpb24uXG4gICAgICogLS0+XG4gICAgICpcbiAgICAgKiBUaGlzIEFQSSBpcyB0aGUgcmVjb21tZW5kZWQgd2F5IHRvIGNvbnN0cnVjdCBpbmplY3RvcnMgaW4gcGVyZm9ybWFuY2Utc2Vuc2l0aXZlIHBhcnRzLlxuICAgICAqXG4gICAgICogIyMjIEV4YW1wbGUgKFtsaXZlIGRlbW9dKGh0dHA6Ly9wbG5rci5jby9lZGl0L1ZoeWZqTj9wPXByZXZpZXcpKVxuICAgICAqXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIGNsYXNzIFBhcmVudFByb3ZpZGVyIHt9XG4gICAgICogY2xhc3MgQ2hpbGRQcm92aWRlciB7fVxuICAgICAqXG4gICAgICogdmFyIHBhcmVudFByb3ZpZGVycyA9IFJlZmxlY3RpdmVJbmplY3Rvci5yZXNvbHZlKFtQYXJlbnRQcm92aWRlcl0pO1xuICAgICAqIHZhciBjaGlsZFByb3ZpZGVycyA9IFJlZmxlY3RpdmVJbmplY3Rvci5yZXNvbHZlKFtDaGlsZFByb3ZpZGVyXSk7XG4gICAgICpcbiAgICAgKiB2YXIgcGFyZW50ID0gUmVmbGVjdGl2ZUluamVjdG9yLmZyb21SZXNvbHZlZFByb3ZpZGVycyhwYXJlbnRQcm92aWRlcnMpO1xuICAgICAqIHZhciBjaGlsZCA9IHBhcmVudC5jcmVhdGVDaGlsZEZyb21SZXNvbHZlZChjaGlsZFByb3ZpZGVycyk7XG4gICAgICpcbiAgICAgKiBleHBlY3QoY2hpbGQuZ2V0KFBhcmVudFByb3ZpZGVyKSBpbnN0YW5jZW9mIFBhcmVudFByb3ZpZGVyKS50b0JlKHRydWUpO1xuICAgICAqIGV4cGVjdChjaGlsZC5nZXQoQ2hpbGRQcm92aWRlcikgaW5zdGFuY2VvZiBDaGlsZFByb3ZpZGVyKS50b0JlKHRydWUpO1xuICAgICAqIGV4cGVjdChjaGlsZC5nZXQoUGFyZW50UHJvdmlkZXIpKS50b0JlKHBhcmVudC5nZXQoUGFyZW50UHJvdmlkZXIpKTtcbiAgICAgKiBgYGBcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcGFyYW0gez99IHByb3ZpZGVyc1xuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgUmVmbGVjdGl2ZUluamVjdG9yLnByb3RvdHlwZS5jcmVhdGVDaGlsZEZyb21SZXNvbHZlZCA9IGZ1bmN0aW9uIChwcm92aWRlcnMpIHsgfTtcbiAgICAvKipcbiAgICAgKiBSZXNvbHZlcyBhIHByb3ZpZGVyIGFuZCBpbnN0YW50aWF0ZXMgYW4gb2JqZWN0IGluIHRoZSBjb250ZXh0IG9mIHRoZSBpbmplY3Rvci5cbiAgICAgKlxuICAgICAqIFRoZSBjcmVhdGVkIG9iamVjdCBkb2VzIG5vdCBnZXQgY2FjaGVkIGJ5IHRoZSBpbmplY3Rvci5cbiAgICAgKlxuICAgICAqICMjIyBFeGFtcGxlIChbbGl2ZSBkZW1vXShodHRwOi8vcGxua3IuY28vZWRpdC95dlZYb0I/cD1wcmV2aWV3KSlcbiAgICAgKlxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBcXEBJbmplY3RhYmxlKClcbiAgICAgKiBjbGFzcyBFbmdpbmUge1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIFxcQEluamVjdGFibGUoKVxuICAgICAqIGNsYXNzIENhciB7XG4gICAgICogICBjb25zdHJ1Y3RvcihwdWJsaWMgZW5naW5lOkVuZ2luZSkge31cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgaW5qZWN0b3IgPSBSZWZsZWN0aXZlSW5qZWN0b3IucmVzb2x2ZUFuZENyZWF0ZShbRW5naW5lXSk7XG4gICAgICpcbiAgICAgKiB2YXIgY2FyID0gaW5qZWN0b3IucmVzb2x2ZUFuZEluc3RhbnRpYXRlKENhcik7XG4gICAgICogZXhwZWN0KGNhci5lbmdpbmUpLnRvQmUoaW5qZWN0b3IuZ2V0KEVuZ2luZSkpO1xuICAgICAqIGV4cGVjdChjYXIpLm5vdC50b0JlKGluamVjdG9yLnJlc29sdmVBbmRJbnN0YW50aWF0ZShDYXIpKTtcbiAgICAgKiBgYGBcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcGFyYW0gez99IHByb3ZpZGVyXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBSZWZsZWN0aXZlSW5qZWN0b3IucHJvdG90eXBlLnJlc29sdmVBbmRJbnN0YW50aWF0ZSA9IGZ1bmN0aW9uIChwcm92aWRlcikgeyB9O1xuICAgIC8qKlxuICAgICAqIEluc3RhbnRpYXRlcyBhbiBvYmplY3QgdXNpbmcgYSByZXNvbHZlZCBwcm92aWRlciBpbiB0aGUgY29udGV4dCBvZiB0aGUgaW5qZWN0b3IuXG4gICAgICpcbiAgICAgKiBUaGUgY3JlYXRlZCBvYmplY3QgZG9lcyBub3QgZ2V0IGNhY2hlZCBieSB0aGUgaW5qZWN0b3IuXG4gICAgICpcbiAgICAgKiAjIyMgRXhhbXBsZSAoW2xpdmUgZGVtb10oaHR0cDovL3BsbmtyLmNvL2VkaXQvcHRDSW1RP3A9cHJldmlldykpXG4gICAgICpcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogXFxASW5qZWN0YWJsZSgpXG4gICAgICogY2xhc3MgRW5naW5lIHtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBcXEBJbmplY3RhYmxlKClcbiAgICAgKiBjbGFzcyBDYXIge1xuICAgICAqICAgY29uc3RydWN0b3IocHVibGljIGVuZ2luZTpFbmdpbmUpIHt9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGluamVjdG9yID0gUmVmbGVjdGl2ZUluamVjdG9yLnJlc29sdmVBbmRDcmVhdGUoW0VuZ2luZV0pO1xuICAgICAqIHZhciBjYXJQcm92aWRlciA9IFJlZmxlY3RpdmVJbmplY3Rvci5yZXNvbHZlKFtDYXJdKVswXTtcbiAgICAgKiB2YXIgY2FyID0gaW5qZWN0b3IuaW5zdGFudGlhdGVSZXNvbHZlZChjYXJQcm92aWRlcik7XG4gICAgICogZXhwZWN0KGNhci5lbmdpbmUpLnRvQmUoaW5qZWN0b3IuZ2V0KEVuZ2luZSkpO1xuICAgICAqIGV4cGVjdChjYXIpLm5vdC50b0JlKGluamVjdG9yLmluc3RhbnRpYXRlUmVzb2x2ZWQoY2FyUHJvdmlkZXIpKTtcbiAgICAgKiBgYGBcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcGFyYW0gez99IHByb3ZpZGVyXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBSZWZsZWN0aXZlSW5qZWN0b3IucHJvdG90eXBlLmluc3RhbnRpYXRlUmVzb2x2ZWQgPSBmdW5jdGlvbiAocHJvdmlkZXIpIHsgfTtcbiAgICAvKipcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcGFyYW0gez99IHRva2VuXG4gICAgICogQHBhcmFtIHs/PX0gbm90Rm91bmRWYWx1ZVxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgUmVmbGVjdGl2ZUluamVjdG9yLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAodG9rZW4sIG5vdEZvdW5kVmFsdWUpIHsgfTtcbiAgICByZXR1cm4gUmVmbGVjdGl2ZUluamVjdG9yO1xufSgpKTtcbnZhciBSZWZsZWN0aXZlSW5qZWN0b3JfID0gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBQcml2YXRlXG4gICAgICogQHBhcmFtIHs/fSBfcHJvdmlkZXJzXG4gICAgICogQHBhcmFtIHs/PX0gX3BhcmVudFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJlZmxlY3RpdmVJbmplY3Rvcl8oX3Byb3ZpZGVycywgX3BhcmVudCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogXFxAaW50ZXJuYWxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2NvbnN0cnVjdGlvbkNvdW50ZXIgPSAwO1xuICAgICAgICB0aGlzLl9wcm92aWRlcnMgPSBfcHJvdmlkZXJzO1xuICAgICAgICB0aGlzLl9wYXJlbnQgPSBfcGFyZW50IHx8IG51bGw7XG4gICAgICAgIHZhciBsZW4gPSBfcHJvdmlkZXJzLmxlbmd0aDtcbiAgICAgICAgdGhpcy5rZXlJZHMgPSBuZXcgQXJyYXkobGVuKTtcbiAgICAgICAgdGhpcy5vYmpzID0gbmV3IEFycmF5KGxlbik7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMua2V5SWRzW2ldID0gX3Byb3ZpZGVyc1tpXS5rZXkuaWQ7XG4gICAgICAgICAgICB0aGlzLm9ianNbaV0gPSBVTkRFRklORUQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSB0b2tlblxuICAgICAqIEBwYXJhbSB7Pz19IG5vdEZvdW5kVmFsdWVcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFJlZmxlY3RpdmVJbmplY3Rvcl8ucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uICh0b2tlbiwgbm90Rm91bmRWYWx1ZSkge1xuICAgICAgICBpZiAobm90Rm91bmRWYWx1ZSA9PT0gdm9pZCAwKSB7IG5vdEZvdW5kVmFsdWUgPSBUSFJPV19JRl9OT1RfRk9VTkQ7IH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldEJ5S2V5KFJlZmxlY3RpdmVLZXkuZ2V0KHRva2VuKSwgbnVsbCwgbm90Rm91bmRWYWx1ZSk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVmbGVjdGl2ZUluamVjdG9yXy5wcm90b3R5cGUsIFwicGFyZW50XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm4gez99XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX3BhcmVudDsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBwcm92aWRlcnNcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFJlZmxlY3RpdmVJbmplY3Rvcl8ucHJvdG90eXBlLnJlc29sdmVBbmRDcmVhdGVDaGlsZCA9IGZ1bmN0aW9uIChwcm92aWRlcnMpIHtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gUmVzb2x2ZWRSZWZsZWN0aXZlUHJvdmlkZXJzID0gUmVmbGVjdGl2ZUluamVjdG9yLnJlc29sdmUocHJvdmlkZXJzKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlQ2hpbGRGcm9tUmVzb2x2ZWQoUmVzb2x2ZWRSZWZsZWN0aXZlUHJvdmlkZXJzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gcHJvdmlkZXJzXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBSZWZsZWN0aXZlSW5qZWN0b3JfLnByb3RvdHlwZS5jcmVhdGVDaGlsZEZyb21SZXNvbHZlZCA9IGZ1bmN0aW9uIChwcm92aWRlcnMpIHtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gaW5qID0gbmV3IFJlZmxlY3RpdmVJbmplY3Rvcl8ocHJvdmlkZXJzKTtcbiAgICAgICAgaW5qLl9wYXJlbnQgPSB0aGlzO1xuICAgICAgICByZXR1cm4gaW5qO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBwcm92aWRlclxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgUmVmbGVjdGl2ZUluamVjdG9yXy5wcm90b3R5cGUucmVzb2x2ZUFuZEluc3RhbnRpYXRlID0gZnVuY3Rpb24gKHByb3ZpZGVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmluc3RhbnRpYXRlUmVzb2x2ZWQoUmVmbGVjdGl2ZUluamVjdG9yLnJlc29sdmUoW3Byb3ZpZGVyXSlbMF0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBwcm92aWRlclxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgUmVmbGVjdGl2ZUluamVjdG9yXy5wcm90b3R5cGUuaW5zdGFudGlhdGVSZXNvbHZlZCA9IGZ1bmN0aW9uIChwcm92aWRlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5zdGFudGlhdGVQcm92aWRlcihwcm92aWRlcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IGluZGV4XG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBSZWZsZWN0aXZlSW5qZWN0b3JfLnByb3RvdHlwZS5nZXRQcm92aWRlckF0SW5kZXggPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+PSB0aGlzLl9wcm92aWRlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBvdXRPZkJvdW5kc0Vycm9yKGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fcHJvdmlkZXJzW2luZGV4XTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFxcQGludGVybmFsXG4gICAgICogQHBhcmFtIHs/fSBwcm92aWRlclxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgUmVmbGVjdGl2ZUluamVjdG9yXy5wcm90b3R5cGUuX25ldyA9IGZ1bmN0aW9uIChwcm92aWRlcikge1xuICAgICAgICBpZiAodGhpcy5fY29uc3RydWN0aW9uQ291bnRlcisrID4gdGhpcy5fZ2V0TWF4TnVtYmVyT2ZPYmplY3RzKCkpIHtcbiAgICAgICAgICAgIHRocm93IGN5Y2xpY0RlcGVuZGVuY3lFcnJvcih0aGlzLCBwcm92aWRlci5rZXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnN0YW50aWF0ZVByb3ZpZGVyKHByb3ZpZGVyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgUmVmbGVjdGl2ZUluamVjdG9yXy5wcm90b3R5cGUuX2dldE1heE51bWJlck9mT2JqZWN0cyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMub2Jqcy5sZW5ndGg7IH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBwcm92aWRlclxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgUmVmbGVjdGl2ZUluamVjdG9yXy5wcm90b3R5cGUuX2luc3RhbnRpYXRlUHJvdmlkZXIgPSBmdW5jdGlvbiAocHJvdmlkZXIpIHtcbiAgICAgICAgaWYgKHByb3ZpZGVyLm11bHRpUHJvdmlkZXIpIHtcbiAgICAgICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIHJlcyA9IG5ldyBBcnJheShwcm92aWRlci5yZXNvbHZlZEZhY3Rvcmllcy5sZW5ndGgpO1xuICAgICAgICAgICAgZm9yICh2YXIgLyoqIEB0eXBlIHs/fSAqLyBpID0gMDsgaSA8IHByb3ZpZGVyLnJlc29sdmVkRmFjdG9yaWVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgcmVzW2ldID0gdGhpcy5faW5zdGFudGlhdGUocHJvdmlkZXIsIHByb3ZpZGVyLnJlc29sdmVkRmFjdG9yaWVzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faW5zdGFudGlhdGUocHJvdmlkZXIsIHByb3ZpZGVyLnJlc29sdmVkRmFjdG9yaWVzWzBdKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBwcm92aWRlclxuICAgICAqIEBwYXJhbSB7P30gUmVzb2x2ZWRSZWZsZWN0aXZlRmFjdG9yeVxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgUmVmbGVjdGl2ZUluamVjdG9yXy5wcm90b3R5cGUuX2luc3RhbnRpYXRlID0gZnVuY3Rpb24gKHByb3ZpZGVyLCBSZXNvbHZlZFJlZmxlY3RpdmVGYWN0b3J5JCQxKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGZhY3RvcnkgPSBSZXNvbHZlZFJlZmxlY3RpdmVGYWN0b3J5JCQxLmZhY3Rvcnk7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGRlcHM7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBkZXBzID1cbiAgICAgICAgICAgICAgICBSZXNvbHZlZFJlZmxlY3RpdmVGYWN0b3J5JCQxLmRlcGVuZGVuY2llcy5tYXAoZnVuY3Rpb24gKGRlcCkgeyByZXR1cm4gX3RoaXMuX2dldEJ5UmVmbGVjdGl2ZURlcGVuZGVuY3koZGVwKTsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGlmIChlLmFkZEtleSkge1xuICAgICAgICAgICAgICAgIGUuYWRkS2V5KHRoaXMsIHByb3ZpZGVyLmtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIG9iajtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG9iaiA9IGZhY3RvcnkuYXBwbHkodm9pZCAwLCBkZXBzKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhyb3cgaW5zdGFudGlhdGlvbkVycm9yKHRoaXMsIGUsIGUuc3RhY2ssIHByb3ZpZGVyLmtleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gZGVwXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBSZWZsZWN0aXZlSW5qZWN0b3JfLnByb3RvdHlwZS5fZ2V0QnlSZWZsZWN0aXZlRGVwZW5kZW5jeSA9IGZ1bmN0aW9uIChkZXApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldEJ5S2V5KGRlcC5rZXksIGRlcC52aXNpYmlsaXR5LCBkZXAub3B0aW9uYWwgPyBudWxsIDogVEhST1dfSUZfTk9UX0ZPVU5EKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30ga2V5XG4gICAgICogQHBhcmFtIHs/fSB2aXNpYmlsaXR5XG4gICAgICogQHBhcmFtIHs/fSBub3RGb3VuZFZhbHVlXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBSZWZsZWN0aXZlSW5qZWN0b3JfLnByb3RvdHlwZS5fZ2V0QnlLZXkgPSBmdW5jdGlvbiAoa2V5LCB2aXNpYmlsaXR5LCBub3RGb3VuZFZhbHVlKSB7XG4gICAgICAgIGlmIChrZXkgPT09IElOSkVDVE9SX0tFWSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZpc2liaWxpdHkgaW5zdGFuY2VvZiBTZWxmKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0QnlLZXlTZWxmKGtleSwgbm90Rm91bmRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0QnlLZXlEZWZhdWx0KGtleSwgbm90Rm91bmRWYWx1ZSwgdmlzaWJpbGl0eSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30ga2V5SWRcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFJlZmxlY3RpdmVJbmplY3Rvcl8ucHJvdG90eXBlLl9nZXRPYmpCeUtleUlkID0gZnVuY3Rpb24gKGtleUlkKSB7XG4gICAgICAgIGZvciAodmFyIC8qKiBAdHlwZSB7P30gKi8gaSA9IDA7IGkgPCB0aGlzLmtleUlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMua2V5SWRzW2ldID09PSBrZXlJZCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9ianNbaV0gPT09IFVOREVGSU5FRCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9ianNbaV0gPSB0aGlzLl9uZXcodGhpcy5fcHJvdmlkZXJzW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMub2Jqc1tpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gVU5ERUZJTkVEO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogXFxAaW50ZXJuYWxcbiAgICAgKiBAcGFyYW0gez99IGtleVxuICAgICAqIEBwYXJhbSB7P30gbm90Rm91bmRWYWx1ZVxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgUmVmbGVjdGl2ZUluamVjdG9yXy5wcm90b3R5cGUuX3Rocm93T3JOdWxsID0gZnVuY3Rpb24gKGtleSwgbm90Rm91bmRWYWx1ZSkge1xuICAgICAgICBpZiAobm90Rm91bmRWYWx1ZSAhPT0gVEhST1dfSUZfTk9UX0ZPVU5EKSB7XG4gICAgICAgICAgICByZXR1cm4gbm90Rm91bmRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5vUHJvdmlkZXJFcnJvcih0aGlzLCBrZXkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBcXEBpbnRlcm5hbFxuICAgICAqIEBwYXJhbSB7P30ga2V5XG4gICAgICogQHBhcmFtIHs/fSBub3RGb3VuZFZhbHVlXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBSZWZsZWN0aXZlSW5qZWN0b3JfLnByb3RvdHlwZS5fZ2V0QnlLZXlTZWxmID0gZnVuY3Rpb24gKGtleSwgbm90Rm91bmRWYWx1ZSkge1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBvYmogPSB0aGlzLl9nZXRPYmpCeUtleUlkKGtleS5pZCk7XG4gICAgICAgIHJldHVybiAob2JqICE9PSBVTkRFRklORUQpID8gb2JqIDogdGhpcy5fdGhyb3dPck51bGwoa2V5LCBub3RGb3VuZFZhbHVlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFxcQGludGVybmFsXG4gICAgICogQHBhcmFtIHs/fSBrZXlcbiAgICAgKiBAcGFyYW0gez99IG5vdEZvdW5kVmFsdWVcbiAgICAgKiBAcGFyYW0gez99IHZpc2liaWxpdHlcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFJlZmxlY3RpdmVJbmplY3Rvcl8ucHJvdG90eXBlLl9nZXRCeUtleURlZmF1bHQgPSBmdW5jdGlvbiAoa2V5LCBub3RGb3VuZFZhbHVlLCB2aXNpYmlsaXR5KSB7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGluajtcbiAgICAgICAgaWYgKHZpc2liaWxpdHkgaW5zdGFuY2VvZiBTa2lwU2VsZikge1xuICAgICAgICAgICAgaW5qID0gdGhpcy5fcGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaW5qID0gdGhpcztcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoaW5qIGluc3RhbmNlb2YgUmVmbGVjdGl2ZUluamVjdG9yXykge1xuICAgICAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gaW5qXyA9IChpbmopO1xuICAgICAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gb2JqID0gaW5qXy5fZ2V0T2JqQnlLZXlJZChrZXkuaWQpO1xuICAgICAgICAgICAgaWYgKG9iaiAhPT0gVU5ERUZJTkVEKVxuICAgICAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgICAgICBpbmogPSBpbmpfLl9wYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluaiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGluai5nZXQoa2V5LnRva2VuLCBub3RGb3VuZFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90aHJvd09yTnVsbChrZXksIG5vdEZvdW5kVmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVmbGVjdGl2ZUluamVjdG9yXy5wcm90b3R5cGUsIFwiZGlzcGxheU5hbWVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybiB7P31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcHJvdmlkZXJzID0gX21hcFByb3ZpZGVycyh0aGlzLCBmdW5jdGlvbiAoYikgeyByZXR1cm4gJyBcIicgKyBiLmtleS5kaXNwbGF5TmFtZSArICdcIiAnOyB9KVxuICAgICAgICAgICAgICAgIC5qb2luKCcsICcpO1xuICAgICAgICAgICAgcmV0dXJuIFwiUmVmbGVjdGl2ZUluamVjdG9yKHByb3ZpZGVyczogW1wiICsgcHJvdmlkZXJzICsgXCJdKVwiO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFJlZmxlY3RpdmVJbmplY3Rvcl8ucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5kaXNwbGF5TmFtZTsgfTtcbiAgICByZXR1cm4gUmVmbGVjdGl2ZUluamVjdG9yXztcbn0oKSk7XG52YXIgSU5KRUNUT1JfS0VZID0gUmVmbGVjdGl2ZUtleS5nZXQoSW5qZWN0b3IpO1xuLyoqXG4gKiBAcGFyYW0gez99IGluamVjdG9yXG4gKiBAcGFyYW0gez99IGZuXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBfbWFwUHJvdmlkZXJzKGluamVjdG9yLCBmbikge1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIHJlcyA9IG5ldyBBcnJheShpbmplY3Rvci5fcHJvdmlkZXJzLmxlbmd0aCk7XG4gICAgZm9yICh2YXIgLyoqIEB0eXBlIHs/fSAqLyBpID0gMDsgaSA8IGluamVjdG9yLl9wcm92aWRlcnMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgcmVzW2ldID0gZm4oaW5qZWN0b3IuZ2V0UHJvdmlkZXJBdEluZGV4KGkpKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQG1vZHVsZVxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYGRpYCBtb2R1bGUgcHJvdmlkZXMgZGVwZW5kZW5jeSBpbmplY3Rpb24gY29udGFpbmVyIHNlcnZpY2VzLlxuICovXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIERldGVybWluZSBpZiB0aGUgYXJndW1lbnQgaXMgc2hhcGVkIGxpa2UgYSBQcm9taXNlXG4gKiBAcGFyYW0gez99IG9ialxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gaXNQcm9taXNlKG9iaikge1xuICAgIC8vIGFsbG93IGFueSBQcm9taXNlL0ErIGNvbXBsaWFudCB0aGVuYWJsZS5cbiAgICAvLyBJdCdzIHVwIHRvIHRoZSBjYWxsZXIgdG8gZW5zdXJlIHRoYXQgb2JqLnRoZW4gY29uZm9ybXMgdG8gdGhlIHNwZWNcbiAgICByZXR1cm4gISFvYmogJiYgdHlwZW9mIG9iai50aGVuID09PSAnZnVuY3Rpb24nO1xufVxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgdGhlIGFyZ3VtZW50IGlzIGFuIE9ic2VydmFibGVcbiAqIEBwYXJhbSB7P30gb2JqXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBpc09ic2VydmFibGUob2JqKSB7XG4gICAgLy8gVE9ETyB1c2UgU3ltYm9sLm9ic2VydmFibGUgd2hlbiBodHRwczovL2dpdGh1Yi5jb20vUmVhY3RpdmVYL3J4anMvaXNzdWVzLzI0MTUgd2lsbCBiZSByZXNvbHZlZFxuICAgIHJldHVybiAhIW9iaiAmJiB0eXBlb2Ygb2JqLnN1YnNjcmliZSA9PT0gJ2Z1bmN0aW9uJztcbn1cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgZXhlY3V0ZWQgd2hlbiBhbiBhcHBsaWNhdGlvbiBpcyBpbml0aWFsaXplZC5cbiAqIFxcQGV4cGVyaW1lbnRhbFxuICovXG52YXIgQVBQX0lOSVRJQUxJWkVSID0gbmV3IEluamVjdGlvblRva2VuKCdBcHBsaWNhdGlvbiBJbml0aWFsaXplcicpO1xuLyoqXG4gKiBBIGNsYXNzIHRoYXQgcmVmbGVjdHMgdGhlIHN0YXRlIG9mIHJ1bm5pbmcge1xcQGxpbmsgQVBQX0lOSVRJQUxJWkVSfXMuXG4gKlxuICogXFxAZXhwZXJpbWVudGFsXG4gKi9cbnZhciBBcHBsaWNhdGlvbkluaXRTdGF0dXMgPSAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gYXBwSW5pdHNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBBcHBsaWNhdGlvbkluaXRTdGF0dXMoYXBwSW5pdHMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5hcHBJbml0cyA9IGFwcEluaXRzO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2RvbmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fZG9uZVByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzLCByZWopIHtcbiAgICAgICAgICAgIF90aGlzLnJlc29sdmUgPSByZXM7XG4gICAgICAgICAgICBfdGhpcy5yZWplY3QgPSByZWo7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBcXEBpbnRlcm5hbFxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgQXBwbGljYXRpb25Jbml0U3RhdHVzLnByb3RvdHlwZS5ydW5Jbml0aWFsaXplcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLmluaXRpYWxpemVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gYXN5bmNJbml0UHJvbWlzZXMgPSBbXTtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5fZG9uZSA9IHRydWU7XG4gICAgICAgICAgICBfdGhpcy5yZXNvbHZlKCk7XG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLmFwcEluaXRzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciAvKiogQHR5cGUgez99ICovIGkgPSAwOyBpIDwgdGhpcy5hcHBJbml0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGluaXRSZXN1bHQgPSB0aGlzLmFwcEluaXRzW2ldKCk7XG4gICAgICAgICAgICAgICAgaWYgKGlzUHJvbWlzZShpbml0UmVzdWx0KSkge1xuICAgICAgICAgICAgICAgICAgICBhc3luY0luaXRQcm9taXNlcy5wdXNoKGluaXRSZXN1bHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBQcm9taXNlLmFsbChhc3luY0luaXRQcm9taXNlcykudGhlbihmdW5jdGlvbiAoKSB7IGNvbXBsZXRlKCk7IH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7IF90aGlzLnJlamVjdChlKTsgfSk7XG4gICAgICAgIGlmIChhc3luY0luaXRQcm9taXNlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbml0aWFsaXplZCA9IHRydWU7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXBwbGljYXRpb25Jbml0U3RhdHVzLnByb3RvdHlwZSwgXCJkb25lXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm4gez99XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX2RvbmU7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcHBsaWNhdGlvbkluaXRTdGF0dXMucHJvdG90eXBlLCBcImRvbmVQcm9taXNlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm4gez99XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX2RvbmVQcm9taXNlOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gQXBwbGljYXRpb25Jbml0U3RhdHVzO1xufSgpKTtcbkFwcGxpY2F0aW9uSW5pdFN0YXR1cy5kZWNvcmF0b3JzID0gW1xuICAgIHsgdHlwZTogSW5qZWN0YWJsZSB9LFxuXTtcbi8qKlxuICogQG5vY29sbGFwc2VcbiAqL1xuQXBwbGljYXRpb25Jbml0U3RhdHVzLmN0b3JQYXJhbWV0ZXJzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gW1xuICAgIHsgdHlwZTogQXJyYXksIGRlY29yYXRvcnM6IFt7IHR5cGU6IEluamVjdCwgYXJnczogW0FQUF9JTklUSUFMSVpFUixdIH0sIHsgdHlwZTogT3B0aW9uYWwgfSxdIH0sXG5dOyB9O1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBBIERJIFRva2VuIHJlcHJlc2VudGluZyBhIHVuaXF1ZSBzdHJpbmcgaWQgYXNzaWduZWQgdG8gdGhlIGFwcGxpY2F0aW9uIGJ5IEFuZ3VsYXIgYW5kIHVzZWRcbiAqIHByaW1hcmlseSBmb3IgcHJlZml4aW5nIGFwcGxpY2F0aW9uIGF0dHJpYnV0ZXMgYW5kIENTUyBzdHlsZXMgd2hlblxuICoge1xcQGxpbmsgVmlld0VuY2Fwc3VsYXRpb24jRW11bGF0ZWR9IGlzIGJlaW5nIHVzZWQuXG4gKlxuICogSWYgeW91IG5lZWQgdG8gYXZvaWQgcmFuZG9tbHkgZ2VuZXJhdGVkIHZhbHVlIHRvIGJlIHVzZWQgYXMgYW4gYXBwbGljYXRpb24gaWQsIHlvdSBjYW4gcHJvdmlkZVxuICogYSBjdXN0b20gdmFsdWUgdmlhIGEgREkgcHJvdmlkZXIgPCEtLSBUT0RPOiBwcm92aWRlciAtLT4gY29uZmlndXJpbmcgdGhlIHJvb3Qge1xcQGxpbmsgSW5qZWN0b3J9XG4gKiB1c2luZyB0aGlzIHRva2VuLlxuICogXFxAZXhwZXJpbWVudGFsXG4gKi9cbnZhciBBUFBfSUQgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ0FwcElkJyk7XG4vKipcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIF9hcHBJZFJhbmRvbVByb3ZpZGVyRmFjdG9yeSgpIHtcbiAgICByZXR1cm4gXCJcIiArIF9yYW5kb21DaGFyKCkgKyBfcmFuZG9tQ2hhcigpICsgX3JhbmRvbUNoYXIoKTtcbn1cbi8qKlxuICogUHJvdmlkZXJzIHRoYXQgd2lsbCBnZW5lcmF0ZSBhIHJhbmRvbSBBUFBfSURfVE9LRU4uXG4gKiBcXEBleHBlcmltZW50YWxcbiAqL1xudmFyIEFQUF9JRF9SQU5ET01fUFJPVklERVIgPSB7XG4gICAgcHJvdmlkZTogQVBQX0lELFxuICAgIHVzZUZhY3Rvcnk6IF9hcHBJZFJhbmRvbVByb3ZpZGVyRmFjdG9yeSxcbiAgICBkZXBzOiBbXSxcbn07XG4vKipcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIF9yYW5kb21DaGFyKCkge1xuICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKDk3ICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMjUpKTtcbn1cbi8qKlxuICogQSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgZXhlY3V0ZWQgd2hlbiBhIHBsYXRmb3JtIGlzIGluaXRpYWxpemVkLlxuICogXFxAZXhwZXJpbWVudGFsXG4gKi9cbnZhciBQTEFURk9STV9JTklUSUFMSVpFUiA9IG5ldyBJbmplY3Rpb25Ub2tlbignUGxhdGZvcm0gSW5pdGlhbGl6ZXInKTtcbi8qKlxuICogQSB0b2tlbiB0aGF0IGluZGljYXRlcyBhbiBvcGFxdWUgcGxhdGZvcm0gaWQuXG4gKiBcXEBleHBlcmltZW50YWxcbiAqL1xudmFyIFBMQVRGT1JNX0lEID0gbmV3IEluamVjdGlvblRva2VuKCdQbGF0Zm9ybSBJRCcpO1xuLyoqXG4gKiBBbGwgY2FsbGJhY2tzIHByb3ZpZGVkIHZpYSB0aGlzIHRva2VuIHdpbGwgYmUgY2FsbGVkIGZvciBldmVyeSBjb21wb25lbnQgdGhhdCBpcyBib290c3RyYXBwZWQuXG4gKiBTaWduYXR1cmUgb2YgdGhlIGNhbGxiYWNrOlxuICpcbiAqIGAoY29tcG9uZW50UmVmOiBDb21wb25lbnRSZWYpID0+IHZvaWRgLlxuICpcbiAqIFxcQGV4cGVyaW1lbnRhbFxuICovXG52YXIgQVBQX0JPT1RTVFJBUF9MSVNURU5FUiA9IG5ldyBJbmplY3Rpb25Ub2tlbignYXBwQm9vdHN0cmFwTGlzdGVuZXInKTtcbi8qKlxuICogQSB0b2tlbiB3aGljaCBpbmRpY2F0ZXMgdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoZSBhcHBsaWNhdGlvblxuICogXFxAZXhwZXJpbWVudGFsXG4gKi9cbnZhciBQQUNLQUdFX1JPT1RfVVJMID0gbmV3IEluamVjdGlvblRva2VuKCdBcHBsaWNhdGlvbiBQYWNrYWdlcyBSb290IFVSTCcpO1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xudmFyIENvbnNvbGUgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvbnNvbGUoKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gbWVzc2FnZVxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgQ29uc29sZS5wcm90b3R5cGUubG9nID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWNvbnNvbGVcbiAgICAgICAgY29uc29sZS5sb2cobWVzc2FnZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IG1lc3NhZ2VcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIENvbnNvbGUucHJvdG90eXBlLndhcm4gPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tY29uc29sZVxuICAgICAgICBjb25zb2xlLndhcm4obWVzc2FnZSk7XG4gICAgfTtcbiAgICByZXR1cm4gQ29uc29sZTtcbn0oKSk7XG5Db25zb2xlLmRlY29yYXRvcnMgPSBbXG4gICAgeyB0eXBlOiBJbmplY3RhYmxlIH0sXG5dO1xuLyoqXG4gKiBAbm9jb2xsYXBzZVxuICovXG5Db25zb2xlLmN0b3JQYXJhbWV0ZXJzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gW107IH07XG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIENvbWJpbmF0aW9uIG9mIE5nTW9kdWxlRmFjdG9yeSBhbmQgQ29tcG9uZW50RmFjdG9yeXMuXG4gKlxuICogXFxAZXhwZXJpbWVudGFsXG4gKi9cbnZhciBNb2R1bGVXaXRoQ29tcG9uZW50RmFjdG9yaWVzID0gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IG5nTW9kdWxlRmFjdG9yeVxuICAgICAqIEBwYXJhbSB7P30gY29tcG9uZW50RmFjdG9yaWVzXG4gICAgICovXG4gICAgZnVuY3Rpb24gTW9kdWxlV2l0aENvbXBvbmVudEZhY3RvcmllcyhuZ01vZHVsZUZhY3RvcnksIGNvbXBvbmVudEZhY3Rvcmllcykge1xuICAgICAgICB0aGlzLm5nTW9kdWxlRmFjdG9yeSA9IG5nTW9kdWxlRmFjdG9yeTtcbiAgICAgICAgdGhpcy5jb21wb25lbnRGYWN0b3JpZXMgPSBjb21wb25lbnRGYWN0b3JpZXM7XG4gICAgfVxuICAgIHJldHVybiBNb2R1bGVXaXRoQ29tcG9uZW50RmFjdG9yaWVzO1xufSgpKTtcbi8qKlxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gX3Rocm93RXJyb3IoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiUnVudGltZSBjb21waWxlciBpcyBub3QgbG9hZGVkXCIpO1xufVxuLyoqXG4gKiBMb3ctbGV2ZWwgc2VydmljZSBmb3IgcnVubmluZyB0aGUgYW5ndWxhciBjb21waWxlciBkdXJpbmcgcnVudGltZVxuICogdG8gY3JlYXRlIHtcXEBsaW5rIENvbXBvbmVudEZhY3Rvcnl9cywgd2hpY2hcbiAqIGNhbiBsYXRlciBiZSB1c2VkIHRvIGNyZWF0ZSBhbmQgcmVuZGVyIGEgQ29tcG9uZW50IGluc3RhbmNlLlxuICpcbiAqIEVhY2ggYFxcQE5nTW9kdWxlYCBwcm92aWRlcyBhbiBvd24gYENvbXBpbGVyYCB0byBpdHMgaW5qZWN0b3IsXG4gKiB0aGF0IHdpbGwgdXNlIHRoZSBkaXJlY3RpdmVzL3BpcGVzIG9mIHRoZSBuZyBtb2R1bGUgZm9yIGNvbXBpbGF0aW9uXG4gKiBvZiBjb21wb25lbnRzLlxuICogXFxAc3RhYmxlXG4gKi9cbnZhciBDb21waWxlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ29tcGlsZXIoKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbXBpbGVzIHRoZSBnaXZlbiBOZ01vZHVsZSBhbmQgYWxsIG9mIGl0cyBjb21wb25lbnRzLiBBbGwgdGVtcGxhdGVzIG9mIHRoZSBjb21wb25lbnRzIGxpc3RlZFxuICAgICAqIGluIGBlbnRyeUNvbXBvbmVudHNgIGhhdmUgdG8gYmUgaW5saW5lZC5cbiAgICAgKiBAdGVtcGxhdGUgVFxuICAgICAqIEBwYXJhbSB7P30gbW9kdWxlVHlwZVxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgQ29tcGlsZXIucHJvdG90eXBlLmNvbXBpbGVNb2R1bGVTeW5jID0gZnVuY3Rpb24gKG1vZHVsZVR5cGUpIHsgdGhyb3cgX3Rocm93RXJyb3IoKTsgfTtcbiAgICAvKipcbiAgICAgKiBDb21waWxlcyB0aGUgZ2l2ZW4gTmdNb2R1bGUgYW5kIGFsbCBvZiBpdHMgY29tcG9uZW50c1xuICAgICAqIEB0ZW1wbGF0ZSBUXG4gICAgICogQHBhcmFtIHs/fSBtb2R1bGVUeXBlXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBDb21waWxlci5wcm90b3R5cGUuY29tcGlsZU1vZHVsZUFzeW5jID0gZnVuY3Rpb24gKG1vZHVsZVR5cGUpIHsgdGhyb3cgX3Rocm93RXJyb3IoKTsgfTtcbiAgICAvKipcbiAgICAgKiBTYW1lIGFzIHtcXEBsaW5rICNjb21waWxlTW9kdWxlU3luY30gYnV0IGFsc28gY3JlYXRlcyBDb21wb25lbnRGYWN0b3JpZXMgZm9yIGFsbCBjb21wb25lbnRzLlxuICAgICAqIEB0ZW1wbGF0ZSBUXG4gICAgICogQHBhcmFtIHs/fSBtb2R1bGVUeXBlXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBDb21waWxlci5wcm90b3R5cGUuY29tcGlsZU1vZHVsZUFuZEFsbENvbXBvbmVudHNTeW5jID0gZnVuY3Rpb24gKG1vZHVsZVR5cGUpIHtcbiAgICAgICAgdGhyb3cgX3Rocm93RXJyb3IoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNhbWUgYXMge1xcQGxpbmsgI2NvbXBpbGVNb2R1bGVBc3luY30gYnV0IGFsc28gY3JlYXRlcyBDb21wb25lbnRGYWN0b3JpZXMgZm9yIGFsbCBjb21wb25lbnRzLlxuICAgICAqIEB0ZW1wbGF0ZSBUXG4gICAgICogQHBhcmFtIHs/fSBtb2R1bGVUeXBlXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBDb21waWxlci5wcm90b3R5cGUuY29tcGlsZU1vZHVsZUFuZEFsbENvbXBvbmVudHNBc3luYyA9IGZ1bmN0aW9uIChtb2R1bGVUeXBlKSB7XG4gICAgICAgIHRocm93IF90aHJvd0Vycm9yKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBFeHBvc2VzIHRoZSBDU1Mtc3R5bGUgc2VsZWN0b3JzIHRoYXQgaGF2ZSBiZWVuIHVzZWQgaW4gYG5nQ29udGVudGAgZGlyZWN0aXZlcyB3aXRoaW5cbiAgICAgKiB0aGUgdGVtcGxhdGUgb2YgdGhlIGdpdmVuIGNvbXBvbmVudC5cbiAgICAgKiBUaGlzIGlzIHVzZWQgYnkgdGhlIGB1cGdyYWRlYCBsaWJyYXJ5IHRvIGNvbXBpbGUgdGhlIGFwcHJvcHJpYXRlIHRyYW5zY2x1ZGUgY29udGVudFxuICAgICAqIGluIHRoZSBBbmd1bGFySlMgd3JhcHBlciBjb21wb25lbnQuXG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2NC4gVXNlIENvbXBvbmVudEZhY3RvcnkubmdDb250ZW50U2VsZWN0b3JzIGluc3RlYWQuXG4gICAgICogQHBhcmFtIHs/fSBjb21wb25lbnRcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIENvbXBpbGVyLnByb3RvdHlwZS5nZXROZ0NvbnRlbnRTZWxlY3RvcnMgPSBmdW5jdGlvbiAoY29tcG9uZW50KSB7IHRocm93IF90aHJvd0Vycm9yKCk7IH07XG4gICAgLyoqXG4gICAgICogQ2xlYXJzIGFsbCBjYWNoZXMuXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBDb21waWxlci5wcm90b3R5cGUuY2xlYXJDYWNoZSA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICAvKipcbiAgICAgKiBDbGVhcnMgdGhlIGNhY2hlIGZvciB0aGUgZ2l2ZW4gY29tcG9uZW50L25nTW9kdWxlLlxuICAgICAqIEBwYXJhbSB7P30gdHlwZVxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgQ29tcGlsZXIucHJvdG90eXBlLmNsZWFyQ2FjaGVGb3IgPSBmdW5jdGlvbiAodHlwZSkgeyB9O1xuICAgIHJldHVybiBDb21waWxlcjtcbn0oKSk7XG5Db21waWxlci5kZWNvcmF0b3JzID0gW1xuICAgIHsgdHlwZTogSW5qZWN0YWJsZSB9LFxuXTtcbi8qKlxuICogQG5vY29sbGFwc2VcbiAqL1xuQ29tcGlsZXIuY3RvclBhcmFtZXRlcnMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBbXTsgfTtcbi8qKlxuICogVG9rZW4gdG8gcHJvdmlkZSBDb21waWxlck9wdGlvbnMgaW4gdGhlIHBsYXRmb3JtIGluamVjdG9yLlxuICpcbiAqIFxcQGV4cGVyaW1lbnRhbFxuICovXG52YXIgQ09NUElMRVJfT1BUSU9OUyA9IG5ldyBJbmplY3Rpb25Ub2tlbignY29tcGlsZXJPcHRpb25zJyk7XG4vKipcbiAqIEEgZmFjdG9yeSBmb3IgY3JlYXRpbmcgYSBDb21waWxlclxuICpcbiAqIFxcQGV4cGVyaW1lbnRhbFxuICogQGFic3RyYWN0XG4gKi9cbnZhciBDb21waWxlckZhY3RvcnkgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvbXBpbGVyRmFjdG9yeSgpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHBhcmFtIHs/PX0gb3B0aW9uc1xuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgQ29tcGlsZXJGYWN0b3J5LnByb3RvdHlwZS5jcmVhdGVDb21waWxlciA9IGZ1bmN0aW9uIChvcHRpb25zKSB7IH07XG4gICAgcmV0dXJuIENvbXBpbGVyRmFjdG9yeTtcbn0oKSk7XG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFJlcHJlc2VudHMgYW4gaW5zdGFuY2Ugb2YgYSBDb21wb25lbnQgY3JlYXRlZCB2aWEgYSB7XFxAbGluayBDb21wb25lbnRGYWN0b3J5fS5cbiAqXG4gKiBgQ29tcG9uZW50UmVmYCBwcm92aWRlcyBhY2Nlc3MgdG8gdGhlIENvbXBvbmVudCBJbnN0YW5jZSBhcyB3ZWxsIG90aGVyIG9iamVjdHMgcmVsYXRlZCB0byB0aGlzXG4gKiBDb21wb25lbnQgSW5zdGFuY2UgYW5kIGFsbG93cyB5b3UgdG8gZGVzdHJveSB0aGUgQ29tcG9uZW50IEluc3RhbmNlIHZpYSB0aGUge1xcQGxpbmsgI2Rlc3Ryb3l9XG4gKiBtZXRob2QuXG4gKiBcXEBzdGFibGVcbiAqIEBhYnN0cmFjdFxuICovXG52YXIgQ29tcG9uZW50UmVmID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb21wb25lbnRSZWYoKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExvY2F0aW9uIG9mIHRoZSBIb3N0IEVsZW1lbnQgb2YgdGhpcyBDb21wb25lbnQgSW5zdGFuY2UuXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBDb21wb25lbnRSZWYucHJvdG90eXBlLmxvY2F0aW9uID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIC8qKlxuICAgICAqIFRoZSBpbmplY3RvciBvbiB3aGljaCB0aGUgY29tcG9uZW50IGluc3RhbmNlIGV4aXN0cy5cbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIENvbXBvbmVudFJlZi5wcm90b3R5cGUuaW5qZWN0b3IgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgLyoqXG4gICAgICogVGhlIGluc3RhbmNlIG9mIHRoZSBDb21wb25lbnQuXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBDb21wb25lbnRSZWYucHJvdG90eXBlLmluc3RhbmNlID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIC8qKlxuICAgICAqIFRoZSB7XFxAbGluayBWaWV3UmVmfSBvZiB0aGUgSG9zdCBWaWV3IG9mIHRoaXMgQ29tcG9uZW50IGluc3RhbmNlLlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgQ29tcG9uZW50UmVmLnByb3RvdHlwZS5ob3N0VmlldyA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICAvKipcbiAgICAgKiBUaGUge1xcQGxpbmsgQ2hhbmdlRGV0ZWN0b3JSZWZ9IG9mIHRoZSBDb21wb25lbnQgaW5zdGFuY2UuXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBDb21wb25lbnRSZWYucHJvdG90eXBlLmNoYW5nZURldGVjdG9yUmVmID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIC8qKlxuICAgICAqIFRoZSBjb21wb25lbnQgdHlwZS5cbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIENvbXBvbmVudFJlZi5wcm90b3R5cGUuY29tcG9uZW50VHlwZSA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgY29tcG9uZW50IGluc3RhbmNlIGFuZCBhbGwgb2YgdGhlIGRhdGEgc3RydWN0dXJlcyBhc3NvY2lhdGVkIHdpdGggaXQuXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBDb21wb25lbnRSZWYucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIHJlZ2lzdGVyIGEgY2FsbGJhY2sgdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSBjb21wb25lbnQgaXMgZGVzdHJveWVkLlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7P30gY2FsbGJhY2tcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIENvbXBvbmVudFJlZi5wcm90b3R5cGUub25EZXN0cm95ID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7IH07XG4gICAgcmV0dXJuIENvbXBvbmVudFJlZjtcbn0oKSk7XG4vKipcbiAqIFxcQHN0YWJsZVxuICogQGFic3RyYWN0XG4gKi9cbnZhciBDb21wb25lbnRGYWN0b3J5ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb21wb25lbnRGYWN0b3J5KCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIENvbXBvbmVudEZhY3RvcnkucHJvdG90eXBlLnNlbGVjdG9yID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgQ29tcG9uZW50RmFjdG9yeS5wcm90b3R5cGUuY29tcG9uZW50VHlwZSA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICAvKipcbiAgICAgKiBzZWxlY3RvciBmb3IgYWxsIDxuZy1jb250ZW50PiBlbGVtZW50cyBpbiB0aGUgY29tcG9uZW50LlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgQ29tcG9uZW50RmFjdG9yeS5wcm90b3R5cGUubmdDb250ZW50U2VsZWN0b3JzID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIC8qKlxuICAgICAqIHRoZSBpbnB1dHMgb2YgdGhlIGNvbXBvbmVudC5cbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIENvbXBvbmVudEZhY3RvcnkucHJvdG90eXBlLmlucHV0cyA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICAvKipcbiAgICAgKiB0aGUgb3V0cHV0cyBvZiB0aGUgY29tcG9uZW50LlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgQ29tcG9uZW50RmFjdG9yeS5wcm90b3R5cGUub3V0cHV0cyA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGNvbXBvbmVudC5cbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcGFyYW0gez99IGluamVjdG9yXG4gICAgICogQHBhcmFtIHs/PX0gcHJvamVjdGFibGVOb2Rlc1xuICAgICAqIEBwYXJhbSB7Pz19IHJvb3RTZWxlY3Rvck9yTm9kZVxuICAgICAqIEBwYXJhbSB7Pz19IG5nTW9kdWxlXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBDb21wb25lbnRGYWN0b3J5LnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbiAoaW5qZWN0b3IsIHByb2plY3RhYmxlTm9kZXMsIHJvb3RTZWxlY3Rvck9yTm9kZSwgbmdNb2R1bGUpIHsgfTtcbiAgICByZXR1cm4gQ29tcG9uZW50RmFjdG9yeTtcbn0oKSk7XG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEBwYXJhbSB7P30gY29tcG9uZW50XG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBub0NvbXBvbmVudEZhY3RvcnlFcnJvcihjb21wb25lbnQpIHtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBlcnJvciA9IEVycm9yKFwiTm8gY29tcG9uZW50IGZhY3RvcnkgZm91bmQgZm9yIFwiICsgc3RyaW5naWZ5KGNvbXBvbmVudCkgKyBcIi4gRGlkIHlvdSBhZGQgaXQgdG8gQE5nTW9kdWxlLmVudHJ5Q29tcG9uZW50cz9cIik7XG4gICAgKChlcnJvcikpW0VSUk9SX0NPTVBPTkVOVF0gPSBjb21wb25lbnQ7XG4gICAgcmV0dXJuIGVycm9yO1xufVxudmFyIEVSUk9SX0NPTVBPTkVOVCA9ICduZ0NvbXBvbmVudCc7XG4vKipcbiAqIEBwYXJhbSB7P30gZXJyb3JcbiAqIEByZXR1cm4gez99XG4gKi9cbnZhciBfTnVsbENvbXBvbmVudEZhY3RvcnlSZXNvbHZlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gX051bGxDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIoKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEB0ZW1wbGF0ZSBUXG4gICAgICogQHBhcmFtIHs/fSBjb21wb25lbnRcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIF9OdWxsQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyLnByb3RvdHlwZS5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeSA9IGZ1bmN0aW9uIChjb21wb25lbnQpIHtcbiAgICAgICAgdGhyb3cgbm9Db21wb25lbnRGYWN0b3J5RXJyb3IoY29tcG9uZW50KTtcbiAgICB9O1xuICAgIHJldHVybiBfTnVsbENvbXBvbmVudEZhY3RvcnlSZXNvbHZlcjtcbn0oKSk7XG4vKipcbiAqIFxcQHN0YWJsZVxuICogQGFic3RyYWN0XG4gKi9cbnZhciBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvbXBvbmVudEZhY3RvcnlSZXNvbHZlcigpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHRlbXBsYXRlIFRcbiAgICAgKiBAcGFyYW0gez99IGNvbXBvbmVudFxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyLnByb3RvdHlwZS5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeSA9IGZ1bmN0aW9uIChjb21wb25lbnQpIHsgfTtcbiAgICByZXR1cm4gQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyO1xufSgpKTtcbkNvbXBvbmVudEZhY3RvcnlSZXNvbHZlci5OVUxMID0gbmV3IF9OdWxsQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyKCk7XG52YXIgQ29kZWdlbkNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBmYWN0b3JpZXNcbiAgICAgKiBAcGFyYW0gez99IF9wYXJlbnRcbiAgICAgKiBAcGFyYW0gez99IF9uZ01vZHVsZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENvZGVnZW5Db21wb25lbnRGYWN0b3J5UmVzb2x2ZXIoZmFjdG9yaWVzLCBfcGFyZW50LCBfbmdNb2R1bGUpIHtcbiAgICAgICAgdGhpcy5fcGFyZW50ID0gX3BhcmVudDtcbiAgICAgICAgdGhpcy5fbmdNb2R1bGUgPSBfbmdNb2R1bGU7XG4gICAgICAgIHRoaXMuX2ZhY3RvcmllcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmYWN0b3JpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBmYWN0b3J5ID0gZmFjdG9yaWVzW2ldO1xuICAgICAgICAgICAgdGhpcy5fZmFjdG9yaWVzLnNldChmYWN0b3J5LmNvbXBvbmVudFR5cGUsIGZhY3RvcnkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEB0ZW1wbGF0ZSBUXG4gICAgICogQHBhcmFtIHs/fSBjb21wb25lbnRcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIENvZGVnZW5Db21wb25lbnRGYWN0b3J5UmVzb2x2ZXIucHJvdG90eXBlLnJlc29sdmVDb21wb25lbnRGYWN0b3J5ID0gZnVuY3Rpb24gKGNvbXBvbmVudCkge1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBmYWN0b3J5ID0gdGhpcy5fZmFjdG9yaWVzLmdldChjb21wb25lbnQpO1xuICAgICAgICBpZiAoIWZhY3RvcnkgJiYgdGhpcy5fcGFyZW50KSB7XG4gICAgICAgICAgICBmYWN0b3J5ID0gdGhpcy5fcGFyZW50LnJlc29sdmVDb21wb25lbnRGYWN0b3J5KGNvbXBvbmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFmYWN0b3J5KSB7XG4gICAgICAgICAgICB0aHJvdyBub0NvbXBvbmVudEZhY3RvcnlFcnJvcihjb21wb25lbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQ29tcG9uZW50RmFjdG9yeUJvdW5kVG9Nb2R1bGUoZmFjdG9yeSwgdGhpcy5fbmdNb2R1bGUpO1xuICAgIH07XG4gICAgcmV0dXJuIENvZGVnZW5Db21wb25lbnRGYWN0b3J5UmVzb2x2ZXI7XG59KCkpO1xudmFyIENvbXBvbmVudEZhY3RvcnlCb3VuZFRvTW9kdWxlID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ29tcG9uZW50RmFjdG9yeUJvdW5kVG9Nb2R1bGUsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBmYWN0b3J5XG4gICAgICogQHBhcmFtIHs/fSBuZ01vZHVsZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENvbXBvbmVudEZhY3RvcnlCb3VuZFRvTW9kdWxlKGZhY3RvcnksIG5nTW9kdWxlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmZhY3RvcnkgPSBmYWN0b3J5O1xuICAgICAgICBfdGhpcy5uZ01vZHVsZSA9IG5nTW9kdWxlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb21wb25lbnRGYWN0b3J5Qm91bmRUb01vZHVsZS5wcm90b3R5cGUsIFwic2VsZWN0b3JcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybiB7P31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5mYWN0b3J5LnNlbGVjdG9yOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29tcG9uZW50RmFjdG9yeUJvdW5kVG9Nb2R1bGUucHJvdG90eXBlLCBcImNvbXBvbmVudFR5cGVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybiB7P31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5mYWN0b3J5LmNvbXBvbmVudFR5cGU7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb21wb25lbnRGYWN0b3J5Qm91bmRUb01vZHVsZS5wcm90b3R5cGUsIFwibmdDb250ZW50U2VsZWN0b3JzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm4gez99XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuZmFjdG9yeS5uZ0NvbnRlbnRTZWxlY3RvcnM7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb21wb25lbnRGYWN0b3J5Qm91bmRUb01vZHVsZS5wcm90b3R5cGUsIFwiaW5wdXRzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm4gez99XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuZmFjdG9yeS5pbnB1dHM7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb21wb25lbnRGYWN0b3J5Qm91bmRUb01vZHVsZS5wcm90b3R5cGUsIFwib3V0cHV0c1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmZhY3Rvcnkub3V0cHV0czsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBpbmplY3RvclxuICAgICAqIEBwYXJhbSB7Pz19IHByb2plY3RhYmxlTm9kZXNcbiAgICAgKiBAcGFyYW0gez89fSByb290U2VsZWN0b3JPck5vZGVcbiAgICAgKiBAcGFyYW0gez89fSBuZ01vZHVsZVxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgQ29tcG9uZW50RmFjdG9yeUJvdW5kVG9Nb2R1bGUucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uIChpbmplY3RvciwgcHJvamVjdGFibGVOb2Rlcywgcm9vdFNlbGVjdG9yT3JOb2RlLCBuZ01vZHVsZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5mYWN0b3J5LmNyZWF0ZShpbmplY3RvciwgcHJvamVjdGFibGVOb2Rlcywgcm9vdFNlbGVjdG9yT3JOb2RlLCBuZ01vZHVsZSB8fCB0aGlzLm5nTW9kdWxlKTtcbiAgICB9O1xuICAgIHJldHVybiBDb21wb25lbnRGYWN0b3J5Qm91bmRUb01vZHVsZTtcbn0oQ29tcG9uZW50RmFjdG9yeSkpO1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBSZXByZXNlbnRzIGFuIGluc3RhbmNlIG9mIGFuIE5nTW9kdWxlIGNyZWF0ZWQgdmlhIGEge1xcQGxpbmsgTmdNb2R1bGVGYWN0b3J5fS5cbiAqXG4gKiBgTmdNb2R1bGVSZWZgIHByb3ZpZGVzIGFjY2VzcyB0byB0aGUgTmdNb2R1bGUgSW5zdGFuY2UgYXMgd2VsbCBvdGhlciBvYmplY3RzIHJlbGF0ZWQgdG8gdGhpc1xuICogTmdNb2R1bGUgSW5zdGFuY2UuXG4gKlxuICogXFxAc3RhYmxlXG4gKiBAYWJzdHJhY3RcbiAqL1xudmFyIE5nTW9kdWxlUmVmID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBOZ01vZHVsZVJlZigpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGluamVjdG9yIHRoYXQgY29udGFpbnMgYWxsIG9mIHRoZSBwcm92aWRlcnMgb2YgdGhlIE5nTW9kdWxlLlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgTmdNb2R1bGVSZWYucHJvdG90eXBlLmluamVjdG9yID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIC8qKlxuICAgICAqIFRoZSBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIgdG8gZ2V0IGhvbGQgb2YgdGhlIENvbXBvbmVudEZhY3Rvcmllc1xuICAgICAqIGRlY2xhcmVkIGluIHRoZSBgZW50cnlDb21wb25lbnRzYCBwcm9wZXJ0eSBvZiB0aGUgbW9kdWxlLlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgTmdNb2R1bGVSZWYucHJvdG90eXBlLmNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICAvKipcbiAgICAgKiBUaGUgTmdNb2R1bGUgaW5zdGFuY2UuXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBOZ01vZHVsZVJlZi5wcm90b3R5cGUuaW5zdGFuY2UgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIG1vZHVsZSBpbnN0YW5jZSBhbmQgYWxsIG9mIHRoZSBkYXRhIHN0cnVjdHVyZXMgYXNzb2NpYXRlZCB3aXRoIGl0LlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgTmdNb2R1bGVSZWYucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgLyoqXG4gICAgICogQWxsb3dzIHRvIHJlZ2lzdGVyIGEgY2FsbGJhY2sgdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSBtb2R1bGUgaXMgZGVzdHJveWVkLlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7P30gY2FsbGJhY2tcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIE5nTW9kdWxlUmVmLnByb3RvdHlwZS5vbkRlc3Ryb3kgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHsgfTtcbiAgICByZXR1cm4gTmdNb2R1bGVSZWY7XG59KCkpO1xuLyoqXG4gKiBcXEBleHBlcmltZW50YWxcbiAqIEBhYnN0cmFjdFxuICovXG52YXIgTmdNb2R1bGVGYWN0b3J5ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBOZ01vZHVsZUZhY3RvcnkoKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgTmdNb2R1bGVGYWN0b3J5LnByb3RvdHlwZS5tb2R1bGVUeXBlID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7P30gcGFyZW50SW5qZWN0b3JcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIE5nTW9kdWxlRmFjdG9yeS5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24gKHBhcmVudEluamVjdG9yKSB7IH07XG4gICAgcmV0dXJuIE5nTW9kdWxlRmFjdG9yeTtcbn0oKSk7XG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG52YXIgdHJhY2U7XG52YXIgZXZlbnRzO1xuLyoqXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBkZXRlY3RXVEYoKSB7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gd3RmID0gKChfZ2xvYmFsKSAvKiogVE9ETyAjOTEwMCAqLylbJ3d0ZiddO1xuICAgIGlmICh3dGYpIHtcbiAgICAgICAgdHJhY2UgPSB3dGZbJ3RyYWNlJ107XG4gICAgICAgIGlmICh0cmFjZSkge1xuICAgICAgICAgICAgZXZlbnRzID0gdHJhY2VbJ2V2ZW50cyddO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXG4gKiBAcGFyYW0gez99IHNpZ25hdHVyZVxuICogQHBhcmFtIHs/PX0gZmxhZ3NcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVNjb3BlJDEoc2lnbmF0dXJlLCBmbGFncykge1xuICAgIGlmIChmbGFncyA9PT0gdm9pZCAwKSB7IGZsYWdzID0gbnVsbDsgfVxuICAgIHJldHVybiBldmVudHMuY3JlYXRlU2NvcGUoc2lnbmF0dXJlLCBmbGFncyk7XG59XG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0gez99IHNjb3BlXG4gKiBAcGFyYW0gez89fSByZXR1cm5WYWx1ZVxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gbGVhdmUoc2NvcGUsIHJldHVyblZhbHVlKSB7XG4gICAgdHJhY2UubGVhdmVTY29wZShzY29wZSwgcmV0dXJuVmFsdWUpO1xuICAgIHJldHVybiByZXR1cm5WYWx1ZTtcbn1cbi8qKlxuICogQHBhcmFtIHs/fSByYW5nZVR5cGVcbiAqIEBwYXJhbSB7P30gYWN0aW9uXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBzdGFydFRpbWVSYW5nZShyYW5nZVR5cGUsIGFjdGlvbikge1xuICAgIHJldHVybiB0cmFjZS5iZWdpblRpbWVSYW5nZShyYW5nZVR5cGUsIGFjdGlvbik7XG59XG4vKipcbiAqIEBwYXJhbSB7P30gcmFuZ2VcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGVuZFRpbWVSYW5nZShyYW5nZSkge1xuICAgIHRyYWNlLmVuZFRpbWVSYW5nZShyYW5nZSk7XG59XG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFRydWUgaWYgV1RGIGlzIGVuYWJsZWQuXG4gKi9cbnZhciB3dGZFbmFibGVkID0gZGV0ZWN0V1RGKCk7XG4vKipcbiAqIEBwYXJhbSB7Pz19IGFyZzBcbiAqIEBwYXJhbSB7Pz19IGFyZzFcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIG5vb3BTY29wZShhcmcwLCBhcmcxKSB7XG4gICAgcmV0dXJuIG51bGw7XG59XG4vKipcbiAqIENyZWF0ZSB0cmFjZSBzY29wZS5cbiAqXG4gKiBTY29wZXMgbXVzdCBiZSBzdHJpY3RseSBuZXN0ZWQgYW5kIGFyZSBhbmFsb2dvdXMgdG8gc3RhY2sgZnJhbWVzLCBidXRcbiAqIGRvIG5vdCBoYXZlIHRvIGZvbGxvdyB0aGUgc3RhY2sgZnJhbWVzLiBJbnN0ZWFkIGl0IGlzIHJlY29tbWVuZGVkIHRoYXQgdGhleSBmb2xsb3cgbG9naWNhbFxuICogbmVzdGluZy4gWW91IG1heSB3YW50IHRvIHVzZVxuICogW0V2ZW50XG4gKiBTaWduYXR1cmVzXShodHRwOi8vZ29vZ2xlLmdpdGh1Yi5pby90cmFjaW5nLWZyYW1ld29yay9pbnN0cnVtZW50aW5nLWNvZGUuaHRtbCNjdXN0b20tZXZlbnRzKVxuICogYXMgdGhleSBhcmUgZGVmaW5lZCBpbiBXVEYuXG4gKlxuICogVXNlZCB0byBtYXJrIHNjb3BlIGVudHJ5LiBUaGUgcmV0dXJuIHZhbHVlIGlzIHVzZWQgdG8gbGVhdmUgdGhlIHNjb3BlLlxuICpcbiAqICAgICB2YXIgbXlTY29wZSA9IHd0ZkNyZWF0ZVNjb3BlKCdNeUNsYXNzI215TWV0aG9kKGFzY2lpIHNvbWVWYWwpJyk7XG4gKlxuICogICAgIHNvbWVNZXRob2QoKSB7XG4gKiAgICAgICAgdmFyIHMgPSBteVNjb3BlKCdGb28nKTsgLy8gJ0ZvbycgZ2V0cyBzdG9yZWQgaW4gdHJhY2luZyBVSVxuICogICAgICAgIC8vIERPIFNPTUUgV09SSyBIRVJFXG4gKiAgICAgICAgcmV0dXJuIHd0ZkxlYXZlKHMsIDEyMyk7IC8vIFJldHVybiB2YWx1ZSAxMjNcbiAqICAgICB9XG4gKlxuICogTm90ZSwgYWRkaW5nIHRyeS1maW5hbGx5IGJsb2NrIGFyb3VuZCB0aGUgd29yayB0byBlbnN1cmUgdGhhdCBgd3RmTGVhdmVgIGdldHMgY2FsbGVkIGNhblxuICogbmVnYXRpdmVseSBpbXBhY3QgdGhlIHBlcmZvcm1hbmNlIG9mIHlvdXIgYXBwbGljYXRpb24uIEZvciB0aGlzIHJlYXNvbiB3ZSByZWNvbW1lbmQgdGhhdFxuICogeW91IGRvbid0IGFkZCB0aGVtIHRvIGVuc3VyZSB0aGF0IGB3dGZMZWF2ZWAgZ2V0cyBjYWxsZWQuIEluIHByb2R1Y3Rpb24gYHd0ZkxlYXZlYCBpcyBhIG5vb3AgYW5kXG4gKiBzbyB0cnktZmluYWxseSBibG9jayBoYXMgbm8gdmFsdWUuIFdoZW4gZGVidWdnaW5nIHBlcmYgaXNzdWVzLCBza2lwcGluZyBgd3RmTGVhdmVgLCBkbyB0b1xuICogZXhjZXB0aW9uLCB3aWxsIHByb2R1Y2UgaW5jb3JyZWN0IHRyYWNlLCBidXQgcHJlc2VuY2Ugb2YgZXhjZXB0aW9uIHNpZ25pZmllcyBsb2dpYyBlcnJvciB3aGljaFxuICogbmVlZHMgdG8gYmUgZml4ZWQgYmVmb3JlIHRoZSBhcHAgc2hvdWxkIGJlIHByb2ZpbGVkLiBBZGQgdHJ5LWZpbmFsbHkgb25seSB3aGVuIHlvdSBleHBlY3QgdGhhdFxuICogYW4gZXhjZXB0aW9uIGlzIGV4cGVjdGVkIGR1cmluZyBub3JtYWwgZXhlY3V0aW9uIHdoaWxlIHByb2ZpbGluZy5cbiAqXG4gKiBcXEBleHBlcmltZW50YWxcbiAqL1xudmFyIHd0ZkNyZWF0ZVNjb3BlID0gd3RmRW5hYmxlZCA/IGNyZWF0ZVNjb3BlJDEgOiBmdW5jdGlvbiAoc2lnbmF0dXJlLCBmbGFncykgeyByZXR1cm4gbm9vcFNjb3BlOyB9O1xuLyoqXG4gKiBVc2VkIHRvIG1hcmsgZW5kIG9mIFNjb3BlLlxuICpcbiAqIC0gYHNjb3BlYCB0byBlbmQuXG4gKiAtIGByZXR1cm5WYWx1ZWAgKG9wdGlvbmFsKSB0byBiZSBwYXNzZWQgdG8gdGhlIFdURi5cbiAqXG4gKiBSZXR1cm5zIHRoZSBgcmV0dXJuVmFsdWUgZm9yIGVhc3kgY2hhaW5pbmcuXG4gKiBcXEBleHBlcmltZW50YWxcbiAqL1xudmFyIHd0ZkxlYXZlID0gd3RmRW5hYmxlZCA/IGxlYXZlIDogZnVuY3Rpb24gKHMsIHIpIHsgcmV0dXJuIHI7IH07XG4vKipcbiAqIFVzZWQgdG8gbWFyayBBc3luYyBzdGFydC4gQXN5bmMgYXJlIHNpbWlsYXIgdG8gc2NvcGUgYnV0IHRoZXkgZG9uJ3QgaGF2ZSB0byBiZSBzdHJpY3RseSBuZXN0ZWQuXG4gKiBUaGUgcmV0dXJuIHZhbHVlIGlzIHVzZWQgaW4gdGhlIGNhbGwgdG8gW2VuZEFzeW5jXS4gQXN5bmMgcmFuZ2VzIG9ubHkgd29yayBpZiBXVEYgaGFzIGJlZW5cbiAqIGVuYWJsZWQuXG4gKlxuICogICAgIHNvbWVNZXRob2QoKSB7XG4gKiAgICAgICAgdmFyIHMgPSB3dGZTdGFydFRpbWVSYW5nZSgnSFRUUDpHRVQnLCAnc29tZS51cmwnKTtcbiAqICAgICAgICB2YXIgZnV0dXJlID0gbmV3IEZ1dHVyZS5kZWxheSg1KS50aGVuKChfKSB7XG4gKiAgICAgICAgICB3dGZFbmRUaW1lUmFuZ2Uocyk7XG4gKiAgICAgICAgfSk7XG4gKiAgICAgfVxuICogXFxAZXhwZXJpbWVudGFsXG4gKi9cbnZhciB3dGZTdGFydFRpbWVSYW5nZSA9IHd0ZkVuYWJsZWQgPyBzdGFydFRpbWVSYW5nZSA6IGZ1bmN0aW9uIChyYW5nZVR5cGUsIGFjdGlvbikgeyByZXR1cm4gbnVsbDsgfTtcbi8qKlxuICogRW5kcyBhIGFzeW5jIHRpbWUgcmFuZ2Ugb3BlcmF0aW9uLlxuICogW3JhbmdlXSBpcyB0aGUgcmV0dXJuIHZhbHVlIGZyb20gW3d0ZlN0YXJ0VGltZVJhbmdlXSBBc3luYyByYW5nZXMgb25seSB3b3JrIGlmIFdURiBoYXMgYmVlblxuICogZW5hYmxlZC5cbiAqIFxcQGV4cGVyaW1lbnRhbFxuICovXG52YXIgd3RmRW5kVGltZVJhbmdlID0gd3RmRW5hYmxlZCA/IGVuZFRpbWVSYW5nZSA6IGZ1bmN0aW9uIChyKSB7IHJldHVybiBudWxsOyB9O1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBVc2UgYnkgZGlyZWN0aXZlcyBhbmQgY29tcG9uZW50cyB0byBlbWl0IGN1c3RvbSBFdmVudHMuXG4gKlxuICogIyMjIEV4YW1wbGVzXG4gKlxuICogSW4gdGhlIGZvbGxvd2luZyBleGFtcGxlLCBgWmlwcHlgIGFsdGVybmF0aXZlbHkgZW1pdHMgYG9wZW5gIGFuZCBgY2xvc2VgIGV2ZW50cyB3aGVuIGl0c1xuICogdGl0bGUgZ2V0cyBjbGlja2VkOlxuICpcbiAqIGBgYFxuICogXFxAQ29tcG9uZW50KHtcbiAqICAgc2VsZWN0b3I6ICd6aXBweScsXG4gKiAgIHRlbXBsYXRlOiBgXG4gKiAgIDxkaXYgY2xhc3M9XCJ6aXBweVwiPlxuICogICAgIDxkaXYgKGNsaWNrKT1cInRvZ2dsZSgpXCI+VG9nZ2xlPC9kaXY+XG4gKiAgICAgPGRpdiBbaGlkZGVuXT1cIiF2aXNpYmxlXCI+XG4gKiAgICAgICA8bmctY29udGVudD48L25nLWNvbnRlbnQ+XG4gKiAgICAgPC9kaXY+XG4gKiAgPC9kaXY+YH0pXG4gKiBleHBvcnQgY2xhc3MgWmlwcHkge1xuICogICB2aXNpYmxlOiBib29sZWFuID0gdHJ1ZTtcbiAqICAgXFxAT3V0cHV0KCkgb3BlbjogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gKiAgIFxcQE91dHB1dCgpIGNsb3NlOiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAqXG4gKiAgIHRvZ2dsZSgpIHtcbiAqICAgICB0aGlzLnZpc2libGUgPSAhdGhpcy52aXNpYmxlO1xuICogICAgIGlmICh0aGlzLnZpc2libGUpIHtcbiAqICAgICAgIHRoaXMub3Blbi5lbWl0KG51bGwpO1xuICogICAgIH0gZWxzZSB7XG4gKiAgICAgICB0aGlzLmNsb3NlLmVtaXQobnVsbCk7XG4gKiAgICAgfVxuICogICB9XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBUaGUgZXZlbnRzIHBheWxvYWQgY2FuIGJlIGFjY2Vzc2VkIGJ5IHRoZSBwYXJhbWV0ZXIgYCRldmVudGAgb24gdGhlIGNvbXBvbmVudHMgb3V0cHV0IGV2ZW50XG4gKiBoYW5kbGVyOlxuICpcbiAqIGBgYFxuICogPHppcHB5IChvcGVuKT1cIm9uT3BlbigkZXZlbnQpXCIgKGNsb3NlKT1cIm9uQ2xvc2UoJGV2ZW50KVwiPjwvemlwcHk+XG4gKiBgYGBcbiAqXG4gKiBVc2VzIFJ4Lk9ic2VydmFibGUgYnV0IHByb3ZpZGVzIGFuIGFkYXB0ZXIgdG8gbWFrZSBpdCB3b3JrIGFzIHNwZWNpZmllZCBoZXJlOlxuICogaHR0cHM6Ly9naXRodWIuY29tL2podXNhaW4vb2JzZXJ2YWJsZS1zcGVjXG4gKlxuICogT25jZSBhIHJlZmVyZW5jZSBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgc3BlYyBpcyBhdmFpbGFibGUsIHN3aXRjaCB0byBpdC5cbiAqIFxcQHN0YWJsZVxuICovXG52YXIgRXZlbnRFbWl0dGVyID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRXZlbnRFbWl0dGVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2Yge1xcQGxpbmsgRXZlbnRFbWl0dGVyfSwgd2hpY2ggZGVwZW5kaW5nIG9uIGBpc0FzeW5jYCxcbiAgICAgKiBkZWxpdmVycyBldmVudHMgc3luY2hyb25vdXNseSBvciBhc3luY2hyb25vdXNseS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Pz19IGlzQXN5bmMgQnkgZGVmYXVsdCwgZXZlbnRzIGFyZSBkZWxpdmVyZWQgc3luY2hyb25vdXNseSAoZGVmYXVsdCB2YWx1ZTogYGZhbHNlYCkuXG4gICAgICogU2V0IHRvIGB0cnVlYCBmb3IgYXN5bmNocm9ub3VzIGV2ZW50IGRlbGl2ZXJ5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEV2ZW50RW1pdHRlcihpc0FzeW5jKSB7XG4gICAgICAgIGlmIChpc0FzeW5jID09PSB2b2lkIDApIHsgaXNBc3luYyA9IGZhbHNlOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9faXNBc3luYyA9IGlzQXN5bmM7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/PX0gdmFsdWVcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIEV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uICh2YWx1ZSkgeyBfc3VwZXIucHJvdG90eXBlLm5leHQuY2FsbCh0aGlzLCB2YWx1ZSk7IH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/PX0gZ2VuZXJhdG9yT3JOZXh0XG4gICAgICogQHBhcmFtIHs/PX0gZXJyb3JcbiAgICAgKiBAcGFyYW0gez89fSBjb21wbGV0ZVxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoZ2VuZXJhdG9yT3JOZXh0LCBlcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gc2NoZWR1bGVyRm47XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGVycm9yRm4gPSBmdW5jdGlvbiAoZXJyKSB7IHJldHVybiBudWxsOyB9O1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBjb21wbGV0ZUZuID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gbnVsbDsgfTtcbiAgICAgICAgaWYgKGdlbmVyYXRvck9yTmV4dCAmJiB0eXBlb2YgZ2VuZXJhdG9yT3JOZXh0ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgc2NoZWR1bGVyRm4gPSB0aGlzLl9faXNBc3luYyA/IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gZ2VuZXJhdG9yT3JOZXh0Lm5leHQodmFsdWUpOyB9KTtcbiAgICAgICAgICAgIH0gOiBmdW5jdGlvbiAodmFsdWUpIHsgZ2VuZXJhdG9yT3JOZXh0Lm5leHQodmFsdWUpOyB9O1xuICAgICAgICAgICAgaWYgKGdlbmVyYXRvck9yTmV4dC5lcnJvcikge1xuICAgICAgICAgICAgICAgIGVycm9yRm4gPSB0aGlzLl9faXNBc3luYyA/IGZ1bmN0aW9uIChlcnIpIHsgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBnZW5lcmF0b3JPck5leHQuZXJyb3IoZXJyKTsgfSk7IH0gOlxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZXJyKSB7IGdlbmVyYXRvck9yTmV4dC5lcnJvcihlcnIpOyB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGdlbmVyYXRvck9yTmV4dC5jb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlRm4gPSB0aGlzLl9faXNBc3luYyA/IGZ1bmN0aW9uICgpIHsgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBnZW5lcmF0b3JPck5leHQuY29tcGxldGUoKTsgfSk7IH0gOlxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7IGdlbmVyYXRvck9yTmV4dC5jb21wbGV0ZSgpOyB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2NoZWR1bGVyRm4gPSB0aGlzLl9faXNBc3luYyA/IGZ1bmN0aW9uICh2YWx1ZSkgeyBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIGdlbmVyYXRvck9yTmV4dCh2YWx1ZSk7IH0pOyB9IDpcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHsgZ2VuZXJhdG9yT3JOZXh0KHZhbHVlKTsgfTtcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGVycm9yRm4gPVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9faXNBc3luYyA/IGZ1bmN0aW9uIChlcnIpIHsgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBlcnJvcihlcnIpOyB9KTsgfSA6IGZ1bmN0aW9uIChlcnIpIHsgZXJyb3IoZXJyKTsgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlRm4gPVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9faXNBc3luYyA/IGZ1bmN0aW9uICgpIHsgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBjb21wbGV0ZSgpOyB9KTsgfSA6IGZ1bmN0aW9uICgpIHsgY29tcGxldGUoKTsgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5zdWJzY3JpYmUuY2FsbCh0aGlzLCBzY2hlZHVsZXJGbiwgZXJyb3JGbiwgY29tcGxldGVGbik7XG4gICAgfTtcbiAgICByZXR1cm4gRXZlbnRFbWl0dGVyO1xufShyeGpzX1N1YmplY3QuU3ViamVjdCkpO1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBBbiBpbmplY3RhYmxlIHNlcnZpY2UgZm9yIGV4ZWN1dGluZyB3b3JrIGluc2lkZSBvciBvdXRzaWRlIG9mIHRoZSBBbmd1bGFyIHpvbmUuXG4gKlxuICogVGhlIG1vc3QgY29tbW9uIHVzZSBvZiB0aGlzIHNlcnZpY2UgaXMgdG8gb3B0aW1pemUgcGVyZm9ybWFuY2Ugd2hlbiBzdGFydGluZyBhIHdvcmsgY29uc2lzdGluZyBvZlxuICogb25lIG9yIG1vcmUgYXN5bmNocm9ub3VzIHRhc2tzIHRoYXQgZG9uJ3QgcmVxdWlyZSBVSSB1cGRhdGVzIG9yIGVycm9yIGhhbmRsaW5nIHRvIGJlIGhhbmRsZWQgYnlcbiAqIEFuZ3VsYXIuIFN1Y2ggdGFza3MgY2FuIGJlIGtpY2tlZCBvZmYgdmlhIHtcXEBsaW5rICNydW5PdXRzaWRlQW5ndWxhcn0gYW5kIGlmIG5lZWRlZCwgdGhlc2UgdGFza3NcbiAqIGNhbiByZWVudGVyIHRoZSBBbmd1bGFyIHpvbmUgdmlhIHtcXEBsaW5rICNydW59LlxuICpcbiAqIDwhLS0gVE9ETzogYWRkL2ZpeCBsaW5rcyB0bzpcbiAqICAgLSBkb2NzIGV4cGxhaW5pbmcgem9uZXMgYW5kIHRoZSB1c2Ugb2Ygem9uZXMgaW4gQW5ndWxhciBhbmQgY2hhbmdlLWRldGVjdGlvblxuICogICAtIGxpbmsgdG8gcnVuT3V0c2lkZUFuZ3VsYXIvcnVuICh0aHJvdWdob3V0IHRoaXMgZmlsZSEpXG4gKiAgIC0tPlxuICpcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogYGBgXG4gKiBpbXBvcnQge0NvbXBvbmVudCwgTmdab25lfSBmcm9tICdcXEBhbmd1bGFyL2NvcmUnO1xuICogaW1wb3J0IHtOZ0lmfSBmcm9tICdcXEBhbmd1bGFyL2NvbW1vbic7XG4gKlxuICogXFxAQ29tcG9uZW50KHtcbiAqICAgc2VsZWN0b3I6ICduZy16b25lLWRlbW8nLlxuICogICB0ZW1wbGF0ZTogYFxuICogICAgIDxoMj5EZW1vOiBOZ1pvbmU8L2gyPlxuICpcbiAqICAgICA8cD5Qcm9ncmVzczoge3twcm9ncmVzc319JTwvcD5cbiAqICAgICA8cCAqbmdJZj1cInByb2dyZXNzID49IDEwMFwiPkRvbmUgcHJvY2Vzc2luZyB7e2xhYmVsfX0gb2YgQW5ndWxhciB6b25lITwvcD5cbiAqXG4gKiAgICAgPGJ1dHRvbiAoY2xpY2spPVwicHJvY2Vzc1dpdGhpbkFuZ3VsYXJab25lKClcIj5Qcm9jZXNzIHdpdGhpbiBBbmd1bGFyIHpvbmU8L2J1dHRvbj5cbiAqICAgICA8YnV0dG9uIChjbGljayk9XCJwcm9jZXNzT3V0c2lkZU9mQW5ndWxhclpvbmUoKVwiPlByb2Nlc3Mgb3V0c2lkZSBvZiBBbmd1bGFyIHpvbmU8L2J1dHRvbj5cbiAqICAgYCxcbiAqIH0pXG4gKiBleHBvcnQgY2xhc3MgTmdab25lRGVtbyB7XG4gKiAgIHByb2dyZXNzOiBudW1iZXIgPSAwO1xuICogICBsYWJlbDogc3RyaW5nO1xuICpcbiAqICAgY29uc3RydWN0b3IocHJpdmF0ZSBfbmdab25lOiBOZ1pvbmUpIHt9XG4gKlxuICogICAvLyBMb29wIGluc2lkZSB0aGUgQW5ndWxhciB6b25lXG4gKiAgIC8vIHNvIHRoZSBVSSBET0VTIHJlZnJlc2ggYWZ0ZXIgZWFjaCBzZXRUaW1lb3V0IGN5Y2xlXG4gKiAgIHByb2Nlc3NXaXRoaW5Bbmd1bGFyWm9uZSgpIHtcbiAqICAgICB0aGlzLmxhYmVsID0gJ2luc2lkZSc7XG4gKiAgICAgdGhpcy5wcm9ncmVzcyA9IDA7XG4gKiAgICAgdGhpcy5faW5jcmVhc2VQcm9ncmVzcygoKSA9PiBjb25zb2xlLmxvZygnSW5zaWRlIERvbmUhJykpO1xuICogICB9XG4gKlxuICogICAvLyBMb29wIG91dHNpZGUgb2YgdGhlIEFuZ3VsYXIgem9uZVxuICogICAvLyBzbyB0aGUgVUkgRE9FUyBOT1QgcmVmcmVzaCBhZnRlciBlYWNoIHNldFRpbWVvdXQgY3ljbGVcbiAqICAgcHJvY2Vzc091dHNpZGVPZkFuZ3VsYXJab25lKCkge1xuICogICAgIHRoaXMubGFiZWwgPSAnb3V0c2lkZSc7XG4gKiAgICAgdGhpcy5wcm9ncmVzcyA9IDA7XG4gKiAgICAgdGhpcy5fbmdab25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHtcbiAqICAgICAgIHRoaXMuX2luY3JlYXNlUHJvZ3Jlc3MoKCkgPT4ge1xuICogICAgICAgLy8gcmVlbnRlciB0aGUgQW5ndWxhciB6b25lIGFuZCBkaXNwbGF5IGRvbmVcbiAqICAgICAgIHRoaXMuX25nWm9uZS5ydW4oKCkgPT4ge2NvbnNvbGUubG9nKCdPdXRzaWRlIERvbmUhJykgfSk7XG4gKiAgICAgfX0pKTtcbiAqICAgfVxuICpcbiAqICAgX2luY3JlYXNlUHJvZ3Jlc3MoZG9uZUNhbGxiYWNrOiAoKSA9PiB2b2lkKSB7XG4gKiAgICAgdGhpcy5wcm9ncmVzcyArPSAxO1xuICogICAgIGNvbnNvbGUubG9nKGBDdXJyZW50IHByb2dyZXNzOiAke3RoaXMucHJvZ3Jlc3N9JWApO1xuICpcbiAqICAgICBpZiAodGhpcy5wcm9ncmVzcyA8IDEwMCkge1xuICogICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4gdGhpcy5faW5jcmVhc2VQcm9ncmVzcyhkb25lQ2FsbGJhY2spKSwgMTApXG4gKiAgICAgfSBlbHNlIHtcbiAqICAgICAgIGRvbmVDYWxsYmFjaygpO1xuICogICAgIH1cbiAqICAgfVxuICogfVxuICogYGBgXG4gKlxuICogXFxAZXhwZXJpbWVudGFsXG4gKi9cbnZhciBOZ1pvbmUgPSAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gX18wXG4gICAgICovXG4gICAgZnVuY3Rpb24gTmdab25lKF9hKSB7XG4gICAgICAgIHZhciBfYiA9IF9hLmVuYWJsZUxvbmdTdGFja1RyYWNlLCBlbmFibGVMb25nU3RhY2tUcmFjZSA9IF9iID09PSB2b2lkIDAgPyBmYWxzZSA6IF9iO1xuICAgICAgICB0aGlzLmhhc1BlbmRpbmdNaWNyb3Rhc2tzID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaGFzUGVuZGluZ01hY3JvdGFza3MgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgdGhlcmUgYXJlIG5vIG91dHN0YW5kaW5nIG1pY3JvdGFza3Mgb3IgbWFjcm90YXNrcy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaXNTdGFibGUgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogTm90aWZpZXMgd2hlbiBjb2RlIGVudGVycyBBbmd1bGFyIFpvbmUuIFRoaXMgZ2V0cyBmaXJlZCBmaXJzdCBvbiBWTSBUdXJuLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vblVuc3RhYmxlID0gbmV3IEV2ZW50RW1pdHRlcihmYWxzZSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOb3RpZmllcyB3aGVuIHRoZXJlIGlzIG5vIG1vcmUgbWljcm90YXNrcyBlbnF1ZXVlIGluIHRoZSBjdXJyZW50IFZNIFR1cm4uXG4gICAgICAgICAqIFRoaXMgaXMgYSBoaW50IGZvciBBbmd1bGFyIHRvIGRvIGNoYW5nZSBkZXRlY3Rpb24sIHdoaWNoIG1heSBlbnF1ZXVlIG1vcmUgbWljcm90YXNrcy5cbiAgICAgICAgICogRm9yIHRoaXMgcmVhc29uIHRoaXMgZXZlbnQgY2FuIGZpcmUgbXVsdGlwbGUgdGltZXMgcGVyIFZNIFR1cm4uXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uTWljcm90YXNrRW1wdHkgPSBuZXcgRXZlbnRFbWl0dGVyKGZhbHNlKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE5vdGlmaWVzIHdoZW4gdGhlIGxhc3QgYG9uTWljcm90YXNrRW1wdHlgIGhhcyBydW4gYW5kIHRoZXJlIGFyZSBubyBtb3JlIG1pY3JvdGFza3MsIHdoaWNoXG4gICAgICAgICAqIGltcGxpZXMgd2UgYXJlIGFib3V0IHRvIHJlbGlucXVpc2ggVk0gdHVybi5cbiAgICAgICAgICogVGhpcyBldmVudCBnZXRzIGNhbGxlZCBqdXN0IG9uY2UuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uU3RhYmxlID0gbmV3IEV2ZW50RW1pdHRlcihmYWxzZSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOb3RpZmllcyB0aGF0IGFuIGVycm9yIGhhcyBiZWVuIGRlbGl2ZXJlZC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25FcnJvciA9IG5ldyBFdmVudEVtaXR0ZXIoZmFsc2UpO1xuICAgICAgICBpZiAodHlwZW9mIFpvbmUgPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQW5ndWxhciByZXF1aXJlcyBab25lLmpzIHByb2x5ZmlsbC4nKTtcbiAgICAgICAgfVxuICAgICAgICBab25lLmFzc2VydFpvbmVQYXRjaGVkKCk7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgc2VsZi5fbmVzdGluZyA9IDA7XG4gICAgICAgIHNlbGYuX291dGVyID0gc2VsZi5faW5uZXIgPSBab25lLmN1cnJlbnQ7XG4gICAgICAgIGlmIChab25lWyd3dGZab25lU3BlYyddKSB7XG4gICAgICAgICAgICBzZWxmLl9pbm5lciA9IHNlbGYuX2lubmVyLmZvcmsoWm9uZVsnd3RmWm9uZVNwZWMnXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVuYWJsZUxvbmdTdGFja1RyYWNlICYmIFpvbmVbJ2xvbmdTdGFja1RyYWNlWm9uZVNwZWMnXSkge1xuICAgICAgICAgICAgc2VsZi5faW5uZXIgPSBzZWxmLl9pbm5lci5mb3JrKFpvbmVbJ2xvbmdTdGFja1RyYWNlWm9uZVNwZWMnXSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9ya0lubmVyWm9uZVdpdGhBbmd1bGFyQmVoYXZpb3Ioc2VsZik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgTmdab25lLmlzSW5Bbmd1bGFyWm9uZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFpvbmUuY3VycmVudC5nZXQoJ2lzQW5ndWxhclpvbmUnKSA9PT0gdHJ1ZTsgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIE5nWm9uZS5hc3NlcnRJbkFuZ3VsYXJab25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIU5nWm9uZS5pc0luQW5ndWxhclpvbmUoKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0byBiZSBpbiBBbmd1bGFyIFpvbmUsIGJ1dCBpdCBpcyBub3QhJyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgTmdab25lLmFzc2VydE5vdEluQW5ndWxhclpvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChOZ1pvbmUuaXNJbkFuZ3VsYXJab25lKCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgdG8gbm90IGJlIGluIEFuZ3VsYXIgWm9uZSwgYnV0IGl0IGlzIScpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyB0aGUgYGZuYCBmdW5jdGlvbiBzeW5jaHJvbm91c2x5IHdpdGhpbiB0aGUgQW5ndWxhciB6b25lIGFuZCByZXR1cm5zIHZhbHVlIHJldHVybmVkIGJ5XG4gICAgICogdGhlIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogUnVubmluZyBmdW5jdGlvbnMgdmlhIGBydW5gIGFsbG93cyB5b3UgdG8gcmVlbnRlciBBbmd1bGFyIHpvbmUgZnJvbSBhIHRhc2sgdGhhdCB3YXMgZXhlY3V0ZWRcbiAgICAgKiBvdXRzaWRlIG9mIHRoZSBBbmd1bGFyIHpvbmUgKHR5cGljYWxseSBzdGFydGVkIHZpYSB7XFxAbGluayAjcnVuT3V0c2lkZUFuZ3VsYXJ9KS5cbiAgICAgKlxuICAgICAqIEFueSBmdXR1cmUgdGFza3Mgb3IgbWljcm90YXNrcyBzY2hlZHVsZWQgZnJvbSB3aXRoaW4gdGhpcyBmdW5jdGlvbiB3aWxsIGNvbnRpbnVlIGV4ZWN1dGluZyBmcm9tXG4gICAgICogd2l0aGluIHRoZSBBbmd1bGFyIHpvbmUuXG4gICAgICpcbiAgICAgKiBJZiBhIHN5bmNocm9ub3VzIGVycm9yIGhhcHBlbnMgaXQgd2lsbCBiZSByZXRocm93biBhbmQgbm90IHJlcG9ydGVkIHZpYSBgb25FcnJvcmAuXG4gICAgICogQHBhcmFtIHs/fSBmblxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgTmdab25lLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoZm4pIHsgcmV0dXJuICgoKHRoaXMpKSkuX2lubmVyLnJ1bihmbik7IH07XG4gICAgLyoqXG4gICAgICogU2FtZSBhcyBgcnVuYCwgZXhjZXB0IHRoYXQgc3luY2hyb25vdXMgZXJyb3JzIGFyZSBjYXVnaHQgYW5kIGZvcndhcmRlZCB2aWEgYG9uRXJyb3JgIGFuZCBub3RcbiAgICAgKiByZXRocm93bi5cbiAgICAgKiBAcGFyYW0gez99IGZuXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBOZ1pvbmUucHJvdG90eXBlLnJ1bkd1YXJkZWQgPSBmdW5jdGlvbiAoZm4pIHsgcmV0dXJuICgoKHRoaXMpKSkuX2lubmVyLnJ1bkd1YXJkZWQoZm4pOyB9O1xuICAgIC8qKlxuICAgICAqIEV4ZWN1dGVzIHRoZSBgZm5gIGZ1bmN0aW9uIHN5bmNocm9ub3VzbHkgaW4gQW5ndWxhcidzIHBhcmVudCB6b25lIGFuZCByZXR1cm5zIHZhbHVlIHJldHVybmVkIGJ5XG4gICAgICogdGhlIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogUnVubmluZyBmdW5jdGlvbnMgdmlhIHtcXEBsaW5rICNydW5PdXRzaWRlQW5ndWxhcn0gYWxsb3dzIHlvdSB0byBlc2NhcGUgQW5ndWxhcidzIHpvbmUgYW5kIGRvXG4gICAgICogd29yayB0aGF0XG4gICAgICogZG9lc24ndCB0cmlnZ2VyIEFuZ3VsYXIgY2hhbmdlLWRldGVjdGlvbiBvciBpcyBzdWJqZWN0IHRvIEFuZ3VsYXIncyBlcnJvciBoYW5kbGluZy5cbiAgICAgKlxuICAgICAqIEFueSBmdXR1cmUgdGFza3Mgb3IgbWljcm90YXNrcyBzY2hlZHVsZWQgZnJvbSB3aXRoaW4gdGhpcyBmdW5jdGlvbiB3aWxsIGNvbnRpbnVlIGV4ZWN1dGluZyBmcm9tXG4gICAgICogb3V0c2lkZSBvZiB0aGUgQW5ndWxhciB6b25lLlxuICAgICAqXG4gICAgICogVXNlIHtcXEBsaW5rICNydW59IHRvIHJlZW50ZXIgdGhlIEFuZ3VsYXIgem9uZSBhbmQgZG8gd29yayB0aGF0IHVwZGF0ZXMgdGhlIGFwcGxpY2F0aW9uIG1vZGVsLlxuICAgICAqIEBwYXJhbSB7P30gZm5cbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIE5nWm9uZS5wcm90b3R5cGUucnVuT3V0c2lkZUFuZ3VsYXIgPSBmdW5jdGlvbiAoZm4pIHsgcmV0dXJuICgoKHRoaXMpKSkuX291dGVyLnJ1bihmbik7IH07XG4gICAgcmV0dXJuIE5nWm9uZTtcbn0oKSk7XG4vKipcbiAqIEBwYXJhbSB7P30gem9uZVxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gY2hlY2tTdGFibGUoem9uZSkge1xuICAgIGlmICh6b25lLl9uZXN0aW5nID09IDAgJiYgIXpvbmUuaGFzUGVuZGluZ01pY3JvdGFza3MgJiYgIXpvbmUuaXNTdGFibGUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHpvbmUuX25lc3RpbmcrKztcbiAgICAgICAgICAgIHpvbmUub25NaWNyb3Rhc2tFbXB0eS5lbWl0KG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgem9uZS5fbmVzdGluZy0tO1xuICAgICAgICAgICAgaWYgKCF6b25lLmhhc1BlbmRpbmdNaWNyb3Rhc2tzKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgem9uZS5ydW5PdXRzaWRlQW5ndWxhcihmdW5jdGlvbiAoKSB7IHJldHVybiB6b25lLm9uU3RhYmxlLmVtaXQobnVsbCk7IH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgem9uZS5pc1N0YWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBAcGFyYW0gez99IHpvbmVcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGZvcmtJbm5lclpvbmVXaXRoQW5ndWxhckJlaGF2aW9yKHpvbmUpIHtcbiAgICB6b25lLl9pbm5lciA9IHpvbmUuX2lubmVyLmZvcmsoe1xuICAgICAgICBuYW1lOiAnYW5ndWxhcicsXG4gICAgICAgIHByb3BlcnRpZXM6IC8qKiBAdHlwZSB7P30gKi8gKHsgJ2lzQW5ndWxhclpvbmUnOiB0cnVlIH0pLFxuICAgICAgICBvbkludm9rZVRhc2s6IGZ1bmN0aW9uIChkZWxlZ2F0ZSwgY3VycmVudCwgdGFyZ2V0LCB0YXNrLCBhcHBseVRoaXMsIGFwcGx5QXJncykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBvbkVudGVyKHpvbmUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBkZWxlZ2F0ZS5pbnZva2VUYXNrKHRhcmdldCwgdGFzaywgYXBwbHlUaGlzLCBhcHBseUFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgb25MZWF2ZSh6b25lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb25JbnZva2U6IGZ1bmN0aW9uIChkZWxlZ2F0ZSwgY3VycmVudCwgdGFyZ2V0LCBjYWxsYmFjaywgYXBwbHlUaGlzLCBhcHBseUFyZ3MsIHNvdXJjZSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBvbkVudGVyKHpvbmUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBkZWxlZ2F0ZS5pbnZva2UodGFyZ2V0LCBjYWxsYmFjaywgYXBwbHlUaGlzLCBhcHBseUFyZ3MsIHNvdXJjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBvbkxlYXZlKHpvbmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvbkhhc1Rhc2s6IGZ1bmN0aW9uIChkZWxlZ2F0ZSwgY3VycmVudCwgdGFyZ2V0LCBoYXNUYXNrU3RhdGUpIHtcbiAgICAgICAgICAgIGRlbGVnYXRlLmhhc1Rhc2sodGFyZ2V0LCBoYXNUYXNrU3RhdGUpO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnQgPT09IHRhcmdldCkge1xuICAgICAgICAgICAgICAgIC8vIFdlIGFyZSBvbmx5IGludGVyZXN0ZWQgaW4gaGFzVGFzayBldmVudHMgd2hpY2ggb3JpZ2luYXRlIGZyb20gb3VyIHpvbmVcbiAgICAgICAgICAgICAgICAvLyAoQSBjaGlsZCBoYXNUYXNrIGV2ZW50IGlzIG5vdCBpbnRlcmVzdGluZyB0byB1cylcbiAgICAgICAgICAgICAgICBpZiAoaGFzVGFza1N0YXRlLmNoYW5nZSA9PSAnbWljcm9UYXNrJykge1xuICAgICAgICAgICAgICAgICAgICB6b25lLmhhc1BlbmRpbmdNaWNyb3Rhc2tzID0gaGFzVGFza1N0YXRlLm1pY3JvVGFzaztcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tTdGFibGUoem9uZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGhhc1Rhc2tTdGF0ZS5jaGFuZ2UgPT0gJ21hY3JvVGFzaycpIHtcbiAgICAgICAgICAgICAgICAgICAgem9uZS5oYXNQZW5kaW5nTWFjcm90YXNrcyA9IGhhc1Rhc2tTdGF0ZS5tYWNyb1Rhc2s7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvbkhhbmRsZUVycm9yOiBmdW5jdGlvbiAoZGVsZWdhdGUsIGN1cnJlbnQsIHRhcmdldCwgZXJyb3IpIHtcbiAgICAgICAgICAgIGRlbGVnYXRlLmhhbmRsZUVycm9yKHRhcmdldCwgZXJyb3IpO1xuICAgICAgICAgICAgem9uZS5ydW5PdXRzaWRlQW5ndWxhcihmdW5jdGlvbiAoKSB7IHJldHVybiB6b25lLm9uRXJyb3IuZW1pdChlcnJvcik7IH0pO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vKipcbiAqIEBwYXJhbSB7P30gem9uZVxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gb25FbnRlcih6b25lKSB7XG4gICAgem9uZS5fbmVzdGluZysrO1xuICAgIGlmICh6b25lLmlzU3RhYmxlKSB7XG4gICAgICAgIHpvbmUuaXNTdGFibGUgPSBmYWxzZTtcbiAgICAgICAgem9uZS5vblVuc3RhYmxlLmVtaXQobnVsbCk7XG4gICAgfVxufVxuLyoqXG4gKiBAcGFyYW0gez99IHpvbmVcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIG9uTGVhdmUoem9uZSkge1xuICAgIHpvbmUuX25lc3RpbmctLTtcbiAgICBjaGVja1N0YWJsZSh6b25lKTtcbn1cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogVGhlIFRlc3RhYmlsaXR5IHNlcnZpY2UgcHJvdmlkZXMgdGVzdGluZyBob29rcyB0aGF0IGNhbiBiZSBhY2Nlc3NlZCBmcm9tXG4gKiB0aGUgYnJvd3NlciBhbmQgYnkgc2VydmljZXMgc3VjaCBhcyBQcm90cmFjdG9yLiBFYWNoIGJvb3RzdHJhcHBlZCBBbmd1bGFyXG4gKiBhcHBsaWNhdGlvbiBvbiB0aGUgcGFnZSB3aWxsIGhhdmUgYW4gaW5zdGFuY2Ugb2YgVGVzdGFiaWxpdHkuXG4gKiBcXEBleHBlcmltZW50YWxcbiAqL1xudmFyIFRlc3RhYmlsaXR5ID0gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IF9uZ1pvbmVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUZXN0YWJpbGl0eShfbmdab25lKSB7XG4gICAgICAgIHRoaXMuX25nWm9uZSA9IF9uZ1pvbmU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBcXEBpbnRlcm5hbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcGVuZGluZ0NvdW50ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFxcQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9pc1pvbmVTdGFibGUgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBhbnkgd29yayB3YXMgZG9uZSBzaW5jZSB0aGUgbGFzdCAnd2hlblN0YWJsZScgY2FsbGJhY2suIFRoaXMgaXNcbiAgICAgICAgICogdXNlZnVsIHRvIGRldGVjdCBpZiB0aGlzIGNvdWxkIGhhdmUgcG90ZW50aWFsbHkgZGVzdGFiaWxpemVkIGFub3RoZXJcbiAgICAgICAgICogY29tcG9uZW50IHdoaWxlIGl0IGlzIHN0YWJpbGl6aW5nLlxuICAgICAgICAgKiBcXEBpbnRlcm5hbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZGlkV29yayA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogXFxAaW50ZXJuYWxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2NhbGxiYWNrcyA9IFtdO1xuICAgICAgICB0aGlzLl93YXRjaEFuZ3VsYXJFdmVudHMoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogXFxAaW50ZXJuYWxcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFRlc3RhYmlsaXR5LnByb3RvdHlwZS5fd2F0Y2hBbmd1bGFyRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLl9uZ1pvbmUub25VbnN0YWJsZS5zdWJzY3JpYmUoe1xuICAgICAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLl9kaWRXb3JrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBfdGhpcy5faXNab25lU3RhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9uZ1pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuX25nWm9uZS5vblN0YWJsZS5zdWJzY3JpYmUoe1xuICAgICAgICAgICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgTmdab25lLmFzc2VydE5vdEluQW5ndWxhclpvbmUoKTtcbiAgICAgICAgICAgICAgICAgICAgc2NoZWR1bGVNaWNyb1Rhc2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2lzWm9uZVN0YWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fcnVuQ2FsbGJhY2tzSWZSZWFkeSgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFRlc3RhYmlsaXR5LnByb3RvdHlwZS5pbmNyZWFzZVBlbmRpbmdSZXF1ZXN0Q291bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX3BlbmRpbmdDb3VudCArPSAxO1xuICAgICAgICB0aGlzLl9kaWRXb3JrID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BlbmRpbmdDb3VudDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgVGVzdGFiaWxpdHkucHJvdG90eXBlLmRlY3JlYXNlUGVuZGluZ1JlcXVlc3RDb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fcGVuZGluZ0NvdW50IC09IDE7XG4gICAgICAgIGlmICh0aGlzLl9wZW5kaW5nQ291bnQgPCAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3BlbmRpbmcgYXN5bmMgcmVxdWVzdHMgYmVsb3cgemVybycpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3J1bkNhbGxiYWNrc0lmUmVhZHkoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BlbmRpbmdDb3VudDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgVGVzdGFiaWxpdHkucHJvdG90eXBlLmlzU3RhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNab25lU3RhYmxlICYmIHRoaXMuX3BlbmRpbmdDb3VudCA9PSAwICYmICF0aGlzLl9uZ1pvbmUuaGFzUGVuZGluZ01hY3JvdGFza3M7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBcXEBpbnRlcm5hbFxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgVGVzdGFiaWxpdHkucHJvdG90eXBlLl9ydW5DYWxsYmFja3NJZlJlYWR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5pc1N0YWJsZSgpKSB7XG4gICAgICAgICAgICAvLyBTY2hlZHVsZXMgdGhlIGNhbGwgYmFja3MgaW4gYSBuZXcgZnJhbWUgc28gdGhhdCBpdCBpcyBhbHdheXMgYXN5bmMuXG4gICAgICAgICAgICBzY2hlZHVsZU1pY3JvVGFzayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgd2hpbGUgKF90aGlzLl9jYWxsYmFja3MubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICgoKF90aGlzLl9jYWxsYmFja3MucG9wKCkpKSkoX3RoaXMuX2RpZFdvcmspO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfdGhpcy5fZGlkV29yayA9IGZhbHNlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBOb3QgUmVhZHlcbiAgICAgICAgICAgIHRoaXMuX2RpZFdvcmsgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IGNhbGxiYWNrXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBUZXN0YWJpbGl0eS5wcm90b3R5cGUud2hlblN0YWJsZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9jYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gICAgICAgIHRoaXMuX3J1bkNhbGxiYWNrc0lmUmVhZHkoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgVGVzdGFiaWxpdHkucHJvdG90eXBlLmdldFBlbmRpbmdSZXF1ZXN0Q291bnQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9wZW5kaW5nQ291bnQ7IH07XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgdXNlIGZpbmRQcm92aWRlcnNcbiAgICAgKiBAcGFyYW0gez99IHVzaW5nXG4gICAgICogQHBhcmFtIHs/fSBwcm92aWRlclxuICAgICAqIEBwYXJhbSB7P30gZXhhY3RNYXRjaFxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgVGVzdGFiaWxpdHkucHJvdG90eXBlLmZpbmRCaW5kaW5ncyA9IGZ1bmN0aW9uICh1c2luZywgcHJvdmlkZXIsIGV4YWN0TWF0Y2gpIHtcbiAgICAgICAgLy8gVE9ETyhqdWxpZW1yKTogaW1wbGVtZW50LlxuICAgICAgICByZXR1cm4gW107XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IHVzaW5nXG4gICAgICogQHBhcmFtIHs/fSBwcm92aWRlclxuICAgICAqIEBwYXJhbSB7P30gZXhhY3RNYXRjaFxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgVGVzdGFiaWxpdHkucHJvdG90eXBlLmZpbmRQcm92aWRlcnMgPSBmdW5jdGlvbiAodXNpbmcsIHByb3ZpZGVyLCBleGFjdE1hdGNoKSB7XG4gICAgICAgIC8vIFRPRE8oanVsaWVtcik6IGltcGxlbWVudC5cbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH07XG4gICAgcmV0dXJuIFRlc3RhYmlsaXR5O1xufSgpKTtcblRlc3RhYmlsaXR5LmRlY29yYXRvcnMgPSBbXG4gICAgeyB0eXBlOiBJbmplY3RhYmxlIH0sXG5dO1xuLyoqXG4gKiBAbm9jb2xsYXBzZVxuICovXG5UZXN0YWJpbGl0eS5jdG9yUGFyYW1ldGVycyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFtcbiAgICB7IHR5cGU6IE5nWm9uZSwgfSxcbl07IH07XG4vKipcbiAqIEEgZ2xvYmFsIHJlZ2lzdHJ5IG9mIHtcXEBsaW5rIFRlc3RhYmlsaXR5fSBpbnN0YW5jZXMgZm9yIHNwZWNpZmljIGVsZW1lbnRzLlxuICogXFxAZXhwZXJpbWVudGFsXG4gKi9cbnZhciBUZXN0YWJpbGl0eVJlZ2lzdHJ5ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUZXN0YWJpbGl0eVJlZ2lzdHJ5KCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogXFxAaW50ZXJuYWxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2FwcGxpY2F0aW9ucyA9IG5ldyBNYXAoKTtcbiAgICAgICAgX3Rlc3RhYmlsaXR5R2V0dGVyLmFkZFRvV2luZG93KHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IHRva2VuXG4gICAgICogQHBhcmFtIHs/fSB0ZXN0YWJpbGl0eVxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgVGVzdGFiaWxpdHlSZWdpc3RyeS5wcm90b3R5cGUucmVnaXN0ZXJBcHBsaWNhdGlvbiA9IGZ1bmN0aW9uICh0b2tlbiwgdGVzdGFiaWxpdHkpIHtcbiAgICAgICAgdGhpcy5fYXBwbGljYXRpb25zLnNldCh0b2tlbiwgdGVzdGFiaWxpdHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBlbGVtXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBUZXN0YWJpbGl0eVJlZ2lzdHJ5LnByb3RvdHlwZS5nZXRUZXN0YWJpbGl0eSA9IGZ1bmN0aW9uIChlbGVtKSB7IHJldHVybiB0aGlzLl9hcHBsaWNhdGlvbnMuZ2V0KGVsZW0pIHx8IG51bGw7IH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBUZXN0YWJpbGl0eVJlZ2lzdHJ5LnByb3RvdHlwZS5nZXRBbGxUZXN0YWJpbGl0aWVzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLl9hcHBsaWNhdGlvbnMudmFsdWVzKCkpOyB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgVGVzdGFiaWxpdHlSZWdpc3RyeS5wcm90b3R5cGUuZ2V0QWxsUm9vdEVsZW1lbnRzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLl9hcHBsaWNhdGlvbnMua2V5cygpKTsgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IGVsZW1cbiAgICAgKiBAcGFyYW0gez89fSBmaW5kSW5BbmNlc3RvcnNcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFRlc3RhYmlsaXR5UmVnaXN0cnkucHJvdG90eXBlLmZpbmRUZXN0YWJpbGl0eUluVHJlZSA9IGZ1bmN0aW9uIChlbGVtLCBmaW5kSW5BbmNlc3RvcnMpIHtcbiAgICAgICAgaWYgKGZpbmRJbkFuY2VzdG9ycyA9PT0gdm9pZCAwKSB7IGZpbmRJbkFuY2VzdG9ycyA9IHRydWU7IH1cbiAgICAgICAgcmV0dXJuIF90ZXN0YWJpbGl0eUdldHRlci5maW5kVGVzdGFiaWxpdHlJblRyZWUodGhpcywgZWxlbSwgZmluZEluQW5jZXN0b3JzKTtcbiAgICB9O1xuICAgIHJldHVybiBUZXN0YWJpbGl0eVJlZ2lzdHJ5O1xufSgpKTtcblRlc3RhYmlsaXR5UmVnaXN0cnkuZGVjb3JhdG9ycyA9IFtcbiAgICB7IHR5cGU6IEluamVjdGFibGUgfSxcbl07XG4vKipcbiAqIEBub2NvbGxhcHNlXG4gKi9cblRlc3RhYmlsaXR5UmVnaXN0cnkuY3RvclBhcmFtZXRlcnMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBbXTsgfTtcbnZhciBfTm9vcEdldFRlc3RhYmlsaXR5ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBfTm9vcEdldFRlc3RhYmlsaXR5KCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IHJlZ2lzdHJ5XG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBfTm9vcEdldFRlc3RhYmlsaXR5LnByb3RvdHlwZS5hZGRUb1dpbmRvdyA9IGZ1bmN0aW9uIChyZWdpc3RyeSkgeyB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gcmVnaXN0cnlcbiAgICAgKiBAcGFyYW0gez99IGVsZW1cbiAgICAgKiBAcGFyYW0gez99IGZpbmRJbkFuY2VzdG9yc1xuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgX05vb3BHZXRUZXN0YWJpbGl0eS5wcm90b3R5cGUuZmluZFRlc3RhYmlsaXR5SW5UcmVlID0gZnVuY3Rpb24gKHJlZ2lzdHJ5LCBlbGVtLCBmaW5kSW5BbmNlc3RvcnMpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gX05vb3BHZXRUZXN0YWJpbGl0eTtcbn0oKSk7XG4vKipcbiAqIFNldCB0aGUge1xcQGxpbmsgR2V0VGVzdGFiaWxpdHl9IGltcGxlbWVudGF0aW9uIHVzZWQgYnkgdGhlIEFuZ3VsYXIgdGVzdGluZyBmcmFtZXdvcmsuXG4gKiBcXEBleHBlcmltZW50YWxcbiAqIEBwYXJhbSB7P30gZ2V0dGVyXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBzZXRUZXN0YWJpbGl0eUdldHRlcihnZXR0ZXIpIHtcbiAgICBfdGVzdGFiaWxpdHlHZXR0ZXIgPSBnZXR0ZXI7XG59XG52YXIgX3Rlc3RhYmlsaXR5R2V0dGVyID0gbmV3IF9Ob29wR2V0VGVzdGFiaWxpdHkoKTtcbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbnZhciBfZGV2TW9kZSA9IHRydWU7XG52YXIgX3J1bk1vZGVMb2NrZWQgPSBmYWxzZTtcbnZhciBfcGxhdGZvcm07XG52YXIgQUxMT1dfTVVMVElQTEVfUExBVEZPUk1TID0gbmV3IEluamVjdGlvblRva2VuKCdBbGxvd011bHRpcGxlVG9rZW4nKTtcbi8qKlxuICogRGlzYWJsZSBBbmd1bGFyJ3MgZGV2ZWxvcG1lbnQgbW9kZSwgd2hpY2ggdHVybnMgb2ZmIGFzc2VydGlvbnMgYW5kIG90aGVyXG4gKiBjaGVja3Mgd2l0aGluIHRoZSBmcmFtZXdvcmsuXG4gKlxuICogT25lIGltcG9ydGFudCBhc3NlcnRpb24gdGhpcyBkaXNhYmxlcyB2ZXJpZmllcyB0aGF0IGEgY2hhbmdlIGRldGVjdGlvbiBwYXNzXG4gKiBkb2VzIG5vdCByZXN1bHQgaW4gYWRkaXRpb25hbCBjaGFuZ2VzIHRvIGFueSBiaW5kaW5ncyAoYWxzbyBrbm93biBhc1xuICogdW5pZGlyZWN0aW9uYWwgZGF0YSBmbG93KS5cbiAqXG4gKiBcXEBzdGFibGVcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGVuYWJsZVByb2RNb2RlKCkge1xuICAgIGlmIChfcnVuTW9kZUxvY2tlZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBlbmFibGUgcHJvZCBtb2RlIGFmdGVyIHBsYXRmb3JtIHNldHVwLicpO1xuICAgIH1cbiAgICBfZGV2TW9kZSA9IGZhbHNlO1xufVxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgQW5ndWxhciBpcyBpbiBkZXZlbG9wbWVudCBtb2RlLiBBZnRlciBjYWxsZWQgb25jZSxcbiAqIHRoZSB2YWx1ZSBpcyBsb2NrZWQgYW5kIHdvbid0IGNoYW5nZSBhbnkgbW9yZS5cbiAqXG4gKiBCeSBkZWZhdWx0LCB0aGlzIGlzIHRydWUsIHVubGVzcyBhIHVzZXIgY2FsbHMgYGVuYWJsZVByb2RNb2RlYCBiZWZvcmUgY2FsbGluZyB0aGlzLlxuICpcbiAqIFxcQGV4cGVyaW1lbnRhbCBBUElzIHJlbGF0ZWQgdG8gYXBwbGljYXRpb24gYm9vdHN0cmFwIGFyZSBjdXJyZW50bHkgdW5kZXIgcmV2aWV3LlxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gaXNEZXZNb2RlKCkge1xuICAgIF9ydW5Nb2RlTG9ja2VkID0gdHJ1ZTtcbiAgICByZXR1cm4gX2Rldk1vZGU7XG59XG4vKipcbiAqIEEgdG9rZW4gZm9yIHRoaXJkLXBhcnR5IGNvbXBvbmVudHMgdGhhdCBjYW4gcmVnaXN0ZXIgdGhlbXNlbHZlcyB3aXRoIE5nUHJvYmUuXG4gKlxuICogXFxAZXhwZXJpbWVudGFsXG4gKi9cbnZhciBOZ1Byb2JlVG9rZW4gPSAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gbmFtZVxuICAgICAqIEBwYXJhbSB7P30gdG9rZW5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBOZ1Byb2JlVG9rZW4obmFtZSwgdG9rZW4pIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy50b2tlbiA9IHRva2VuO1xuICAgIH1cbiAgICByZXR1cm4gTmdQcm9iZVRva2VuO1xufSgpKTtcbi8qKlxuICogQ3JlYXRlcyBhIHBsYXRmb3JtLlxuICogUGxhdGZvcm1zIGhhdmUgdG8gYmUgZWFnZXJseSBjcmVhdGVkIHZpYSB0aGlzIGZ1bmN0aW9uLlxuICpcbiAqIFxcQGV4cGVyaW1lbnRhbCBBUElzIHJlbGF0ZWQgdG8gYXBwbGljYXRpb24gYm9vdHN0cmFwIGFyZSBjdXJyZW50bHkgdW5kZXIgcmV2aWV3LlxuICogQHBhcmFtIHs/fSBpbmplY3RvclxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gY3JlYXRlUGxhdGZvcm0oaW5qZWN0b3IpIHtcbiAgICBpZiAoX3BsYXRmb3JtICYmICFfcGxhdGZvcm0uZGVzdHJveWVkICYmXG4gICAgICAgICFfcGxhdGZvcm0uaW5qZWN0b3IuZ2V0KEFMTE9XX01VTFRJUExFX1BMQVRGT1JNUywgZmFsc2UpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlcmUgY2FuIGJlIG9ubHkgb25lIHBsYXRmb3JtLiBEZXN0cm95IHRoZSBwcmV2aW91cyBvbmUgdG8gY3JlYXRlIGEgbmV3IG9uZS4nKTtcbiAgICB9XG4gICAgX3BsYXRmb3JtID0gaW5qZWN0b3IuZ2V0KFBsYXRmb3JtUmVmKTtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBpbml0cyA9IGluamVjdG9yLmdldChQTEFURk9STV9JTklUSUFMSVpFUiwgbnVsbCk7XG4gICAgaWYgKGluaXRzKVxuICAgICAgICBpbml0cy5mb3JFYWNoKGZ1bmN0aW9uIChpbml0KSB7IHJldHVybiBpbml0KCk7IH0pO1xuICAgIHJldHVybiBfcGxhdGZvcm07XG59XG4vKipcbiAqIENyZWF0ZXMgYSBmYWN0b3J5IGZvciBhIHBsYXRmb3JtXG4gKlxuICogXFxAZXhwZXJpbWVudGFsIEFQSXMgcmVsYXRlZCB0byBhcHBsaWNhdGlvbiBib290c3RyYXAgYXJlIGN1cnJlbnRseSB1bmRlciByZXZpZXcuXG4gKiBAcGFyYW0gez99IHBhcmVudFBsYXRmb3JtRmFjdG9yeVxuICogQHBhcmFtIHs/fSBuYW1lXG4gKiBAcGFyYW0gez89fSBwcm92aWRlcnNcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVBsYXRmb3JtRmFjdG9yeShwYXJlbnRQbGF0Zm9ybUZhY3RvcnksIG5hbWUsIHByb3ZpZGVycykge1xuICAgIGlmIChwcm92aWRlcnMgPT09IHZvaWQgMCkgeyBwcm92aWRlcnMgPSBbXTsgfVxuICAgIHZhciAvKiogQHR5cGUgez99ICovIG1hcmtlciA9IG5ldyBJbmplY3Rpb25Ub2tlbihcIlBsYXRmb3JtOiBcIiArIG5hbWUpO1xuICAgIHJldHVybiBmdW5jdGlvbiAoZXh0cmFQcm92aWRlcnMpIHtcbiAgICAgICAgaWYgKGV4dHJhUHJvdmlkZXJzID09PSB2b2lkIDApIHsgZXh0cmFQcm92aWRlcnMgPSBbXTsgfVxuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBwbGF0Zm9ybSA9IGdldFBsYXRmb3JtKCk7XG4gICAgICAgIGlmICghcGxhdGZvcm0gfHwgcGxhdGZvcm0uaW5qZWN0b3IuZ2V0KEFMTE9XX01VTFRJUExFX1BMQVRGT1JNUywgZmFsc2UpKSB7XG4gICAgICAgICAgICBpZiAocGFyZW50UGxhdGZvcm1GYWN0b3J5KSB7XG4gICAgICAgICAgICAgICAgcGFyZW50UGxhdGZvcm1GYWN0b3J5KHByb3ZpZGVycy5jb25jYXQoZXh0cmFQcm92aWRlcnMpLmNvbmNhdCh7IHByb3ZpZGU6IG1hcmtlciwgdXNlVmFsdWU6IHRydWUgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY3JlYXRlUGxhdGZvcm0oUmVmbGVjdGl2ZUluamVjdG9yLnJlc29sdmVBbmRDcmVhdGUocHJvdmlkZXJzLmNvbmNhdChleHRyYVByb3ZpZGVycykuY29uY2F0KHsgcHJvdmlkZTogbWFya2VyLCB1c2VWYWx1ZTogdHJ1ZSB9KSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhc3NlcnRQbGF0Zm9ybShtYXJrZXIpO1xuICAgIH07XG59XG4vKipcbiAqIENoZWNrcyB0aGF0IHRoZXJlIGN1cnJlbnRseSBpcyBhIHBsYXRmb3JtIHdoaWNoIGNvbnRhaW5zIHRoZSBnaXZlbiB0b2tlbiBhcyBhIHByb3ZpZGVyLlxuICpcbiAqIFxcQGV4cGVyaW1lbnRhbCBBUElzIHJlbGF0ZWQgdG8gYXBwbGljYXRpb24gYm9vdHN0cmFwIGFyZSBjdXJyZW50bHkgdW5kZXIgcmV2aWV3LlxuICogQHBhcmFtIHs/fSByZXF1aXJlZFRva2VuXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBhc3NlcnRQbGF0Zm9ybShyZXF1aXJlZFRva2VuKSB7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcGxhdGZvcm0gPSBnZXRQbGF0Zm9ybSgpO1xuICAgIGlmICghcGxhdGZvcm0pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBwbGF0Zm9ybSBleGlzdHMhJyk7XG4gICAgfVxuICAgIGlmICghcGxhdGZvcm0uaW5qZWN0b3IuZ2V0KHJlcXVpcmVkVG9rZW4sIG51bGwpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQSBwbGF0Zm9ybSB3aXRoIGEgZGlmZmVyZW50IGNvbmZpZ3VyYXRpb24gaGFzIGJlZW4gY3JlYXRlZC4gUGxlYXNlIGRlc3Ryb3kgaXQgZmlyc3QuJyk7XG4gICAgfVxuICAgIHJldHVybiBwbGF0Zm9ybTtcbn1cbi8qKlxuICogRGVzdHJveSB0aGUgZXhpc3RpbmcgcGxhdGZvcm0uXG4gKlxuICogXFxAZXhwZXJpbWVudGFsIEFQSXMgcmVsYXRlZCB0byBhcHBsaWNhdGlvbiBib290c3RyYXAgYXJlIGN1cnJlbnRseSB1bmRlciByZXZpZXcuXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBkZXN0cm95UGxhdGZvcm0oKSB7XG4gICAgaWYgKF9wbGF0Zm9ybSAmJiAhX3BsYXRmb3JtLmRlc3Ryb3llZCkge1xuICAgICAgICBfcGxhdGZvcm0uZGVzdHJveSgpO1xuICAgIH1cbn1cbi8qKlxuICogUmV0dXJucyB0aGUgY3VycmVudCBwbGF0Zm9ybS5cbiAqXG4gKiBcXEBleHBlcmltZW50YWwgQVBJcyByZWxhdGVkIHRvIGFwcGxpY2F0aW9uIGJvb3RzdHJhcCBhcmUgY3VycmVudGx5IHVuZGVyIHJldmlldy5cbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGdldFBsYXRmb3JtKCkge1xuICAgIHJldHVybiBfcGxhdGZvcm0gJiYgIV9wbGF0Zm9ybS5kZXN0cm95ZWQgPyBfcGxhdGZvcm0gOiBudWxsO1xufVxuLyoqXG4gKiBUaGUgQW5ndWxhciBwbGF0Zm9ybSBpcyB0aGUgZW50cnkgcG9pbnQgZm9yIEFuZ3VsYXIgb24gYSB3ZWIgcGFnZS4gRWFjaCBwYWdlXG4gKiBoYXMgZXhhY3RseSBvbmUgcGxhdGZvcm0sIGFuZCBzZXJ2aWNlcyAoc3VjaCBhcyByZWZsZWN0aW9uKSB3aGljaCBhcmUgY29tbW9uXG4gKiB0byBldmVyeSBBbmd1bGFyIGFwcGxpY2F0aW9uIHJ1bm5pbmcgb24gdGhlIHBhZ2UgYXJlIGJvdW5kIGluIGl0cyBzY29wZS5cbiAqXG4gKiBBIHBhZ2UncyBwbGF0Zm9ybSBpcyBpbml0aWFsaXplZCBpbXBsaWNpdGx5IHdoZW4gYSBwbGF0Zm9ybSBpcyBjcmVhdGVkIHZpYSBhIHBsYXRmb3JtIGZhY3RvcnlcbiAqIChlLmcuIHtcXEBsaW5rIHBsYXRmb3JtQnJvd3Nlcn0pLCBvciBleHBsaWNpdGx5IGJ5IGNhbGxpbmcgdGhlIHtcXEBsaW5rIGNyZWF0ZVBsYXRmb3JtfSBmdW5jdGlvbi5cbiAqXG4gKiBcXEBzdGFibGVcbiAqIEBhYnN0cmFjdFxuICovXG52YXIgUGxhdGZvcm1SZWYgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFBsYXRmb3JtUmVmKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIGFuIGBcXEBOZ01vZHVsZWAgZm9yIHRoZSBnaXZlbiBwbGF0Zm9ybVxuICAgICAqIGZvciBvZmZsaW5lIGNvbXBpbGF0aW9uLlxuICAgICAqXG4gICAgICogIyMgU2ltcGxlIEV4YW1wbGVcbiAgICAgKlxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBteV9tb2R1bGUudHM6XG4gICAgICpcbiAgICAgKiBcXEBOZ01vZHVsZSh7XG4gICAgICogICBpbXBvcnRzOiBbQnJvd3Nlck1vZHVsZV1cbiAgICAgKiB9KVxuICAgICAqIGNsYXNzIE15TW9kdWxlIHt9XG4gICAgICpcbiAgICAgKiBtYWluLnRzOlxuICAgICAqIGltcG9ydCB7TXlNb2R1bGVOZ0ZhY3Rvcnl9IGZyb20gJy4vbXlfbW9kdWxlLm5nZmFjdG9yeSc7XG4gICAgICogaW1wb3J0IHtwbGF0Zm9ybUJyb3dzZXJ9IGZyb20gJ1xcQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3Nlcic7XG4gICAgICpcbiAgICAgKiBsZXQgbW9kdWxlUmVmID0gcGxhdGZvcm1Ccm93c2VyKCkuYm9vdHN0cmFwTW9kdWxlRmFjdG9yeShNeU1vZHVsZU5nRmFjdG9yeSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBcXEBleHBlcmltZW50YWwgQVBJcyByZWxhdGVkIHRvIGFwcGxpY2F0aW9uIGJvb3RzdHJhcCBhcmUgY3VycmVudGx5IHVuZGVyIHJldmlldy5cbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAdGVtcGxhdGUgTVxuICAgICAqIEBwYXJhbSB7P30gbW9kdWxlRmFjdG9yeVxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgUGxhdGZvcm1SZWYucHJvdG90eXBlLmJvb3RzdHJhcE1vZHVsZUZhY3RvcnkgPSBmdW5jdGlvbiAobW9kdWxlRmFjdG9yeSkgeyB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgYW4gYFxcQE5nTW9kdWxlYCBmb3IgYSBnaXZlbiBwbGF0Zm9ybSB1c2luZyB0aGUgZ2l2ZW4gcnVudGltZSBjb21waWxlci5cbiAgICAgKlxuICAgICAqICMjIFNpbXBsZSBFeGFtcGxlXG4gICAgICpcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogXFxATmdNb2R1bGUoe1xuICAgICAqICAgaW1wb3J0czogW0Jyb3dzZXJNb2R1bGVdXG4gICAgICogfSlcbiAgICAgKiBjbGFzcyBNeU1vZHVsZSB7fVxuICAgICAqXG4gICAgICogbGV0IG1vZHVsZVJlZiA9IHBsYXRmb3JtQnJvd3NlcigpLmJvb3RzdHJhcE1vZHVsZShNeU1vZHVsZSk7XG4gICAgICogYGBgXG4gICAgICogXFxAc3RhYmxlXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHRlbXBsYXRlIE1cbiAgICAgKiBAcGFyYW0gez99IG1vZHVsZVR5cGVcbiAgICAgKiBAcGFyYW0gez89fSBjb21waWxlck9wdGlvbnNcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFBsYXRmb3JtUmVmLnByb3RvdHlwZS5ib290c3RyYXBNb2R1bGUgPSBmdW5jdGlvbiAobW9kdWxlVHlwZSwgY29tcGlsZXJPcHRpb25zKSB7IH07XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgYSBsaXN0ZW5lciB0byBiZSBjYWxsZWQgd2hlbiB0aGUgcGxhdGZvcm0gaXMgZGlzcG9zZWQuXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHBhcmFtIHs/fSBjYWxsYmFja1xuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgUGxhdGZvcm1SZWYucHJvdG90eXBlLm9uRGVzdHJveSA9IGZ1bmN0aW9uIChjYWxsYmFjaykgeyB9O1xuICAgIC8qKlxuICAgICAqIFJldHJpZXZlIHRoZSBwbGF0Zm9ybSB7XFxAbGluayBJbmplY3Rvcn0sIHdoaWNoIGlzIHRoZSBwYXJlbnQgaW5qZWN0b3IgZm9yXG4gICAgICogZXZlcnkgQW5ndWxhciBhcHBsaWNhdGlvbiBvbiB0aGUgcGFnZSBhbmQgcHJvdmlkZXMgc2luZ2xldG9uIHByb3ZpZGVycy5cbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFBsYXRmb3JtUmVmLnByb3RvdHlwZS5pbmplY3RvciA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95IHRoZSBBbmd1bGFyIHBsYXRmb3JtIGFuZCBhbGwgQW5ndWxhciBhcHBsaWNhdGlvbnMgb24gdGhlIHBhZ2UuXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBQbGF0Zm9ybVJlZi5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICAvKipcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFBsYXRmb3JtUmVmLnByb3RvdHlwZS5kZXN0cm95ZWQgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgcmV0dXJuIFBsYXRmb3JtUmVmO1xufSgpKTtcbi8qKlxuICogQHBhcmFtIHs/fSBlcnJvckhhbmRsZXJcbiAqIEBwYXJhbSB7P30gbmdab25lXG4gKiBAcGFyYW0gez99IGNhbGxiYWNrXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBfY2FsbEFuZFJlcG9ydFRvRXJyb3JIYW5kbGVyKGVycm9ySGFuZGxlciwgbmdab25lLCBjYWxsYmFjaykge1xuICAgIHRyeSB7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIHJlc3VsdCA9IGNhbGxiYWNrKCk7XG4gICAgICAgIGlmIChpc1Byb21pc2UocmVzdWx0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIG5nWm9uZS5ydW5PdXRzaWRlQW5ndWxhcihmdW5jdGlvbiAoKSB7IHJldHVybiBlcnJvckhhbmRsZXIuaGFuZGxlRXJyb3IoZSk7IH0pO1xuICAgICAgICAgICAgICAgIC8vIHJldGhyb3cgYXMgdGhlIGV4Y2VwdGlvbiBoYW5kbGVyIG1pZ2h0IG5vdCBkbyBpdFxuICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICBuZ1pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoZnVuY3Rpb24gKCkgeyByZXR1cm4gZXJyb3JIYW5kbGVyLmhhbmRsZUVycm9yKGUpOyB9KTtcbiAgICAgICAgLy8gcmV0aHJvdyBhcyB0aGUgZXhjZXB0aW9uIGhhbmRsZXIgbWlnaHQgbm90IGRvIGl0XG4gICAgICAgIHRocm93IGU7XG4gICAgfVxufVxuLyoqXG4gKiB3b3JrYXJvdW5kIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL3RzaWNrbGUvaXNzdWVzLzM1MFxuICogQHN1cHByZXNzIHtjaGVja1R5cGVzfVxuICovXG52YXIgUGxhdGZvcm1SZWZfID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUGxhdGZvcm1SZWZfLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gX2luamVjdG9yXG4gICAgICovXG4gICAgZnVuY3Rpb24gUGxhdGZvcm1SZWZfKF9pbmplY3Rvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5faW5qZWN0b3IgPSBfaW5qZWN0b3I7XG4gICAgICAgIF90aGlzLl9tb2R1bGVzID0gW107XG4gICAgICAgIF90aGlzLl9kZXN0cm95TGlzdGVuZXJzID0gW107XG4gICAgICAgIF90aGlzLl9kZXN0cm95ZWQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IGNhbGxiYWNrXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBQbGF0Zm9ybVJlZl8ucHJvdG90eXBlLm9uRGVzdHJveSA9IGZ1bmN0aW9uIChjYWxsYmFjaykgeyB0aGlzLl9kZXN0cm95TGlzdGVuZXJzLnB1c2goY2FsbGJhY2spOyB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQbGF0Zm9ybVJlZl8ucHJvdG90eXBlLCBcImluamVjdG9yXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm4gez99XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX2luamVjdG9yOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUGxhdGZvcm1SZWZfLnByb3RvdHlwZSwgXCJkZXN0cm95ZWRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybiB7P31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fZGVzdHJveWVkOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFBsYXRmb3JtUmVmXy5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2Rlc3Ryb3llZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgcGxhdGZvcm0gaGFzIGFscmVhZHkgYmVlbiBkZXN0cm95ZWQhJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbW9kdWxlcy5zbGljZSgpLmZvckVhY2goZnVuY3Rpb24gKG1vZHVsZSkgeyByZXR1cm4gbW9kdWxlLmRlc3Ryb3koKTsgfSk7XG4gICAgICAgIHRoaXMuX2Rlc3Ryb3lMaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAobGlzdGVuZXIpIHsgcmV0dXJuIGxpc3RlbmVyKCk7IH0pO1xuICAgICAgICB0aGlzLl9kZXN0cm95ZWQgPSB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHRlbXBsYXRlIE1cbiAgICAgKiBAcGFyYW0gez99IG1vZHVsZUZhY3RvcnlcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFBsYXRmb3JtUmVmXy5wcm90b3R5cGUuYm9vdHN0cmFwTW9kdWxlRmFjdG9yeSA9IGZ1bmN0aW9uIChtb2R1bGVGYWN0b3J5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ib290c3RyYXBNb2R1bGVGYWN0b3J5V2l0aFpvbmUobW9kdWxlRmFjdG9yeSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAdGVtcGxhdGUgTVxuICAgICAqIEBwYXJhbSB7P30gbW9kdWxlRmFjdG9yeVxuICAgICAqIEBwYXJhbSB7Pz19IG5nWm9uZVxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgUGxhdGZvcm1SZWZfLnByb3RvdHlwZS5fYm9vdHN0cmFwTW9kdWxlRmFjdG9yeVdpdGhab25lID0gZnVuY3Rpb24gKG1vZHVsZUZhY3RvcnksIG5nWm9uZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvLyBOb3RlOiBXZSBuZWVkIHRvIGNyZWF0ZSB0aGUgTmdab25lIF9iZWZvcmVfIHdlIGluc3RhbnRpYXRlIHRoZSBtb2R1bGUsXG4gICAgICAgIC8vIGFzIGluc3RhbnRpYXRpbmcgdGhlIG1vZHVsZSBjcmVhdGVzIHNvbWUgcHJvdmlkZXJzIGVhZ2VybHkuXG4gICAgICAgIC8vIFNvIHdlIGNyZWF0ZSBhIG1pbmkgcGFyZW50IGluamVjdG9yIHRoYXQganVzdCBjb250YWlucyB0aGUgbmV3IE5nWm9uZSBhbmRcbiAgICAgICAgLy8gcGFzcyB0aGF0IGFzIHBhcmVudCB0byB0aGUgTmdNb2R1bGVGYWN0b3J5LlxuICAgICAgICBpZiAoIW5nWm9uZSlcbiAgICAgICAgICAgIG5nWm9uZSA9IG5ldyBOZ1pvbmUoeyBlbmFibGVMb25nU3RhY2tUcmFjZTogaXNEZXZNb2RlKCkgfSk7XG4gICAgICAgIC8vIEF0dGVudGlvbjogRG9uJ3QgdXNlIEFwcGxpY2F0aW9uUmVmLnJ1biBoZXJlLFxuICAgICAgICAvLyBhcyB3ZSB3YW50IHRvIGJlIHN1cmUgdGhhdCBhbGwgcG9zc2libGUgY29uc3RydWN0b3IgY2FsbHMgYXJlIGluc2lkZSBgbmdab25lLnJ1bmAhXG4gICAgICAgIHJldHVybiBuZ1pvbmUucnVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIG5nWm9uZUluamVjdG9yID0gUmVmbGVjdGl2ZUluamVjdG9yLnJlc29sdmVBbmRDcmVhdGUoW3sgcHJvdmlkZTogTmdab25lLCB1c2VWYWx1ZTogbmdab25lIH1dLCBfdGhpcy5pbmplY3Rvcik7XG4gICAgICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBtb2R1bGVSZWYgPSAobW9kdWxlRmFjdG9yeS5jcmVhdGUobmdab25lSW5qZWN0b3IpKTtcbiAgICAgICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGV4Y2VwdGlvbkhhbmRsZXIgPSBtb2R1bGVSZWYuaW5qZWN0b3IuZ2V0KEVycm9ySGFuZGxlciwgbnVsbCk7XG4gICAgICAgICAgICBpZiAoIWV4Y2VwdGlvbkhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIEVycm9ySGFuZGxlci4gSXMgcGxhdGZvcm0gbW9kdWxlIChCcm93c2VyTW9kdWxlKSBpbmNsdWRlZD8nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1vZHVsZVJlZi5vbkRlc3Ryb3koZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVtb3ZlKF90aGlzLl9tb2R1bGVzLCBtb2R1bGVSZWYpOyB9KTsgLyoqIEB0eXBlIHs/fSAqL1xuICAgICAgICAgICAgKChuZ1pvbmUpKS5ydW5PdXRzaWRlQW5ndWxhcihmdW5jdGlvbiAoKSB7IHJldHVybiAoKG5nWm9uZSkpLm9uRXJyb3Iuc3Vic2NyaWJlKHsgbmV4dDogZnVuY3Rpb24gKGVycm9yKSB7IGV4Y2VwdGlvbkhhbmRsZXIuaGFuZGxlRXJyb3IoZXJyb3IpOyB9IH0pOyB9KTtcbiAgICAgICAgICAgIHJldHVybiBfY2FsbEFuZFJlcG9ydFRvRXJyb3JIYW5kbGVyKGV4Y2VwdGlvbkhhbmRsZXIsIC8qKiBAdHlwZSB7P30gKi8gKChuZ1pvbmUpKSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGluaXRTdGF0dXMgPSBtb2R1bGVSZWYuaW5qZWN0b3IuZ2V0KEFwcGxpY2F0aW9uSW5pdFN0YXR1cyk7XG4gICAgICAgICAgICAgICAgaW5pdFN0YXR1cy5ydW5Jbml0aWFsaXplcnMoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFN0YXR1cy5kb25lUHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX21vZHVsZURvQm9vdHN0cmFwKG1vZHVsZVJlZik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtb2R1bGVSZWY7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAdGVtcGxhdGUgTVxuICAgICAqIEBwYXJhbSB7P30gbW9kdWxlVHlwZVxuICAgICAqIEBwYXJhbSB7Pz19IGNvbXBpbGVyT3B0aW9uc1xuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgUGxhdGZvcm1SZWZfLnByb3RvdHlwZS5ib290c3RyYXBNb2R1bGUgPSBmdW5jdGlvbiAobW9kdWxlVHlwZSwgY29tcGlsZXJPcHRpb25zKSB7XG4gICAgICAgIGlmIChjb21waWxlck9wdGlvbnMgPT09IHZvaWQgMCkgeyBjb21waWxlck9wdGlvbnMgPSBbXTsgfVxuICAgICAgICByZXR1cm4gdGhpcy5fYm9vdHN0cmFwTW9kdWxlV2l0aFpvbmUobW9kdWxlVHlwZSwgY29tcGlsZXJPcHRpb25zKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEB0ZW1wbGF0ZSBNXG4gICAgICogQHBhcmFtIHs/fSBtb2R1bGVUeXBlXG4gICAgICogQHBhcmFtIHs/PX0gY29tcGlsZXJPcHRpb25zXG4gICAgICogQHBhcmFtIHs/PX0gbmdab25lXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBQbGF0Zm9ybVJlZl8ucHJvdG90eXBlLl9ib290c3RyYXBNb2R1bGVXaXRoWm9uZSA9IGZ1bmN0aW9uIChtb2R1bGVUeXBlLCBjb21waWxlck9wdGlvbnMsIG5nWm9uZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoY29tcGlsZXJPcHRpb25zID09PSB2b2lkIDApIHsgY29tcGlsZXJPcHRpb25zID0gW107IH1cbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gY29tcGlsZXJGYWN0b3J5ID0gdGhpcy5pbmplY3Rvci5nZXQoQ29tcGlsZXJGYWN0b3J5KTtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gY29tcGlsZXIgPSBjb21waWxlckZhY3RvcnkuY3JlYXRlQ29tcGlsZXIoQXJyYXkuaXNBcnJheShjb21waWxlck9wdGlvbnMpID8gY29tcGlsZXJPcHRpb25zIDogW2NvbXBpbGVyT3B0aW9uc10pO1xuICAgICAgICByZXR1cm4gY29tcGlsZXIuY29tcGlsZU1vZHVsZUFzeW5jKG1vZHVsZVR5cGUpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAobW9kdWxlRmFjdG9yeSkgeyByZXR1cm4gX3RoaXMuX2Jvb3RzdHJhcE1vZHVsZUZhY3RvcnlXaXRoWm9uZShtb2R1bGVGYWN0b3J5LCBuZ1pvbmUpOyB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gbW9kdWxlUmVmXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBQbGF0Zm9ybVJlZl8ucHJvdG90eXBlLl9tb2R1bGVEb0Jvb3RzdHJhcCA9IGZ1bmN0aW9uIChtb2R1bGVSZWYpIHtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gYXBwUmVmID0gKG1vZHVsZVJlZi5pbmplY3Rvci5nZXQoQXBwbGljYXRpb25SZWYpKTtcbiAgICAgICAgaWYgKG1vZHVsZVJlZi5fYm9vdHN0cmFwQ29tcG9uZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBtb2R1bGVSZWYuX2Jvb3RzdHJhcENvbXBvbmVudHMuZm9yRWFjaChmdW5jdGlvbiAoZikgeyByZXR1cm4gYXBwUmVmLmJvb3RzdHJhcChmKTsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobW9kdWxlUmVmLmluc3RhbmNlLm5nRG9Cb290c3RyYXApIHtcbiAgICAgICAgICAgIG1vZHVsZVJlZi5pbnN0YW5jZS5uZ0RvQm9vdHN0cmFwKGFwcFJlZik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgbW9kdWxlIFwiICsgc3RyaW5naWZ5KG1vZHVsZVJlZi5pbnN0YW5jZS5jb25zdHJ1Y3RvcikgKyBcIiB3YXMgYm9vdHN0cmFwcGVkLCBidXQgaXQgZG9lcyBub3QgZGVjbGFyZSBcXFwiQE5nTW9kdWxlLmJvb3RzdHJhcFxcXCIgY29tcG9uZW50cyBub3IgYSBcXFwibmdEb0Jvb3RzdHJhcFxcXCIgbWV0aG9kLiBcIiArXG4gICAgICAgICAgICAgICAgXCJQbGVhc2UgZGVmaW5lIG9uZSBvZiB0aGVzZS5cIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbW9kdWxlcy5wdXNoKG1vZHVsZVJlZik7XG4gICAgfTtcbiAgICByZXR1cm4gUGxhdGZvcm1SZWZfO1xufShQbGF0Zm9ybVJlZikpO1xuUGxhdGZvcm1SZWZfLmRlY29yYXRvcnMgPSBbXG4gICAgeyB0eXBlOiBJbmplY3RhYmxlIH0sXG5dO1xuLyoqXG4gKiBAbm9jb2xsYXBzZVxuICovXG5QbGF0Zm9ybVJlZl8uY3RvclBhcmFtZXRlcnMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBbXG4gICAgeyB0eXBlOiBJbmplY3RvciwgfSxcbl07IH07XG4vKipcbiAqIEEgcmVmZXJlbmNlIHRvIGFuIEFuZ3VsYXIgYXBwbGljYXRpb24gcnVubmluZyBvbiBhIHBhZ2UuXG4gKlxuICogXFxAc3RhYmxlXG4gKiBAYWJzdHJhY3RcbiAqL1xudmFyIEFwcGxpY2F0aW9uUmVmID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBBcHBsaWNhdGlvblJlZigpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQm9vdHN0cmFwIGEgbmV3IGNvbXBvbmVudCBhdCB0aGUgcm9vdCBsZXZlbCBvZiB0aGUgYXBwbGljYXRpb24uXG4gICAgICpcbiAgICAgKiAjIyMgQm9vdHN0cmFwIHByb2Nlc3NcbiAgICAgKlxuICAgICAqIFdoZW4gYm9vdHN0cmFwcGluZyBhIG5ldyByb290IGNvbXBvbmVudCBpbnRvIGFuIGFwcGxpY2F0aW9uLCBBbmd1bGFyIG1vdW50cyB0aGVcbiAgICAgKiBzcGVjaWZpZWQgYXBwbGljYXRpb24gY29tcG9uZW50IG9udG8gRE9NIGVsZW1lbnRzIGlkZW50aWZpZWQgYnkgdGhlIFtjb21wb25lbnRUeXBlXSdzXG4gICAgICogc2VsZWN0b3IgYW5kIGtpY2tzIG9mZiBhdXRvbWF0aWMgY2hhbmdlIGRldGVjdGlvbiB0byBmaW5pc2ggaW5pdGlhbGl6aW5nIHRoZSBjb21wb25lbnQuXG4gICAgICpcbiAgICAgKiBPcHRpb25hbGx5LCBhIGNvbXBvbmVudCBjYW4gYmUgbW91bnRlZCBvbnRvIGEgRE9NIGVsZW1lbnQgdGhhdCBkb2VzIG5vdCBtYXRjaCB0aGVcbiAgICAgKiBbY29tcG9uZW50VHlwZV0ncyBzZWxlY3Rvci5cbiAgICAgKlxuICAgICAqICMjIyBFeGFtcGxlXG4gICAgICoge1xcQGV4YW1wbGUgY29yZS90cy9wbGF0Zm9ybS9wbGF0Zm9ybS50cyByZWdpb249J2xvbmdmb3JtJ31cbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAdGVtcGxhdGUgQ1xuICAgICAqIEBwYXJhbSB7P30gY29tcG9uZW50RmFjdG9yeVxuICAgICAqIEBwYXJhbSB7Pz19IHJvb3RTZWxlY3Rvck9yTm9kZVxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgQXBwbGljYXRpb25SZWYucHJvdG90eXBlLmJvb3RzdHJhcCA9IGZ1bmN0aW9uIChjb21wb25lbnRGYWN0b3J5LCByb290U2VsZWN0b3JPck5vZGUpIHsgfTtcbiAgICAvKipcbiAgICAgKiBJbnZva2UgdGhpcyBtZXRob2QgdG8gZXhwbGljaXRseSBwcm9jZXNzIGNoYW5nZSBkZXRlY3Rpb24gYW5kIGl0cyBzaWRlLWVmZmVjdHMuXG4gICAgICpcbiAgICAgKiBJbiBkZXZlbG9wbWVudCBtb2RlLCBgdGljaygpYCBhbHNvIHBlcmZvcm1zIGEgc2Vjb25kIGNoYW5nZSBkZXRlY3Rpb24gY3ljbGUgdG8gZW5zdXJlIHRoYXQgbm9cbiAgICAgKiBmdXJ0aGVyIGNoYW5nZXMgYXJlIGRldGVjdGVkLiBJZiBhZGRpdGlvbmFsIGNoYW5nZXMgYXJlIHBpY2tlZCB1cCBkdXJpbmcgdGhpcyBzZWNvbmQgY3ljbGUsXG4gICAgICogYmluZGluZ3MgaW4gdGhlIGFwcCBoYXZlIHNpZGUtZWZmZWN0cyB0aGF0IGNhbm5vdCBiZSByZXNvbHZlZCBpbiBhIHNpbmdsZSBjaGFuZ2UgZGV0ZWN0aW9uXG4gICAgICogcGFzcy5cbiAgICAgKiBJbiB0aGlzIGNhc2UsIEFuZ3VsYXIgdGhyb3dzIGFuIGVycm9yLCBzaW5jZSBhbiBBbmd1bGFyIGFwcGxpY2F0aW9uIGNhbiBvbmx5IGhhdmUgb25lIGNoYW5nZVxuICAgICAqIGRldGVjdGlvbiBwYXNzIGR1cmluZyB3aGljaCBhbGwgY2hhbmdlIGRldGVjdGlvbiBtdXN0IGNvbXBsZXRlLlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgQXBwbGljYXRpb25SZWYucHJvdG90eXBlLnRpY2sgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgLyoqXG4gICAgICogR2V0IGEgbGlzdCBvZiBjb21wb25lbnQgdHlwZXMgcmVnaXN0ZXJlZCB0byB0aGlzIGFwcGxpY2F0aW9uLlxuICAgICAqIFRoaXMgbGlzdCBpcyBwb3B1bGF0ZWQgZXZlbiBiZWZvcmUgdGhlIGNvbXBvbmVudCBpcyBjcmVhdGVkLlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgQXBwbGljYXRpb25SZWYucHJvdG90eXBlLmNvbXBvbmVudFR5cGVzID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIC8qKlxuICAgICAqIEdldCBhIGxpc3Qgb2YgY29tcG9uZW50cyByZWdpc3RlcmVkIHRvIHRoaXMgYXBwbGljYXRpb24uXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBBcHBsaWNhdGlvblJlZi5wcm90b3R5cGUuY29tcG9uZW50cyA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICAvKipcbiAgICAgKiBBdHRhY2hlcyBhIHZpZXcgc28gdGhhdCBpdCB3aWxsIGJlIGRpcnR5IGNoZWNrZWQuXG4gICAgICogVGhlIHZpZXcgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IGRldGFjaGVkIHdoZW4gaXQgaXMgZGVzdHJveWVkLlxuICAgICAqIFRoaXMgd2lsbCB0aHJvdyBpZiB0aGUgdmlldyBpcyBhbHJlYWR5IGF0dGFjaGVkIHRvIGEgVmlld0NvbnRhaW5lci5cbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcGFyYW0gez99IHZpZXdcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIEFwcGxpY2F0aW9uUmVmLnByb3RvdHlwZS5hdHRhY2hWaWV3ID0gZnVuY3Rpb24gKHZpZXcpIHsgfTtcbiAgICAvKipcbiAgICAgKiBEZXRhY2hlcyBhIHZpZXcgZnJvbSBkaXJ0eSBjaGVja2luZyBhZ2Fpbi5cbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcGFyYW0gez99IHZpZXdcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIEFwcGxpY2F0aW9uUmVmLnByb3RvdHlwZS5kZXRhY2hWaWV3ID0gZnVuY3Rpb24gKHZpZXcpIHsgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBudW1iZXIgb2YgYXR0YWNoZWQgdmlld3MuXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBBcHBsaWNhdGlvblJlZi5wcm90b3R5cGUudmlld0NvdW50ID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGluZGljYXRlcyB3aGVuIHRoZSBhcHBsaWNhdGlvbiBpcyBzdGFibGUgb3IgdW5zdGFibGUuXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBBcHBsaWNhdGlvblJlZi5wcm90b3R5cGUuaXNTdGFibGUgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgcmV0dXJuIEFwcGxpY2F0aW9uUmVmO1xufSgpKTtcbi8qKlxuICogd29ya2Fyb3VuZCBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci90c2lja2xlL2lzc3Vlcy8zNTBcbiAqIEBzdXBwcmVzcyB7Y2hlY2tUeXBlc31cbiAqL1xudmFyIEFwcGxpY2F0aW9uUmVmXyA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFwcGxpY2F0aW9uUmVmXywgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IF96b25lXG4gICAgICogQHBhcmFtIHs/fSBfY29uc29sZVxuICAgICAqIEBwYXJhbSB7P30gX2luamVjdG9yXG4gICAgICogQHBhcmFtIHs/fSBfZXhjZXB0aW9uSGFuZGxlclxuICAgICAqIEBwYXJhbSB7P30gX2NvbXBvbmVudEZhY3RvcnlSZXNvbHZlclxuICAgICAqIEBwYXJhbSB7P30gX2luaXRTdGF0dXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBBcHBsaWNhdGlvblJlZl8oX3pvbmUsIF9jb25zb2xlLCBfaW5qZWN0b3IsIF9leGNlcHRpb25IYW5kbGVyLCBfY29tcG9uZW50RmFjdG9yeVJlc29sdmVyLCBfaW5pdFN0YXR1cykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fem9uZSA9IF96b25lO1xuICAgICAgICBfdGhpcy5fY29uc29sZSA9IF9jb25zb2xlO1xuICAgICAgICBfdGhpcy5faW5qZWN0b3IgPSBfaW5qZWN0b3I7XG4gICAgICAgIF90aGlzLl9leGNlcHRpb25IYW5kbGVyID0gX2V4Y2VwdGlvbkhhbmRsZXI7XG4gICAgICAgIF90aGlzLl9jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIgPSBfY29tcG9uZW50RmFjdG9yeVJlc29sdmVyO1xuICAgICAgICBfdGhpcy5faW5pdFN0YXR1cyA9IF9pbml0U3RhdHVzO1xuICAgICAgICBfdGhpcy5fYm9vdHN0cmFwTGlzdGVuZXJzID0gW107XG4gICAgICAgIF90aGlzLl9yb290Q29tcG9uZW50cyA9IFtdO1xuICAgICAgICBfdGhpcy5fcm9vdENvbXBvbmVudFR5cGVzID0gW107XG4gICAgICAgIF90aGlzLl92aWV3cyA9IFtdO1xuICAgICAgICBfdGhpcy5fcnVubmluZ1RpY2sgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuX2VuZm9yY2VOb05ld0NoYW5nZXMgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuX3N0YWJsZSA9IHRydWU7XG4gICAgICAgIF90aGlzLl9lbmZvcmNlTm9OZXdDaGFuZ2VzID0gaXNEZXZNb2RlKCk7XG4gICAgICAgIF90aGlzLl96b25lLm9uTWljcm90YXNrRW1wdHkuc3Vic2NyaWJlKHsgbmV4dDogZnVuY3Rpb24gKCkgeyBfdGhpcy5fem9uZS5ydW4oZnVuY3Rpb24gKCkgeyBfdGhpcy50aWNrKCk7IH0pOyB9IH0pO1xuICAgICAgICB2YXIgaXNDdXJyZW50bHlTdGFibGUgPSBuZXcgcnhqc19PYnNlcnZhYmxlLk9ic2VydmFibGUoZnVuY3Rpb24gKG9ic2VydmVyKSB7XG4gICAgICAgICAgICBfdGhpcy5fc3RhYmxlID0gX3RoaXMuX3pvbmUuaXNTdGFibGUgJiYgIV90aGlzLl96b25lLmhhc1BlbmRpbmdNYWNyb3Rhc2tzICYmXG4gICAgICAgICAgICAgICAgIV90aGlzLl96b25lLmhhc1BlbmRpbmdNaWNyb3Rhc2tzO1xuICAgICAgICAgICAgX3RoaXMuX3pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIG9ic2VydmVyLm5leHQoX3RoaXMuX3N0YWJsZSk7XG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGlzU3RhYmxlID0gbmV3IHJ4anNfT2JzZXJ2YWJsZS5PYnNlcnZhYmxlKGZ1bmN0aW9uIChvYnNlcnZlcikge1xuICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZSBzdWJzY3JpcHRpb24gdG8gb25TdGFibGUgb3V0c2lkZSB0aGUgQW5ndWxhciBab25lIHNvIHRoYXRcbiAgICAgICAgICAgIC8vIHRoZSBjYWxsYmFjayBpcyBydW4gb3V0c2lkZSB0aGUgQW5ndWxhciBab25lLlxuICAgICAgICAgICAgdmFyIHN0YWJsZVN1YjtcbiAgICAgICAgICAgIF90aGlzLl96b25lLnJ1bk91dHNpZGVBbmd1bGFyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzdGFibGVTdWIgPSBfdGhpcy5fem9uZS5vblN0YWJsZS5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBOZ1pvbmUuYXNzZXJ0Tm90SW5Bbmd1bGFyWm9uZSgpO1xuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayB3aGV0aGVyIHRoZXJlIGFyZSBubyBwZW5kaW5nIG1hY3JvL21pY3JvIHRhc2tzIGluIHRoZSBuZXh0IHRpY2tcbiAgICAgICAgICAgICAgICAgICAgLy8gdG8gYWxsb3cgZm9yIE5nWm9uZSB0byB1cGRhdGUgdGhlIHN0YXRlLlxuICAgICAgICAgICAgICAgICAgICBzY2hlZHVsZU1pY3JvVGFzayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV90aGlzLl9zdGFibGUgJiYgIV90aGlzLl96b25lLmhhc1BlbmRpbmdNYWNyb3Rhc2tzICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIV90aGlzLl96b25lLmhhc1BlbmRpbmdNaWNyb3Rhc2tzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3N0YWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciB1bnN0YWJsZVN1YiA9IF90aGlzLl96b25lLm9uVW5zdGFibGUuc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBOZ1pvbmUuYXNzZXJ0SW5Bbmd1bGFyWm9uZSgpO1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5fc3RhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9zdGFibGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoZnVuY3Rpb24gKCkgeyBvYnNlcnZlci5uZXh0KGZhbHNlKTsgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHN0YWJsZVN1Yi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIHVuc3RhYmxlU3ViLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgX3RoaXMuX2lzU3RhYmxlID0gcnhqc19vYnNlcnZhYmxlX21lcmdlLm1lcmdlKGlzQ3VycmVudGx5U3RhYmxlLCByeGpzX29wZXJhdG9yX3NoYXJlLnNoYXJlLmNhbGwoaXNTdGFibGUpKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IHZpZXdSZWZcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIEFwcGxpY2F0aW9uUmVmXy5wcm90b3R5cGUuYXR0YWNoVmlldyA9IGZ1bmN0aW9uICh2aWV3UmVmKSB7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIHZpZXcgPSAoKHZpZXdSZWYpKTtcbiAgICAgICAgdGhpcy5fdmlld3MucHVzaCh2aWV3KTtcbiAgICAgICAgdmlldy5hdHRhY2hUb0FwcFJlZih0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gdmlld1JlZlxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgQXBwbGljYXRpb25SZWZfLnByb3RvdHlwZS5kZXRhY2hWaWV3ID0gZnVuY3Rpb24gKHZpZXdSZWYpIHtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gdmlldyA9ICgodmlld1JlZikpO1xuICAgICAgICByZW1vdmUodGhpcy5fdmlld3MsIHZpZXcpO1xuICAgICAgICB2aWV3LmRldGFjaEZyb21BcHBSZWYoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEB0ZW1wbGF0ZSBDXG4gICAgICogQHBhcmFtIHs/fSBjb21wb25lbnRPckZhY3RvcnlcbiAgICAgKiBAcGFyYW0gez89fSByb290U2VsZWN0b3JPck5vZGVcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIEFwcGxpY2F0aW9uUmVmXy5wcm90b3R5cGUuYm9vdHN0cmFwID0gZnVuY3Rpb24gKGNvbXBvbmVudE9yRmFjdG9yeSwgcm9vdFNlbGVjdG9yT3JOb2RlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghdGhpcy5faW5pdFN0YXR1cy5kb25lKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBib290c3RyYXAgYXMgdGhlcmUgYXJlIHN0aWxsIGFzeW5jaHJvbm91cyBpbml0aWFsaXplcnMgcnVubmluZy4gQm9vdHN0cmFwIGNvbXBvbmVudHMgaW4gdGhlIGBuZ0RvQm9vdHN0cmFwYCBtZXRob2Qgb2YgdGhlIHJvb3QgbW9kdWxlLicpO1xuICAgICAgICB9XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGNvbXBvbmVudEZhY3Rvcnk7XG4gICAgICAgIGlmIChjb21wb25lbnRPckZhY3RvcnkgaW5zdGFuY2VvZiBDb21wb25lbnRGYWN0b3J5KSB7XG4gICAgICAgICAgICBjb21wb25lbnRGYWN0b3J5ID0gY29tcG9uZW50T3JGYWN0b3J5O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29tcG9uZW50RmFjdG9yeSA9ICgodGhpcy5fY29tcG9uZW50RmFjdG9yeVJlc29sdmVyLnJlc29sdmVDb21wb25lbnRGYWN0b3J5KGNvbXBvbmVudE9yRmFjdG9yeSkpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9yb290Q29tcG9uZW50VHlwZXMucHVzaChjb21wb25lbnRGYWN0b3J5LmNvbXBvbmVudFR5cGUpO1xuICAgICAgICAvLyBDcmVhdGUgYSBmYWN0b3J5IGFzc29jaWF0ZWQgd2l0aCB0aGUgY3VycmVudCBtb2R1bGUgaWYgaXQncyBub3QgYm91bmQgdG8gc29tZSBvdGhlclxuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBuZ01vZHVsZSA9IGNvbXBvbmVudEZhY3RvcnkgaW5zdGFuY2VvZiBDb21wb25lbnRGYWN0b3J5Qm91bmRUb01vZHVsZSA/XG4gICAgICAgICAgICBudWxsIDpcbiAgICAgICAgICAgIHRoaXMuX2luamVjdG9yLmdldChOZ01vZHVsZVJlZik7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIHNlbGVjdG9yT3JOb2RlID0gcm9vdFNlbGVjdG9yT3JOb2RlIHx8IGNvbXBvbmVudEZhY3Rvcnkuc2VsZWN0b3I7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGNvbXBSZWYgPSBjb21wb25lbnRGYWN0b3J5LmNyZWF0ZShJbmplY3Rvci5OVUxMLCBbXSwgc2VsZWN0b3JPck5vZGUsIG5nTW9kdWxlKTtcbiAgICAgICAgY29tcFJlZi5vbkRlc3Ryb3koZnVuY3Rpb24gKCkgeyBfdGhpcy5fdW5sb2FkQ29tcG9uZW50KGNvbXBSZWYpOyB9KTtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gdGVzdGFiaWxpdHkgPSBjb21wUmVmLmluamVjdG9yLmdldChUZXN0YWJpbGl0eSwgbnVsbCk7XG4gICAgICAgIGlmICh0ZXN0YWJpbGl0eSkge1xuICAgICAgICAgICAgY29tcFJlZi5pbmplY3Rvci5nZXQoVGVzdGFiaWxpdHlSZWdpc3RyeSlcbiAgICAgICAgICAgICAgICAucmVnaXN0ZXJBcHBsaWNhdGlvbihjb21wUmVmLmxvY2F0aW9uLm5hdGl2ZUVsZW1lbnQsIHRlc3RhYmlsaXR5KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9sb2FkQ29tcG9uZW50KGNvbXBSZWYpO1xuICAgICAgICBpZiAoaXNEZXZNb2RlKCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnNvbGUubG9nKFwiQW5ndWxhciBpcyBydW5uaW5nIGluIHRoZSBkZXZlbG9wbWVudCBtb2RlLiBDYWxsIGVuYWJsZVByb2RNb2RlKCkgdG8gZW5hYmxlIHRoZSBwcm9kdWN0aW9uIG1vZGUuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb21wUmVmO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBjb21wb25lbnRSZWZcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIEFwcGxpY2F0aW9uUmVmXy5wcm90b3R5cGUuX2xvYWRDb21wb25lbnQgPSBmdW5jdGlvbiAoY29tcG9uZW50UmVmKSB7XG4gICAgICAgIHRoaXMuYXR0YWNoVmlldyhjb21wb25lbnRSZWYuaG9zdFZpZXcpO1xuICAgICAgICB0aGlzLnRpY2soKTtcbiAgICAgICAgdGhpcy5fcm9vdENvbXBvbmVudHMucHVzaChjb21wb25lbnRSZWYpO1xuICAgICAgICAvLyBHZXQgdGhlIGxpc3RlbmVycyBsYXppbHkgdG8gcHJldmVudCBESSBjeWNsZXMuXG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGxpc3RlbmVycyA9IHRoaXMuX2luamVjdG9yLmdldChBUFBfQk9PVFNUUkFQX0xJU1RFTkVSLCBbXSkuY29uY2F0KHRoaXMuX2Jvb3RzdHJhcExpc3RlbmVycyk7XG4gICAgICAgIGxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChsaXN0ZW5lcikgeyByZXR1cm4gbGlzdGVuZXIoY29tcG9uZW50UmVmKTsgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IGNvbXBvbmVudFJlZlxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgQXBwbGljYXRpb25SZWZfLnByb3RvdHlwZS5fdW5sb2FkQ29tcG9uZW50ID0gZnVuY3Rpb24gKGNvbXBvbmVudFJlZikge1xuICAgICAgICB0aGlzLmRldGFjaFZpZXcoY29tcG9uZW50UmVmLmhvc3RWaWV3KTtcbiAgICAgICAgcmVtb3ZlKHRoaXMuX3Jvb3RDb21wb25lbnRzLCBjb21wb25lbnRSZWYpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBBcHBsaWNhdGlvblJlZl8ucHJvdG90eXBlLnRpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLl9ydW5uaW5nVGljaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBcHBsaWNhdGlvblJlZi50aWNrIGlzIGNhbGxlZCByZWN1cnNpdmVseScpO1xuICAgICAgICB9XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIHNjb3BlID0gQXBwbGljYXRpb25SZWZfLl90aWNrU2NvcGUoKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuX3J1bm5pbmdUaWNrID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX3ZpZXdzLmZvckVhY2goZnVuY3Rpb24gKHZpZXcpIHsgcmV0dXJuIHZpZXcuZGV0ZWN0Q2hhbmdlcygpOyB9KTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9lbmZvcmNlTm9OZXdDaGFuZ2VzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdmlld3MuZm9yRWFjaChmdW5jdGlvbiAodmlldykgeyByZXR1cm4gdmlldy5jaGVja05vQ2hhbmdlcygpOyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gQXR0ZW50aW9uOiBEb24ndCByZXRocm93IGFzIGl0IGNvdWxkIGNhbmNlbCBzdWJzY3JpcHRpb25zIHRvIE9ic2VydmFibGVzIVxuICAgICAgICAgICAgdGhpcy5fem9uZS5ydW5PdXRzaWRlQW5ndWxhcihmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5fZXhjZXB0aW9uSGFuZGxlci5oYW5kbGVFcnJvcihlKTsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLl9ydW5uaW5nVGljayA9IGZhbHNlO1xuICAgICAgICAgICAgd3RmTGVhdmUoc2NvcGUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIEFwcGxpY2F0aW9uUmVmXy5wcm90b3R5cGUubmdPbkRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIFRPRE8oYWx4aHViKTogRGlzcG9zZSBvZiB0aGUgTmdab25lLlxuICAgICAgICB0aGlzLl92aWV3cy5zbGljZSgpLmZvckVhY2goZnVuY3Rpb24gKHZpZXcpIHsgcmV0dXJuIHZpZXcuZGVzdHJveSgpOyB9KTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcHBsaWNhdGlvblJlZl8ucHJvdG90eXBlLCBcInZpZXdDb3VudFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl92aWV3cy5sZW5ndGg7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcHBsaWNhdGlvblJlZl8ucHJvdG90eXBlLCBcImNvbXBvbmVudFR5cGVzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm4gez99XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX3Jvb3RDb21wb25lbnRUeXBlczsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFwcGxpY2F0aW9uUmVmXy5wcm90b3R5cGUsIFwiY29tcG9uZW50c1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9yb290Q29tcG9uZW50czsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFwcGxpY2F0aW9uUmVmXy5wcm90b3R5cGUsIFwiaXNTdGFibGVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybiB7P31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5faXNTdGFibGU7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBBcHBsaWNhdGlvblJlZl87XG59KEFwcGxpY2F0aW9uUmVmKSk7XG4vKipcbiAqIFxcQGludGVybmFsXG4gKi9cbkFwcGxpY2F0aW9uUmVmXy5fdGlja1Njb3BlID0gd3RmQ3JlYXRlU2NvcGUoJ0FwcGxpY2F0aW9uUmVmI3RpY2soKScpO1xuQXBwbGljYXRpb25SZWZfLmRlY29yYXRvcnMgPSBbXG4gICAgeyB0eXBlOiBJbmplY3RhYmxlIH0sXG5dO1xuLyoqXG4gKiBAbm9jb2xsYXBzZVxuICovXG5BcHBsaWNhdGlvblJlZl8uY3RvclBhcmFtZXRlcnMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBbXG4gICAgeyB0eXBlOiBOZ1pvbmUsIH0sXG4gICAgeyB0eXBlOiBDb25zb2xlLCB9LFxuICAgIHsgdHlwZTogSW5qZWN0b3IsIH0sXG4gICAgeyB0eXBlOiBFcnJvckhhbmRsZXIsIH0sXG4gICAgeyB0eXBlOiBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIsIH0sXG4gICAgeyB0eXBlOiBBcHBsaWNhdGlvbkluaXRTdGF0dXMsIH0sXG5dOyB9O1xuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHs/fSBsaXN0XG4gKiBAcGFyYW0gez99IGVsXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiByZW1vdmUobGlzdCwgZWwpIHtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBpbmRleCA9IGxpc3QuaW5kZXhPZihlbCk7XG4gICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgbGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbn1cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8vIFB1YmxpYyBBUEkgZm9yIFpvbmVcbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIGBSZW5kZXJlclR5cGUyYCAoYW5kIGBSZW5kZXJlcjJgKSBpbnN0ZWFkLlxuICovXG52YXIgUmVuZGVyQ29tcG9uZW50VHlwZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBpZFxuICAgICAqIEBwYXJhbSB7P30gdGVtcGxhdGVVcmxcbiAgICAgKiBAcGFyYW0gez99IHNsb3RDb3VudFxuICAgICAqIEBwYXJhbSB7P30gZW5jYXBzdWxhdGlvblxuICAgICAqIEBwYXJhbSB7P30gc3R5bGVzXG4gICAgICogQHBhcmFtIHs/fSBhbmltYXRpb25zXG4gICAgICovXG4gICAgZnVuY3Rpb24gUmVuZGVyQ29tcG9uZW50VHlwZShpZCwgdGVtcGxhdGVVcmwsIHNsb3RDb3VudCwgZW5jYXBzdWxhdGlvbiwgc3R5bGVzLCBhbmltYXRpb25zKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy50ZW1wbGF0ZVVybCA9IHRlbXBsYXRlVXJsO1xuICAgICAgICB0aGlzLnNsb3RDb3VudCA9IHNsb3RDb3VudDtcbiAgICAgICAgdGhpcy5lbmNhcHN1bGF0aW9uID0gZW5jYXBzdWxhdGlvbjtcbiAgICAgICAgdGhpcy5zdHlsZXMgPSBzdHlsZXM7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucyA9IGFuaW1hdGlvbnM7XG4gICAgfVxuICAgIHJldHVybiBSZW5kZXJDb21wb25lbnRUeXBlO1xufSgpKTtcbi8qKlxuICogQGRlcHJlY2F0ZWQgRGVidWcgaW5mbyBpcyBoYW5kZWxlZCBpbnRlcm5hbGx5IGluIHRoZSB2aWV3IGVuZ2luZSBub3cuXG4gKiBAYWJzdHJhY3RcbiAqL1xudmFyIFJlbmRlckRlYnVnSW5mbyA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVuZGVyRGVidWdJbmZvKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFJlbmRlckRlYnVnSW5mby5wcm90b3R5cGUuaW5qZWN0b3IgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgLyoqXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBSZW5kZXJEZWJ1Z0luZm8ucHJvdG90eXBlLmNvbXBvbmVudCA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICAvKipcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFJlbmRlckRlYnVnSW5mby5wcm90b3R5cGUucHJvdmlkZXJUb2tlbnMgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgLyoqXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBSZW5kZXJEZWJ1Z0luZm8ucHJvdG90eXBlLnJlZmVyZW5jZXMgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgLyoqXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBSZW5kZXJEZWJ1Z0luZm8ucHJvdG90eXBlLmNvbnRleHQgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgLyoqXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBSZW5kZXJEZWJ1Z0luZm8ucHJvdG90eXBlLnNvdXJjZSA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICByZXR1cm4gUmVuZGVyRGVidWdJbmZvO1xufSgpKTtcbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIHRoZSBgUmVuZGVyZXIyYCBpbnN0ZWFkLlxuICogQGFic3RyYWN0XG4gKi9cbnZhciBSZW5kZXJlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVuZGVyZXIoKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7P30gc2VsZWN0b3JPck5vZGVcbiAgICAgKiBAcGFyYW0gez89fSBkZWJ1Z0luZm9cbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFJlbmRlcmVyLnByb3RvdHlwZS5zZWxlY3RSb290RWxlbWVudCA9IGZ1bmN0aW9uIChzZWxlY3Rvck9yTm9kZSwgZGVidWdJbmZvKSB7IH07XG4gICAgLyoqXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHBhcmFtIHs/fSBwYXJlbnRFbGVtZW50XG4gICAgICogQHBhcmFtIHs/fSBuYW1lXG4gICAgICogQHBhcmFtIHs/PX0gZGVidWdJbmZvXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlRWxlbWVudCA9IGZ1bmN0aW9uIChwYXJlbnRFbGVtZW50LCBuYW1lLCBkZWJ1Z0luZm8pIHsgfTtcbiAgICAvKipcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcGFyYW0gez99IGhvc3RFbGVtZW50XG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlVmlld1Jvb3QgPSBmdW5jdGlvbiAoaG9zdEVsZW1lbnQpIHsgfTtcbiAgICAvKipcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcGFyYW0gez99IHBhcmVudEVsZW1lbnRcbiAgICAgKiBAcGFyYW0gez89fSBkZWJ1Z0luZm9cbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFJlbmRlcmVyLnByb3RvdHlwZS5jcmVhdGVUZW1wbGF0ZUFuY2hvciA9IGZ1bmN0aW9uIChwYXJlbnRFbGVtZW50LCBkZWJ1Z0luZm8pIHsgfTtcbiAgICAvKipcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcGFyYW0gez99IHBhcmVudEVsZW1lbnRcbiAgICAgKiBAcGFyYW0gez99IHZhbHVlXG4gICAgICogQHBhcmFtIHs/PX0gZGVidWdJbmZvXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlVGV4dCA9IGZ1bmN0aW9uIChwYXJlbnRFbGVtZW50LCB2YWx1ZSwgZGVidWdJbmZvKSB7IH07XG4gICAgLyoqXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHBhcmFtIHs/fSBwYXJlbnRFbGVtZW50XG4gICAgICogQHBhcmFtIHs/fSBub2Rlc1xuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgUmVuZGVyZXIucHJvdG90eXBlLnByb2plY3ROb2RlcyA9IGZ1bmN0aW9uIChwYXJlbnRFbGVtZW50LCBub2RlcykgeyB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7P30gbm9kZVxuICAgICAqIEBwYXJhbSB7P30gdmlld1Jvb3ROb2Rlc1xuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgUmVuZGVyZXIucHJvdG90eXBlLmF0dGFjaFZpZXdBZnRlciA9IGZ1bmN0aW9uIChub2RlLCB2aWV3Um9vdE5vZGVzKSB7IH07XG4gICAgLyoqXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHBhcmFtIHs/fSB2aWV3Um9vdE5vZGVzXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBSZW5kZXJlci5wcm90b3R5cGUuZGV0YWNoVmlldyA9IGZ1bmN0aW9uICh2aWV3Um9vdE5vZGVzKSB7IH07XG4gICAgLyoqXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHBhcmFtIHs/fSBob3N0RWxlbWVudFxuICAgICAqIEBwYXJhbSB7P30gdmlld0FsbE5vZGVzXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveVZpZXcgPSBmdW5jdGlvbiAoaG9zdEVsZW1lbnQsIHZpZXdBbGxOb2RlcykgeyB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7P30gcmVuZGVyRWxlbWVudFxuICAgICAqIEBwYXJhbSB7P30gbmFtZVxuICAgICAqIEBwYXJhbSB7P30gY2FsbGJhY2tcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFJlbmRlcmVyLnByb3RvdHlwZS5saXN0ZW4gPSBmdW5jdGlvbiAocmVuZGVyRWxlbWVudCwgbmFtZSwgY2FsbGJhY2spIHsgfTtcbiAgICAvKipcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcGFyYW0gez99IHRhcmdldFxuICAgICAqIEBwYXJhbSB7P30gbmFtZVxuICAgICAqIEBwYXJhbSB7P30gY2FsbGJhY2tcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFJlbmRlcmVyLnByb3RvdHlwZS5saXN0ZW5HbG9iYWwgPSBmdW5jdGlvbiAodGFyZ2V0LCBuYW1lLCBjYWxsYmFjaykgeyB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7P30gcmVuZGVyRWxlbWVudFxuICAgICAqIEBwYXJhbSB7P30gcHJvcGVydHlOYW1lXG4gICAgICogQHBhcmFtIHs/fSBwcm9wZXJ0eVZhbHVlXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBSZW5kZXJlci5wcm90b3R5cGUuc2V0RWxlbWVudFByb3BlcnR5ID0gZnVuY3Rpb24gKHJlbmRlckVsZW1lbnQsIHByb3BlcnR5TmFtZSwgcHJvcGVydHlWYWx1ZSkgeyB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7P30gcmVuZGVyRWxlbWVudFxuICAgICAqIEBwYXJhbSB7P30gYXR0cmlidXRlTmFtZVxuICAgICAqIEBwYXJhbSB7P30gYXR0cmlidXRlVmFsdWVcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFJlbmRlcmVyLnByb3RvdHlwZS5zZXRFbGVtZW50QXR0cmlidXRlID0gZnVuY3Rpb24gKHJlbmRlckVsZW1lbnQsIGF0dHJpYnV0ZU5hbWUsIGF0dHJpYnV0ZVZhbHVlKSB7IH07XG4gICAgLyoqXG4gICAgICogVXNlZCBvbmx5IGluIGRlYnVnIG1vZGUgdG8gc2VyaWFsaXplIHByb3BlcnR5IGNoYW5nZXMgdG8gZG9tIG5vZGVzIGFzIGF0dHJpYnV0ZXMuXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHBhcmFtIHs/fSByZW5kZXJFbGVtZW50XG4gICAgICogQHBhcmFtIHs/fSBwcm9wZXJ0eU5hbWVcbiAgICAgKiBAcGFyYW0gez99IHByb3BlcnR5VmFsdWVcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFJlbmRlcmVyLnByb3RvdHlwZS5zZXRCaW5kaW5nRGVidWdJbmZvID0gZnVuY3Rpb24gKHJlbmRlckVsZW1lbnQsIHByb3BlcnR5TmFtZSwgcHJvcGVydHlWYWx1ZSkgeyB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7P30gcmVuZGVyRWxlbWVudFxuICAgICAqIEBwYXJhbSB7P30gY2xhc3NOYW1lXG4gICAgICogQHBhcmFtIHs/fSBpc0FkZFxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgUmVuZGVyZXIucHJvdG90eXBlLnNldEVsZW1lbnRDbGFzcyA9IGZ1bmN0aW9uIChyZW5kZXJFbGVtZW50LCBjbGFzc05hbWUsIGlzQWRkKSB7IH07XG4gICAgLyoqXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHBhcmFtIHs/fSByZW5kZXJFbGVtZW50XG4gICAgICogQHBhcmFtIHs/fSBzdHlsZU5hbWVcbiAgICAgKiBAcGFyYW0gez99IHN0eWxlVmFsdWVcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFJlbmRlcmVyLnByb3RvdHlwZS5zZXRFbGVtZW50U3R5bGUgPSBmdW5jdGlvbiAocmVuZGVyRWxlbWVudCwgc3R5bGVOYW1lLCBzdHlsZVZhbHVlKSB7IH07XG4gICAgLyoqXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHBhcmFtIHs/fSByZW5kZXJFbGVtZW50XG4gICAgICogQHBhcmFtIHs/fSBtZXRob2ROYW1lXG4gICAgICogQHBhcmFtIHs/PX0gYXJnc1xuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgUmVuZGVyZXIucHJvdG90eXBlLmludm9rZUVsZW1lbnRNZXRob2QgPSBmdW5jdGlvbiAocmVuZGVyRWxlbWVudCwgbWV0aG9kTmFtZSwgYXJncykgeyB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7P30gcmVuZGVyTm9kZVxuICAgICAqIEBwYXJhbSB7P30gdGV4dFxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgUmVuZGVyZXIucHJvdG90eXBlLnNldFRleHQgPSBmdW5jdGlvbiAocmVuZGVyTm9kZSwgdGV4dCkgeyB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7P30gZWxlbWVudFxuICAgICAqIEBwYXJhbSB7P30gc3RhcnRpbmdTdHlsZXNcbiAgICAgKiBAcGFyYW0gez99IGtleWZyYW1lc1xuICAgICAqIEBwYXJhbSB7P30gZHVyYXRpb25cbiAgICAgKiBAcGFyYW0gez99IGRlbGF5XG4gICAgICogQHBhcmFtIHs/fSBlYXNpbmdcbiAgICAgKiBAcGFyYW0gez89fSBwcmV2aW91c1BsYXllcnNcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFJlbmRlcmVyLnByb3RvdHlwZS5hbmltYXRlID0gZnVuY3Rpb24gKGVsZW1lbnQsIHN0YXJ0aW5nU3R5bGVzLCBrZXlmcmFtZXMsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nLCBwcmV2aW91c1BsYXllcnMpIHsgfTtcbiAgICByZXR1cm4gUmVuZGVyZXI7XG59KCkpO1xudmFyIFJlbmRlcmVyMkludGVyY2VwdG9yID0gbmV3IEluamVjdGlvblRva2VuKCdSZW5kZXJlcjJJbnRlcmNlcHRvcicpO1xuLyoqXG4gKiBJbmplY3RhYmxlIHNlcnZpY2UgdGhhdCBwcm92aWRlcyBhIGxvdy1sZXZlbCBpbnRlcmZhY2UgZm9yIG1vZGlmeWluZyB0aGUgVUkuXG4gKlxuICogVXNlIHRoaXMgc2VydmljZSB0byBieXBhc3MgQW5ndWxhcidzIHRlbXBsYXRpbmcgYW5kIG1ha2UgY3VzdG9tIFVJIGNoYW5nZXMgdGhhdCBjYW4ndCBiZVxuICogZXhwcmVzc2VkIGRlY2xhcmF0aXZlbHkuIEZvciBleGFtcGxlIGlmIHlvdSBuZWVkIHRvIHNldCBhIHByb3BlcnR5IG9yIGFuIGF0dHJpYnV0ZSB3aG9zZSBuYW1lIGlzXG4gKiBub3Qgc3RhdGljYWxseSBrbm93biwgdXNlIHtcXEBsaW5rIFJlbmRlcmVyI3NldEVsZW1lbnRQcm9wZXJ0eX0gb3Ige1xcQGxpbmtcbiAqIFJlbmRlcmVyI3NldEVsZW1lbnRBdHRyaWJ1dGV9XG4gKiByZXNwZWN0aXZlbHkuXG4gKlxuICogSWYgeW91IGFyZSBpbXBsZW1lbnRpbmcgYSBjdXN0b20gcmVuZGVyZXIsIHlvdSBtdXN0IGltcGxlbWVudCB0aGlzIGludGVyZmFjZS5cbiAqXG4gKiBUaGUgZGVmYXVsdCBSZW5kZXJlciBpbXBsZW1lbnRhdGlvbiBpcyBgRG9tUmVuZGVyZXJgLiBBbHNvIGF2YWlsYWJsZSBpcyBgV2ViV29ya2VyUmVuZGVyZXJgLlxuICpcbiAqIEBkZXByZWNhdGVkIFVzZSBgUmVuZGVyZXJGYWN0b3J5MmAgaW5zdGVhZC5cbiAqIEBhYnN0cmFjdFxuICovXG52YXIgUm9vdFJlbmRlcmVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSb290UmVuZGVyZXIoKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7P30gY29tcG9uZW50VHlwZVxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgUm9vdFJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXJDb21wb25lbnQgPSBmdW5jdGlvbiAoY29tcG9uZW50VHlwZSkgeyB9O1xuICAgIHJldHVybiBSb290UmVuZGVyZXI7XG59KCkpO1xuLyoqXG4gKiBcXEBleHBlcmltZW50YWxcbiAqIEBhYnN0cmFjdFxuICovXG52YXIgUmVuZGVyZXJGYWN0b3J5MiA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVuZGVyZXJGYWN0b3J5MigpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHBhcmFtIHs/fSBob3N0RWxlbWVudFxuICAgICAqIEBwYXJhbSB7P30gdHlwZVxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgUmVuZGVyZXJGYWN0b3J5Mi5wcm90b3R5cGUuY3JlYXRlUmVuZGVyZXIgPSBmdW5jdGlvbiAoaG9zdEVsZW1lbnQsIHR5cGUpIHsgfTtcbiAgICAvKipcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFJlbmRlcmVyRmFjdG9yeTIucHJvdG90eXBlLmJlZ2luID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgUmVuZGVyZXJGYWN0b3J5Mi5wcm90b3R5cGUuZW5kID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgUmVuZGVyZXJGYWN0b3J5Mi5wcm90b3R5cGUud2hlblJlbmRlcmluZ0RvbmUgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgcmV0dXJuIFJlbmRlcmVyRmFjdG9yeTI7XG59KCkpO1xudmFyIFJlbmRlcmVyU3R5bGVGbGFnczIgPSB7fTtcblJlbmRlcmVyU3R5bGVGbGFnczIuSW1wb3J0YW50ID0gMTtcblJlbmRlcmVyU3R5bGVGbGFnczIuRGFzaENhc2UgPSAyO1xuUmVuZGVyZXJTdHlsZUZsYWdzMltSZW5kZXJlclN0eWxlRmxhZ3MyLkltcG9ydGFudF0gPSBcIkltcG9ydGFudFwiO1xuUmVuZGVyZXJTdHlsZUZsYWdzMltSZW5kZXJlclN0eWxlRmxhZ3MyLkRhc2hDYXNlXSA9IFwiRGFzaENhc2VcIjtcbi8qKlxuICogXFxAZXhwZXJpbWVudGFsXG4gKiBAYWJzdHJhY3RcbiAqL1xudmFyIFJlbmRlcmVyMiA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVuZGVyZXIyKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIGZpZWxkIGNhbiBiZSB1c2VkIHRvIHN0b3JlIGFyYml0cmFyeSBkYXRhIG9uIHRoaXMgcmVuZGVyZXIgaW5zdGFuY2UuXG4gICAgICogVGhpcyBpcyB1c2VmdWwgZm9yIHJlbmRlcmVycyB0aGF0IGRlbGVnYXRlIHRvIG90aGVyIHJlbmRlcmVycy5cbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFJlbmRlcmVyMi5wcm90b3R5cGUuZGF0YSA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICAvKipcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFJlbmRlcmVyMi5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICAvKipcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcGFyYW0gez99IG5hbWVcbiAgICAgKiBAcGFyYW0gez89fSBuYW1lc3BhY2VcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFJlbmRlcmVyMi5wcm90b3R5cGUuY3JlYXRlRWxlbWVudCA9IGZ1bmN0aW9uIChuYW1lLCBuYW1lc3BhY2UpIHsgfTtcbiAgICAvKipcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcGFyYW0gez99IHZhbHVlXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBSZW5kZXJlcjIucHJvdG90eXBlLmNyZWF0ZUNvbW1lbnQgPSBmdW5jdGlvbiAodmFsdWUpIHsgfTtcbiAgICAvKipcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcGFyYW0gez99IHZhbHVlXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBSZW5kZXJlcjIucHJvdG90eXBlLmNyZWF0ZVRleHQgPSBmdW5jdGlvbiAodmFsdWUpIHsgfTtcbiAgICAvKipcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcGFyYW0gez99IHBhcmVudFxuICAgICAqIEBwYXJhbSB7P30gbmV3Q2hpbGRcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFJlbmRlcmVyMi5wcm90b3R5cGUuYXBwZW5kQ2hpbGQgPSBmdW5jdGlvbiAocGFyZW50LCBuZXdDaGlsZCkgeyB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7P30gcGFyZW50XG4gICAgICogQHBhcmFtIHs/fSBuZXdDaGlsZFxuICAgICAqIEBwYXJhbSB7P30gcmVmQ2hpbGRcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFJlbmRlcmVyMi5wcm90b3R5cGUuaW5zZXJ0QmVmb3JlID0gZnVuY3Rpb24gKHBhcmVudCwgbmV3Q2hpbGQsIHJlZkNoaWxkKSB7IH07XG4gICAgLyoqXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHBhcmFtIHs/fSBwYXJlbnRcbiAgICAgKiBAcGFyYW0gez99IG9sZENoaWxkXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBSZW5kZXJlcjIucHJvdG90eXBlLnJlbW92ZUNoaWxkID0gZnVuY3Rpb24gKHBhcmVudCwgb2xkQ2hpbGQpIHsgfTtcbiAgICAvKipcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcGFyYW0gez99IHNlbGVjdG9yT3JOb2RlXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBSZW5kZXJlcjIucHJvdG90eXBlLnNlbGVjdFJvb3RFbGVtZW50ID0gZnVuY3Rpb24gKHNlbGVjdG9yT3JOb2RlKSB7IH07XG4gICAgLyoqXG4gICAgICogQXR0ZW50aW9uOiBPbiBXZWJXb3JrZXJzLCB0aGlzIHdpbGwgYWx3YXlzIHJldHVybiBhIHZhbHVlLFxuICAgICAqIGFzIHdlIGFyZSBhc2tpbmcgZm9yIGEgcmVzdWx0IHN5bmNocm9ub3VzbHkuIEkuZS5cbiAgICAgKiB0aGUgY2FsbGVyIGNhbid0IHJlbHkgb24gY2hlY2tpbmcgd2hldGhlciB0aGlzIGlzIG51bGwgb3Igbm90LlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7P30gbm9kZVxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgUmVuZGVyZXIyLnByb3RvdHlwZS5wYXJlbnROb2RlID0gZnVuY3Rpb24gKG5vZGUpIHsgfTtcbiAgICAvKipcbiAgICAgKiBBdHRlbnRpb246IE9uIFdlYldvcmtlcnMsIHRoaXMgd2lsbCBhbHdheXMgcmV0dXJuIGEgdmFsdWUsXG4gICAgICogYXMgd2UgYXJlIGFza2luZyBmb3IgYSByZXN1bHQgc3luY2hyb25vdXNseS4gSS5lLlxuICAgICAqIHRoZSBjYWxsZXIgY2FuJ3QgcmVseSBvbiBjaGVja2luZyB3aGV0aGVyIHRoaXMgaXMgbnVsbCBvciBub3QuXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHBhcmFtIHs/fSBub2RlXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBSZW5kZXJlcjIucHJvdG90eXBlLm5leHRTaWJsaW5nID0gZnVuY3Rpb24gKG5vZGUpIHsgfTtcbiAgICAvKipcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcGFyYW0gez99IGVsXG4gICAgICogQHBhcmFtIHs/fSBuYW1lXG4gICAgICogQHBhcmFtIHs/fSB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Pz19IG5hbWVzcGFjZVxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgUmVuZGVyZXIyLnByb3RvdHlwZS5zZXRBdHRyaWJ1dGUgPSBmdW5jdGlvbiAoZWwsIG5hbWUsIHZhbHVlLCBuYW1lc3BhY2UpIHsgfTtcbiAgICAvKipcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcGFyYW0gez99IGVsXG4gICAgICogQHBhcmFtIHs/fSBuYW1lXG4gICAgICogQHBhcmFtIHs/PX0gbmFtZXNwYWNlXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBSZW5kZXJlcjIucHJvdG90eXBlLnJlbW92ZUF0dHJpYnV0ZSA9IGZ1bmN0aW9uIChlbCwgbmFtZSwgbmFtZXNwYWNlKSB7IH07XG4gICAgLyoqXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHBhcmFtIHs/fSBlbFxuICAgICAqIEBwYXJhbSB7P30gbmFtZVxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgUmVuZGVyZXIyLnByb3RvdHlwZS5hZGRDbGFzcyA9IGZ1bmN0aW9uIChlbCwgbmFtZSkgeyB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7P30gZWxcbiAgICAgKiBAcGFyYW0gez99IG5hbWVcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFJlbmRlcmVyMi5wcm90b3R5cGUucmVtb3ZlQ2xhc3MgPSBmdW5jdGlvbiAoZWwsIG5hbWUpIHsgfTtcbiAgICAvKipcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcGFyYW0gez99IGVsXG4gICAgICogQHBhcmFtIHs/fSBzdHlsZVxuICAgICAqIEBwYXJhbSB7P30gdmFsdWVcbiAgICAgKiBAcGFyYW0gez89fSBmbGFnc1xuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgUmVuZGVyZXIyLnByb3RvdHlwZS5zZXRTdHlsZSA9IGZ1bmN0aW9uIChlbCwgc3R5bGUsIHZhbHVlLCBmbGFncykgeyB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7P30gZWxcbiAgICAgKiBAcGFyYW0gez99IHN0eWxlXG4gICAgICogQHBhcmFtIHs/PX0gZmxhZ3NcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFJlbmRlcmVyMi5wcm90b3R5cGUucmVtb3ZlU3R5bGUgPSBmdW5jdGlvbiAoZWwsIHN0eWxlLCBmbGFncykgeyB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7P30gZWxcbiAgICAgKiBAcGFyYW0gez99IG5hbWVcbiAgICAgKiBAcGFyYW0gez99IHZhbHVlXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBSZW5kZXJlcjIucHJvdG90eXBlLnNldFByb3BlcnR5ID0gZnVuY3Rpb24gKGVsLCBuYW1lLCB2YWx1ZSkgeyB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7P30gbm9kZVxuICAgICAqIEBwYXJhbSB7P30gdmFsdWVcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFJlbmRlcmVyMi5wcm90b3R5cGUuc2V0VmFsdWUgPSBmdW5jdGlvbiAobm9kZSwgdmFsdWUpIHsgfTtcbiAgICAvKipcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcGFyYW0gez99IHRhcmdldFxuICAgICAqIEBwYXJhbSB7P30gZXZlbnROYW1lXG4gICAgICogQHBhcmFtIHs/fSBjYWxsYmFja1xuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgUmVuZGVyZXIyLnByb3RvdHlwZS5saXN0ZW4gPSBmdW5jdGlvbiAodGFyZ2V0LCBldmVudE5hbWUsIGNhbGxiYWNrKSB7IH07XG4gICAgcmV0dXJuIFJlbmRlcmVyMjtcbn0oKSk7XG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vLyBQdWJsaWMgQVBJIGZvciByZW5kZXJcbnZhciBFbGVtZW50UmVmID0gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IG5hdGl2ZUVsZW1lbnRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBFbGVtZW50UmVmKG5hdGl2ZUVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5uYXRpdmVFbGVtZW50ID0gbmF0aXZlRWxlbWVudDtcbiAgICB9XG4gICAgcmV0dXJuIEVsZW1lbnRSZWY7XG59KCkpO1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBVc2VkIHRvIGxvYWQgbmcgbW9kdWxlIGZhY3Rvcmllcy5cbiAqIFxcQHN0YWJsZVxuICogQGFic3RyYWN0XG4gKi9cbnZhciBOZ01vZHVsZUZhY3RvcnlMb2FkZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE5nTW9kdWxlRmFjdG9yeUxvYWRlcigpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHBhcmFtIHs/fSBwYXRoXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBOZ01vZHVsZUZhY3RvcnlMb2FkZXIucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAocGF0aCkgeyB9O1xuICAgIHJldHVybiBOZ01vZHVsZUZhY3RvcnlMb2FkZXI7XG59KCkpO1xudmFyIG1vZHVsZUZhY3RvcmllcyA9IG5ldyBNYXAoKTtcbi8qKlxuICogUmVnaXN0ZXJzIGEgbG9hZGVkIG1vZHVsZS4gU2hvdWxkIG9ubHkgYmUgY2FsbGVkIGZyb20gZ2VuZXJhdGVkIE5nTW9kdWxlRmFjdG9yeSBjb2RlLlxuICogXFxAZXhwZXJpbWVudGFsXG4gKiBAcGFyYW0gez99IGlkXG4gKiBAcGFyYW0gez99IGZhY3RvcnlcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIHJlZ2lzdGVyTW9kdWxlRmFjdG9yeShpZCwgZmFjdG9yeSkge1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIGV4aXN0aW5nID0gbW9kdWxlRmFjdG9yaWVzLmdldChpZCk7XG4gICAgaWYgKGV4aXN0aW5nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkR1cGxpY2F0ZSBtb2R1bGUgcmVnaXN0ZXJlZCBmb3IgXCIgKyBpZCArIFwiIC0gXCIgKyBleGlzdGluZy5tb2R1bGVUeXBlLm5hbWUgKyBcIiB2cyBcIiArIGZhY3RvcnkubW9kdWxlVHlwZS5uYW1lKTtcbiAgICB9XG4gICAgbW9kdWxlRmFjdG9yaWVzLnNldChpZCwgZmFjdG9yeSk7XG59XG4vKipcbiAqIEByZXR1cm4gez99XG4gKi9cbi8qKlxuICogUmV0dXJucyB0aGUgTmdNb2R1bGVGYWN0b3J5IHdpdGggdGhlIGdpdmVuIGlkLCBpZiBpdCBleGlzdHMgYW5kIGhhcyBiZWVuIGxvYWRlZC5cbiAqIEZhY3RvcmllcyBmb3IgbW9kdWxlcyB0aGF0IGRvIG5vdCBzcGVjaWZ5IGFuIGBpZGAgY2Fubm90IGJlIHJldHJpZXZlZC4gVGhyb3dzIGlmIHRoZSBtb2R1bGVcbiAqIGNhbm5vdCBiZSBmb3VuZC5cbiAqIFxcQGV4cGVyaW1lbnRhbFxuICogQHBhcmFtIHs/fSBpZFxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gZ2V0TW9kdWxlRmFjdG9yeShpZCkge1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIGZhY3RvcnkgPSBtb2R1bGVGYWN0b3JpZXMuZ2V0KGlkKTtcbiAgICBpZiAoIWZhY3RvcnkpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIG1vZHVsZSB3aXRoIElEIFwiICsgaWQgKyBcIiBsb2FkZWRcIik7XG4gICAgcmV0dXJuIGZhY3Rvcnk7XG59XG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEFuIHVubW9kaWZpYWJsZSBsaXN0IG9mIGl0ZW1zIHRoYXQgQW5ndWxhciBrZWVwcyB1cCB0byBkYXRlIHdoZW4gdGhlIHN0YXRlXG4gKiBvZiB0aGUgYXBwbGljYXRpb24gY2hhbmdlcy5cbiAqXG4gKiBUaGUgdHlwZSBvZiBvYmplY3QgdGhhdCB7XFxAbGluayBWaWV3Q2hpbGRyZW59LCB7XFxAbGluayBDb250ZW50Q2hpbGRyZW59LCBhbmQge1xcQGxpbmsgUXVlcnlMaXN0fVxuICogcHJvdmlkZS5cbiAqXG4gKiBJbXBsZW1lbnRzIGFuIGl0ZXJhYmxlIGludGVyZmFjZSwgdGhlcmVmb3JlIGl0IGNhbiBiZSB1c2VkIGluIGJvdGggRVM2XG4gKiBqYXZhc2NyaXB0IGBmb3IgKHZhciBpIG9mIGl0ZW1zKWAgbG9vcHMgYXMgd2VsbCBhcyBpbiBBbmd1bGFyIHRlbXBsYXRlcyB3aXRoXG4gKiBgKm5nRm9yPVwibGV0IGkgb2YgbXlMaXN0XCJgLlxuICpcbiAqIENoYW5nZXMgY2FuIGJlIG9ic2VydmVkIGJ5IHN1YnNjcmliaW5nIHRvIHRoZSBjaGFuZ2VzIGBPYnNlcnZhYmxlYC5cbiAqXG4gKiBOT1RFOiBJbiB0aGUgZnV0dXJlIHRoaXMgY2xhc3Mgd2lsbCBpbXBsZW1lbnQgYW4gYE9ic2VydmFibGVgIGludGVyZmFjZS5cbiAqXG4gKiAjIyMgRXhhbXBsZSAoW2xpdmUgZGVtb10oaHR0cDovL3BsbmtyLmNvL2VkaXQvUlg4c0puUVlsOUZXdVNDV21lNXo/cD1wcmV2aWV3KSlcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIFxcQENvbXBvbmVudCh7Li4ufSlcbiAqIGNsYXNzIENvbnRhaW5lciB7XG4gKiAgIFxcQFZpZXdDaGlsZHJlbihJdGVtKSBpdGVtczpRdWVyeUxpc3Q8SXRlbT47XG4gKiB9XG4gKiBgYGBcbiAqIFxcQHN0YWJsZVxuICovXG52YXIgUXVlcnlMaXN0ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBRdWVyeUxpc3QoKSB7XG4gICAgICAgIHRoaXMuX2RpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fcmVzdWx0cyA9IFtdO1xuICAgICAgICB0aGlzLl9lbWl0dGVyID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUXVlcnlMaXN0LnByb3RvdHlwZSwgXCJjaGFuZ2VzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm4gez99XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX2VtaXR0ZXI7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShRdWVyeUxpc3QucHJvdG90eXBlLCBcImxlbmd0aFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9yZXN1bHRzLmxlbmd0aDsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFF1ZXJ5TGlzdC5wcm90b3R5cGUsIFwiZmlyc3RcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybiB7P31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fcmVzdWx0c1swXTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFF1ZXJ5TGlzdC5wcm90b3R5cGUsIFwibGFzdFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9yZXN1bHRzW3RoaXMubGVuZ3RoIC0gMV07IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFNlZVxuICAgICAqIFtBcnJheS5tYXBdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L21hcClcbiAgICAgKiBAdGVtcGxhdGUgVVxuICAgICAqIEBwYXJhbSB7P30gZm5cbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFF1ZXJ5TGlzdC5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKGZuKSB7IHJldHVybiB0aGlzLl9yZXN1bHRzLm1hcChmbik7IH07XG4gICAgLyoqXG4gICAgICogU2VlXG4gICAgICogW0FycmF5LmZpbHRlcl0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvZmlsdGVyKVxuICAgICAqIEBwYXJhbSB7P30gZm5cbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFF1ZXJ5TGlzdC5wcm90b3R5cGUuZmlsdGVyID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZXN1bHRzLmZpbHRlcihmbik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZWVcbiAgICAgKiBbQXJyYXkuZmluZF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvZmluZClcbiAgICAgKiBAcGFyYW0gez99IGZuXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBRdWVyeUxpc3QucHJvdG90eXBlLmZpbmQgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc3VsdHMuZmluZChmbik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZWVcbiAgICAgKiBbQXJyYXkucmVkdWNlXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9yZWR1Y2UpXG4gICAgICogQHRlbXBsYXRlIFVcbiAgICAgKiBAcGFyYW0gez99IGZuXG4gICAgICogQHBhcmFtIHs/fSBpbml0XG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBRdWVyeUxpc3QucHJvdG90eXBlLnJlZHVjZSA9IGZ1bmN0aW9uIChmbiwgaW5pdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVzdWx0cy5yZWR1Y2UoZm4sIGluaXQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2VlXG4gICAgICogW0FycmF5LmZvckVhY2hdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L2ZvckVhY2gpXG4gICAgICogQHBhcmFtIHs/fSBmblxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgUXVlcnlMaXN0LnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGZuKSB7IHRoaXMuX3Jlc3VsdHMuZm9yRWFjaChmbik7IH07XG4gICAgLyoqXG4gICAgICogU2VlXG4gICAgICogW0FycmF5LnNvbWVdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L3NvbWUpXG4gICAgICogQHBhcmFtIHs/fSBmblxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgUXVlcnlMaXN0LnByb3RvdHlwZS5zb21lID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZXN1bHRzLnNvbWUoZm4pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBRdWVyeUxpc3QucHJvdG90eXBlLnRvQXJyYXkgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9yZXN1bHRzLnNsaWNlKCk7IH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBRdWVyeUxpc3QucHJvdG90eXBlW2dldFN5bWJvbEl0ZXJhdG9yKCldID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gKCh0aGlzLl9yZXN1bHRzKSlbZ2V0U3ltYm9sSXRlcmF0b3IoKV0oKTsgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFF1ZXJ5TGlzdC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9yZXN1bHRzLnRvU3RyaW5nKCk7IH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSByZXNcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFF1ZXJ5TGlzdC5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgIHRoaXMuX3Jlc3VsdHMgPSBmbGF0dGVuKHJlcyk7XG4gICAgICAgIHRoaXMuX2RpcnR5ID0gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFF1ZXJ5TGlzdC5wcm90b3R5cGUubm90aWZ5T25DaGFuZ2VzID0gZnVuY3Rpb24gKCkgeyB0aGlzLl9lbWl0dGVyLmVtaXQodGhpcyk7IH07XG4gICAgLyoqXG4gICAgICogaW50ZXJuYWxcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFF1ZXJ5TGlzdC5wcm90b3R5cGUuc2V0RGlydHkgPSBmdW5jdGlvbiAoKSB7IHRoaXMuX2RpcnR5ID0gdHJ1ZTsgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUXVlcnlMaXN0LnByb3RvdHlwZSwgXCJkaXJ0eVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBpbnRlcm5hbFxuICAgICAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9kaXJ0eTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogaW50ZXJuYWxcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFF1ZXJ5TGlzdC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fZW1pdHRlci5jb21wbGV0ZSgpO1xuICAgICAgICB0aGlzLl9lbWl0dGVyLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gUXVlcnlMaXN0O1xufSgpKTtcbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7P30gbGlzdFxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gZmxhdHRlbihsaXN0KSB7XG4gICAgcmV0dXJuIGxpc3QucmVkdWNlKGZ1bmN0aW9uIChmbGF0LCBpdGVtKSB7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGZsYXRJdGVtID0gQXJyYXkuaXNBcnJheShpdGVtKSA/IGZsYXR0ZW4oaXRlbSkgOiBpdGVtO1xuICAgICAgICByZXR1cm4gKChmbGF0KSkuY29uY2F0KGZsYXRJdGVtKTtcbiAgICB9LCBbXSk7XG59XG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG52YXIgX1NFUEFSQVRPUiA9ICcjJztcbnZhciBGQUNUT1JZX0NMQVNTX1NVRkZJWCA9ICdOZ0ZhY3RvcnknO1xuLyoqXG4gKiBDb25maWd1cmF0aW9uIGZvciBTeXN0ZW1Kc05nTW9kdWxlTG9hZGVyLlxuICogdG9rZW4uXG4gKlxuICogXFxAZXhwZXJpbWVudGFsXG4gKiBAYWJzdHJhY3RcbiAqL1xudmFyIFN5c3RlbUpzTmdNb2R1bGVMb2FkZXJDb25maWcgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN5c3RlbUpzTmdNb2R1bGVMb2FkZXJDb25maWcoKSB7XG4gICAgfVxuICAgIHJldHVybiBTeXN0ZW1Kc05nTW9kdWxlTG9hZGVyQ29uZmlnO1xufSgpKTtcbnZhciBERUZBVUxUX0NPTkZJRyA9IHtcbiAgICBmYWN0b3J5UGF0aFByZWZpeDogJycsXG4gICAgZmFjdG9yeVBhdGhTdWZmaXg6ICcubmdmYWN0b3J5Jyxcbn07XG4vKipcbiAqIE5nTW9kdWxlRmFjdG9yeUxvYWRlciB0aGF0IHVzZXMgU3lzdGVtSlMgdG8gbG9hZCBOZ01vZHVsZUZhY3RvcnlcbiAqIFxcQGV4cGVyaW1lbnRhbFxuICovXG52YXIgU3lzdGVtSnNOZ01vZHVsZUxvYWRlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBfY29tcGlsZXJcbiAgICAgKiBAcGFyYW0gez89fSBjb25maWdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTeXN0ZW1Kc05nTW9kdWxlTG9hZGVyKF9jb21waWxlciwgY29uZmlnKSB7XG4gICAgICAgIHRoaXMuX2NvbXBpbGVyID0gX2NvbXBpbGVyO1xuICAgICAgICB0aGlzLl9jb25maWcgPSBjb25maWcgfHwgREVGQVVMVF9DT05GSUc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gcGF0aFxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgU3lzdGVtSnNOZ01vZHVsZUxvYWRlci5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uIChwYXRoKSB7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIG9mZmxpbmVNb2RlID0gdGhpcy5fY29tcGlsZXIgaW5zdGFuY2VvZiBDb21waWxlcjtcbiAgICAgICAgcmV0dXJuIG9mZmxpbmVNb2RlID8gdGhpcy5sb2FkRmFjdG9yeShwYXRoKSA6IHRoaXMubG9hZEFuZENvbXBpbGUocGF0aCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IHBhdGhcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFN5c3RlbUpzTmdNb2R1bGVMb2FkZXIucHJvdG90eXBlLmxvYWRBbmRDb21waWxlID0gZnVuY3Rpb24gKHBhdGgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIF9hID0gcGF0aC5zcGxpdChfU0VQQVJBVE9SKSwgbW9kdWxlID0gX2FbMF0sIGV4cG9ydE5hbWUgPSBfYVsxXTtcbiAgICAgICAgaWYgKGV4cG9ydE5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZXhwb3J0TmFtZSA9ICdkZWZhdWx0JztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gU3lzdGVtLmltcG9ydChtb2R1bGUpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAobW9kdWxlKSB7IHJldHVybiBtb2R1bGVbZXhwb3J0TmFtZV07IH0pXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAodHlwZSkgeyByZXR1cm4gY2hlY2tOb3RFbXB0eSh0eXBlLCBtb2R1bGUsIGV4cG9ydE5hbWUpOyB9KVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHR5cGUpIHsgcmV0dXJuIF90aGlzLl9jb21waWxlci5jb21waWxlTW9kdWxlQXN5bmModHlwZSk7IH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBwYXRoXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBTeXN0ZW1Kc05nTW9kdWxlTG9hZGVyLnByb3RvdHlwZS5sb2FkRmFjdG9yeSA9IGZ1bmN0aW9uIChwYXRoKSB7XG4gICAgICAgIHZhciBfYSA9IHBhdGguc3BsaXQoX1NFUEFSQVRPUiksIG1vZHVsZSA9IF9hWzBdLCBleHBvcnROYW1lID0gX2FbMV07XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGZhY3RvcnlDbGFzc1N1ZmZpeCA9IEZBQ1RPUllfQ0xBU1NfU1VGRklYO1xuICAgICAgICBpZiAoZXhwb3J0TmFtZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBleHBvcnROYW1lID0gJ2RlZmF1bHQnO1xuICAgICAgICAgICAgZmFjdG9yeUNsYXNzU3VmZml4ID0gJyc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFN5c3RlbS5pbXBvcnQodGhpcy5fY29uZmlnLmZhY3RvcnlQYXRoUHJlZml4ICsgbW9kdWxlICsgdGhpcy5fY29uZmlnLmZhY3RvcnlQYXRoU3VmZml4KVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKG1vZHVsZSkgeyByZXR1cm4gbW9kdWxlW2V4cG9ydE5hbWUgKyBmYWN0b3J5Q2xhc3NTdWZmaXhdOyB9KVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGZhY3RvcnkpIHsgcmV0dXJuIGNoZWNrTm90RW1wdHkoZmFjdG9yeSwgbW9kdWxlLCBleHBvcnROYW1lKTsgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gU3lzdGVtSnNOZ01vZHVsZUxvYWRlcjtcbn0oKSk7XG5TeXN0ZW1Kc05nTW9kdWxlTG9hZGVyLmRlY29yYXRvcnMgPSBbXG4gICAgeyB0eXBlOiBJbmplY3RhYmxlIH0sXG5dO1xuLyoqXG4gKiBAbm9jb2xsYXBzZVxuICovXG5TeXN0ZW1Kc05nTW9kdWxlTG9hZGVyLmN0b3JQYXJhbWV0ZXJzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gW1xuICAgIHsgdHlwZTogQ29tcGlsZXIsIH0sXG4gICAgeyB0eXBlOiBTeXN0ZW1Kc05nTW9kdWxlTG9hZGVyQ29uZmlnLCBkZWNvcmF0b3JzOiBbeyB0eXBlOiBPcHRpb25hbCB9LF0gfSxcbl07IH07XG4vKipcbiAqIEBwYXJhbSB7P30gdmFsdWVcbiAqIEBwYXJhbSB7P30gbW9kdWxlUGF0aFxuICogQHBhcmFtIHs/fSBleHBvcnROYW1lXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBjaGVja05vdEVtcHR5KHZhbHVlLCBtb2R1bGVQYXRoLCBleHBvcnROYW1lKSB7XG4gICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCAnXCIgKyBleHBvcnROYW1lICsgXCInIGluICdcIiArIG1vZHVsZVBhdGggKyBcIidcIik7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogUmVwcmVzZW50cyBhbiBFbWJlZGRlZCBUZW1wbGF0ZSB0aGF0IGNhbiBiZSB1c2VkIHRvIGluc3RhbnRpYXRlIEVtYmVkZGVkIFZpZXdzLlxuICpcbiAqIFlvdSBjYW4gYWNjZXNzIGEgYFRlbXBsYXRlUmVmYCwgaW4gdHdvIHdheXMuIFZpYSBhIGRpcmVjdGl2ZSBwbGFjZWQgb24gYSBgPG5nLXRlbXBsYXRlPmAgZWxlbWVudFxuICogKG9yIGRpcmVjdGl2ZSBwcmVmaXhlZCB3aXRoIGAqYCkgYW5kIGhhdmUgdGhlIGBUZW1wbGF0ZVJlZmAgZm9yIHRoaXMgRW1iZWRkZWQgVmlldyBpbmplY3RlZCBpbnRvXG4gKiB0aGUgY29uc3RydWN0b3Igb2YgdGhlIGRpcmVjdGl2ZSB1c2luZyB0aGUgYFRlbXBsYXRlUmVmYCBUb2tlbi4gQWx0ZXJuYXRpdmVseSB5b3UgY2FuIHF1ZXJ5IGZvclxuICogdGhlIGBUZW1wbGF0ZVJlZmAgZnJvbSBhIENvbXBvbmVudCBvciBhIERpcmVjdGl2ZSB2aWEge1xcQGxpbmsgUXVlcnl9LlxuICpcbiAqIFRvIGluc3RhbnRpYXRlIEVtYmVkZGVkIFZpZXdzIGJhc2VkIG9uIGEgVGVtcGxhdGUsIHVzZVxuICoge1xcQGxpbmsgVmlld0NvbnRhaW5lclJlZiNjcmVhdGVFbWJlZGRlZFZpZXd9LCB3aGljaCB3aWxsIGNyZWF0ZSB0aGUgVmlldyBhbmQgYXR0YWNoIGl0IHRvIHRoZVxuICogVmlldyBDb250YWluZXIuXG4gKiBcXEBzdGFibGVcbiAqIEBhYnN0cmFjdFxuICovXG52YXIgVGVtcGxhdGVSZWYgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRlbXBsYXRlUmVmKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFRlbXBsYXRlUmVmLnByb3RvdHlwZS5lbGVtZW50UmVmID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7P30gY29udGV4dFxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgVGVtcGxhdGVSZWYucHJvdG90eXBlLmNyZWF0ZUVtYmVkZGVkVmlldyA9IGZ1bmN0aW9uIChjb250ZXh0KSB7IH07XG4gICAgcmV0dXJuIFRlbXBsYXRlUmVmO1xufSgpKTtcbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogUmVwcmVzZW50cyBhIGNvbnRhaW5lciB3aGVyZSBvbmUgb3IgbW9yZSBWaWV3cyBjYW4gYmUgYXR0YWNoZWQuXG4gKlxuICogVGhlIGNvbnRhaW5lciBjYW4gY29udGFpbiB0d28ga2luZHMgb2YgVmlld3MuIEhvc3QgVmlld3MsIGNyZWF0ZWQgYnkgaW5zdGFudGlhdGluZyBhXG4gKiB7XFxAbGluayBDb21wb25lbnR9IHZpYSB7XFxAbGluayAjY3JlYXRlQ29tcG9uZW50fSwgYW5kIEVtYmVkZGVkIFZpZXdzLCBjcmVhdGVkIGJ5IGluc3RhbnRpYXRpbmcgYW5cbiAqIHtcXEBsaW5rIFRlbXBsYXRlUmVmIEVtYmVkZGVkIFRlbXBsYXRlfSB2aWEge1xcQGxpbmsgI2NyZWF0ZUVtYmVkZGVkVmlld30uXG4gKlxuICogVGhlIGxvY2F0aW9uIG9mIHRoZSBWaWV3IENvbnRhaW5lciB3aXRoaW4gdGhlIGNvbnRhaW5pbmcgVmlldyBpcyBzcGVjaWZpZWQgYnkgdGhlIEFuY2hvclxuICogYGVsZW1lbnRgLiBFYWNoIFZpZXcgQ29udGFpbmVyIGNhbiBoYXZlIG9ubHkgb25lIEFuY2hvciBFbGVtZW50IGFuZCBlYWNoIEFuY2hvciBFbGVtZW50IGNhbiBvbmx5XG4gKiBoYXZlIGEgc2luZ2xlIFZpZXcgQ29udGFpbmVyLlxuICpcbiAqIFJvb3QgZWxlbWVudHMgb2YgVmlld3MgYXR0YWNoZWQgdG8gdGhpcyBjb250YWluZXIgYmVjb21lIHNpYmxpbmdzIG9mIHRoZSBBbmNob3IgRWxlbWVudCBpblxuICogdGhlIFJlbmRlcmVkIFZpZXcuXG4gKlxuICogVG8gYWNjZXNzIGEgYFZpZXdDb250YWluZXJSZWZgIG9mIGFuIEVsZW1lbnQsIHlvdSBjYW4gZWl0aGVyIHBsYWNlIGEge1xcQGxpbmsgRGlyZWN0aXZlfSBpbmplY3RlZFxuICogd2l0aCBgVmlld0NvbnRhaW5lclJlZmAgb24gdGhlIEVsZW1lbnQsIG9yIHlvdSBvYnRhaW4gaXQgdmlhIGEge1xcQGxpbmsgVmlld0NoaWxkfSBxdWVyeS5cbiAqIFxcQHN0YWJsZVxuICogQGFic3RyYWN0XG4gKi9cbnZhciBWaWV3Q29udGFpbmVyUmVmID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBWaWV3Q29udGFpbmVyUmVmKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbmNob3IgZWxlbWVudCB0aGF0IHNwZWNpZmllcyB0aGUgbG9jYXRpb24gb2YgdGhpcyBjb250YWluZXIgaW4gdGhlIGNvbnRhaW5pbmcgVmlldy5cbiAgICAgKiA8IS0tIFRPRE86IHJlbmFtZSB0byBhbmNob3JFbGVtZW50IC0tPlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgVmlld0NvbnRhaW5lclJlZi5wcm90b3R5cGUuZWxlbWVudCA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICAvKipcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFZpZXdDb250YWluZXJSZWYucHJvdG90eXBlLmluamVjdG9yID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgVmlld0NvbnRhaW5lclJlZi5wcm90b3R5cGUucGFyZW50SW5qZWN0b3IgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgYWxsIFZpZXdzIGluIHRoaXMgY29udGFpbmVyLlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgVmlld0NvbnRhaW5lclJlZi5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUge1xcQGxpbmsgVmlld1JlZn0gZm9yIHRoZSBWaWV3IGxvY2F0ZWQgaW4gdGhpcyBjb250YWluZXIgYXQgdGhlIHNwZWNpZmllZCBpbmRleC5cbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcGFyYW0gez99IGluZGV4XG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBWaWV3Q29udGFpbmVyUmVmLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoaW5kZXgpIHsgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBudW1iZXIgb2YgVmlld3MgY3VycmVudGx5IGF0dGFjaGVkIHRvIHRoaXMgY29udGFpbmVyLlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgVmlld0NvbnRhaW5lclJlZi5wcm90b3R5cGUubGVuZ3RoID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIC8qKlxuICAgICAqIEluc3RhbnRpYXRlcyBhbiBFbWJlZGRlZCBWaWV3IGJhc2VkIG9uIHRoZSB7XFxAbGluayBUZW1wbGF0ZVJlZiBgdGVtcGxhdGVSZWZgfSBhbmQgaW5zZXJ0cyBpdFxuICAgICAqIGludG8gdGhpcyBjb250YWluZXIgYXQgdGhlIHNwZWNpZmllZCBgaW5kZXhgLlxuICAgICAqXG4gICAgICogSWYgYGluZGV4YCBpcyBub3Qgc3BlY2lmaWVkLCB0aGUgbmV3IFZpZXcgd2lsbCBiZSBpbnNlcnRlZCBhcyB0aGUgbGFzdCBWaWV3IGluIHRoZSBjb250YWluZXIuXG4gICAgICpcbiAgICAgKiBSZXR1cm5zIHRoZSB7XFxAbGluayBWaWV3UmVmfSBmb3IgdGhlIG5ld2x5IGNyZWF0ZWQgVmlldy5cbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAdGVtcGxhdGUgQ1xuICAgICAqIEBwYXJhbSB7P30gdGVtcGxhdGVSZWZcbiAgICAgKiBAcGFyYW0gez89fSBjb250ZXh0XG4gICAgICogQHBhcmFtIHs/PX0gaW5kZXhcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFZpZXdDb250YWluZXJSZWYucHJvdG90eXBlLmNyZWF0ZUVtYmVkZGVkVmlldyA9IGZ1bmN0aW9uICh0ZW1wbGF0ZVJlZiwgY29udGV4dCwgaW5kZXgpIHsgfTtcbiAgICAvKipcbiAgICAgKiBJbnN0YW50aWF0ZXMgYSBzaW5nbGUge1xcQGxpbmsgQ29tcG9uZW50fSBhbmQgaW5zZXJ0cyBpdHMgSG9zdCBWaWV3IGludG8gdGhpcyBjb250YWluZXIgYXQgdGhlXG4gICAgICogc3BlY2lmaWVkIGBpbmRleGAuXG4gICAgICpcbiAgICAgKiBUaGUgY29tcG9uZW50IGlzIGluc3RhbnRpYXRlZCB1c2luZyBpdHMge1xcQGxpbmsgQ29tcG9uZW50RmFjdG9yeX0gd2hpY2ggY2FuIGJlXG4gICAgICogb2J0YWluZWQgdmlhIHtcXEBsaW5rIENvbXBvbmVudEZhY3RvcnlSZXNvbHZlciNyZXNvbHZlQ29tcG9uZW50RmFjdG9yeX0uXG4gICAgICpcbiAgICAgKiBJZiBgaW5kZXhgIGlzIG5vdCBzcGVjaWZpZWQsIHRoZSBuZXcgVmlldyB3aWxsIGJlIGluc2VydGVkIGFzIHRoZSBsYXN0IFZpZXcgaW4gdGhlIGNvbnRhaW5lci5cbiAgICAgKlxuICAgICAqIFlvdSBjYW4gb3B0aW9uYWxseSBzcGVjaWZ5IHRoZSB7XFxAbGluayBJbmplY3Rvcn0gdGhhdCB3aWxsIGJlIHVzZWQgYXMgcGFyZW50IGZvciB0aGUgQ29tcG9uZW50LlxuICAgICAqXG4gICAgICogUmV0dXJucyB0aGUge1xcQGxpbmsgQ29tcG9uZW50UmVmfSBvZiB0aGUgSG9zdCBWaWV3IGNyZWF0ZWQgZm9yIHRoZSBuZXdseSBpbnN0YW50aWF0ZWQgQ29tcG9uZW50LlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEB0ZW1wbGF0ZSBDXG4gICAgICogQHBhcmFtIHs/fSBjb21wb25lbnRGYWN0b3J5XG4gICAgICogQHBhcmFtIHs/PX0gaW5kZXhcbiAgICAgKiBAcGFyYW0gez89fSBpbmplY3RvclxuICAgICAqIEBwYXJhbSB7Pz19IHByb2plY3RhYmxlTm9kZXNcbiAgICAgKiBAcGFyYW0gez89fSBuZ01vZHVsZVxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgVmlld0NvbnRhaW5lclJlZi5wcm90b3R5cGUuY3JlYXRlQ29tcG9uZW50ID0gZnVuY3Rpb24gKGNvbXBvbmVudEZhY3RvcnksIGluZGV4LCBpbmplY3RvciwgcHJvamVjdGFibGVOb2RlcywgbmdNb2R1bGUpIHsgfTtcbiAgICAvKipcbiAgICAgKiBJbnNlcnRzIGEgVmlldyBpZGVudGlmaWVkIGJ5IGEge1xcQGxpbmsgVmlld1JlZn0gaW50byB0aGUgY29udGFpbmVyIGF0IHRoZSBzcGVjaWZpZWQgYGluZGV4YC5cbiAgICAgKlxuICAgICAqIElmIGBpbmRleGAgaXMgbm90IHNwZWNpZmllZCwgdGhlIG5ldyBWaWV3IHdpbGwgYmUgaW5zZXJ0ZWQgYXMgdGhlIGxhc3QgVmlldyBpbiB0aGUgY29udGFpbmVyLlxuICAgICAqXG4gICAgICogUmV0dXJucyB0aGUgaW5zZXJ0ZWQge1xcQGxpbmsgVmlld1JlZn0uXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHBhcmFtIHs/fSB2aWV3UmVmXG4gICAgICogQHBhcmFtIHs/PX0gaW5kZXhcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFZpZXdDb250YWluZXJSZWYucHJvdG90eXBlLmluc2VydCA9IGZ1bmN0aW9uICh2aWV3UmVmLCBpbmRleCkgeyB9O1xuICAgIC8qKlxuICAgICAqIE1vdmVzIGEgVmlldyBpZGVudGlmaWVkIGJ5IGEge1xcQGxpbmsgVmlld1JlZn0gaW50byB0aGUgY29udGFpbmVyIGF0IHRoZSBzcGVjaWZpZWQgYGluZGV4YC5cbiAgICAgKlxuICAgICAqIFJldHVybnMgdGhlIGluc2VydGVkIHtcXEBsaW5rIFZpZXdSZWZ9LlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7P30gdmlld1JlZlxuICAgICAqIEBwYXJhbSB7P30gY3VycmVudEluZGV4XG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBWaWV3Q29udGFpbmVyUmVmLnByb3RvdHlwZS5tb3ZlID0gZnVuY3Rpb24gKHZpZXdSZWYsIGN1cnJlbnRJbmRleCkgeyB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBWaWV3LCBzcGVjaWZpZWQgdmlhIHtcXEBsaW5rIFZpZXdSZWZ9LCB3aXRoaW4gdGhlIGN1cnJlbnQgY29udGFpbmVyIG9yXG4gICAgICogYC0xYCBpZiB0aGlzIGNvbnRhaW5lciBkb2Vzbid0IGNvbnRhaW4gdGhlIFZpZXcuXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHBhcmFtIHs/fSB2aWV3UmVmXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBWaWV3Q29udGFpbmVyUmVmLnByb3RvdHlwZS5pbmRleE9mID0gZnVuY3Rpb24gKHZpZXdSZWYpIHsgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyBhIFZpZXcgYXR0YWNoZWQgdG8gdGhpcyBjb250YWluZXIgYXQgdGhlIHNwZWNpZmllZCBgaW5kZXhgLlxuICAgICAqXG4gICAgICogSWYgYGluZGV4YCBpcyBub3Qgc3BlY2lmaWVkLCB0aGUgbGFzdCBWaWV3IGluIHRoZSBjb250YWluZXIgd2lsbCBiZSByZW1vdmVkLlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7Pz19IGluZGV4XG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBWaWV3Q29udGFpbmVyUmVmLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoaW5kZXgpIHsgfTtcbiAgICAvKipcbiAgICAgKiBVc2UgYWxvbmcgd2l0aCB7XFxAbGluayAjaW5zZXJ0fSB0byBtb3ZlIGEgVmlldyB3aXRoaW4gdGhlIGN1cnJlbnQgY29udGFpbmVyLlxuICAgICAqXG4gICAgICogSWYgdGhlIGBpbmRleGAgcGFyYW0gaXMgb21pdHRlZCwgdGhlIGxhc3Qge1xcQGxpbmsgVmlld1JlZn0gaXMgZGV0YWNoZWQuXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHBhcmFtIHs/PX0gaW5kZXhcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFZpZXdDb250YWluZXJSZWYucHJvdG90eXBlLmRldGFjaCA9IGZ1bmN0aW9uIChpbmRleCkgeyB9O1xuICAgIHJldHVybiBWaWV3Q29udGFpbmVyUmVmO1xufSgpKTtcbi8qKlxuICogXFxAc3RhYmxlXG4gKiBAYWJzdHJhY3RcbiAqL1xudmFyIENoYW5nZURldGVjdG9yUmVmID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDaGFuZ2VEZXRlY3RvclJlZigpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWFya3MgYWxsIHtcXEBsaW5rIENoYW5nZURldGVjdGlvblN0cmF0ZWd5I09uUHVzaH0gYW5jZXN0b3JzIGFzIHRvIGJlIGNoZWNrZWQuXG4gICAgICpcbiAgICAgKiA8IS0tIFRPRE86IEFkZCBhIGxpbmsgdG8gYSBjaGFwdGVyIG9uIE9uUHVzaCBjb21wb25lbnRzIC0tPlxuICAgICAqXG4gICAgICogIyMjIEV4YW1wbGUgKFtsaXZlIGRlbW9dKGh0dHA6Ly9wbG5rci5jby9lZGl0L0dDNTEyYj9wPXByZXZpZXcpKVxuICAgICAqXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIFxcQENvbXBvbmVudCh7XG4gICAgICogICBzZWxlY3RvcjogJ2NtcCcsXG4gICAgICogICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbiAgICAgKiAgIHRlbXBsYXRlOiBgTnVtYmVyIG9mIHRpY2tzOiB7e251bWJlck9mVGlja3N9fWBcbiAgICAgKiB9KVxuICAgICAqIGNsYXNzIENtcCB7XG4gICAgICogICBudW1iZXJPZlRpY2tzID0gMDtcbiAgICAgKlxuICAgICAqICAgY29uc3RydWN0b3IocHJpdmF0ZSByZWY6IENoYW5nZURldGVjdG9yUmVmKSB7XG4gICAgICogICAgIHNldEludGVydmFsKCgpID0+IHtcbiAgICAgKiAgICAgICB0aGlzLm51bWJlck9mVGlja3MrKztcbiAgICAgKiAgICAgICAvLyB0aGUgZm9sbG93aW5nIGlzIHJlcXVpcmVkLCBvdGhlcndpc2UgdGhlIHZpZXcgd2lsbCBub3QgYmUgdXBkYXRlZFxuICAgICAqICAgICAgIHRoaXMucmVmLm1hcmtGb3JDaGVjaygpO1xuICAgICAqICAgICB9LCAxMDAwKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBcXEBDb21wb25lbnQoe1xuICAgICAqICAgc2VsZWN0b3I6ICdhcHAnLFxuICAgICAqICAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG4gICAgICogICB0ZW1wbGF0ZTogYFxuICAgICAqICAgICA8Y21wPjxjbXA+XG4gICAgICogICBgLFxuICAgICAqIH0pXG4gICAgICogY2xhc3MgQXBwIHtcbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBDaGFuZ2VEZXRlY3RvclJlZi5wcm90b3R5cGUubWFya0ZvckNoZWNrID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIC8qKlxuICAgICAqIERldGFjaGVzIHRoZSBjaGFuZ2UgZGV0ZWN0b3IgZnJvbSB0aGUgY2hhbmdlIGRldGVjdG9yIHRyZWUuXG4gICAgICpcbiAgICAgKiBUaGUgZGV0YWNoZWQgY2hhbmdlIGRldGVjdG9yIHdpbGwgbm90IGJlIGNoZWNrZWQgdW50aWwgaXQgaXMgcmVhdHRhY2hlZC5cbiAgICAgKlxuICAgICAqIFRoaXMgY2FuIGFsc28gYmUgdXNlZCBpbiBjb21iaW5hdGlvbiB3aXRoIHtcXEBsaW5rIENoYW5nZURldGVjdG9yUmVmI2RldGVjdENoYW5nZXN9IHRvIGltcGxlbWVudFxuICAgICAqIGxvY2FsIGNoYW5nZVxuICAgICAqIGRldGVjdGlvbiBjaGVja3MuXG4gICAgICpcbiAgICAgKiA8IS0tIFRPRE86IEFkZCBhIGxpbmsgdG8gYSBjaGFwdGVyIG9uIGRldGFjaC9yZWF0dGFjaC9sb2NhbCBkaWdlc3QgLS0+XG4gICAgICogPCEtLSBUT0RPOiBBZGQgYSBsaXZlIGRlbW8gb25jZSByZWYuZGV0ZWN0Q2hhbmdlcyBpcyBtZXJnZWQgaW50byBtYXN0ZXIgLS0+XG4gICAgICpcbiAgICAgKiAjIyMgRXhhbXBsZVxuICAgICAqXG4gICAgICogVGhlIGZvbGxvd2luZyBleGFtcGxlIGRlZmluZXMgYSBjb21wb25lbnQgd2l0aCBhIGxhcmdlIGxpc3Qgb2YgcmVhZG9ubHkgZGF0YS5cbiAgICAgKiBJbWFnaW5lIHRoZSBkYXRhIGNoYW5nZXMgY29uc3RhbnRseSwgbWFueSB0aW1lcyBwZXIgc2Vjb25kLiBGb3IgcGVyZm9ybWFuY2UgcmVhc29ucyxcbiAgICAgKiB3ZSB3YW50IHRvIGNoZWNrIGFuZCB1cGRhdGUgdGhlIGxpc3QgZXZlcnkgZml2ZSBzZWNvbmRzLiBXZSBjYW4gZG8gdGhhdCBieSBkZXRhY2hpbmdcbiAgICAgKiB0aGUgY29tcG9uZW50J3MgY2hhbmdlIGRldGVjdG9yIGFuZCBkb2luZyBhIGxvY2FsIGNoZWNrIGV2ZXJ5IGZpdmUgc2Vjb25kcy5cbiAgICAgKlxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBjbGFzcyBEYXRhUHJvdmlkZXIge1xuICAgICAqICAgLy8gaW4gYSByZWFsIGFwcGxpY2F0aW9uIHRoZSByZXR1cm5lZCBkYXRhIHdpbGwgYmUgZGlmZmVyZW50IGV2ZXJ5IHRpbWVcbiAgICAgKiAgIGdldCBkYXRhKCkge1xuICAgICAqICAgICByZXR1cm4gWzEsMiwzLDQsNV07XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogXFxAQ29tcG9uZW50KHtcbiAgICAgKiAgIHNlbGVjdG9yOiAnZ2lhbnQtbGlzdCcsXG4gICAgICogICB0ZW1wbGF0ZTogYFxuICAgICAqICAgICA8bGkgKm5nRm9yPVwibGV0IGQgb2YgZGF0YVByb3ZpZGVyLmRhdGFcIj5EYXRhIHt7ZH19PC9saT5cbiAgICAgKiAgIGAsXG4gICAgICogfSlcbiAgICAgKiBjbGFzcyBHaWFudExpc3Qge1xuICAgICAqICAgY29uc3RydWN0b3IocHJpdmF0ZSByZWY6IENoYW5nZURldGVjdG9yUmVmLCBwcml2YXRlIGRhdGFQcm92aWRlcjogRGF0YVByb3ZpZGVyKSB7XG4gICAgICogICAgIHJlZi5kZXRhY2goKTtcbiAgICAgKiAgICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAqICAgICAgIHRoaXMucmVmLmRldGVjdENoYW5nZXMoKTtcbiAgICAgKiAgICAgfSwgNTAwMCk7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogXFxAQ29tcG9uZW50KHtcbiAgICAgKiAgIHNlbGVjdG9yOiAnYXBwJyxcbiAgICAgKiAgIHByb3ZpZGVyczogW0RhdGFQcm92aWRlcl0sXG4gICAgICogICB0ZW1wbGF0ZTogYFxuICAgICAqICAgICA8Z2lhbnQtbGlzdD48Z2lhbnQtbGlzdD5cbiAgICAgKiAgIGAsXG4gICAgICogfSlcbiAgICAgKiBjbGFzcyBBcHAge1xuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIENoYW5nZURldGVjdG9yUmVmLnByb3RvdHlwZS5kZXRhY2ggPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHRoZSBjaGFuZ2UgZGV0ZWN0b3IgYW5kIGl0cyBjaGlsZHJlbi5cbiAgICAgKlxuICAgICAqIFRoaXMgY2FuIGFsc28gYmUgdXNlZCBpbiBjb21iaW5hdGlvbiB3aXRoIHtcXEBsaW5rIENoYW5nZURldGVjdG9yUmVmI2RldGFjaH0gdG8gaW1wbGVtZW50IGxvY2FsXG4gICAgICogY2hhbmdlIGRldGVjdGlvblxuICAgICAqIGNoZWNrcy5cbiAgICAgKlxuICAgICAqIDwhLS0gVE9ETzogQWRkIGEgbGluayB0byBhIGNoYXB0ZXIgb24gZGV0YWNoL3JlYXR0YWNoL2xvY2FsIGRpZ2VzdCAtLT5cbiAgICAgKiA8IS0tIFRPRE86IEFkZCBhIGxpdmUgZGVtbyBvbmNlIHJlZi5kZXRlY3RDaGFuZ2VzIGlzIG1lcmdlZCBpbnRvIG1hc3RlciAtLT5cbiAgICAgKlxuICAgICAqICMjIyBFeGFtcGxlXG4gICAgICpcbiAgICAgKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgZGVmaW5lcyBhIGNvbXBvbmVudCB3aXRoIGEgbGFyZ2UgbGlzdCBvZiByZWFkb25seSBkYXRhLlxuICAgICAqIEltYWdpbmUsIHRoZSBkYXRhIGNoYW5nZXMgY29uc3RhbnRseSwgbWFueSB0aW1lcyBwZXIgc2Vjb25kLiBGb3IgcGVyZm9ybWFuY2UgcmVhc29ucyxcbiAgICAgKiB3ZSB3YW50IHRvIGNoZWNrIGFuZCB1cGRhdGUgdGhlIGxpc3QgZXZlcnkgZml2ZSBzZWNvbmRzLlxuICAgICAqXG4gICAgICogV2UgY2FuIGRvIHRoYXQgYnkgZGV0YWNoaW5nIHRoZSBjb21wb25lbnQncyBjaGFuZ2UgZGV0ZWN0b3IgYW5kIGRvaW5nIGEgbG9jYWwgY2hhbmdlIGRldGVjdGlvblxuICAgICAqIGNoZWNrXG4gICAgICogZXZlcnkgZml2ZSBzZWNvbmRzLlxuICAgICAqXG4gICAgICogU2VlIHtcXEBsaW5rIENoYW5nZURldGVjdG9yUmVmI2RldGFjaH0gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBDaGFuZ2VEZXRlY3RvclJlZi5wcm90b3R5cGUuZGV0ZWN0Q2hhbmdlcyA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICAvKipcbiAgICAgKiBDaGVja3MgdGhlIGNoYW5nZSBkZXRlY3RvciBhbmQgaXRzIGNoaWxkcmVuLCBhbmQgdGhyb3dzIGlmIGFueSBjaGFuZ2VzIGFyZSBkZXRlY3RlZC5cbiAgICAgKlxuICAgICAqIFRoaXMgaXMgdXNlZCBpbiBkZXZlbG9wbWVudCBtb2RlIHRvIHZlcmlmeSB0aGF0IHJ1bm5pbmcgY2hhbmdlIGRldGVjdGlvbiBkb2Vzbid0IGludHJvZHVjZVxuICAgICAqIG90aGVyIGNoYW5nZXMuXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBDaGFuZ2VEZXRlY3RvclJlZi5wcm90b3R5cGUuY2hlY2tOb0NoYW5nZXMgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgLyoqXG4gICAgICogUmVhdHRhY2ggdGhlIGNoYW5nZSBkZXRlY3RvciB0byB0aGUgY2hhbmdlIGRldGVjdG9yIHRyZWUuXG4gICAgICpcbiAgICAgKiBUaGlzIGFsc28gbWFya3MgT25QdXNoIGFuY2VzdG9ycyBhcyB0byBiZSBjaGVja2VkLiBUaGlzIHJlYXR0YWNoZWQgY2hhbmdlIGRldGVjdG9yIHdpbGwgYmVcbiAgICAgKiBjaGVja2VkIGR1cmluZyB0aGUgbmV4dCBjaGFuZ2UgZGV0ZWN0aW9uIHJ1bi5cbiAgICAgKlxuICAgICAqIDwhLS0gVE9ETzogQWRkIGEgbGluayB0byBhIGNoYXB0ZXIgb24gZGV0YWNoL3JlYXR0YWNoL2xvY2FsIGRpZ2VzdCAtLT5cbiAgICAgKlxuICAgICAqICMjIyBFeGFtcGxlIChbbGl2ZSBkZW1vXShodHRwOi8vcGxua3IuY28vZWRpdC9hVWhaaGE/cD1wcmV2aWV3KSlcbiAgICAgKlxuICAgICAqIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSBjcmVhdGVzIGEgY29tcG9uZW50IGRpc3BsYXlpbmcgYGxpdmVgIGRhdGEuIFRoZSBjb21wb25lbnQgd2lsbCBkZXRhY2hcbiAgICAgKiBpdHMgY2hhbmdlIGRldGVjdG9yIGZyb20gdGhlIG1haW4gY2hhbmdlIGRldGVjdG9yIHRyZWUgd2hlbiB0aGUgY29tcG9uZW50J3MgbGl2ZSBwcm9wZXJ0eVxuICAgICAqIGlzIHNldCB0byBmYWxzZS5cbiAgICAgKlxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBjbGFzcyBEYXRhUHJvdmlkZXIge1xuICAgICAqICAgZGF0YSA9IDE7XG4gICAgICpcbiAgICAgKiAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAqICAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICogICAgICAgdGhpcy5kYXRhID0gdGhpcy5kYXRhICogMjtcbiAgICAgKiAgICAgfSwgNTAwKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBcXEBDb21wb25lbnQoe1xuICAgICAqICAgc2VsZWN0b3I6ICdsaXZlLWRhdGEnLFxuICAgICAqICAgaW5wdXRzOiBbJ2xpdmUnXSxcbiAgICAgKiAgIHRlbXBsYXRlOiAnRGF0YToge3tkYXRhUHJvdmlkZXIuZGF0YX19J1xuICAgICAqIH0pXG4gICAgICogY2xhc3MgTGl2ZURhdGEge1xuICAgICAqICAgY29uc3RydWN0b3IocHJpdmF0ZSByZWY6IENoYW5nZURldGVjdG9yUmVmLCBwcml2YXRlIGRhdGFQcm92aWRlcjogRGF0YVByb3ZpZGVyKSB7fVxuICAgICAqXG4gICAgICogICBzZXQgbGl2ZSh2YWx1ZSkge1xuICAgICAqICAgICBpZiAodmFsdWUpIHtcbiAgICAgKiAgICAgICB0aGlzLnJlZi5yZWF0dGFjaCgpO1xuICAgICAqICAgICB9IGVsc2Uge1xuICAgICAqICAgICAgIHRoaXMucmVmLmRldGFjaCgpO1xuICAgICAqICAgICB9XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogXFxAQ29tcG9uZW50KHtcbiAgICAgKiAgIHNlbGVjdG9yOiAnYXBwJyxcbiAgICAgKiAgIHByb3ZpZGVyczogW0RhdGFQcm92aWRlcl0sXG4gICAgICogICB0ZW1wbGF0ZTogYFxuICAgICAqICAgICBMaXZlIFVwZGF0ZTogPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIFsobmdNb2RlbCldPVwibGl2ZVwiPlxuICAgICAqICAgICA8bGl2ZS1kYXRhIFtsaXZlXT1cImxpdmVcIj48bGl2ZS1kYXRhPlxuICAgICAqICAgYCxcbiAgICAgKiB9KVxuICAgICAqIGNsYXNzIEFwcCB7XG4gICAgICogICBsaXZlID0gdHJ1ZTtcbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBDaGFuZ2VEZXRlY3RvclJlZi5wcm90b3R5cGUucmVhdHRhY2ggPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgcmV0dXJuIENoYW5nZURldGVjdG9yUmVmO1xufSgpKTtcbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogXFxAc3RhYmxlXG4gKiBAYWJzdHJhY3RcbiAqL1xudmFyIFZpZXdSZWYgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhWaWV3UmVmLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFZpZXdSZWYoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIHZpZXcgYW5kIGFsbCBvZiB0aGUgZGF0YSBzdHJ1Y3R1cmVzIGFzc29jaWF0ZWQgd2l0aCBpdC5cbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFZpZXdSZWYucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgLyoqXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBWaWV3UmVmLnByb3RvdHlwZS5kZXN0cm95ZWQgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgLyoqXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHBhcmFtIHs/fSBjYWxsYmFja1xuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgVmlld1JlZi5wcm90b3R5cGUub25EZXN0cm95ID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7IH07XG4gICAgcmV0dXJuIFZpZXdSZWY7XG59KENoYW5nZURldGVjdG9yUmVmKSk7XG4vKipcbiAqIFJlcHJlc2VudHMgYW4gQW5ndWxhciBWaWV3LlxuICpcbiAqIDwhLS0gVE9ETzogbW92ZSB0aGUgbmV4dCB0d28gcGFyYWdyYXBocyB0byB0aGUgZGV2IGd1aWRlIC0tPlxuICogQSBWaWV3IGlzIGEgZnVuZGFtZW50YWwgYnVpbGRpbmcgYmxvY2sgb2YgdGhlIGFwcGxpY2F0aW9uIFVJLiBJdCBpcyB0aGUgc21hbGxlc3QgZ3JvdXBpbmcgb2ZcbiAqIEVsZW1lbnRzIHdoaWNoIGFyZSBjcmVhdGVkIGFuZCBkZXN0cm95ZWQgdG9nZXRoZXIuXG4gKlxuICogUHJvcGVydGllcyBvZiBlbGVtZW50cyBpbiBhIFZpZXcgY2FuIGNoYW5nZSwgYnV0IHRoZSBzdHJ1Y3R1cmUgKG51bWJlciBhbmQgb3JkZXIpIG9mIGVsZW1lbnRzIGluXG4gKiBhIFZpZXcgY2Fubm90LiBDaGFuZ2luZyB0aGUgc3RydWN0dXJlIG9mIEVsZW1lbnRzIGNhbiBvbmx5IGJlIGRvbmUgYnkgaW5zZXJ0aW5nLCBtb3Zpbmcgb3JcbiAqIHJlbW92aW5nIG5lc3RlZCBWaWV3cyB2aWEgYSB7XFxAbGluayBWaWV3Q29udGFpbmVyUmVmfS4gRWFjaCBWaWV3IGNhbiBjb250YWluIG1hbnkgVmlldyBDb250YWluZXJzLlxuICogPCEtLSAvVE9ETyAtLT5cbiAqXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIEdpdmVuIHRoaXMgdGVtcGxhdGUuLi5cbiAqXG4gKiBgYGBcbiAqIENvdW50OiB7e2l0ZW1zLmxlbmd0aH19XG4gKiA8dWw+XG4gKiAgIDxsaSAqbmdGb3I9XCJsZXQgIGl0ZW0gb2YgaXRlbXNcIj57e2l0ZW19fTwvbGk+XG4gKiA8L3VsPlxuICogYGBgXG4gKlxuICogV2UgaGF2ZSB0d28ge1xcQGxpbmsgVGVtcGxhdGVSZWZ9czpcbiAqXG4gKiBPdXRlciB7XFxAbGluayBUZW1wbGF0ZVJlZn06XG4gKiBgYGBcbiAqIENvdW50OiB7e2l0ZW1zLmxlbmd0aH19XG4gKiA8dWw+XG4gKiAgIDxuZy10ZW1wbGF0ZSBuZ0ZvciBsZXQtaXRlbSBbbmdGb3JPZl09XCJpdGVtc1wiPjwvbmctdGVtcGxhdGU+XG4gKiA8L3VsPlxuICogYGBgXG4gKlxuICogSW5uZXIge1xcQGxpbmsgVGVtcGxhdGVSZWZ9OlxuICogYGBgXG4gKiAgIDxsaT57e2l0ZW19fTwvbGk+XG4gKiBgYGBcbiAqXG4gKiBOb3RpY2UgdGhhdCB0aGUgb3JpZ2luYWwgdGVtcGxhdGUgaXMgYnJva2VuIGRvd24gaW50byB0d28gc2VwYXJhdGUge1xcQGxpbmsgVGVtcGxhdGVSZWZ9cy5cbiAqXG4gKiBUaGUgb3V0ZXIvaW5uZXIge1xcQGxpbmsgVGVtcGxhdGVSZWZ9cyBhcmUgdGhlbiBhc3NlbWJsZWQgaW50byB2aWV3cyBsaWtlIHNvOlxuICpcbiAqIGBgYFxuICogPCEtLSBWaWV3UmVmOiBvdXRlci0wIC0tPlxuICogQ291bnQ6IDJcbiAqIDx1bD5cbiAqICAgPG5nLXRlbXBsYXRlIHZpZXctY29udGFpbmVyLXJlZj48L25nLXRlbXBsYXRlPlxuICogICA8IS0tIFZpZXdSZWY6IGlubmVyLTEgLS0+PGxpPmZpcnN0PC9saT48IS0tIC9WaWV3UmVmOiBpbm5lci0xIC0tPlxuICogICA8IS0tIFZpZXdSZWY6IGlubmVyLTIgLS0+PGxpPnNlY29uZDwvbGk+PCEtLSAvVmlld1JlZjogaW5uZXItMiAtLT5cbiAqIDwvdWw+XG4gKiA8IS0tIC9WaWV3UmVmOiBvdXRlci0wIC0tPlxuICogYGBgXG4gKiBcXEBleHBlcmltZW50YWxcbiAqIEBhYnN0cmFjdFxuICovXG52YXIgRW1iZWRkZWRWaWV3UmVmID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRW1iZWRkZWRWaWV3UmVmLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEVtYmVkZGVkVmlld1JlZigpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIEVtYmVkZGVkVmlld1JlZi5wcm90b3R5cGUuY29udGV4dCA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICAvKipcbiAgICAgKiBAYWJzdHJhY3RcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIEVtYmVkZGVkVmlld1JlZi5wcm90b3R5cGUucm9vdE5vZGVzID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIHJldHVybiBFbWJlZGRlZFZpZXdSZWY7XG59KFZpZXdSZWYpKTtcbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8vIFB1YmxpYyBBUEkgZm9yIGNvbXBpbGVyXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG52YXIgRXZlbnRMaXN0ZW5lciA9IChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBuYW1lXG4gICAgICogQHBhcmFtIHs/fSBjYWxsYmFja1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIEV2ZW50TGlzdGVuZXIobmFtZSwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIH1cbiAgICByZXR1cm4gRXZlbnRMaXN0ZW5lcjtcbn0oKSk7XG4vKipcbiAqIFxcQGV4cGVyaW1lbnRhbCBBbGwgZGVidWdnaW5nIGFwaXMgYXJlIGN1cnJlbnRseSBleHBlcmltZW50YWwuXG4gKi9cbnZhciBEZWJ1Z05vZGUgPSAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gbmF0aXZlTm9kZVxuICAgICAqIEBwYXJhbSB7P30gcGFyZW50XG4gICAgICogQHBhcmFtIHs/fSBfZGVidWdDb250ZXh0XG4gICAgICovXG4gICAgZnVuY3Rpb24gRGVidWdOb2RlKG5hdGl2ZU5vZGUsIHBhcmVudCwgX2RlYnVnQ29udGV4dCkge1xuICAgICAgICB0aGlzLl9kZWJ1Z0NvbnRleHQgPSBfZGVidWdDb250ZXh0O1xuICAgICAgICB0aGlzLm5hdGl2ZU5vZGUgPSBuYXRpdmVOb2RlO1xuICAgICAgICBpZiAocGFyZW50ICYmIHBhcmVudCBpbnN0YW5jZW9mIERlYnVnRWxlbWVudCkge1xuICAgICAgICAgICAgcGFyZW50LmFkZENoaWxkKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGlzdGVuZXJzID0gW107XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWJ1Z05vZGUucHJvdG90eXBlLCBcImluamVjdG9yXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm4gez99XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX2RlYnVnQ29udGV4dC5pbmplY3RvcjsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERlYnVnTm9kZS5wcm90b3R5cGUsIFwiY29tcG9uZW50SW5zdGFuY2VcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybiB7P31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fZGVidWdDb250ZXh0LmNvbXBvbmVudDsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERlYnVnTm9kZS5wcm90b3R5cGUsIFwiY29udGV4dFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9kZWJ1Z0NvbnRleHQuY29udGV4dDsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERlYnVnTm9kZS5wcm90b3R5cGUsIFwicmVmZXJlbmNlc1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9kZWJ1Z0NvbnRleHQucmVmZXJlbmNlczsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERlYnVnTm9kZS5wcm90b3R5cGUsIFwicHJvdmlkZXJUb2tlbnNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybiB7P31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fZGVidWdDb250ZXh0LnByb3ZpZGVyVG9rZW5zOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVidWdOb2RlLnByb3RvdHlwZSwgXCJzb3VyY2VcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdjRcbiAgICAgICAgICogQHJldHVybiB7P31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gJ0RlcHJlY2F0ZWQgc2luY2UgdjQnOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gRGVidWdOb2RlO1xufSgpKTtcbi8qKlxuICogXFxAZXhwZXJpbWVudGFsIEFsbCBkZWJ1Z2dpbmcgYXBpcyBhcmUgY3VycmVudGx5IGV4cGVyaW1lbnRhbC5cbiAqL1xudmFyIERlYnVnRWxlbWVudCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKERlYnVnRWxlbWVudCwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IG5hdGl2ZU5vZGVcbiAgICAgKiBAcGFyYW0gez99IHBhcmVudFxuICAgICAqIEBwYXJhbSB7P30gX2RlYnVnQ29udGV4dFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIERlYnVnRWxlbWVudChuYXRpdmVOb2RlLCBwYXJlbnQsIF9kZWJ1Z0NvbnRleHQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbmF0aXZlTm9kZSwgcGFyZW50LCBfZGVidWdDb250ZXh0KSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5wcm9wZXJ0aWVzID0ge307XG4gICAgICAgIF90aGlzLmF0dHJpYnV0ZXMgPSB7fTtcbiAgICAgICAgX3RoaXMuY2xhc3NlcyA9IHt9O1xuICAgICAgICBfdGhpcy5zdHlsZXMgPSB7fTtcbiAgICAgICAgX3RoaXMuY2hpbGROb2RlcyA9IFtdO1xuICAgICAgICBfdGhpcy5uYXRpdmVFbGVtZW50ID0gbmF0aXZlTm9kZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IGNoaWxkXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBEZWJ1Z0VsZW1lbnQucHJvdG90eXBlLmFkZENoaWxkID0gZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgIGlmIChjaGlsZCkge1xuICAgICAgICAgICAgdGhpcy5jaGlsZE5vZGVzLnB1c2goY2hpbGQpO1xuICAgICAgICAgICAgY2hpbGQucGFyZW50ID0gdGhpcztcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBjaGlsZFxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgRGVidWdFbGVtZW50LnByb3RvdHlwZS5yZW1vdmVDaGlsZCA9IGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBjaGlsZEluZGV4ID0gdGhpcy5jaGlsZE5vZGVzLmluZGV4T2YoY2hpbGQpO1xuICAgICAgICBpZiAoY2hpbGRJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIGNoaWxkLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmNoaWxkTm9kZXMuc3BsaWNlKGNoaWxkSW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IGNoaWxkXG4gICAgICogQHBhcmFtIHs/fSBuZXdDaGlsZHJlblxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgRGVidWdFbGVtZW50LnByb3RvdHlwZS5pbnNlcnRDaGlsZHJlbkFmdGVyID0gZnVuY3Rpb24gKGNoaWxkLCBuZXdDaGlsZHJlbikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBzaWJsaW5nSW5kZXggPSB0aGlzLmNoaWxkTm9kZXMuaW5kZXhPZihjaGlsZCk7XG4gICAgICAgIGlmIChzaWJsaW5nSW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAoX2EgPSB0aGlzLmNoaWxkTm9kZXMpLnNwbGljZS5hcHBseShfYSwgW3NpYmxpbmdJbmRleCArIDEsIDBdLmNvbmNhdChuZXdDaGlsZHJlbikpO1xuICAgICAgICAgICAgbmV3Q2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoYykge1xuICAgICAgICAgICAgICAgIGlmIChjLnBhcmVudCkge1xuICAgICAgICAgICAgICAgICAgICBjLnBhcmVudC5yZW1vdmVDaGlsZChjKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYy5wYXJlbnQgPSBfdGhpcztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfYTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gcmVmQ2hpbGRcbiAgICAgKiBAcGFyYW0gez99IG5ld0NoaWxkXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBEZWJ1Z0VsZW1lbnQucHJvdG90eXBlLmluc2VydEJlZm9yZSA9IGZ1bmN0aW9uIChyZWZDaGlsZCwgbmV3Q2hpbGQpIHtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcmVmSW5kZXggPSB0aGlzLmNoaWxkTm9kZXMuaW5kZXhPZihyZWZDaGlsZCk7XG4gICAgICAgIGlmIChyZWZJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQobmV3Q2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKG5ld0NoaWxkLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIG5ld0NoaWxkLnBhcmVudC5yZW1vdmVDaGlsZChuZXdDaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXdDaGlsZC5wYXJlbnQgPSB0aGlzO1xuICAgICAgICAgICAgdGhpcy5jaGlsZE5vZGVzLnNwbGljZShyZWZJbmRleCwgMCwgbmV3Q2hpbGQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IHByZWRpY2F0ZVxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgRGVidWdFbGVtZW50LnByb3RvdHlwZS5xdWVyeSA9IGZ1bmN0aW9uIChwcmVkaWNhdGUpIHtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcmVzdWx0cyA9IHRoaXMucXVlcnlBbGwocHJlZGljYXRlKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdHNbMF0gfHwgbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gcHJlZGljYXRlXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBEZWJ1Z0VsZW1lbnQucHJvdG90eXBlLnF1ZXJ5QWxsID0gZnVuY3Rpb24gKHByZWRpY2F0ZSkge1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBtYXRjaGVzID0gW107XG4gICAgICAgIF9xdWVyeUVsZW1lbnRDaGlsZHJlbih0aGlzLCBwcmVkaWNhdGUsIG1hdGNoZXMpO1xuICAgICAgICByZXR1cm4gbWF0Y2hlcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gcHJlZGljYXRlXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBEZWJ1Z0VsZW1lbnQucHJvdG90eXBlLnF1ZXJ5QWxsTm9kZXMgPSBmdW5jdGlvbiAocHJlZGljYXRlKSB7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIG1hdGNoZXMgPSBbXTtcbiAgICAgICAgX3F1ZXJ5Tm9kZUNoaWxkcmVuKHRoaXMsIHByZWRpY2F0ZSwgbWF0Y2hlcyk7XG4gICAgICAgIHJldHVybiBtYXRjaGVzO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERlYnVnRWxlbWVudC5wcm90b3R5cGUsIFwiY2hpbGRyZW5cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybiB7P31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICh0aGlzLmNoaWxkTm9kZXMuZmlsdGVyKGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiBub2RlIGluc3RhbmNlb2YgRGVidWdFbGVtZW50OyB9KSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gZXZlbnROYW1lXG4gICAgICogQHBhcmFtIHs/fSBldmVudE9ialxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgRGVidWdFbGVtZW50LnByb3RvdHlwZS50cmlnZ2VyRXZlbnRIYW5kbGVyID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgZXZlbnRPYmopIHtcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGlmIChsaXN0ZW5lci5uYW1lID09IGV2ZW50TmFtZSkge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyLmNhbGxiYWNrKGV2ZW50T2JqKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gRGVidWdFbGVtZW50O1xufShEZWJ1Z05vZGUpKTtcbi8qKlxuICogXFxAZXhwZXJpbWVudGFsXG4gKiBAcGFyYW0gez99IGRlYnVnRWxzXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBhc05hdGl2ZUVsZW1lbnRzKGRlYnVnRWxzKSB7XG4gICAgcmV0dXJuIGRlYnVnRWxzLm1hcChmdW5jdGlvbiAoZWwpIHsgcmV0dXJuIGVsLm5hdGl2ZUVsZW1lbnQ7IH0pO1xufVxuLyoqXG4gKiBAcGFyYW0gez99IGVsZW1lbnRcbiAqIEBwYXJhbSB7P30gcHJlZGljYXRlXG4gKiBAcGFyYW0gez99IG1hdGNoZXNcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIF9xdWVyeUVsZW1lbnRDaGlsZHJlbihlbGVtZW50LCBwcmVkaWNhdGUsIG1hdGNoZXMpIHtcbiAgICBlbGVtZW50LmNoaWxkTm9kZXMuZm9yRWFjaChmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIERlYnVnRWxlbWVudCkge1xuICAgICAgICAgICAgaWYgKHByZWRpY2F0ZShub2RlKSkge1xuICAgICAgICAgICAgICAgIG1hdGNoZXMucHVzaChub2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9xdWVyeUVsZW1lbnRDaGlsZHJlbihub2RlLCBwcmVkaWNhdGUsIG1hdGNoZXMpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vKipcbiAqIEBwYXJhbSB7P30gcGFyZW50Tm9kZVxuICogQHBhcmFtIHs/fSBwcmVkaWNhdGVcbiAqIEBwYXJhbSB7P30gbWF0Y2hlc1xuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gX3F1ZXJ5Tm9kZUNoaWxkcmVuKHBhcmVudE5vZGUsIHByZWRpY2F0ZSwgbWF0Y2hlcykge1xuICAgIGlmIChwYXJlbnROb2RlIGluc3RhbmNlb2YgRGVidWdFbGVtZW50KSB7XG4gICAgICAgIHBhcmVudE5vZGUuY2hpbGROb2Rlcy5mb3JFYWNoKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICBpZiAocHJlZGljYXRlKG5vZGUpKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlcy5wdXNoKG5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBEZWJ1Z0VsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBfcXVlcnlOb2RlQ2hpbGRyZW4obm9kZSwgcHJlZGljYXRlLCBtYXRjaGVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuLy8gTmVlZCB0byBrZWVwIHRoZSBub2RlcyBpbiBhIGdsb2JhbCBNYXAgc28gdGhhdCBtdWx0aXBsZSBhbmd1bGFyIGFwcHMgYXJlIHN1cHBvcnRlZC5cbnZhciBfbmF0aXZlTm9kZVRvRGVidWdOb2RlID0gbmV3IE1hcCgpO1xuLyoqXG4gKiBcXEBleHBlcmltZW50YWxcbiAqIEBwYXJhbSB7P30gbmF0aXZlTm9kZVxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gZ2V0RGVidWdOb2RlKG5hdGl2ZU5vZGUpIHtcbiAgICByZXR1cm4gX25hdGl2ZU5vZGVUb0RlYnVnTm9kZS5nZXQobmF0aXZlTm9kZSkgfHwgbnVsbDtcbn1cbi8qKlxuICogQHJldHVybiB7P31cbiAqL1xuLyoqXG4gKiBAcGFyYW0gez99IG5vZGVcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGluZGV4RGVidWdOb2RlKG5vZGUpIHtcbiAgICBfbmF0aXZlTm9kZVRvRGVidWdOb2RlLnNldChub2RlLm5hdGl2ZU5vZGUsIG5vZGUpO1xufVxuLyoqXG4gKiBAcGFyYW0gez99IG5vZGVcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIHJlbW92ZURlYnVnTm9kZUZyb21JbmRleChub2RlKSB7XG4gICAgX25hdGl2ZU5vZGVUb0RlYnVnTm9kZS5kZWxldGUobm9kZS5uYXRpdmVOb2RlKTtcbn1cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQHBhcmFtIHs/fSBhXG4gKiBAcGFyYW0gez99IGJcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGRldk1vZGVFcXVhbChhLCBiKSB7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gaXNMaXN0TGlrZUl0ZXJhYmxlQSA9IGlzTGlzdExpa2VJdGVyYWJsZShhKTtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBpc0xpc3RMaWtlSXRlcmFibGVCID0gaXNMaXN0TGlrZUl0ZXJhYmxlKGIpO1xuICAgIGlmIChpc0xpc3RMaWtlSXRlcmFibGVBICYmIGlzTGlzdExpa2VJdGVyYWJsZUIpIHtcbiAgICAgICAgcmV0dXJuIGFyZUl0ZXJhYmxlc0VxdWFsKGEsIGIsIGRldk1vZGVFcXVhbCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBpc0FPYmplY3QgPSBhICYmICh0eXBlb2YgYSA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIGEgPT09ICdmdW5jdGlvbicpO1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBpc0JPYmplY3QgPSBiICYmICh0eXBlb2YgYiA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIGIgPT09ICdmdW5jdGlvbicpO1xuICAgICAgICBpZiAoIWlzTGlzdExpa2VJdGVyYWJsZUEgJiYgaXNBT2JqZWN0ICYmICFpc0xpc3RMaWtlSXRlcmFibGVCICYmIGlzQk9iamVjdCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbG9vc2VJZGVudGljYWwoYSwgYik7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEluZGljYXRlcyB0aGF0IHRoZSByZXN1bHQgb2YgYSB7XFxAbGluayBQaXBlfSB0cmFuc2Zvcm1hdGlvbiBoYXMgY2hhbmdlZCBldmVuIHRob3VnaCB0aGVcbiAqIHJlZmVyZW5jZVxuICogaGFzIG5vdCBjaGFuZ2VkLlxuICpcbiAqIFRoZSB3cmFwcGVkIHZhbHVlIHdpbGwgYmUgdW53cmFwcGVkIGJ5IGNoYW5nZSBkZXRlY3Rpb24sIGFuZCB0aGUgdW53cmFwcGVkIHZhbHVlIHdpbGwgYmUgc3RvcmVkLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogYGBgXG4gKiBpZiAodGhpcy5fbGF0ZXN0VmFsdWUgPT09IHRoaXMuX2xhdGVzdFJldHVybmVkVmFsdWUpIHtcbiAqICAgIHJldHVybiB0aGlzLl9sYXRlc3RSZXR1cm5lZFZhbHVlO1xuICogIH0gZWxzZSB7XG4gKiAgICB0aGlzLl9sYXRlc3RSZXR1cm5lZFZhbHVlID0gdGhpcy5fbGF0ZXN0VmFsdWU7XG4gKiAgICByZXR1cm4gV3JhcHBlZFZhbHVlLndyYXAodGhpcy5fbGF0ZXN0VmFsdWUpOyAvLyB0aGlzIHdpbGwgZm9yY2UgdXBkYXRlXG4gKiAgfVxuICogYGBgXG4gKiBcXEBzdGFibGVcbiAqL1xudmFyIFdyYXBwZWRWYWx1ZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSB3cmFwcGVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gV3JhcHBlZFZhbHVlKHdyYXBwZWQpIHtcbiAgICAgICAgdGhpcy53cmFwcGVkID0gd3JhcHBlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSB2YWx1ZVxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgV3JhcHBlZFZhbHVlLndyYXAgPSBmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIG5ldyBXcmFwcGVkVmFsdWUodmFsdWUpOyB9O1xuICAgIHJldHVybiBXcmFwcGVkVmFsdWU7XG59KCkpO1xuLyoqXG4gKiBIZWxwZXIgY2xhc3MgZm9yIHVud3JhcHBpbmcgV3JhcHBlZFZhbHVlIHNcbiAqL1xudmFyIFZhbHVlVW53cmFwcGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBWYWx1ZVVud3JhcHBlcigpIHtcbiAgICAgICAgdGhpcy5oYXNXcmFwcGVkVmFsdWUgPSBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSB2YWx1ZVxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgVmFsdWVVbndyYXBwZXIucHJvdG90eXBlLnVud3JhcCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBXcmFwcGVkVmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuaGFzV3JhcHBlZFZhbHVlID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS53cmFwcGVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgVmFsdWVVbndyYXBwZXIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkgeyB0aGlzLmhhc1dyYXBwZWRWYWx1ZSA9IGZhbHNlOyB9O1xuICAgIHJldHVybiBWYWx1ZVVud3JhcHBlcjtcbn0oKSk7XG4vKipcbiAqIFJlcHJlc2VudHMgYSBiYXNpYyBjaGFuZ2UgZnJvbSBhIHByZXZpb3VzIHRvIGEgbmV3IHZhbHVlLlxuICogXFxAc3RhYmxlXG4gKi9cbnZhciBTaW1wbGVDaGFuZ2UgPSAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gcHJldmlvdXNWYWx1ZVxuICAgICAqIEBwYXJhbSB7P30gY3VycmVudFZhbHVlXG4gICAgICogQHBhcmFtIHs/fSBmaXJzdENoYW5nZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNpbXBsZUNoYW5nZShwcmV2aW91c1ZhbHVlLCBjdXJyZW50VmFsdWUsIGZpcnN0Q2hhbmdlKSB7XG4gICAgICAgIHRoaXMucHJldmlvdXNWYWx1ZSA9IHByZXZpb3VzVmFsdWU7XG4gICAgICAgIHRoaXMuY3VycmVudFZhbHVlID0gY3VycmVudFZhbHVlO1xuICAgICAgICB0aGlzLmZpcnN0Q2hhbmdlID0gZmlyc3RDaGFuZ2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrIHdoZXRoZXIgdGhlIG5ldyB2YWx1ZSBpcyB0aGUgZmlyc3QgdmFsdWUgYXNzaWduZWQuXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBTaW1wbGVDaGFuZ2UucHJvdG90eXBlLmlzRmlyc3RDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmZpcnN0Q2hhbmdlOyB9O1xuICAgIHJldHVybiBTaW1wbGVDaGFuZ2U7XG59KCkpO1xuLyoqXG4gKiBAcGFyYW0gez99IG9ialxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gaXNMaXN0TGlrZUl0ZXJhYmxlKG9iaikge1xuICAgIGlmICghaXNKc09iamVjdChvYmopKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkob2JqKSB8fFxuICAgICAgICAoIShvYmogaW5zdGFuY2VvZiBNYXApICYmXG4gICAgICAgICAgICBnZXRTeW1ib2xJdGVyYXRvcigpIGluIG9iaik7IC8vIEpTIEl0ZXJhYmxlIGhhdmUgYSBTeW1ib2wuaXRlcmF0b3IgcHJvcFxufVxuLyoqXG4gKiBAcGFyYW0gez99IGFcbiAqIEBwYXJhbSB7P30gYlxuICogQHBhcmFtIHs/fSBjb21wYXJhdG9yXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBhcmVJdGVyYWJsZXNFcXVhbChhLCBiLCBjb21wYXJhdG9yKSB7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gaXRlcmF0b3IxID0gYVtnZXRTeW1ib2xJdGVyYXRvcigpXSgpO1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIGl0ZXJhdG9yMiA9IGJbZ2V0U3ltYm9sSXRlcmF0b3IoKV0oKTtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBpdGVtMSA9IGl0ZXJhdG9yMS5uZXh0KCk7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGl0ZW0yID0gaXRlcmF0b3IyLm5leHQoKTtcbiAgICAgICAgaWYgKGl0ZW0xLmRvbmUgJiYgaXRlbTIuZG9uZSlcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBpZiAoaXRlbTEuZG9uZSB8fCBpdGVtMi5kb25lKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoIWNvbXBhcmF0b3IoaXRlbTEudmFsdWUsIGl0ZW0yLnZhbHVlKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7P30gb2JqXG4gKiBAcGFyYW0gez99IGZuXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBpdGVyYXRlTGlzdExpa2Uob2JqLCBmbikge1xuICAgIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICAgICAgZm9yICh2YXIgLyoqIEB0eXBlIHs/fSAqLyBpID0gMDsgaSA8IG9iai5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZm4ob2JqW2ldKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gaXRlcmF0b3IgPSBvYmpbZ2V0U3ltYm9sSXRlcmF0b3IoKV0oKTtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gaXRlbSA9IHZvaWQgMDtcbiAgICAgICAgd2hpbGUgKCEoKGl0ZW0gPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpKSB7XG4gICAgICAgICAgICBmbihpdGVtLnZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQHBhcmFtIHs/fSBvXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBpc0pzT2JqZWN0KG8pIHtcbiAgICByZXR1cm4gbyAhPT0gbnVsbCAmJiAodHlwZW9mIG8gPT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIG8gPT09ICdvYmplY3QnKTtcbn1cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbnZhciBEZWZhdWx0SXRlcmFibGVEaWZmZXJGYWN0b3J5ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEZWZhdWx0SXRlcmFibGVEaWZmZXJGYWN0b3J5KCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IG9ialxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgRGVmYXVsdEl0ZXJhYmxlRGlmZmVyRmFjdG9yeS5wcm90b3R5cGUuc3VwcG9ydHMgPSBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBpc0xpc3RMaWtlSXRlcmFibGUob2JqKTsgfTtcbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCB2NC4wLjAgLSBDaGFuZ2VEZXRlY3RvclJlZiBpcyBub3QgdXNlZCBhbmQgaXMgbm8gbG9uZ2VyIGEgcGFyYW1ldGVyXG4gICAgICogQHRlbXBsYXRlIFZcbiAgICAgKiBAcGFyYW0gez89fSBjZFJlZk9yVHJhY2tCeVxuICAgICAqIEBwYXJhbSB7Pz19IHRyYWNrQnlGblxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgRGVmYXVsdEl0ZXJhYmxlRGlmZmVyRmFjdG9yeS5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24gKGNkUmVmT3JUcmFja0J5LCB0cmFja0J5Rm4pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEZWZhdWx0SXRlcmFibGVEaWZmZXIodHJhY2tCeUZuIHx8IChjZFJlZk9yVHJhY2tCeSkpO1xuICAgIH07XG4gICAgcmV0dXJuIERlZmF1bHRJdGVyYWJsZURpZmZlckZhY3Rvcnk7XG59KCkpO1xudmFyIHRyYWNrQnlJZGVudGl0eSA9IGZ1bmN0aW9uIChpbmRleCwgaXRlbSkgeyByZXR1cm4gaXRlbTsgfTtcbi8qKlxuICogQGRlcHJlY2F0ZWQgdjQuMC4wIC0gU2hvdWxkIG5vdCBiZSBwYXJ0IG9mIHB1YmxpYyBBUEkuXG4gKi9cbnZhciBEZWZhdWx0SXRlcmFibGVEaWZmZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Pz19IHRyYWNrQnlGblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIERlZmF1bHRJdGVyYWJsZURpZmZlcih0cmFja0J5Rm4pIHtcbiAgICAgICAgdGhpcy5fbGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5fY29sbGVjdGlvbiA9IG51bGw7XG4gICAgICAgIHRoaXMuX2xpbmtlZFJlY29yZHMgPSBudWxsO1xuICAgICAgICB0aGlzLl91bmxpbmtlZFJlY29yZHMgPSBudWxsO1xuICAgICAgICB0aGlzLl9wcmV2aW91c0l0SGVhZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2l0SGVhZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2l0VGFpbCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2FkZGl0aW9uc0hlYWQgPSBudWxsO1xuICAgICAgICB0aGlzLl9hZGRpdGlvbnNUYWlsID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbW92ZXNIZWFkID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbW92ZXNUYWlsID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcmVtb3ZhbHNIZWFkID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcmVtb3ZhbHNUYWlsID0gbnVsbDtcbiAgICAgICAgdGhpcy5faWRlbnRpdHlDaGFuZ2VzSGVhZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2lkZW50aXR5Q2hhbmdlc1RhaWwgPSBudWxsO1xuICAgICAgICB0aGlzLl90cmFja0J5Rm4gPSB0cmFja0J5Rm4gfHwgdHJhY2tCeUlkZW50aXR5O1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVmYXVsdEl0ZXJhYmxlRGlmZmVyLnByb3RvdHlwZSwgXCJjb2xsZWN0aW9uXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm4gez99XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX2NvbGxlY3Rpb247IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWZhdWx0SXRlcmFibGVEaWZmZXIucHJvdG90eXBlLCBcImxlbmd0aFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9sZW5ndGg7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gZm5cbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIERlZmF1bHRJdGVyYWJsZURpZmZlci5wcm90b3R5cGUuZm9yRWFjaEl0ZW0gPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcmVjb3JkO1xuICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX2l0SGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHQpIHtcbiAgICAgICAgICAgIGZuKHJlY29yZCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gZm5cbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIERlZmF1bHRJdGVyYWJsZURpZmZlci5wcm90b3R5cGUuZm9yRWFjaE9wZXJhdGlvbiA9IGZ1bmN0aW9uIChmbikge1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBuZXh0SXQgPSB0aGlzLl9pdEhlYWQ7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIG5leHRSZW1vdmUgPSB0aGlzLl9yZW1vdmFsc0hlYWQ7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGFkZFJlbW92ZU9mZnNldCA9IDA7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIG1vdmVPZmZzZXRzID0gbnVsbDtcbiAgICAgICAgd2hpbGUgKG5leHRJdCB8fCBuZXh0UmVtb3ZlKSB7XG4gICAgICAgICAgICAvLyBGaWd1cmUgb3V0IHdoaWNoIGlzIHRoZSBuZXh0IHJlY29yZCB0byBwcm9jZXNzXG4gICAgICAgICAgICAvLyBPcmRlcjogcmVtb3ZlLCBhZGQsIG1vdmVcbiAgICAgICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIHJlY29yZCA9ICFuZXh0UmVtb3ZlIHx8XG4gICAgICAgICAgICAgICAgbmV4dEl0ICYmICgobmV4dEl0LmN1cnJlbnRJbmRleCkpIDxcbiAgICAgICAgICAgICAgICAgICAgZ2V0UHJldmlvdXNJbmRleChuZXh0UmVtb3ZlLCBhZGRSZW1vdmVPZmZzZXQsIG1vdmVPZmZzZXRzKSA/ICgobmV4dEl0KSkgOlxuICAgICAgICAgICAgICAgIG5leHRSZW1vdmU7XG4gICAgICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBhZGpQcmV2aW91c0luZGV4ID0gZ2V0UHJldmlvdXNJbmRleChyZWNvcmQsIGFkZFJlbW92ZU9mZnNldCwgbW92ZU9mZnNldHMpO1xuICAgICAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gY3VycmVudEluZGV4ID0gcmVjb3JkLmN1cnJlbnRJbmRleDtcbiAgICAgICAgICAgIC8vIGNvbnN1bWUgdGhlIGl0ZW0sIGFuZCBhZGp1c3QgdGhlIGFkZFJlbW92ZU9mZnNldCBhbmQgdXBkYXRlIG1vdmVEaXN0YW5jZSBpZiBuZWNlc3NhcnlcbiAgICAgICAgICAgIGlmIChyZWNvcmQgPT09IG5leHRSZW1vdmUpIHtcbiAgICAgICAgICAgICAgICBhZGRSZW1vdmVPZmZzZXQtLTtcbiAgICAgICAgICAgICAgICBuZXh0UmVtb3ZlID0gbmV4dFJlbW92ZS5fbmV4dFJlbW92ZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXh0SXQgPSAoKG5leHRJdCkpLl9uZXh0O1xuICAgICAgICAgICAgICAgIGlmIChyZWNvcmQucHJldmlvdXNJbmRleCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZFJlbW92ZU9mZnNldCsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSU5WQVJJQU5UOiAgY3VycmVudEluZGV4IDwgcHJldmlvdXNJbmRleFxuICAgICAgICAgICAgICAgICAgICBpZiAoIW1vdmVPZmZzZXRzKVxuICAgICAgICAgICAgICAgICAgICAgICAgbW92ZU9mZnNldHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gbG9jYWxNb3ZlUHJldmlvdXNJbmRleCA9IGFkalByZXZpb3VzSW5kZXggLSBhZGRSZW1vdmVPZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGxvY2FsQ3VycmVudEluZGV4ID0gKChjdXJyZW50SW5kZXgpKSAtIGFkZFJlbW92ZU9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxvY2FsTW92ZVByZXZpb3VzSW5kZXggIT0gbG9jYWxDdXJyZW50SW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIC8qKiBAdHlwZSB7P30gKi8gaSA9IDA7IGkgPCBsb2NhbE1vdmVQcmV2aW91c0luZGV4OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBvZmZzZXQgPSBpIDwgbW92ZU9mZnNldHMubGVuZ3RoID8gbW92ZU9mZnNldHNbaV0gOiAobW92ZU9mZnNldHNbaV0gPSAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBpbmRleCA9IG9mZnNldCArIGk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxvY2FsQ3VycmVudEluZGV4IDw9IGluZGV4ICYmIGluZGV4IDwgbG9jYWxNb3ZlUHJldmlvdXNJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3ZlT2Zmc2V0c1tpXSA9IG9mZnNldCArIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcHJldmlvdXNJbmRleCA9IHJlY29yZC5wcmV2aW91c0luZGV4O1xuICAgICAgICAgICAgICAgICAgICAgICAgbW92ZU9mZnNldHNbcHJldmlvdXNJbmRleF0gPSBsb2NhbEN1cnJlbnRJbmRleCAtIGxvY2FsTW92ZVByZXZpb3VzSW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYWRqUHJldmlvdXNJbmRleCAhPT0gY3VycmVudEluZGV4KSB7XG4gICAgICAgICAgICAgICAgZm4ocmVjb3JkLCBhZGpQcmV2aW91c0luZGV4LCBjdXJyZW50SW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IGZuXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBEZWZhdWx0SXRlcmFibGVEaWZmZXIucHJvdG90eXBlLmZvckVhY2hQcmV2aW91c0l0ZW0gPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcmVjb3JkO1xuICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX3ByZXZpb3VzSXRIZWFkOyByZWNvcmQgIT09IG51bGw7IHJlY29yZCA9IHJlY29yZC5fbmV4dFByZXZpb3VzKSB7XG4gICAgICAgICAgICBmbihyZWNvcmQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IGZuXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBEZWZhdWx0SXRlcmFibGVEaWZmZXIucHJvdG90eXBlLmZvckVhY2hBZGRlZEl0ZW0gPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcmVjb3JkO1xuICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX2FkZGl0aW9uc0hlYWQ7IHJlY29yZCAhPT0gbnVsbDsgcmVjb3JkID0gcmVjb3JkLl9uZXh0QWRkZWQpIHtcbiAgICAgICAgICAgIGZuKHJlY29yZCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gZm5cbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIERlZmF1bHRJdGVyYWJsZURpZmZlci5wcm90b3R5cGUuZm9yRWFjaE1vdmVkSXRlbSA9IGZ1bmN0aW9uIChmbikge1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyByZWNvcmQ7XG4gICAgICAgIGZvciAocmVjb3JkID0gdGhpcy5fbW92ZXNIZWFkOyByZWNvcmQgIT09IG51bGw7IHJlY29yZCA9IHJlY29yZC5fbmV4dE1vdmVkKSB7XG4gICAgICAgICAgICBmbihyZWNvcmQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IGZuXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBEZWZhdWx0SXRlcmFibGVEaWZmZXIucHJvdG90eXBlLmZvckVhY2hSZW1vdmVkSXRlbSA9IGZ1bmN0aW9uIChmbikge1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyByZWNvcmQ7XG4gICAgICAgIGZvciAocmVjb3JkID0gdGhpcy5fcmVtb3ZhbHNIZWFkOyByZWNvcmQgIT09IG51bGw7IHJlY29yZCA9IHJlY29yZC5fbmV4dFJlbW92ZWQpIHtcbiAgICAgICAgICAgIGZuKHJlY29yZCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gZm5cbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIERlZmF1bHRJdGVyYWJsZURpZmZlci5wcm90b3R5cGUuZm9yRWFjaElkZW50aXR5Q2hhbmdlID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIHJlY29yZDtcbiAgICAgICAgZm9yIChyZWNvcmQgPSB0aGlzLl9pZGVudGl0eUNoYW5nZXNIZWFkOyByZWNvcmQgIT09IG51bGw7IHJlY29yZCA9IHJlY29yZC5fbmV4dElkZW50aXR5Q2hhbmdlKSB7XG4gICAgICAgICAgICBmbihyZWNvcmQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IGNvbGxlY3Rpb25cbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIERlZmF1bHRJdGVyYWJsZURpZmZlci5wcm90b3R5cGUuZGlmZiA9IGZ1bmN0aW9uIChjb2xsZWN0aW9uKSB7XG4gICAgICAgIGlmIChjb2xsZWN0aW9uID09IG51bGwpXG4gICAgICAgICAgICBjb2xsZWN0aW9uID0gW107XG4gICAgICAgIGlmICghaXNMaXN0TGlrZUl0ZXJhYmxlKGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciB0cnlpbmcgdG8gZGlmZiAnXCIgKyBzdHJpbmdpZnkoY29sbGVjdGlvbikgKyBcIicuIE9ubHkgYXJyYXlzIGFuZCBpdGVyYWJsZXMgYXJlIGFsbG93ZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY2hlY2soY29sbGVjdGlvbikpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgRGVmYXVsdEl0ZXJhYmxlRGlmZmVyLnByb3RvdHlwZS5vbkRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBjb2xsZWN0aW9uXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBEZWZhdWx0SXRlcmFibGVEaWZmZXIucHJvdG90eXBlLmNoZWNrID0gZnVuY3Rpb24gKGNvbGxlY3Rpb24pIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5fcmVzZXQoKTtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcmVjb3JkID0gdGhpcy5faXRIZWFkO1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBtYXlCZURpcnR5ID0gZmFsc2U7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGluZGV4O1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBpdGVtO1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBpdGVtVHJhY2tCeTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY29sbGVjdGlvbikpIHtcbiAgICAgICAgICAgIHRoaXMuX2xlbmd0aCA9IGNvbGxlY3Rpb24ubGVuZ3RoO1xuICAgICAgICAgICAgZm9yICh2YXIgLyoqIEB0eXBlIHs/fSAqLyBpbmRleF8xID0gMDsgaW5kZXhfMSA8IHRoaXMuX2xlbmd0aDsgaW5kZXhfMSsrKSB7XG4gICAgICAgICAgICAgICAgaXRlbSA9IGNvbGxlY3Rpb25baW5kZXhfMV07XG4gICAgICAgICAgICAgICAgaXRlbVRyYWNrQnkgPSB0aGlzLl90cmFja0J5Rm4oaW5kZXhfMSwgaXRlbSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlY29yZCA9PT0gbnVsbCB8fCAhbG9vc2VJZGVudGljYWwocmVjb3JkLnRyYWNrQnlJZCwgaXRlbVRyYWNrQnkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlY29yZCA9IHRoaXMuX21pc21hdGNoKHJlY29yZCwgaXRlbSwgaXRlbVRyYWNrQnksIGluZGV4XzEpO1xuICAgICAgICAgICAgICAgICAgICBtYXlCZURpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXlCZURpcnR5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPKG1pc2tvKTogY2FuIHdlIGxpbWl0IHRoaXMgdG8gZHVwbGljYXRlcyBvbmx5P1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVjb3JkID0gdGhpcy5fdmVyaWZ5UmVpbnNlcnRpb24ocmVjb3JkLCBpdGVtLCBpdGVtVHJhY2tCeSwgaW5kZXhfMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFsb29zZUlkZW50aWNhbChyZWNvcmQuaXRlbSwgaXRlbSkpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9hZGRJZGVudGl0eUNoYW5nZShyZWNvcmQsIGl0ZW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZWNvcmQgPSByZWNvcmQuX25leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpbmRleCA9IDA7XG4gICAgICAgICAgICBpdGVyYXRlTGlzdExpa2UoY29sbGVjdGlvbiwgZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICBpdGVtVHJhY2tCeSA9IF90aGlzLl90cmFja0J5Rm4oaW5kZXgsIGl0ZW0pO1xuICAgICAgICAgICAgICAgIGlmIChyZWNvcmQgPT09IG51bGwgfHwgIWxvb3NlSWRlbnRpY2FsKHJlY29yZC50cmFja0J5SWQsIGl0ZW1UcmFja0J5KSkge1xuICAgICAgICAgICAgICAgICAgICByZWNvcmQgPSBfdGhpcy5fbWlzbWF0Y2gocmVjb3JkLCBpdGVtLCBpdGVtVHJhY2tCeSwgaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICBtYXlCZURpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXlCZURpcnR5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPKG1pc2tvKTogY2FuIHdlIGxpbWl0IHRoaXMgdG8gZHVwbGljYXRlcyBvbmx5P1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVjb3JkID0gX3RoaXMuX3ZlcmlmeVJlaW5zZXJ0aW9uKHJlY29yZCwgaXRlbSwgaXRlbVRyYWNrQnksIGluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIWxvb3NlSWRlbnRpY2FsKHJlY29yZC5pdGVtLCBpdGVtKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9hZGRJZGVudGl0eUNoYW5nZShyZWNvcmQsIGl0ZW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZWNvcmQgPSByZWNvcmQuX25leHQ7XG4gICAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5fbGVuZ3RoID0gaW5kZXg7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdHJ1bmNhdGUocmVjb3JkKTtcbiAgICAgICAgdGhpcy5fY29sbGVjdGlvbiA9IGNvbGxlY3Rpb247XG4gICAgICAgIHJldHVybiB0aGlzLmlzRGlydHk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVmYXVsdEl0ZXJhYmxlRGlmZmVyLnByb3RvdHlwZSwgXCJpc0RpcnR5XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm4gez99XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hZGRpdGlvbnNIZWFkICE9PSBudWxsIHx8IHRoaXMuX21vdmVzSGVhZCAhPT0gbnVsbCB8fFxuICAgICAgICAgICAgICAgIHRoaXMuX3JlbW92YWxzSGVhZCAhPT0gbnVsbCB8fCB0aGlzLl9pZGVudGl0eUNoYW5nZXNIZWFkICE9PSBudWxsO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBSZXNldCB0aGUgc3RhdGUgb2YgdGhlIGNoYW5nZSBvYmplY3RzIHRvIHNob3cgbm8gY2hhbmdlcy4gVGhpcyBtZWFucyBzZXQgcHJldmlvdXNLZXkgdG9cbiAgICAgKiBjdXJyZW50S2V5LCBhbmQgY2xlYXIgYWxsIG9mIHRoZSBxdWV1ZXMgKGFkZGl0aW9ucywgbW92ZXMsIHJlbW92YWxzKS5cbiAgICAgKiBTZXQgdGhlIHByZXZpb3VzSW5kZXhlcyBvZiBtb3ZlZCBhbmQgYWRkZWQgaXRlbXMgdG8gdGhlaXIgY3VycmVudEluZGV4ZXNcbiAgICAgKiBSZXNldCB0aGUgbGlzdCBvZiBhZGRpdGlvbnMsIG1vdmVzIGFuZCByZW1vdmFsc1xuICAgICAqXG4gICAgICogXFxAaW50ZXJuYWxcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIERlZmF1bHRJdGVyYWJsZURpZmZlci5wcm90b3R5cGUuX3Jlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5pc0RpcnR5KSB7XG4gICAgICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyByZWNvcmQgPSB2b2lkIDA7XG4gICAgICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBuZXh0UmVjb3JkID0gdm9pZCAwO1xuICAgICAgICAgICAgZm9yIChyZWNvcmQgPSB0aGlzLl9wcmV2aW91c0l0SGVhZCA9IHRoaXMuX2l0SGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHQpIHtcbiAgICAgICAgICAgICAgICByZWNvcmQuX25leHRQcmV2aW91cyA9IHJlY29yZC5fbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAocmVjb3JkID0gdGhpcy5fYWRkaXRpb25zSGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHRBZGRlZCkge1xuICAgICAgICAgICAgICAgIHJlY29yZC5wcmV2aW91c0luZGV4ID0gcmVjb3JkLmN1cnJlbnRJbmRleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2FkZGl0aW9uc0hlYWQgPSB0aGlzLl9hZGRpdGlvbnNUYWlsID0gbnVsbDtcbiAgICAgICAgICAgIGZvciAocmVjb3JkID0gdGhpcy5fbW92ZXNIZWFkOyByZWNvcmQgIT09IG51bGw7IHJlY29yZCA9IG5leHRSZWNvcmQpIHtcbiAgICAgICAgICAgICAgICByZWNvcmQucHJldmlvdXNJbmRleCA9IHJlY29yZC5jdXJyZW50SW5kZXg7XG4gICAgICAgICAgICAgICAgbmV4dFJlY29yZCA9IHJlY29yZC5fbmV4dE1vdmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fbW92ZXNIZWFkID0gdGhpcy5fbW92ZXNUYWlsID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3JlbW92YWxzSGVhZCA9IHRoaXMuX3JlbW92YWxzVGFpbCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9pZGVudGl0eUNoYW5nZXNIZWFkID0gdGhpcy5faWRlbnRpdHlDaGFuZ2VzVGFpbCA9IG51bGw7XG4gICAgICAgICAgICAvLyB0b2RvKHZpY2IpIHdoZW4gYXNzZXJ0IGdldHMgc3VwcG9ydGVkXG4gICAgICAgICAgICAvLyBhc3NlcnQoIXRoaXMuaXNEaXJ0eSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoaXMgaXMgdGhlIGNvcmUgZnVuY3Rpb24gd2hpY2ggaGFuZGxlcyBkaWZmZXJlbmNlcyBiZXR3ZWVuIGNvbGxlY3Rpb25zLlxuICAgICAqXG4gICAgICogLSBgcmVjb3JkYCBpcyB0aGUgcmVjb3JkIHdoaWNoIHdlIHNhdyBhdCB0aGlzIHBvc2l0aW9uIGxhc3QgdGltZS4gSWYgbnVsbCB0aGVuIGl0IGlzIGEgbmV3XG4gICAgICogICBpdGVtLlxuICAgICAqIC0gYGl0ZW1gIGlzIHRoZSBjdXJyZW50IGl0ZW0gaW4gdGhlIGNvbGxlY3Rpb25cbiAgICAgKiAtIGBpbmRleGAgaXMgdGhlIHBvc2l0aW9uIG9mIHRoZSBpdGVtIGluIHRoZSBjb2xsZWN0aW9uXG4gICAgICpcbiAgICAgKiBcXEBpbnRlcm5hbFxuICAgICAqIEBwYXJhbSB7P30gcmVjb3JkXG4gICAgICogQHBhcmFtIHs/fSBpdGVtXG4gICAgICogQHBhcmFtIHs/fSBpdGVtVHJhY2tCeVxuICAgICAqIEBwYXJhbSB7P30gaW5kZXhcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIERlZmF1bHRJdGVyYWJsZURpZmZlci5wcm90b3R5cGUuX21pc21hdGNoID0gZnVuY3Rpb24gKHJlY29yZCwgaXRlbSwgaXRlbVRyYWNrQnksIGluZGV4KSB7XG4gICAgICAgIC8vIFRoZSBwcmV2aW91cyByZWNvcmQgYWZ0ZXIgd2hpY2ggd2Ugd2lsbCBhcHBlbmQgdGhlIGN1cnJlbnQgb25lLlxuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBwcmV2aW91c1JlY29yZDtcbiAgICAgICAgaWYgKHJlY29yZCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcHJldmlvdXNSZWNvcmQgPSB0aGlzLl9pdFRhaWw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwcmV2aW91c1JlY29yZCA9IHJlY29yZC5fcHJldjtcbiAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgcmVjb3JkIGZyb20gdGhlIGNvbGxlY3Rpb24gc2luY2Ugd2Uga25vdyBpdCBkb2VzIG5vdCBtYXRjaCB0aGUgaXRlbS5cbiAgICAgICAgICAgIHRoaXMuX3JlbW92ZShyZWNvcmQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEF0dGVtcHQgdG8gc2VlIGlmIHdlIGhhdmUgc2VlbiB0aGUgaXRlbSBiZWZvcmUuXG4gICAgICAgIHJlY29yZCA9IHRoaXMuX2xpbmtlZFJlY29yZHMgPT09IG51bGwgPyBudWxsIDogdGhpcy5fbGlua2VkUmVjb3Jkcy5nZXQoaXRlbVRyYWNrQnksIGluZGV4KTtcbiAgICAgICAgaWYgKHJlY29yZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gV2UgaGF2ZSBzZWVuIHRoaXMgYmVmb3JlLCB3ZSBuZWVkIHRvIG1vdmUgaXQgZm9yd2FyZCBpbiB0aGUgY29sbGVjdGlvbi5cbiAgICAgICAgICAgIC8vIEJ1dCBmaXJzdCB3ZSBuZWVkIHRvIGNoZWNrIGlmIGlkZW50aXR5IGNoYW5nZWQsIHNvIHdlIGNhbiB1cGRhdGUgaW4gdmlldyBpZiBuZWNlc3NhcnlcbiAgICAgICAgICAgIGlmICghbG9vc2VJZGVudGljYWwocmVjb3JkLml0ZW0sIGl0ZW0pKVxuICAgICAgICAgICAgICAgIHRoaXMuX2FkZElkZW50aXR5Q2hhbmdlKHJlY29yZCwgaXRlbSk7XG4gICAgICAgICAgICB0aGlzLl9tb3ZlQWZ0ZXIocmVjb3JkLCBwcmV2aW91c1JlY29yZCwgaW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gTmV2ZXIgc2VlbiBpdCwgY2hlY2sgZXZpY3RlZCBsaXN0LlxuICAgICAgICAgICAgcmVjb3JkID0gdGhpcy5fdW5saW5rZWRSZWNvcmRzID09PSBudWxsID8gbnVsbCA6IHRoaXMuX3VubGlua2VkUmVjb3Jkcy5nZXQoaXRlbVRyYWNrQnksIG51bGwpO1xuICAgICAgICAgICAgaWYgKHJlY29yZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIEl0IGlzIGFuIGl0ZW0gd2hpY2ggd2UgaGF2ZSBldmljdGVkIGVhcmxpZXI6IHJlaW5zZXJ0IGl0IGJhY2sgaW50byB0aGUgbGlzdC5cbiAgICAgICAgICAgICAgICAvLyBCdXQgZmlyc3Qgd2UgbmVlZCB0byBjaGVjayBpZiBpZGVudGl0eSBjaGFuZ2VkLCBzbyB3ZSBjYW4gdXBkYXRlIGluIHZpZXcgaWYgbmVjZXNzYXJ5XG4gICAgICAgICAgICAgICAgaWYgKCFsb29zZUlkZW50aWNhbChyZWNvcmQuaXRlbSwgaXRlbSkpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkZElkZW50aXR5Q2hhbmdlKHJlY29yZCwgaXRlbSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVpbnNlcnRBZnRlcihyZWNvcmQsIHByZXZpb3VzUmVjb3JkLCBpbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBJdCBpcyBhIG5ldyBpdGVtOiBhZGQgaXQuXG4gICAgICAgICAgICAgICAgcmVjb3JkID1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWRkQWZ0ZXIobmV3IEl0ZXJhYmxlQ2hhbmdlUmVjb3JkXyhpdGVtLCBpdGVtVHJhY2tCeSksIHByZXZpb3VzUmVjb3JkLCBpbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlY29yZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoaXMgY2hlY2sgaXMgb25seSBuZWVkZWQgaWYgYW4gYXJyYXkgY29udGFpbnMgZHVwbGljYXRlcy4gKFNob3J0IGNpcmN1aXQgb2Ygbm90aGluZyBkaXJ0eSlcbiAgICAgKlxuICAgICAqIFVzZSBjYXNlOiBgW2EsIGFdYCA9PiBgW2IsIGEsIGFdYFxuICAgICAqXG4gICAgICogSWYgd2UgZGlkIG5vdCBoYXZlIHRoaXMgY2hlY2sgdGhlbiB0aGUgaW5zZXJ0aW9uIG9mIGBiYCB3b3VsZDpcbiAgICAgKiAgIDEpIGV2aWN0IGZpcnN0IGBhYFxuICAgICAqICAgMikgaW5zZXJ0IGBiYCBhdCBgMGAgaW5kZXguXG4gICAgICogICAzKSBsZWF2ZSBgYWAgYXQgaW5kZXggYDFgIGFzIGlzLiA8LS0gdGhpcyBpcyB3cm9uZyFcbiAgICAgKiAgIDMpIHJlaW5zZXJ0IGBhYCBhdCBpbmRleCAyLiA8LS0gdGhpcyBpcyB3cm9uZyFcbiAgICAgKlxuICAgICAqIFRoZSBjb3JyZWN0IGJlaGF2aW9yIGlzOlxuICAgICAqICAgMSkgZXZpY3QgZmlyc3QgYGFgXG4gICAgICogICAyKSBpbnNlcnQgYGJgIGF0IGAwYCBpbmRleC5cbiAgICAgKiAgIDMpIHJlaW5zZXJ0IGBhYCBhdCBpbmRleCAxLlxuICAgICAqICAgMykgbW92ZSBgYWAgYXQgZnJvbSBgMWAgdG8gYDJgLlxuICAgICAqXG4gICAgICpcbiAgICAgKiBEb3VibGUgY2hlY2sgdGhhdCB3ZSBoYXZlIG5vdCBldmljdGVkIGEgZHVwbGljYXRlIGl0ZW0uIFdlIG5lZWQgdG8gY2hlY2sgaWYgdGhlIGl0ZW0gdHlwZSBtYXlcbiAgICAgKiBoYXZlIGFscmVhZHkgYmVlbiByZW1vdmVkOlxuICAgICAqIFRoZSBpbnNlcnRpb24gb2YgYiB3aWxsIGV2aWN0IHRoZSBmaXJzdCAnYScuIElmIHdlIGRvbid0IHJlaW5zZXJ0IGl0IG5vdyBpdCB3aWxsIGJlIHJlaW5zZXJ0ZWRcbiAgICAgKiBhdCB0aGUgZW5kLiBXaGljaCB3aWxsIHNob3cgdXAgYXMgdGhlIHR3byAnYSdzIHN3aXRjaGluZyBwb3NpdGlvbi4gVGhpcyBpcyBpbmNvcnJlY3QsIHNpbmNlIGFcbiAgICAgKiBiZXR0ZXIgd2F5IHRvIHRoaW5rIG9mIGl0IGlzIGFzIGluc2VydCBvZiAnYicgcmF0aGVyIHRoZW4gc3dpdGNoICdhJyB3aXRoICdiJyBhbmQgdGhlbiBhZGQgJ2EnXG4gICAgICogYXQgdGhlIGVuZC5cbiAgICAgKlxuICAgICAqIFxcQGludGVybmFsXG4gICAgICogQHBhcmFtIHs/fSByZWNvcmRcbiAgICAgKiBAcGFyYW0gez99IGl0ZW1cbiAgICAgKiBAcGFyYW0gez99IGl0ZW1UcmFja0J5XG4gICAgICogQHBhcmFtIHs/fSBpbmRleFxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgRGVmYXVsdEl0ZXJhYmxlRGlmZmVyLnByb3RvdHlwZS5fdmVyaWZ5UmVpbnNlcnRpb24gPSBmdW5jdGlvbiAocmVjb3JkLCBpdGVtLCBpdGVtVHJhY2tCeSwgaW5kZXgpIHtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcmVpbnNlcnRSZWNvcmQgPSB0aGlzLl91bmxpbmtlZFJlY29yZHMgPT09IG51bGwgPyBudWxsIDogdGhpcy5fdW5saW5rZWRSZWNvcmRzLmdldChpdGVtVHJhY2tCeSwgbnVsbCk7XG4gICAgICAgIGlmIChyZWluc2VydFJlY29yZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmVjb3JkID0gdGhpcy5fcmVpbnNlcnRBZnRlcihyZWluc2VydFJlY29yZCwgLyoqIEB0eXBlIHs/fSAqLyAoKHJlY29yZC5fcHJldikpLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocmVjb3JkLmN1cnJlbnRJbmRleCAhPSBpbmRleCkge1xuICAgICAgICAgICAgcmVjb3JkLmN1cnJlbnRJbmRleCA9IGluZGV4O1xuICAgICAgICAgICAgdGhpcy5fYWRkVG9Nb3ZlcyhyZWNvcmQsIGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVjb3JkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHJpZCBvZiBhbnkgZXhjZXNzIHtcXEBsaW5rIEl0ZXJhYmxlQ2hhbmdlUmVjb3JkX31zIGZyb20gdGhlIHByZXZpb3VzIGNvbGxlY3Rpb25cbiAgICAgKlxuICAgICAqIC0gYHJlY29yZGAgVGhlIGZpcnN0IGV4Y2VzcyB7XFxAbGluayBJdGVyYWJsZUNoYW5nZVJlY29yZF99LlxuICAgICAqXG4gICAgICogXFxAaW50ZXJuYWxcbiAgICAgKiBAcGFyYW0gez99IHJlY29yZFxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgRGVmYXVsdEl0ZXJhYmxlRGlmZmVyLnByb3RvdHlwZS5fdHJ1bmNhdGUgPSBmdW5jdGlvbiAocmVjb3JkKSB7XG4gICAgICAgIC8vIEFueXRoaW5nIGFmdGVyIHRoYXQgbmVlZHMgdG8gYmUgcmVtb3ZlZDtcbiAgICAgICAgd2hpbGUgKHJlY29yZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gbmV4dFJlY29yZCA9IHJlY29yZC5fbmV4dDtcbiAgICAgICAgICAgIHRoaXMuX2FkZFRvUmVtb3ZhbHModGhpcy5fdW5saW5rKHJlY29yZCkpO1xuICAgICAgICAgICAgcmVjb3JkID0gbmV4dFJlY29yZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fdW5saW5rZWRSZWNvcmRzICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl91bmxpbmtlZFJlY29yZHMuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fYWRkaXRpb25zVGFpbCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fYWRkaXRpb25zVGFpbC5fbmV4dEFkZGVkID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fbW92ZXNUYWlsICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9tb3Zlc1RhaWwuX25leHRNb3ZlZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2l0VGFpbCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5faXRUYWlsLl9uZXh0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fcmVtb3ZhbHNUYWlsICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9yZW1vdmFsc1RhaWwuX25leHRSZW1vdmVkID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5faWRlbnRpdHlDaGFuZ2VzVGFpbCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5faWRlbnRpdHlDaGFuZ2VzVGFpbC5fbmV4dElkZW50aXR5Q2hhbmdlID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogXFxAaW50ZXJuYWxcbiAgICAgKiBAcGFyYW0gez99IHJlY29yZFxuICAgICAqIEBwYXJhbSB7P30gcHJldlJlY29yZFxuICAgICAqIEBwYXJhbSB7P30gaW5kZXhcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIERlZmF1bHRJdGVyYWJsZURpZmZlci5wcm90b3R5cGUuX3JlaW5zZXJ0QWZ0ZXIgPSBmdW5jdGlvbiAocmVjb3JkLCBwcmV2UmVjb3JkLCBpbmRleCkge1xuICAgICAgICBpZiAodGhpcy5fdW5saW5rZWRSZWNvcmRzICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl91bmxpbmtlZFJlY29yZHMucmVtb3ZlKHJlY29yZCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcHJldiA9IHJlY29yZC5fcHJldlJlbW92ZWQ7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIG5leHQgPSByZWNvcmQuX25leHRSZW1vdmVkO1xuICAgICAgICBpZiAocHJldiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fcmVtb3ZhbHNIZWFkID0gbmV4dDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHByZXYuX25leHRSZW1vdmVkID0gbmV4dDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV4dCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fcmVtb3ZhbHNUYWlsID0gcHJldjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5leHQuX3ByZXZSZW1vdmVkID0gcHJldjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pbnNlcnRBZnRlcihyZWNvcmQsIHByZXZSZWNvcmQsIGluZGV4KTtcbiAgICAgICAgdGhpcy5fYWRkVG9Nb3ZlcyhyZWNvcmQsIGluZGV4KTtcbiAgICAgICAgcmV0dXJuIHJlY29yZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFxcQGludGVybmFsXG4gICAgICogQHBhcmFtIHs/fSByZWNvcmRcbiAgICAgKiBAcGFyYW0gez99IHByZXZSZWNvcmRcbiAgICAgKiBAcGFyYW0gez99IGluZGV4XG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBEZWZhdWx0SXRlcmFibGVEaWZmZXIucHJvdG90eXBlLl9tb3ZlQWZ0ZXIgPSBmdW5jdGlvbiAocmVjb3JkLCBwcmV2UmVjb3JkLCBpbmRleCkge1xuICAgICAgICB0aGlzLl91bmxpbmsocmVjb3JkKTtcbiAgICAgICAgdGhpcy5faW5zZXJ0QWZ0ZXIocmVjb3JkLCBwcmV2UmVjb3JkLCBpbmRleCk7XG4gICAgICAgIHRoaXMuX2FkZFRvTW92ZXMocmVjb3JkLCBpbmRleCk7XG4gICAgICAgIHJldHVybiByZWNvcmQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBcXEBpbnRlcm5hbFxuICAgICAqIEBwYXJhbSB7P30gcmVjb3JkXG4gICAgICogQHBhcmFtIHs/fSBwcmV2UmVjb3JkXG4gICAgICogQHBhcmFtIHs/fSBpbmRleFxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgRGVmYXVsdEl0ZXJhYmxlRGlmZmVyLnByb3RvdHlwZS5fYWRkQWZ0ZXIgPSBmdW5jdGlvbiAocmVjb3JkLCBwcmV2UmVjb3JkLCBpbmRleCkge1xuICAgICAgICB0aGlzLl9pbnNlcnRBZnRlcihyZWNvcmQsIHByZXZSZWNvcmQsIGluZGV4KTtcbiAgICAgICAgaWYgKHRoaXMuX2FkZGl0aW9uc1RhaWwgPT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIHRvZG8odmljYilcbiAgICAgICAgICAgIC8vIGFzc2VydCh0aGlzLl9hZGRpdGlvbnNIZWFkID09PSBudWxsKTtcbiAgICAgICAgICAgIHRoaXMuX2FkZGl0aW9uc1RhaWwgPSB0aGlzLl9hZGRpdGlvbnNIZWFkID0gcmVjb3JkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gdG9kbyh2aWNiKVxuICAgICAgICAgICAgLy8gYXNzZXJ0KF9hZGRpdGlvbnNUYWlsLl9uZXh0QWRkZWQgPT09IG51bGwpO1xuICAgICAgICAgICAgLy8gYXNzZXJ0KHJlY29yZC5fbmV4dEFkZGVkID09PSBudWxsKTtcbiAgICAgICAgICAgIHRoaXMuX2FkZGl0aW9uc1RhaWwgPSB0aGlzLl9hZGRpdGlvbnNUYWlsLl9uZXh0QWRkZWQgPSByZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlY29yZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFxcQGludGVybmFsXG4gICAgICogQHBhcmFtIHs/fSByZWNvcmRcbiAgICAgKiBAcGFyYW0gez99IHByZXZSZWNvcmRcbiAgICAgKiBAcGFyYW0gez99IGluZGV4XG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBEZWZhdWx0SXRlcmFibGVEaWZmZXIucHJvdG90eXBlLl9pbnNlcnRBZnRlciA9IGZ1bmN0aW9uIChyZWNvcmQsIHByZXZSZWNvcmQsIGluZGV4KSB7XG4gICAgICAgIC8vIHRvZG8odmljYilcbiAgICAgICAgLy8gYXNzZXJ0KHJlY29yZCAhPSBwcmV2UmVjb3JkKTtcbiAgICAgICAgLy8gYXNzZXJ0KHJlY29yZC5fbmV4dCA9PT0gbnVsbCk7XG4gICAgICAgIC8vIGFzc2VydChyZWNvcmQuX3ByZXYgPT09IG51bGwpO1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBuZXh0ID0gcHJldlJlY29yZCA9PT0gbnVsbCA/IHRoaXMuX2l0SGVhZCA6IHByZXZSZWNvcmQuX25leHQ7XG4gICAgICAgIC8vIHRvZG8odmljYilcbiAgICAgICAgLy8gYXNzZXJ0KG5leHQgIT0gcmVjb3JkKTtcbiAgICAgICAgLy8gYXNzZXJ0KHByZXZSZWNvcmQgIT0gcmVjb3JkKTtcbiAgICAgICAgcmVjb3JkLl9uZXh0ID0gbmV4dDtcbiAgICAgICAgcmVjb3JkLl9wcmV2ID0gcHJldlJlY29yZDtcbiAgICAgICAgaWYgKG5leHQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2l0VGFpbCA9IHJlY29yZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5leHQuX3ByZXYgPSByZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByZXZSZWNvcmQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2l0SGVhZCA9IHJlY29yZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHByZXZSZWNvcmQuX25leHQgPSByZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2xpbmtlZFJlY29yZHMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2xpbmtlZFJlY29yZHMgPSBuZXcgX0R1cGxpY2F0ZU1hcCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2xpbmtlZFJlY29yZHMucHV0KHJlY29yZCk7XG4gICAgICAgIHJlY29yZC5jdXJyZW50SW5kZXggPSBpbmRleDtcbiAgICAgICAgcmV0dXJuIHJlY29yZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFxcQGludGVybmFsXG4gICAgICogQHBhcmFtIHs/fSByZWNvcmRcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIERlZmF1bHRJdGVyYWJsZURpZmZlci5wcm90b3R5cGUuX3JlbW92ZSA9IGZ1bmN0aW9uIChyZWNvcmQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZFRvUmVtb3ZhbHModGhpcy5fdW5saW5rKHJlY29yZCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogXFxAaW50ZXJuYWxcbiAgICAgKiBAcGFyYW0gez99IHJlY29yZFxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgRGVmYXVsdEl0ZXJhYmxlRGlmZmVyLnByb3RvdHlwZS5fdW5saW5rID0gZnVuY3Rpb24gKHJlY29yZCkge1xuICAgICAgICBpZiAodGhpcy5fbGlua2VkUmVjb3JkcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fbGlua2VkUmVjb3Jkcy5yZW1vdmUocmVjb3JkKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBwcmV2ID0gcmVjb3JkLl9wcmV2O1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBuZXh0ID0gcmVjb3JkLl9uZXh0O1xuICAgICAgICAvLyB0b2RvKHZpY2IpXG4gICAgICAgIC8vIGFzc2VydCgocmVjb3JkLl9wcmV2ID0gbnVsbCkgPT09IG51bGwpO1xuICAgICAgICAvLyBhc3NlcnQoKHJlY29yZC5fbmV4dCA9IG51bGwpID09PSBudWxsKTtcbiAgICAgICAgaWYgKHByZXYgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2l0SGVhZCA9IG5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwcmV2Ll9uZXh0ID0gbmV4dDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV4dCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5faXRUYWlsID0gcHJldjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5leHQuX3ByZXYgPSBwcmV2O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZWNvcmQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBcXEBpbnRlcm5hbFxuICAgICAqIEBwYXJhbSB7P30gcmVjb3JkXG4gICAgICogQHBhcmFtIHs/fSB0b0luZGV4XG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBEZWZhdWx0SXRlcmFibGVEaWZmZXIucHJvdG90eXBlLl9hZGRUb01vdmVzID0gZnVuY3Rpb24gKHJlY29yZCwgdG9JbmRleCkge1xuICAgICAgICAvLyB0b2RvKHZpY2IpXG4gICAgICAgIC8vIGFzc2VydChyZWNvcmQuX25leHRNb3ZlZCA9PT0gbnVsbCk7XG4gICAgICAgIGlmIChyZWNvcmQucHJldmlvdXNJbmRleCA9PT0gdG9JbmRleCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlY29yZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fbW92ZXNUYWlsID09PSBudWxsKSB7XG4gICAgICAgICAgICAvLyB0b2RvKHZpY2IpXG4gICAgICAgICAgICAvLyBhc3NlcnQoX21vdmVzSGVhZCA9PT0gbnVsbCk7XG4gICAgICAgICAgICB0aGlzLl9tb3Zlc1RhaWwgPSB0aGlzLl9tb3Zlc0hlYWQgPSByZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyB0b2RvKHZpY2IpXG4gICAgICAgICAgICAvLyBhc3NlcnQoX21vdmVzVGFpbC5fbmV4dE1vdmVkID09PSBudWxsKTtcbiAgICAgICAgICAgIHRoaXMuX21vdmVzVGFpbCA9IHRoaXMuX21vdmVzVGFpbC5fbmV4dE1vdmVkID0gcmVjb3JkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZWNvcmQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IHJlY29yZFxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgRGVmYXVsdEl0ZXJhYmxlRGlmZmVyLnByb3RvdHlwZS5fYWRkVG9SZW1vdmFscyA9IGZ1bmN0aW9uIChyZWNvcmQpIHtcbiAgICAgICAgaWYgKHRoaXMuX3VubGlua2VkUmVjb3JkcyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fdW5saW5rZWRSZWNvcmRzID0gbmV3IF9EdXBsaWNhdGVNYXAoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl91bmxpbmtlZFJlY29yZHMucHV0KHJlY29yZCk7XG4gICAgICAgIHJlY29yZC5jdXJyZW50SW5kZXggPSBudWxsO1xuICAgICAgICByZWNvcmQuX25leHRSZW1vdmVkID0gbnVsbDtcbiAgICAgICAgaWYgKHRoaXMuX3JlbW92YWxzVGFpbCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gdG9kbyh2aWNiKVxuICAgICAgICAgICAgLy8gYXNzZXJ0KF9yZW1vdmFsc0hlYWQgPT09IG51bGwpO1xuICAgICAgICAgICAgdGhpcy5fcmVtb3ZhbHNUYWlsID0gdGhpcy5fcmVtb3ZhbHNIZWFkID0gcmVjb3JkO1xuICAgICAgICAgICAgcmVjb3JkLl9wcmV2UmVtb3ZlZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyB0b2RvKHZpY2IpXG4gICAgICAgICAgICAvLyBhc3NlcnQoX3JlbW92YWxzVGFpbC5fbmV4dFJlbW92ZWQgPT09IG51bGwpO1xuICAgICAgICAgICAgLy8gYXNzZXJ0KHJlY29yZC5fbmV4dFJlbW92ZWQgPT09IG51bGwpO1xuICAgICAgICAgICAgcmVjb3JkLl9wcmV2UmVtb3ZlZCA9IHRoaXMuX3JlbW92YWxzVGFpbDtcbiAgICAgICAgICAgIHRoaXMuX3JlbW92YWxzVGFpbCA9IHRoaXMuX3JlbW92YWxzVGFpbC5fbmV4dFJlbW92ZWQgPSByZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlY29yZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFxcQGludGVybmFsXG4gICAgICogQHBhcmFtIHs/fSByZWNvcmRcbiAgICAgKiBAcGFyYW0gez99IGl0ZW1cbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIERlZmF1bHRJdGVyYWJsZURpZmZlci5wcm90b3R5cGUuX2FkZElkZW50aXR5Q2hhbmdlID0gZnVuY3Rpb24gKHJlY29yZCwgaXRlbSkge1xuICAgICAgICByZWNvcmQuaXRlbSA9IGl0ZW07XG4gICAgICAgIGlmICh0aGlzLl9pZGVudGl0eUNoYW5nZXNUYWlsID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9pZGVudGl0eUNoYW5nZXNUYWlsID0gdGhpcy5faWRlbnRpdHlDaGFuZ2VzSGVhZCA9IHJlY29yZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2lkZW50aXR5Q2hhbmdlc1RhaWwgPSB0aGlzLl9pZGVudGl0eUNoYW5nZXNUYWlsLl9uZXh0SWRlbnRpdHlDaGFuZ2UgPSByZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlY29yZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgRGVmYXVsdEl0ZXJhYmxlRGlmZmVyLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gbGlzdCA9IFtdO1xuICAgICAgICB0aGlzLmZvckVhY2hJdGVtKGZ1bmN0aW9uIChyZWNvcmQpIHsgcmV0dXJuIGxpc3QucHVzaChyZWNvcmQpOyB9KTtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcHJldmlvdXMgPSBbXTtcbiAgICAgICAgdGhpcy5mb3JFYWNoUHJldmlvdXNJdGVtKGZ1bmN0aW9uIChyZWNvcmQpIHsgcmV0dXJuIHByZXZpb3VzLnB1c2gocmVjb3JkKTsgfSk7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGFkZGl0aW9ucyA9IFtdO1xuICAgICAgICB0aGlzLmZvckVhY2hBZGRlZEl0ZW0oZnVuY3Rpb24gKHJlY29yZCkgeyByZXR1cm4gYWRkaXRpb25zLnB1c2gocmVjb3JkKTsgfSk7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIG1vdmVzID0gW107XG4gICAgICAgIHRoaXMuZm9yRWFjaE1vdmVkSXRlbShmdW5jdGlvbiAocmVjb3JkKSB7IHJldHVybiBtb3Zlcy5wdXNoKHJlY29yZCk7IH0pO1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyByZW1vdmFscyA9IFtdO1xuICAgICAgICB0aGlzLmZvckVhY2hSZW1vdmVkSXRlbShmdW5jdGlvbiAocmVjb3JkKSB7IHJldHVybiByZW1vdmFscy5wdXNoKHJlY29yZCk7IH0pO1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBpZGVudGl0eUNoYW5nZXMgPSBbXTtcbiAgICAgICAgdGhpcy5mb3JFYWNoSWRlbnRpdHlDaGFuZ2UoZnVuY3Rpb24gKHJlY29yZCkgeyByZXR1cm4gaWRlbnRpdHlDaGFuZ2VzLnB1c2gocmVjb3JkKTsgfSk7XG4gICAgICAgIHJldHVybiAnY29sbGVjdGlvbjogJyArIGxpc3Quam9pbignLCAnKSArICdcXG4nICtcbiAgICAgICAgICAgICdwcmV2aW91czogJyArIHByZXZpb3VzLmpvaW4oJywgJykgKyAnXFxuJyArXG4gICAgICAgICAgICAnYWRkaXRpb25zOiAnICsgYWRkaXRpb25zLmpvaW4oJywgJykgKyAnXFxuJyArXG4gICAgICAgICAgICAnbW92ZXM6ICcgKyBtb3Zlcy5qb2luKCcsICcpICsgJ1xcbicgK1xuICAgICAgICAgICAgJ3JlbW92YWxzOiAnICsgcmVtb3ZhbHMuam9pbignLCAnKSArICdcXG4nICtcbiAgICAgICAgICAgICdpZGVudGl0eUNoYW5nZXM6ICcgKyBpZGVudGl0eUNoYW5nZXMuam9pbignLCAnKSArICdcXG4nO1xuICAgIH07XG4gICAgcmV0dXJuIERlZmF1bHRJdGVyYWJsZURpZmZlcjtcbn0oKSk7XG4vKipcbiAqIFxcQHN0YWJsZVxuICovXG52YXIgSXRlcmFibGVDaGFuZ2VSZWNvcmRfID0gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IGl0ZW1cbiAgICAgKiBAcGFyYW0gez99IHRyYWNrQnlJZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEl0ZXJhYmxlQ2hhbmdlUmVjb3JkXyhpdGVtLCB0cmFja0J5SWQpIHtcbiAgICAgICAgdGhpcy5pdGVtID0gaXRlbTtcbiAgICAgICAgdGhpcy50cmFja0J5SWQgPSB0cmFja0J5SWQ7XG4gICAgICAgIHRoaXMuY3VycmVudEluZGV4ID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcmV2aW91c0luZGV4ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFxcQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9uZXh0UHJldmlvdXMgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogXFxAaW50ZXJuYWxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3ByZXYgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogXFxAaW50ZXJuYWxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX25leHQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogXFxAaW50ZXJuYWxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3ByZXZEdXAgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogXFxAaW50ZXJuYWxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX25leHREdXAgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogXFxAaW50ZXJuYWxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3ByZXZSZW1vdmVkID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFxcQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9uZXh0UmVtb3ZlZCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBcXEBpbnRlcm5hbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbmV4dEFkZGVkID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFxcQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9uZXh0TW92ZWQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogXFxAaW50ZXJuYWxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX25leHRJZGVudGl0eUNoYW5nZSA9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgSXRlcmFibGVDaGFuZ2VSZWNvcmRfLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJldmlvdXNJbmRleCA9PT0gdGhpcy5jdXJyZW50SW5kZXggPyBzdHJpbmdpZnkodGhpcy5pdGVtKSA6XG4gICAgICAgICAgICBzdHJpbmdpZnkodGhpcy5pdGVtKSArICdbJyArXG4gICAgICAgICAgICAgICAgc3RyaW5naWZ5KHRoaXMucHJldmlvdXNJbmRleCkgKyAnLT4nICsgc3RyaW5naWZ5KHRoaXMuY3VycmVudEluZGV4KSArICddJztcbiAgICB9O1xuICAgIHJldHVybiBJdGVyYWJsZUNoYW5nZVJlY29yZF87XG59KCkpO1xudmFyIF9EdXBsaWNhdGVJdGVtUmVjb3JkTGlzdCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gX0R1cGxpY2F0ZUl0ZW1SZWNvcmRMaXN0KCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogXFxAaW50ZXJuYWxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2hlYWQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogXFxAaW50ZXJuYWxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RhaWwgPSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBlbmQgdGhlIHJlY29yZCB0byB0aGUgbGlzdCBvZiBkdXBsaWNhdGVzLlxuICAgICAqXG4gICAgICogTm90ZTogYnkgZGVzaWduIGFsbCByZWNvcmRzIGluIHRoZSBsaXN0IG9mIGR1cGxpY2F0ZXMgaG9sZCB0aGUgc2FtZSB2YWx1ZSBpbiByZWNvcmQuaXRlbS5cbiAgICAgKiBAcGFyYW0gez99IHJlY29yZFxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgX0R1cGxpY2F0ZUl0ZW1SZWNvcmRMaXN0LnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAocmVjb3JkKSB7XG4gICAgICAgIGlmICh0aGlzLl9oZWFkID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9oZWFkID0gdGhpcy5fdGFpbCA9IHJlY29yZDtcbiAgICAgICAgICAgIHJlY29yZC5fbmV4dER1cCA9IG51bGw7XG4gICAgICAgICAgICByZWNvcmQuX3ByZXZEdXAgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgKChcbiAgICAgICAgICAgIC8vIHRvZG8odmljYilcbiAgICAgICAgICAgIC8vIGFzc2VydChyZWNvcmQuaXRlbSA9PSAgX2hlYWQuaXRlbSB8fFxuICAgICAgICAgICAgLy8gICAgICAgcmVjb3JkLml0ZW0gaXMgbnVtICYmIHJlY29yZC5pdGVtLmlzTmFOICYmIF9oZWFkLml0ZW0gaXMgbnVtICYmIF9oZWFkLml0ZW0uaXNOYU4pO1xuICAgICAgICAgICAgdGhpcy5fdGFpbCkpLl9uZXh0RHVwID0gcmVjb3JkO1xuICAgICAgICAgICAgcmVjb3JkLl9wcmV2RHVwID0gdGhpcy5fdGFpbDtcbiAgICAgICAgICAgIHJlY29yZC5fbmV4dER1cCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl90YWlsID0gcmVjb3JkO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IHRyYWNrQnlJZFxuICAgICAqIEBwYXJhbSB7P30gYXRPckFmdGVySW5kZXhcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIF9EdXBsaWNhdGVJdGVtUmVjb3JkTGlzdC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKHRyYWNrQnlJZCwgYXRPckFmdGVySW5kZXgpIHtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcmVjb3JkO1xuICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX2hlYWQ7IHJlY29yZCAhPT0gbnVsbDsgcmVjb3JkID0gcmVjb3JkLl9uZXh0RHVwKSB7XG4gICAgICAgICAgICBpZiAoKGF0T3JBZnRlckluZGV4ID09PSBudWxsIHx8IGF0T3JBZnRlckluZGV4IDw9ICgocmVjb3JkLmN1cnJlbnRJbmRleCkpKSAmJlxuICAgICAgICAgICAgICAgIGxvb3NlSWRlbnRpY2FsKHJlY29yZC50cmFja0J5SWQsIHRyYWNrQnlJZCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVjb3JkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIG9uZSB7XFxAbGluayBJdGVyYWJsZUNoYW5nZVJlY29yZF99IGZyb20gdGhlIGxpc3Qgb2YgZHVwbGljYXRlcy5cbiAgICAgKlxuICAgICAqIFJldHVybnMgd2hldGhlciB0aGUgbGlzdCBvZiBkdXBsaWNhdGVzIGlzIGVtcHR5LlxuICAgICAqIEBwYXJhbSB7P30gcmVjb3JkXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBfRHVwbGljYXRlSXRlbVJlY29yZExpc3QucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIChyZWNvcmQpIHtcbiAgICAgICAgLy8gdG9kbyh2aWNiKVxuICAgICAgICAvLyBhc3NlcnQoKCkge1xuICAgICAgICAvLyAgLy8gdmVyaWZ5IHRoYXQgdGhlIHJlY29yZCBiZWluZyByZW1vdmVkIGlzIGluIHRoZSBsaXN0LlxuICAgICAgICAvLyAgZm9yIChJdGVyYWJsZUNoYW5nZVJlY29yZF8gY3Vyc29yID0gX2hlYWQ7IGN1cnNvciAhPSBudWxsOyBjdXJzb3IgPSBjdXJzb3IuX25leHREdXApIHtcbiAgICAgICAgLy8gICAgaWYgKGlkZW50aWNhbChjdXJzb3IsIHJlY29yZCkpIHJldHVybiB0cnVlO1xuICAgICAgICAvLyAgfVxuICAgICAgICAvLyAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAvL30pO1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBwcmV2ID0gcmVjb3JkLl9wcmV2RHVwO1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBuZXh0ID0gcmVjb3JkLl9uZXh0RHVwO1xuICAgICAgICBpZiAocHJldiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5faGVhZCA9IG5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwcmV2Ll9uZXh0RHVwID0gbmV4dDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV4dCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fdGFpbCA9IHByZXY7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBuZXh0Ll9wcmV2RHVwID0gcHJldjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5faGVhZCA9PT0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBfRHVwbGljYXRlSXRlbVJlY29yZExpc3Q7XG59KCkpO1xudmFyIF9EdXBsaWNhdGVNYXAgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIF9EdXBsaWNhdGVNYXAoKSB7XG4gICAgICAgIHRoaXMubWFwID0gbmV3IE1hcCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IHJlY29yZFxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgX0R1cGxpY2F0ZU1hcC5wcm90b3R5cGUucHV0ID0gZnVuY3Rpb24gKHJlY29yZCkge1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBrZXkgPSByZWNvcmQudHJhY2tCeUlkO1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBkdXBsaWNhdGVzID0gdGhpcy5tYXAuZ2V0KGtleSk7XG4gICAgICAgIGlmICghZHVwbGljYXRlcykge1xuICAgICAgICAgICAgZHVwbGljYXRlcyA9IG5ldyBfRHVwbGljYXRlSXRlbVJlY29yZExpc3QoKTtcbiAgICAgICAgICAgIHRoaXMubWFwLnNldChrZXksIGR1cGxpY2F0ZXMpO1xuICAgICAgICB9XG4gICAgICAgIGR1cGxpY2F0ZXMuYWRkKHJlY29yZCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZSB0aGUgYHZhbHVlYCB1c2luZyBrZXkuIEJlY2F1c2UgdGhlIEl0ZXJhYmxlQ2hhbmdlUmVjb3JkXyB2YWx1ZSBtYXkgYmUgb25lIHdoaWNoIHdlXG4gICAgICogaGF2ZSBhbHJlYWR5IGl0ZXJhdGVkIG92ZXIsIHdlIHVzZSB0aGUgYGF0T3JBZnRlckluZGV4YCB0byBwcmV0ZW5kIGl0IGlzIG5vdCB0aGVyZS5cbiAgICAgKlxuICAgICAqIFVzZSBjYXNlOiBgW2EsIGIsIGMsIGEsIGFdYCBpZiB3ZSBhcmUgYXQgaW5kZXggYDNgIHdoaWNoIGlzIHRoZSBzZWNvbmQgYGFgIHRoZW4gYXNraW5nIGlmIHdlXG4gICAgICogaGF2ZSBhbnkgbW9yZSBgYWBzIG5lZWRzIHRvIHJldHVybiB0aGUgc2Vjb25kIGBhYC5cbiAgICAgKiBAcGFyYW0gez99IHRyYWNrQnlJZFxuICAgICAqIEBwYXJhbSB7P30gYXRPckFmdGVySW5kZXhcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIF9EdXBsaWNhdGVNYXAucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uICh0cmFja0J5SWQsIGF0T3JBZnRlckluZGV4KSB7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGtleSA9IHRyYWNrQnlJZDtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcmVjb3JkTGlzdCA9IHRoaXMubWFwLmdldChrZXkpO1xuICAgICAgICByZXR1cm4gcmVjb3JkTGlzdCA/IHJlY29yZExpc3QuZ2V0KHRyYWNrQnlJZCwgYXRPckFmdGVySW5kZXgpIDogbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSB7XFxAbGluayBJdGVyYWJsZUNoYW5nZVJlY29yZF99IGZyb20gdGhlIGxpc3Qgb2YgZHVwbGljYXRlcy5cbiAgICAgKlxuICAgICAqIFRoZSBsaXN0IG9mIGR1cGxpY2F0ZXMgYWxzbyBpcyByZW1vdmVkIGZyb20gdGhlIG1hcCBpZiBpdCBnZXRzIGVtcHR5LlxuICAgICAqIEBwYXJhbSB7P30gcmVjb3JkXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBfRHVwbGljYXRlTWFwLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAocmVjb3JkKSB7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGtleSA9IHJlY29yZC50cmFja0J5SWQ7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIHJlY29yZExpc3QgPSAoKHRoaXMubWFwLmdldChrZXkpKSk7XG4gICAgICAgIC8vIFJlbW92ZSB0aGUgbGlzdCBvZiBkdXBsaWNhdGVzIHdoZW4gaXQgZ2V0cyBlbXB0eVxuICAgICAgICBpZiAocmVjb3JkTGlzdC5yZW1vdmUocmVjb3JkKSkge1xuICAgICAgICAgICAgdGhpcy5tYXAuZGVsZXRlKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlY29yZDtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfRHVwbGljYXRlTWFwLnByb3RvdHlwZSwgXCJpc0VtcHR5XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm4gez99XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMubWFwLnNpemUgPT09IDA7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgX0R1cGxpY2F0ZU1hcC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7IHRoaXMubWFwLmNsZWFyKCk7IH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBfRHVwbGljYXRlTWFwLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICdfRHVwbGljYXRlTWFwKCcgKyBzdHJpbmdpZnkodGhpcy5tYXApICsgJyknOyB9O1xuICAgIHJldHVybiBfRHVwbGljYXRlTWFwO1xufSgpKTtcbi8qKlxuICogQHBhcmFtIHs/fSBpdGVtXG4gKiBAcGFyYW0gez99IGFkZFJlbW92ZU9mZnNldFxuICogQHBhcmFtIHs/fSBtb3ZlT2Zmc2V0c1xuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gZ2V0UHJldmlvdXNJbmRleChpdGVtLCBhZGRSZW1vdmVPZmZzZXQsIG1vdmVPZmZzZXRzKSB7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcHJldmlvdXNJbmRleCA9IGl0ZW0ucHJldmlvdXNJbmRleDtcbiAgICBpZiAocHJldmlvdXNJbmRleCA9PT0gbnVsbClcbiAgICAgICAgcmV0dXJuIHByZXZpb3VzSW5kZXg7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gbW92ZU9mZnNldCA9IDA7XG4gICAgaWYgKG1vdmVPZmZzZXRzICYmIHByZXZpb3VzSW5kZXggPCBtb3ZlT2Zmc2V0cy5sZW5ndGgpIHtcbiAgICAgICAgbW92ZU9mZnNldCA9IG1vdmVPZmZzZXRzW3ByZXZpb3VzSW5kZXhdO1xuICAgIH1cbiAgICByZXR1cm4gcHJldmlvdXNJbmRleCArIGFkZFJlbW92ZU9mZnNldCArIG1vdmVPZmZzZXQ7XG59XG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG52YXIgRGVmYXVsdEtleVZhbHVlRGlmZmVyRmFjdG9yeSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRGVmYXVsdEtleVZhbHVlRGlmZmVyRmFjdG9yeSgpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBvYmpcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIERlZmF1bHRLZXlWYWx1ZURpZmZlckZhY3RvcnkucHJvdG90eXBlLnN1cHBvcnRzID0gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqIGluc3RhbmNlb2YgTWFwIHx8IGlzSnNPYmplY3Qob2JqKTsgfTtcbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCB2NC4wLjAgLSBDaGFuZ2VEZXRlY3RvclJlZiBpcyBub3QgdXNlZCBhbmQgaXMgbm8gbG9uZ2VyIGEgcGFyYW1ldGVyXG4gICAgICogQHRlbXBsYXRlIEssIFZcbiAgICAgKiBAcGFyYW0gez89fSBjZFxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgRGVmYXVsdEtleVZhbHVlRGlmZmVyRmFjdG9yeS5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24gKGNkKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGVmYXVsdEtleVZhbHVlRGlmZmVyKCk7XG4gICAgfTtcbiAgICByZXR1cm4gRGVmYXVsdEtleVZhbHVlRGlmZmVyRmFjdG9yeTtcbn0oKSk7XG52YXIgRGVmYXVsdEtleVZhbHVlRGlmZmVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEZWZhdWx0S2V5VmFsdWVEaWZmZXIoKSB7XG4gICAgICAgIHRoaXMuX3JlY29yZHMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuX21hcEhlYWQgPSBudWxsO1xuICAgICAgICB0aGlzLl9hcHBlbmRBZnRlciA9IG51bGw7XG4gICAgICAgIHRoaXMuX3ByZXZpb3VzTWFwSGVhZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2NoYW5nZXNIZWFkID0gbnVsbDtcbiAgICAgICAgdGhpcy5fY2hhbmdlc1RhaWwgPSBudWxsO1xuICAgICAgICB0aGlzLl9hZGRpdGlvbnNIZWFkID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYWRkaXRpb25zVGFpbCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3JlbW92YWxzSGVhZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3JlbW92YWxzVGFpbCA9IG51bGw7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWZhdWx0S2V5VmFsdWVEaWZmZXIucHJvdG90eXBlLCBcImlzRGlydHlcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybiB7P31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FkZGl0aW9uc0hlYWQgIT09IG51bGwgfHwgdGhpcy5fY2hhbmdlc0hlYWQgIT09IG51bGwgfHxcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW1vdmFsc0hlYWQgIT09IG51bGw7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gZm5cbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIERlZmF1bHRLZXlWYWx1ZURpZmZlci5wcm90b3R5cGUuZm9yRWFjaEl0ZW0gPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcmVjb3JkO1xuICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX21hcEhlYWQ7IHJlY29yZCAhPT0gbnVsbDsgcmVjb3JkID0gcmVjb3JkLl9uZXh0KSB7XG4gICAgICAgICAgICBmbihyZWNvcmQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IGZuXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBEZWZhdWx0S2V5VmFsdWVEaWZmZXIucHJvdG90eXBlLmZvckVhY2hQcmV2aW91c0l0ZW0gPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcmVjb3JkO1xuICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX3ByZXZpb3VzTWFwSGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHRQcmV2aW91cykge1xuICAgICAgICAgICAgZm4ocmVjb3JkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBmblxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgRGVmYXVsdEtleVZhbHVlRGlmZmVyLnByb3RvdHlwZS5mb3JFYWNoQ2hhbmdlZEl0ZW0gPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcmVjb3JkO1xuICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX2NoYW5nZXNIZWFkOyByZWNvcmQgIT09IG51bGw7IHJlY29yZCA9IHJlY29yZC5fbmV4dENoYW5nZWQpIHtcbiAgICAgICAgICAgIGZuKHJlY29yZCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gZm5cbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIERlZmF1bHRLZXlWYWx1ZURpZmZlci5wcm90b3R5cGUuZm9yRWFjaEFkZGVkSXRlbSA9IGZ1bmN0aW9uIChmbikge1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyByZWNvcmQ7XG4gICAgICAgIGZvciAocmVjb3JkID0gdGhpcy5fYWRkaXRpb25zSGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHRBZGRlZCkge1xuICAgICAgICAgICAgZm4ocmVjb3JkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBmblxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgRGVmYXVsdEtleVZhbHVlRGlmZmVyLnByb3RvdHlwZS5mb3JFYWNoUmVtb3ZlZEl0ZW0gPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcmVjb3JkO1xuICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX3JlbW92YWxzSGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHRSZW1vdmVkKSB7XG4gICAgICAgICAgICBmbihyZWNvcmQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez89fSBtYXBcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIERlZmF1bHRLZXlWYWx1ZURpZmZlci5wcm90b3R5cGUuZGlmZiA9IGZ1bmN0aW9uIChtYXApIHtcbiAgICAgICAgaWYgKCFtYXApIHtcbiAgICAgICAgICAgIG1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghKG1hcCBpbnN0YW5jZW9mIE1hcCB8fCBpc0pzT2JqZWN0KG1hcCkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciB0cnlpbmcgdG8gZGlmZiAnXCIgKyBzdHJpbmdpZnkobWFwKSArIFwiJy4gT25seSBtYXBzIGFuZCBvYmplY3RzIGFyZSBhbGxvd2VkXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNoZWNrKG1hcCkgPyB0aGlzIDogbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgRGVmYXVsdEtleVZhbHVlRGlmZmVyLnByb3RvdHlwZS5vbkRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgLyoqXG4gICAgICogQ2hlY2sgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIG1hcCB2cyB0aGUgcHJldmlvdXMuXG4gICAgICogVGhlIGFsZ29yaXRobSBpcyBvcHRpbWlzZWQgZm9yIHdoZW4gdGhlIGtleXMgZG8gbm8gY2hhbmdlLlxuICAgICAqIEBwYXJhbSB7P30gbWFwXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBEZWZhdWx0S2V5VmFsdWVEaWZmZXIucHJvdG90eXBlLmNoZWNrID0gZnVuY3Rpb24gKG1hcCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLl9yZXNldCgpO1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBpbnNlcnRCZWZvcmUgPSB0aGlzLl9tYXBIZWFkO1xuICAgICAgICB0aGlzLl9hcHBlbmRBZnRlciA9IG51bGw7XG4gICAgICAgIHRoaXMuX2ZvckVhY2gobWFwLCBmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuICAgICAgICAgICAgaWYgKGluc2VydEJlZm9yZSAmJiBpbnNlcnRCZWZvcmUua2V5ID09PSBrZXkpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fbWF5YmVBZGRUb0NoYW5nZXMoaW5zZXJ0QmVmb3JlLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgX3RoaXMuX2FwcGVuZEFmdGVyID0gaW5zZXJ0QmVmb3JlO1xuICAgICAgICAgICAgICAgIGluc2VydEJlZm9yZSA9IGluc2VydEJlZm9yZS5fbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIHJlY29yZCA9IF90aGlzLl9nZXRPckNyZWF0ZVJlY29yZEZvcktleShrZXksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBpbnNlcnRCZWZvcmUgPSBfdGhpcy5faW5zZXJ0QmVmb3JlT3JBcHBlbmQoaW5zZXJ0QmVmb3JlLCByZWNvcmQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gSXRlbXMgcmVtYWluaW5nIGF0IHRoZSBlbmQgb2YgdGhlIGxpc3QgaGF2ZSBiZWVuIGRlbGV0ZWRcbiAgICAgICAgaWYgKGluc2VydEJlZm9yZSkge1xuICAgICAgICAgICAgaWYgKGluc2VydEJlZm9yZS5fcHJldikge1xuICAgICAgICAgICAgICAgIGluc2VydEJlZm9yZS5fcHJldi5fbmV4dCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9yZW1vdmFsc0hlYWQgPSBpbnNlcnRCZWZvcmU7XG4gICAgICAgICAgICBmb3IgKHZhciAvKiogQHR5cGUgez99ICovIHJlY29yZCA9IGluc2VydEJlZm9yZTsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHRSZW1vdmVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlY29yZCA9PT0gdGhpcy5fbWFwSGVhZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9tYXBIZWFkID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVjb3Jkcy5kZWxldGUocmVjb3JkLmtleSk7XG4gICAgICAgICAgICAgICAgcmVjb3JkLl9uZXh0UmVtb3ZlZCA9IHJlY29yZC5fbmV4dDtcbiAgICAgICAgICAgICAgICByZWNvcmQucHJldmlvdXNWYWx1ZSA9IHJlY29yZC5jdXJyZW50VmFsdWU7XG4gICAgICAgICAgICAgICAgcmVjb3JkLmN1cnJlbnRWYWx1ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgcmVjb3JkLl9wcmV2ID0gbnVsbDtcbiAgICAgICAgICAgICAgICByZWNvcmQuX25leHQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0YWlscyBoYXZlIG5vIG5leHQgcmVjb3JkcyBmcm9tIHByZXZpb3VzIHJ1bnNcbiAgICAgICAgaWYgKHRoaXMuX2NoYW5nZXNUYWlsKVxuICAgICAgICAgICAgdGhpcy5fY2hhbmdlc1RhaWwuX25leHRDaGFuZ2VkID0gbnVsbDtcbiAgICAgICAgaWYgKHRoaXMuX2FkZGl0aW9uc1RhaWwpXG4gICAgICAgICAgICB0aGlzLl9hZGRpdGlvbnNUYWlsLl9uZXh0QWRkZWQgPSBudWxsO1xuICAgICAgICByZXR1cm4gdGhpcy5pc0RpcnR5O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSW5zZXJ0cyBhIHJlY29yZCBiZWZvcmUgYGJlZm9yZWAgb3IgYXBwZW5kIGF0IHRoZSBlbmQgb2YgdGhlIGxpc3Qgd2hlbiBgYmVmb3JlYCBpcyBudWxsLlxuICAgICAqXG4gICAgICogTm90ZXM6XG4gICAgICogLSBUaGlzIG1ldGhvZCBhcHBlbmRzIGF0IGB0aGlzLl9hcHBlbmRBZnRlcmAsXG4gICAgICogLSBUaGlzIG1ldGhvZCB1cGRhdGVzIGB0aGlzLl9hcHBlbmRBZnRlcmAsXG4gICAgICogLSBUaGUgcmV0dXJuIHZhbHVlIGlzIHRoZSBuZXcgdmFsdWUgZm9yIHRoZSBpbnNlcnRpb24gcG9pbnRlci5cbiAgICAgKiBAcGFyYW0gez99IGJlZm9yZVxuICAgICAqIEBwYXJhbSB7P30gcmVjb3JkXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBEZWZhdWx0S2V5VmFsdWVEaWZmZXIucHJvdG90eXBlLl9pbnNlcnRCZWZvcmVPckFwcGVuZCA9IGZ1bmN0aW9uIChiZWZvcmUsIHJlY29yZCkge1xuICAgICAgICBpZiAoYmVmb3JlKSB7XG4gICAgICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBwcmV2ID0gYmVmb3JlLl9wcmV2O1xuICAgICAgICAgICAgcmVjb3JkLl9uZXh0ID0gYmVmb3JlO1xuICAgICAgICAgICAgcmVjb3JkLl9wcmV2ID0gcHJldjtcbiAgICAgICAgICAgIGJlZm9yZS5fcHJldiA9IHJlY29yZDtcbiAgICAgICAgICAgIGlmIChwcmV2KSB7XG4gICAgICAgICAgICAgICAgcHJldi5fbmV4dCA9IHJlY29yZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChiZWZvcmUgPT09IHRoaXMuX21hcEhlYWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXBIZWFkID0gcmVjb3JkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fYXBwZW5kQWZ0ZXIgPSBiZWZvcmU7XG4gICAgICAgICAgICByZXR1cm4gYmVmb3JlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9hcHBlbmRBZnRlcikge1xuICAgICAgICAgICAgdGhpcy5fYXBwZW5kQWZ0ZXIuX25leHQgPSByZWNvcmQ7XG4gICAgICAgICAgICByZWNvcmQuX3ByZXYgPSB0aGlzLl9hcHBlbmRBZnRlcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX21hcEhlYWQgPSByZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYXBwZW5kQWZ0ZXIgPSByZWNvcmQ7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBrZXlcbiAgICAgKiBAcGFyYW0gez99IHZhbHVlXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBEZWZhdWx0S2V5VmFsdWVEaWZmZXIucHJvdG90eXBlLl9nZXRPckNyZWF0ZVJlY29yZEZvcktleSA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZWNvcmRzLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyByZWNvcmRfMSA9ICgodGhpcy5fcmVjb3Jkcy5nZXQoa2V5KSkpO1xuICAgICAgICAgICAgdGhpcy5fbWF5YmVBZGRUb0NoYW5nZXMocmVjb3JkXzEsIHZhbHVlKTtcbiAgICAgICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIHByZXYgPSByZWNvcmRfMS5fcHJldjtcbiAgICAgICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIG5leHQgPSByZWNvcmRfMS5fbmV4dDtcbiAgICAgICAgICAgIGlmIChwcmV2KSB7XG4gICAgICAgICAgICAgICAgcHJldi5fbmV4dCA9IG5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmV4dCkge1xuICAgICAgICAgICAgICAgIG5leHQuX3ByZXYgPSBwcmV2O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVjb3JkXzEuX25leHQgPSBudWxsO1xuICAgICAgICAgICAgcmVjb3JkXzEuX3ByZXYgPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIHJlY29yZF8xO1xuICAgICAgICB9XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIHJlY29yZCA9IG5ldyBLZXlWYWx1ZUNoYW5nZVJlY29yZF8oa2V5KTtcbiAgICAgICAgdGhpcy5fcmVjb3Jkcy5zZXQoa2V5LCByZWNvcmQpO1xuICAgICAgICByZWNvcmQuY3VycmVudFZhbHVlID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX2FkZFRvQWRkaXRpb25zKHJlY29yZCk7XG4gICAgICAgIHJldHVybiByZWNvcmQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBcXEBpbnRlcm5hbFxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgRGVmYXVsdEtleVZhbHVlRGlmZmVyLnByb3RvdHlwZS5fcmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkpIHtcbiAgICAgICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIHJlY29yZCA9IHZvaWQgMDtcbiAgICAgICAgICAgIC8vIGxldCBgX3ByZXZpb3VzTWFwSGVhZGAgY29udGFpbiB0aGUgc3RhdGUgb2YgdGhlIG1hcCBiZWZvcmUgdGhlIGNoYW5nZXNcbiAgICAgICAgICAgIHRoaXMuX3ByZXZpb3VzTWFwSGVhZCA9IHRoaXMuX21hcEhlYWQ7XG4gICAgICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX3ByZXZpb3VzTWFwSGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHQpIHtcbiAgICAgICAgICAgICAgICByZWNvcmQuX25leHRQcmV2aW91cyA9IHJlY29yZC5fbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBgcmVjb3JkLnByZXZpb3VzVmFsdWVgIHdpdGggdGhlIHZhbHVlIG9mIHRoZSBpdGVtIGJlZm9yZSB0aGUgY2hhbmdlc1xuICAgICAgICAgICAgLy8gV2UgbmVlZCB0byB1cGRhdGUgYWxsIGNoYW5nZWQgaXRlbXMgKHRoYXQncyB0aG9zZSB3aGljaCBoYXZlIGJlZW4gYWRkZWQgYW5kIGNoYW5nZWQpXG4gICAgICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX2NoYW5nZXNIZWFkOyByZWNvcmQgIT09IG51bGw7IHJlY29yZCA9IHJlY29yZC5fbmV4dENoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICByZWNvcmQucHJldmlvdXNWYWx1ZSA9IHJlY29yZC5jdXJyZW50VmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX2FkZGl0aW9uc0hlYWQ7IHJlY29yZCAhPSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHRBZGRlZCkge1xuICAgICAgICAgICAgICAgIHJlY29yZC5wcmV2aW91c1ZhbHVlID0gcmVjb3JkLmN1cnJlbnRWYWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2NoYW5nZXNIZWFkID0gdGhpcy5fY2hhbmdlc1RhaWwgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fYWRkaXRpb25zSGVhZCA9IHRoaXMuX2FkZGl0aW9uc1RhaWwgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fcmVtb3ZhbHNIZWFkID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSByZWNvcmRcbiAgICAgKiBAcGFyYW0gez99IG5ld1ZhbHVlXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBEZWZhdWx0S2V5VmFsdWVEaWZmZXIucHJvdG90eXBlLl9tYXliZUFkZFRvQ2hhbmdlcyA9IGZ1bmN0aW9uIChyZWNvcmQsIG5ld1ZhbHVlKSB7XG4gICAgICAgIGlmICghbG9vc2VJZGVudGljYWwobmV3VmFsdWUsIHJlY29yZC5jdXJyZW50VmFsdWUpKSB7XG4gICAgICAgICAgICByZWNvcmQucHJldmlvdXNWYWx1ZSA9IHJlY29yZC5jdXJyZW50VmFsdWU7XG4gICAgICAgICAgICByZWNvcmQuY3VycmVudFZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9hZGRUb0NoYW5nZXMocmVjb3JkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSByZWNvcmRcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIERlZmF1bHRLZXlWYWx1ZURpZmZlci5wcm90b3R5cGUuX2FkZFRvQWRkaXRpb25zID0gZnVuY3Rpb24gKHJlY29yZCkge1xuICAgICAgICBpZiAodGhpcy5fYWRkaXRpb25zSGVhZCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fYWRkaXRpb25zSGVhZCA9IHRoaXMuX2FkZGl0aW9uc1RhaWwgPSByZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAoKHRoaXMuX2FkZGl0aW9uc1RhaWwpKS5fbmV4dEFkZGVkID0gcmVjb3JkO1xuICAgICAgICAgICAgdGhpcy5fYWRkaXRpb25zVGFpbCA9IHJlY29yZDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSByZWNvcmRcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIERlZmF1bHRLZXlWYWx1ZURpZmZlci5wcm90b3R5cGUuX2FkZFRvQ2hhbmdlcyA9IGZ1bmN0aW9uIChyZWNvcmQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2NoYW5nZXNIZWFkID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9jaGFuZ2VzSGVhZCA9IHRoaXMuX2NoYW5nZXNUYWlsID0gcmVjb3JkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgKCh0aGlzLl9jaGFuZ2VzVGFpbCkpLl9uZXh0Q2hhbmdlZCA9IHJlY29yZDtcbiAgICAgICAgICAgIHRoaXMuX2NoYW5nZXNUYWlsID0gcmVjb3JkO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBcXEBpbnRlcm5hbFxuICAgICAqIEB0ZW1wbGF0ZSBLLCBWXG4gICAgICogQHBhcmFtIHs/fSBvYmpcbiAgICAgKiBAcGFyYW0gez99IGZuXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBEZWZhdWx0S2V5VmFsdWVEaWZmZXIucHJvdG90eXBlLl9mb3JFYWNoID0gZnVuY3Rpb24gKG9iaiwgZm4pIHtcbiAgICAgICAgaWYgKG9iaiBpbnN0YW5jZW9mIE1hcCkge1xuICAgICAgICAgICAgb2JqLmZvckVhY2goZm4pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgT2JqZWN0LmtleXMob2JqKS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7IHJldHVybiBmbihvYmpba10sIGspOyB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIERlZmF1bHRLZXlWYWx1ZURpZmZlcjtcbn0oKSk7XG4vKipcbiAqIFxcQHN0YWJsZVxuICovXG52YXIgS2V5VmFsdWVDaGFuZ2VSZWNvcmRfID0gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IGtleVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEtleVZhbHVlQ2hhbmdlUmVjb3JkXyhrZXkpIHtcbiAgICAgICAgdGhpcy5rZXkgPSBrZXk7XG4gICAgICAgIHRoaXMucHJldmlvdXNWYWx1ZSA9IG51bGw7XG4gICAgICAgIHRoaXMuY3VycmVudFZhbHVlID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFxcQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9uZXh0UHJldmlvdXMgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogXFxAaW50ZXJuYWxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX25leHQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogXFxAaW50ZXJuYWxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3ByZXYgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogXFxAaW50ZXJuYWxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX25leHRBZGRlZCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBcXEBpbnRlcm5hbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbmV4dFJlbW92ZWQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogXFxAaW50ZXJuYWxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX25leHRDaGFuZ2VkID0gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIEtleVZhbHVlQ2hhbmdlUmVjb3JkXztcbn0oKSk7XG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEEgcmVwb3NpdG9yeSBvZiBkaWZmZXJlbnQgaXRlcmFibGUgZGlmZmluZyBzdHJhdGVnaWVzIHVzZWQgYnkgTmdGb3IsIE5nQ2xhc3MsIGFuZCBvdGhlcnMuXG4gKiBcXEBzdGFibGVcbiAqL1xudmFyIEl0ZXJhYmxlRGlmZmVycyA9IChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBmYWN0b3JpZXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBJdGVyYWJsZURpZmZlcnMoZmFjdG9yaWVzKSB7XG4gICAgICAgIHRoaXMuZmFjdG9yaWVzID0gZmFjdG9yaWVzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IGZhY3Rvcmllc1xuICAgICAqIEBwYXJhbSB7Pz19IHBhcmVudFxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgSXRlcmFibGVEaWZmZXJzLmNyZWF0ZSA9IGZ1bmN0aW9uIChmYWN0b3JpZXMsIHBhcmVudCkge1xuICAgICAgICBpZiAocGFyZW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGNvcGllZCA9IHBhcmVudC5mYWN0b3JpZXMuc2xpY2UoKTtcbiAgICAgICAgICAgIGZhY3RvcmllcyA9IGZhY3Rvcmllcy5jb25jYXQoY29waWVkKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgSXRlcmFibGVEaWZmZXJzKGZhY3Rvcmllcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEl0ZXJhYmxlRGlmZmVycyhmYWN0b3JpZXMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUYWtlcyBhbiBhcnJheSBvZiB7XFxAbGluayBJdGVyYWJsZURpZmZlckZhY3Rvcnl9IGFuZCByZXR1cm5zIGEgcHJvdmlkZXIgdXNlZCB0byBleHRlbmQgdGhlXG4gICAgICogaW5oZXJpdGVkIHtcXEBsaW5rIEl0ZXJhYmxlRGlmZmVyc30gaW5zdGFuY2Ugd2l0aCB0aGUgcHJvdmlkZWQgZmFjdG9yaWVzIGFuZCByZXR1cm4gYSBuZXdcbiAgICAgKiB7XFxAbGluayBJdGVyYWJsZURpZmZlcnN9IGluc3RhbmNlLlxuICAgICAqXG4gICAgICogVGhlIGZvbGxvd2luZyBleGFtcGxlIHNob3dzIGhvdyB0byBleHRlbmQgYW4gZXhpc3RpbmcgbGlzdCBvZiBmYWN0b3JpZXMsXG4gICAgICogd2hpY2ggd2lsbCBvbmx5IGJlIGFwcGxpZWQgdG8gdGhlIGluamVjdG9yIGZvciB0aGlzIGNvbXBvbmVudCBhbmQgaXRzIGNoaWxkcmVuLlxuICAgICAqIFRoaXMgc3RlcCBpcyBhbGwgdGhhdCdzIHJlcXVpcmVkIHRvIG1ha2UgYSBuZXcge1xcQGxpbmsgSXRlcmFibGVEaWZmZXJ9IGF2YWlsYWJsZS5cbiAgICAgKlxuICAgICAqICMjIyBFeGFtcGxlXG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKiBcXEBDb21wb25lbnQoe1xuICAgICAqICAgdmlld1Byb3ZpZGVyczogW1xuICAgICAqICAgICBJdGVyYWJsZURpZmZlcnMuZXh0ZW5kKFtuZXcgSW1tdXRhYmxlTGlzdERpZmZlcigpXSlcbiAgICAgKiAgIF1cbiAgICAgKiB9KVxuICAgICAqIGBgYFxuICAgICAqIEBwYXJhbSB7P30gZmFjdG9yaWVzXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBJdGVyYWJsZURpZmZlcnMuZXh0ZW5kID0gZnVuY3Rpb24gKGZhY3Rvcmllcykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcHJvdmlkZTogSXRlcmFibGVEaWZmZXJzLFxuICAgICAgICAgICAgdXNlRmFjdG9yeTogZnVuY3Rpb24gKHBhcmVudCkge1xuICAgICAgICAgICAgICAgIGlmICghcGFyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFR5cGljYWxseSB3b3VsZCBvY2N1ciB3aGVuIGNhbGxpbmcgSXRlcmFibGVEaWZmZXJzLmV4dGVuZCBpbnNpZGUgb2YgZGVwZW5kZW5jaWVzIHBhc3NlZFxuICAgICAgICAgICAgICAgICAgICAvLyB0b1xuICAgICAgICAgICAgICAgICAgICAvLyBib290c3RyYXAoKSwgd2hpY2ggd291bGQgb3ZlcnJpZGUgZGVmYXVsdCBwaXBlcyBpbnN0ZWFkIG9mIGV4dGVuZGluZyB0aGVtLlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBleHRlbmQgSXRlcmFibGVEaWZmZXJzIHdpdGhvdXQgYSBwYXJlbnQgaW5qZWN0b3InKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIEl0ZXJhYmxlRGlmZmVycy5jcmVhdGUoZmFjdG9yaWVzLCBwYXJlbnQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIERlcGVuZGVuY3kgdGVjaG5pY2FsbHkgaXNuJ3Qgb3B0aW9uYWwsIGJ1dCB3ZSBjYW4gcHJvdmlkZSBhIGJldHRlciBlcnJvciBtZXNzYWdlIHRoaXMgd2F5LlxuICAgICAgICAgICAgZGVwczogW1tJdGVyYWJsZURpZmZlcnMsIG5ldyBTa2lwU2VsZigpLCBuZXcgT3B0aW9uYWwoKV1dXG4gICAgICAgIH07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IGl0ZXJhYmxlXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBJdGVyYWJsZURpZmZlcnMucHJvdG90eXBlLmZpbmQgPSBmdW5jdGlvbiAoaXRlcmFibGUpIHtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gZmFjdG9yeSA9IHRoaXMuZmFjdG9yaWVzLmZpbmQoZnVuY3Rpb24gKGYpIHsgcmV0dXJuIGYuc3VwcG9ydHMoaXRlcmFibGUpOyB9KTtcbiAgICAgICAgaWYgKGZhY3RvcnkgIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhY3Rvcnk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBhIGRpZmZlciBzdXBwb3J0aW5nIG9iamVjdCAnXCIgKyBpdGVyYWJsZSArIFwiJyBvZiB0eXBlICdcIiArIGdldFR5cGVOYW1lRm9yRGVidWdnaW5nKGl0ZXJhYmxlKSArIFwiJ1wiKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEl0ZXJhYmxlRGlmZmVycztcbn0oKSk7XG4vKipcbiAqIEBwYXJhbSB7P30gdHlwZVxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gZ2V0VHlwZU5hbWVGb3JEZWJ1Z2dpbmcodHlwZSkge1xuICAgIHJldHVybiB0eXBlWyduYW1lJ10gfHwgdHlwZW9mIHR5cGU7XG59XG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEEgcmVwb3NpdG9yeSBvZiBkaWZmZXJlbnQgTWFwIGRpZmZpbmcgc3RyYXRlZ2llcyB1c2VkIGJ5IE5nQ2xhc3MsIE5nU3R5bGUsIGFuZCBvdGhlcnMuXG4gKiBcXEBzdGFibGVcbiAqL1xudmFyIEtleVZhbHVlRGlmZmVycyA9IChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBmYWN0b3JpZXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBLZXlWYWx1ZURpZmZlcnMoZmFjdG9yaWVzKSB7XG4gICAgICAgIHRoaXMuZmFjdG9yaWVzID0gZmFjdG9yaWVzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAdGVtcGxhdGUgU1xuICAgICAqIEBwYXJhbSB7P30gZmFjdG9yaWVzXG4gICAgICogQHBhcmFtIHs/PX0gcGFyZW50XG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBLZXlWYWx1ZURpZmZlcnMuY3JlYXRlID0gZnVuY3Rpb24gKGZhY3RvcmllcywgcGFyZW50KSB7XG4gICAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGNvcGllZCA9IHBhcmVudC5mYWN0b3JpZXMuc2xpY2UoKTtcbiAgICAgICAgICAgIGZhY3RvcmllcyA9IGZhY3Rvcmllcy5jb25jYXQoY29waWVkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEtleVZhbHVlRGlmZmVycyhmYWN0b3JpZXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGFrZXMgYW4gYXJyYXkgb2Yge1xcQGxpbmsgS2V5VmFsdWVEaWZmZXJGYWN0b3J5fSBhbmQgcmV0dXJucyBhIHByb3ZpZGVyIHVzZWQgdG8gZXh0ZW5kIHRoZVxuICAgICAqIGluaGVyaXRlZCB7XFxAbGluayBLZXlWYWx1ZURpZmZlcnN9IGluc3RhbmNlIHdpdGggdGhlIHByb3ZpZGVkIGZhY3RvcmllcyBhbmQgcmV0dXJuIGEgbmV3XG4gICAgICoge1xcQGxpbmsgS2V5VmFsdWVEaWZmZXJzfSBpbnN0YW5jZS5cbiAgICAgKlxuICAgICAqIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSBzaG93cyBob3cgdG8gZXh0ZW5kIGFuIGV4aXN0aW5nIGxpc3Qgb2YgZmFjdG9yaWVzLFxuICAgICAqIHdoaWNoIHdpbGwgb25seSBiZSBhcHBsaWVkIHRvIHRoZSBpbmplY3RvciBmb3IgdGhpcyBjb21wb25lbnQgYW5kIGl0cyBjaGlsZHJlbi5cbiAgICAgKiBUaGlzIHN0ZXAgaXMgYWxsIHRoYXQncyByZXF1aXJlZCB0byBtYWtlIGEgbmV3IHtcXEBsaW5rIEtleVZhbHVlRGlmZmVyfSBhdmFpbGFibGUuXG4gICAgICpcbiAgICAgKiAjIyMgRXhhbXBsZVxuICAgICAqXG4gICAgICogYGBgXG4gICAgICogXFxAQ29tcG9uZW50KHtcbiAgICAgKiAgIHZpZXdQcm92aWRlcnM6IFtcbiAgICAgKiAgICAgS2V5VmFsdWVEaWZmZXJzLmV4dGVuZChbbmV3IEltbXV0YWJsZU1hcERpZmZlcigpXSlcbiAgICAgKiAgIF1cbiAgICAgKiB9KVxuICAgICAqIGBgYFxuICAgICAqIEB0ZW1wbGF0ZSBTXG4gICAgICogQHBhcmFtIHs/fSBmYWN0b3JpZXNcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIEtleVZhbHVlRGlmZmVycy5leHRlbmQgPSBmdW5jdGlvbiAoZmFjdG9yaWVzKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwcm92aWRlOiBLZXlWYWx1ZURpZmZlcnMsXG4gICAgICAgICAgICB1c2VGYWN0b3J5OiBmdW5jdGlvbiAocGFyZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFwYXJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVHlwaWNhbGx5IHdvdWxkIG9jY3VyIHdoZW4gY2FsbGluZyBLZXlWYWx1ZURpZmZlcnMuZXh0ZW5kIGluc2lkZSBvZiBkZXBlbmRlbmNpZXMgcGFzc2VkXG4gICAgICAgICAgICAgICAgICAgIC8vIHRvIGJvb3RzdHJhcCgpLCB3aGljaCB3b3VsZCBvdmVycmlkZSBkZWZhdWx0IHBpcGVzIGluc3RlYWQgb2YgZXh0ZW5kaW5nIHRoZW0uXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGV4dGVuZCBLZXlWYWx1ZURpZmZlcnMgd2l0aG91dCBhIHBhcmVudCBpbmplY3RvcicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gS2V5VmFsdWVEaWZmZXJzLmNyZWF0ZShmYWN0b3JpZXMsIHBhcmVudCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gRGVwZW5kZW5jeSB0ZWNobmljYWxseSBpc24ndCBvcHRpb25hbCwgYnV0IHdlIGNhbiBwcm92aWRlIGEgYmV0dGVyIGVycm9yIG1lc3NhZ2UgdGhpcyB3YXkuXG4gICAgICAgICAgICBkZXBzOiBbW0tleVZhbHVlRGlmZmVycywgbmV3IFNraXBTZWxmKCksIG5ldyBPcHRpb25hbCgpXV1cbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30ga3ZcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIEtleVZhbHVlRGlmZmVycy5wcm90b3R5cGUuZmluZCA9IGZ1bmN0aW9uIChrdikge1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBmYWN0b3J5ID0gdGhpcy5mYWN0b3JpZXMuZmluZChmdW5jdGlvbiAoZikgeyByZXR1cm4gZi5zdXBwb3J0cyhrdik7IH0pO1xuICAgICAgICBpZiAoZmFjdG9yeSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhY3Rvcnk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgYSBkaWZmZXIgc3VwcG9ydGluZyBvYmplY3QgJ1wiICsga3YgKyBcIidcIik7XG4gICAgfTtcbiAgICByZXR1cm4gS2V5VmFsdWVEaWZmZXJzO1xufSgpKTtcbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogU3RydWN0dXJhbCBkaWZmaW5nIGZvciBgT2JqZWN0YHMgYW5kIGBNYXBgcy5cbiAqL1xudmFyIGtleVZhbERpZmYgPSBbbmV3IERlZmF1bHRLZXlWYWx1ZURpZmZlckZhY3RvcnkoKV07XG4vKipcbiAqIFN0cnVjdHVyYWwgZGlmZmluZyBmb3IgYEl0ZXJhYmxlYCB0eXBlcyBzdWNoIGFzIGBBcnJheWBzLlxuICovXG52YXIgaXRlcmFibGVEaWZmID0gW25ldyBEZWZhdWx0SXRlcmFibGVEaWZmZXJGYWN0b3J5KCldO1xudmFyIGRlZmF1bHRJdGVyYWJsZURpZmZlcnMgPSBuZXcgSXRlcmFibGVEaWZmZXJzKGl0ZXJhYmxlRGlmZik7XG52YXIgZGVmYXVsdEtleVZhbHVlRGlmZmVycyA9IG5ldyBLZXlWYWx1ZURpZmZlcnMoa2V5VmFsRGlmZik7XG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEBtb2R1bGVcbiAqIEBkZXNjcmlwdGlvblxuICogQ2hhbmdlIGRldGVjdGlvbiBlbmFibGVzIGRhdGEgYmluZGluZyBpbiBBbmd1bGFyLlxuICovXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIF9yZWZsZWN0b3IoKSB7XG4gICAgcmV0dXJuIHJlZmxlY3Rvcjtcbn1cbnZhciBfQ09SRV9QTEFURk9STV9QUk9WSURFUlMgPSBbXG4gICAgLy8gU2V0IGEgZGVmYXVsdCBwbGF0Zm9ybSBuYW1lIGZvciBwbGF0Zm9ybXMgdGhhdCBkb24ndCBzZXQgaXQgZXhwbGljaXRseS5cbiAgICB7IHByb3ZpZGU6IFBMQVRGT1JNX0lELCB1c2VWYWx1ZTogJ3Vua25vd24nIH0sXG4gICAgUGxhdGZvcm1SZWZfLFxuICAgIHsgcHJvdmlkZTogUGxhdGZvcm1SZWYsIHVzZUV4aXN0aW5nOiBQbGF0Zm9ybVJlZl8gfSxcbiAgICB7IHByb3ZpZGU6IFJlZmxlY3RvciwgdXNlRmFjdG9yeTogX3JlZmxlY3RvciwgZGVwczogW10gfSxcbiAgICBUZXN0YWJpbGl0eVJlZ2lzdHJ5LFxuICAgIENvbnNvbGUsXG5dO1xuLyoqXG4gKiBUaGlzIHBsYXRmb3JtIGhhcyB0byBiZSBpbmNsdWRlZCBpbiBhbnkgb3RoZXIgcGxhdGZvcm1cbiAqXG4gKiBcXEBleHBlcmltZW50YWxcbiAqL1xudmFyIHBsYXRmb3JtQ29yZSA9IGNyZWF0ZVBsYXRmb3JtRmFjdG9yeShudWxsLCAnY29yZScsIF9DT1JFX1BMQVRGT1JNX1BST1ZJREVSUyk7XG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFxcQGV4cGVyaW1lbnRhbCBpMThuIHN1cHBvcnQgaXMgZXhwZXJpbWVudGFsLlxuICovXG52YXIgTE9DQUxFX0lEID0gbmV3IEluamVjdGlvblRva2VuKCdMb2NhbGVJZCcpO1xuLyoqXG4gKiBcXEBleHBlcmltZW50YWwgaTE4biBzdXBwb3J0IGlzIGV4cGVyaW1lbnRhbC5cbiAqL1xudmFyIFRSQU5TTEFUSU9OUyA9IG5ldyBJbmplY3Rpb25Ub2tlbignVHJhbnNsYXRpb25zJyk7XG4vKipcbiAqIFxcQGV4cGVyaW1lbnRhbCBpMThuIHN1cHBvcnQgaXMgZXhwZXJpbWVudGFsLlxuICovXG52YXIgVFJBTlNMQVRJT05TX0ZPUk1BVCA9IG5ldyBJbmplY3Rpb25Ub2tlbignVHJhbnNsYXRpb25zRm9ybWF0Jyk7XG52YXIgTWlzc2luZ1RyYW5zbGF0aW9uU3RyYXRlZ3kgPSB7fTtcbk1pc3NpbmdUcmFuc2xhdGlvblN0cmF0ZWd5LkVycm9yID0gMDtcbk1pc3NpbmdUcmFuc2xhdGlvblN0cmF0ZWd5Lldhcm5pbmcgPSAxO1xuTWlzc2luZ1RyYW5zbGF0aW9uU3RyYXRlZ3kuSWdub3JlID0gMjtcbk1pc3NpbmdUcmFuc2xhdGlvblN0cmF0ZWd5W01pc3NpbmdUcmFuc2xhdGlvblN0cmF0ZWd5LkVycm9yXSA9IFwiRXJyb3JcIjtcbk1pc3NpbmdUcmFuc2xhdGlvblN0cmF0ZWd5W01pc3NpbmdUcmFuc2xhdGlvblN0cmF0ZWd5Lldhcm5pbmddID0gXCJXYXJuaW5nXCI7XG5NaXNzaW5nVHJhbnNsYXRpb25TdHJhdGVneVtNaXNzaW5nVHJhbnNsYXRpb25TdHJhdGVneS5JZ25vcmVdID0gXCJJZ25vcmVcIjtcbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gX2l0ZXJhYmxlRGlmZmVyc0ZhY3RvcnkoKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRJdGVyYWJsZURpZmZlcnM7XG59XG4vKipcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIF9rZXlWYWx1ZURpZmZlcnNGYWN0b3J5KCkge1xuICAgIHJldHVybiBkZWZhdWx0S2V5VmFsdWVEaWZmZXJzO1xufVxuLyoqXG4gKiBAcGFyYW0gez89fSBsb2NhbGVcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIF9sb2NhbGVGYWN0b3J5KGxvY2FsZSkge1xuICAgIHJldHVybiBsb2NhbGUgfHwgJ2VuLVVTJztcbn1cbi8qKlxuICogVGhpcyBtb2R1bGUgaW5jbHVkZXMgdGhlIHByb3ZpZGVycyBvZiBcXEBhbmd1bGFyL2NvcmUgdGhhdCBhcmUgbmVlZGVkXG4gKiB0byBib290c3RyYXAgY29tcG9uZW50cyB2aWEgYEFwcGxpY2F0aW9uUmVmYC5cbiAqXG4gKiBcXEBleHBlcmltZW50YWxcbiAqL1xudmFyIEFwcGxpY2F0aW9uTW9kdWxlID0gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IGFwcFJlZlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEFwcGxpY2F0aW9uTW9kdWxlKGFwcFJlZikge1xuICAgIH1cbiAgICByZXR1cm4gQXBwbGljYXRpb25Nb2R1bGU7XG59KCkpO1xuQXBwbGljYXRpb25Nb2R1bGUuZGVjb3JhdG9ycyA9IFtcbiAgICB7IHR5cGU6IE5nTW9kdWxlLCBhcmdzOiBbe1xuICAgICAgICAgICAgICAgIHByb3ZpZGVyczogW1xuICAgICAgICAgICAgICAgICAgICBBcHBsaWNhdGlvblJlZl8sXG4gICAgICAgICAgICAgICAgICAgIHsgcHJvdmlkZTogQXBwbGljYXRpb25SZWYsIHVzZUV4aXN0aW5nOiBBcHBsaWNhdGlvblJlZl8gfSxcbiAgICAgICAgICAgICAgICAgICAgQXBwbGljYXRpb25Jbml0U3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICBDb21waWxlcixcbiAgICAgICAgICAgICAgICAgICAgQVBQX0lEX1JBTkRPTV9QUk9WSURFUixcbiAgICAgICAgICAgICAgICAgICAgeyBwcm92aWRlOiBJdGVyYWJsZURpZmZlcnMsIHVzZUZhY3Rvcnk6IF9pdGVyYWJsZURpZmZlcnNGYWN0b3J5IH0sXG4gICAgICAgICAgICAgICAgICAgIHsgcHJvdmlkZTogS2V5VmFsdWVEaWZmZXJzLCB1c2VGYWN0b3J5OiBfa2V5VmFsdWVEaWZmZXJzRmFjdG9yeSB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlOiBMT0NBTEVfSUQsXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VGYWN0b3J5OiBfbG9jYWxlRmFjdG9yeSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlcHM6IFtbbmV3IEluamVjdChMT0NBTEVfSUQpLCBuZXcgT3B0aW9uYWwoKSwgbmV3IFNraXBTZWxmKCldXVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH0sXSB9LFxuXTtcbi8qKlxuICogQG5vY29sbGFwc2VcbiAqL1xuQXBwbGljYXRpb25Nb2R1bGUuY3RvclBhcmFtZXRlcnMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBbXG4gICAgeyB0eXBlOiBBcHBsaWNhdGlvblJlZiwgfSxcbl07IH07XG52YXIgU2VjdXJpdHlDb250ZXh0ID0ge307XG5TZWN1cml0eUNvbnRleHQuTk9ORSA9IDA7XG5TZWN1cml0eUNvbnRleHQuSFRNTCA9IDE7XG5TZWN1cml0eUNvbnRleHQuU1RZTEUgPSAyO1xuU2VjdXJpdHlDb250ZXh0LlNDUklQVCA9IDM7XG5TZWN1cml0eUNvbnRleHQuVVJMID0gNDtcblNlY3VyaXR5Q29udGV4dC5SRVNPVVJDRV9VUkwgPSA1O1xuU2VjdXJpdHlDb250ZXh0W1NlY3VyaXR5Q29udGV4dC5OT05FXSA9IFwiTk9ORVwiO1xuU2VjdXJpdHlDb250ZXh0W1NlY3VyaXR5Q29udGV4dC5IVE1MXSA9IFwiSFRNTFwiO1xuU2VjdXJpdHlDb250ZXh0W1NlY3VyaXR5Q29udGV4dC5TVFlMRV0gPSBcIlNUWUxFXCI7XG5TZWN1cml0eUNvbnRleHRbU2VjdXJpdHlDb250ZXh0LlNDUklQVF0gPSBcIlNDUklQVFwiO1xuU2VjdXJpdHlDb250ZXh0W1NlY3VyaXR5Q29udGV4dC5VUkxdID0gXCJVUkxcIjtcblNlY3VyaXR5Q29udGV4dFtTZWN1cml0eUNvbnRleHQuUkVTT1VSQ0VfVVJMXSA9IFwiUkVTT1VSQ0VfVVJMXCI7XG4vKipcbiAqIFNhbml0aXplciBpcyB1c2VkIGJ5IHRoZSB2aWV3cyB0byBzYW5pdGl6ZSBwb3RlbnRpYWxseSBkYW5nZXJvdXMgdmFsdWVzLlxuICpcbiAqIFxcQHN0YWJsZVxuICogQGFic3RyYWN0XG4gKi9cbnZhciBTYW5pdGl6ZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNhbml0aXplcigpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHBhcmFtIHs/fSBjb250ZXh0XG4gICAgICogQHBhcmFtIHs/fSB2YWx1ZVxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgU2FuaXRpemVyLnByb3RvdHlwZS5zYW5pdGl6ZSA9IGZ1bmN0aW9uIChjb250ZXh0LCB2YWx1ZSkgeyB9O1xuICAgIHJldHVybiBTYW5pdGl6ZXI7XG59KCkpO1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBOb2RlIGluc3RhbmNlIGRhdGEuXG4gKlxuICogV2UgaGF2ZSBhIHNlcGFyYXRlIHR5cGUgcGVyIE5vZGVUeXBlIHRvIHNhdmUgbWVtb3J5XG4gKiAoVGV4dERhdGEgfCBFbGVtZW50RGF0YSB8IFByb3ZpZGVyRGF0YSB8IFB1cmVFeHByZXNzaW9uRGF0YSB8IFF1ZXJ5TGlzdDxhbnk+KVxuICpcbiAqIFRvIGtlZXAgb3VyIGNvZGUgbW9ub21vcnBoaWMsXG4gKiB3ZSBwcm9oaWJpdCB1c2luZyBgTm9kZURhdGFgIGRpcmVjdGx5IGJ1dCBlbmZvcmNlIHRoZSB1c2Ugb2YgYWNjZXNzb3JzIChgYXNFbGVtZW50RGF0YWAsIC4uLikuXG4gKiBUaGlzIHdheSwgbm8gdXNhZ2Ugc2l0ZSBjYW4gZ2V0IGEgYE5vZGVEYXRhYCBmcm9tIHZpZXcubm9kZXMgYW5kIHRoZW4gdXNlIGl0IGZvciBkaWZmZXJlbnRcbiAqIHB1cnBvc2VzLlxuICovXG4vKipcbiAqIEFjY2Vzc29yIGZvciB2aWV3Lm5vZGVzLCBlbmZvcmNpbmcgdGhhdCBldmVyeSB1c2FnZSBzaXRlIHN0YXlzIG1vbm9tb3JwaGljLlxuICogQHBhcmFtIHs/fSB2aWV3XG4gKiBAcGFyYW0gez99IGluZGV4XG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBhc1RleHREYXRhKHZpZXcsIGluZGV4KSB7XG4gICAgcmV0dXJuICh2aWV3Lm5vZGVzW2luZGV4XSk7XG59XG4vKipcbiAqIEFjY2Vzc29yIGZvciB2aWV3Lm5vZGVzLCBlbmZvcmNpbmcgdGhhdCBldmVyeSB1c2FnZSBzaXRlIHN0YXlzIG1vbm9tb3JwaGljLlxuICogQHBhcmFtIHs/fSB2aWV3XG4gKiBAcGFyYW0gez99IGluZGV4XG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBhc0VsZW1lbnREYXRhKHZpZXcsIGluZGV4KSB7XG4gICAgcmV0dXJuICh2aWV3Lm5vZGVzW2luZGV4XSk7XG59XG4vKipcbiAqIEFjY2Vzc29yIGZvciB2aWV3Lm5vZGVzLCBlbmZvcmNpbmcgdGhhdCBldmVyeSB1c2FnZSBzaXRlIHN0YXlzIG1vbm9tb3JwaGljLlxuICogQHBhcmFtIHs/fSB2aWV3XG4gKiBAcGFyYW0gez99IGluZGV4XG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBhc1Byb3ZpZGVyRGF0YSh2aWV3LCBpbmRleCkge1xuICAgIHJldHVybiAodmlldy5ub2Rlc1tpbmRleF0pO1xufVxuLyoqXG4gKiBBY2Nlc3NvciBmb3Igdmlldy5ub2RlcywgZW5mb3JjaW5nIHRoYXQgZXZlcnkgdXNhZ2Ugc2l0ZSBzdGF5cyBtb25vbW9ycGhpYy5cbiAqIEBwYXJhbSB7P30gdmlld1xuICogQHBhcmFtIHs/fSBpbmRleFxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gYXNQdXJlRXhwcmVzc2lvbkRhdGEodmlldywgaW5kZXgpIHtcbiAgICByZXR1cm4gKHZpZXcubm9kZXNbaW5kZXhdKTtcbn1cbi8qKlxuICogQWNjZXNzb3IgZm9yIHZpZXcubm9kZXMsIGVuZm9yY2luZyB0aGF0IGV2ZXJ5IHVzYWdlIHNpdGUgc3RheXMgbW9ub21vcnBoaWMuXG4gKiBAcGFyYW0gez99IHZpZXdcbiAqIEBwYXJhbSB7P30gaW5kZXhcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGFzUXVlcnlMaXN0KHZpZXcsIGluZGV4KSB7XG4gICAgcmV0dXJuICh2aWV3Lm5vZGVzW2luZGV4XSk7XG59XG4vKipcbiAqIEBhYnN0cmFjdFxuICovXG52YXIgRGVidWdDb250ZXh0ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEZWJ1Z0NvbnRleHQoKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgRGVidWdDb250ZXh0LnByb3RvdHlwZS52aWV3ID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgRGVidWdDb250ZXh0LnByb3RvdHlwZS5ub2RlSW5kZXggPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgLyoqXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBEZWJ1Z0NvbnRleHQucHJvdG90eXBlLmluamVjdG9yID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgRGVidWdDb250ZXh0LnByb3RvdHlwZS5jb21wb25lbnQgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgLyoqXG4gICAgICogQGFic3RyYWN0XG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBEZWJ1Z0NvbnRleHQucHJvdG90eXBlLnByb3ZpZGVyVG9rZW5zID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgRGVidWdDb250ZXh0LnByb3RvdHlwZS5yZWZlcmVuY2VzID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgRGVidWdDb250ZXh0LnByb3RvdHlwZS5jb250ZXh0ID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgRGVidWdDb250ZXh0LnByb3RvdHlwZS5jb21wb25lbnRSZW5kZXJFbGVtZW50ID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgRGVidWdDb250ZXh0LnByb3RvdHlwZS5yZW5kZXJOb2RlID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIC8qKlxuICAgICAqIEBhYnN0cmFjdFxuICAgICAqIEBwYXJhbSB7P30gY29uc29sZVxuICAgICAqIEBwYXJhbSB7Li4uP30gdmFsdWVzXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBEZWJ1Z0NvbnRleHQucHJvdG90eXBlLmxvZ0Vycm9yID0gZnVuY3Rpb24gKGNvbnNvbGUpIHtcbiAgICAgICAgdmFyIHZhbHVlcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFsdWVzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gRGVidWdDb250ZXh0O1xufSgpKTtcbi8qKlxuICogVGhpcyBvYmplY3QgaXMgdXNlZCB0byBwcmV2ZW50IGN5Y2xlcyBpbiB0aGUgc291cmNlIGZpbGVzIGFuZCB0byBoYXZlIGEgcGxhY2Ugd2hlcmVcbiAqIGRlYnVnIG1vZGUgY2FuIGhvb2sgaXQuIEl0IGlzIGxhemlseSBmaWxsZWQgd2hlbiBgaXNEZXZNb2RlYCBpcyBrbm93bi5cbiAqL1xudmFyIFNlcnZpY2VzID0ge1xuICAgIHNldEN1cnJlbnROb2RlOiB1bmRlZmluZWQsXG4gICAgY3JlYXRlUm9vdFZpZXc6IHVuZGVmaW5lZCxcbiAgICBjcmVhdGVFbWJlZGRlZFZpZXc6IHVuZGVmaW5lZCxcbiAgICBjcmVhdGVDb21wb25lbnRWaWV3OiB1bmRlZmluZWQsXG4gICAgY3JlYXRlTmdNb2R1bGVSZWY6IHVuZGVmaW5lZCxcbiAgICBvdmVycmlkZVByb3ZpZGVyOiB1bmRlZmluZWQsXG4gICAgY2xlYXJQcm92aWRlck92ZXJyaWRlczogdW5kZWZpbmVkLFxuICAgIGNoZWNrQW5kVXBkYXRlVmlldzogdW5kZWZpbmVkLFxuICAgIGNoZWNrTm9DaGFuZ2VzVmlldzogdW5kZWZpbmVkLFxuICAgIGRlc3Ryb3lWaWV3OiB1bmRlZmluZWQsXG4gICAgcmVzb2x2ZURlcDogdW5kZWZpbmVkLFxuICAgIGNyZWF0ZURlYnVnQ29udGV4dDogdW5kZWZpbmVkLFxuICAgIGhhbmRsZUV2ZW50OiB1bmRlZmluZWQsXG4gICAgdXBkYXRlRGlyZWN0aXZlczogdW5kZWZpbmVkLFxuICAgIHVwZGF0ZVJlbmRlcmVyOiB1bmRlZmluZWQsXG4gICAgZGlydHlQYXJlbnRRdWVyaWVzOiB1bmRlZmluZWQsXG59O1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBAcGFyYW0gez99IGNvbnRleHRcbiAqIEBwYXJhbSB7P30gb2xkVmFsdWVcbiAqIEBwYXJhbSB7P30gY3VyclZhbHVlXG4gKiBAcGFyYW0gez99IGlzRmlyc3RDaGVja1xuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gZXhwcmVzc2lvbkNoYW5nZWRBZnRlckl0SGFzQmVlbkNoZWNrZWRFcnJvcihjb250ZXh0LCBvbGRWYWx1ZSwgY3VyclZhbHVlLCBpc0ZpcnN0Q2hlY2spIHtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBtc2cgPSBcIkV4cHJlc3Npb25DaGFuZ2VkQWZ0ZXJJdEhhc0JlZW5DaGVja2VkRXJyb3I6IEV4cHJlc3Npb24gaGFzIGNoYW5nZWQgYWZ0ZXIgaXQgd2FzIGNoZWNrZWQuIFByZXZpb3VzIHZhbHVlOiAnXCIgKyBvbGRWYWx1ZSArIFwiJy4gQ3VycmVudCB2YWx1ZTogJ1wiICsgY3VyclZhbHVlICsgXCInLlwiO1xuICAgIGlmIChpc0ZpcnN0Q2hlY2spIHtcbiAgICAgICAgbXNnICs9XG4gICAgICAgICAgICBcIiBJdCBzZWVtcyBsaWtlIHRoZSB2aWV3IGhhcyBiZWVuIGNyZWF0ZWQgYWZ0ZXIgaXRzIHBhcmVudCBhbmQgaXRzIGNoaWxkcmVuIGhhdmUgYmVlbiBkaXJ0eSBjaGVja2VkLlwiICtcbiAgICAgICAgICAgICAgICBcIiBIYXMgaXQgYmVlbiBjcmVhdGVkIGluIGEgY2hhbmdlIGRldGVjdGlvbiBob29rID9cIjtcbiAgICB9XG4gICAgcmV0dXJuIHZpZXdEZWJ1Z0Vycm9yKG1zZywgY29udGV4dCk7XG59XG4vKipcbiAqIEBwYXJhbSB7P30gZXJyXG4gKiBAcGFyYW0gez99IGNvbnRleHRcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIHZpZXdXcmFwcGVkRGVidWdFcnJvcihlcnIsIGNvbnRleHQpIHtcbiAgICBpZiAoIShlcnIgaW5zdGFuY2VvZiBFcnJvcikpIHtcbiAgICAgICAgLy8gZXJyb3JzIHRoYXQgYXJlIG5vdCBFcnJvciBpbnN0YW5jZXMgZG9uJ3QgaGF2ZSBhIHN0YWNrLFxuICAgICAgICAvLyBzbyBpdCBpcyBvayB0byB3cmFwIHRoZW0gaW50byBhIG5ldyBFcnJvciBvYmplY3QuLi5cbiAgICAgICAgZXJyID0gbmV3IEVycm9yKGVyci50b1N0cmluZygpKTtcbiAgICB9XG4gICAgX2FkZERlYnVnQ29udGV4dChlcnIsIGNvbnRleHQpO1xuICAgIHJldHVybiBlcnI7XG59XG4vKipcbiAqIEBwYXJhbSB7P30gbXNnXG4gKiBAcGFyYW0gez99IGNvbnRleHRcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIHZpZXdEZWJ1Z0Vycm9yKG1zZywgY29udGV4dCkge1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIGVyciA9IG5ldyBFcnJvcihtc2cpO1xuICAgIF9hZGREZWJ1Z0NvbnRleHQoZXJyLCBjb250ZXh0KTtcbiAgICByZXR1cm4gZXJyO1xufVxuLyoqXG4gKiBAcGFyYW0gez99IGVyclxuICogQHBhcmFtIHs/fSBjb250ZXh0XG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBfYWRkRGVidWdDb250ZXh0KGVyciwgY29udGV4dCkge1xuICAgICgoZXJyKSlbRVJST1JfREVCVUdfQ09OVEVYVF0gPSBjb250ZXh0O1xuICAgICgoZXJyKSlbRVJST1JfTE9HR0VSXSA9IGNvbnRleHQubG9nRXJyb3IuYmluZChjb250ZXh0KTtcbn1cbi8qKlxuICogQHBhcmFtIHs/fSBlcnJcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGlzVmlld0RlYnVnRXJyb3IoZXJyKSB7XG4gICAgcmV0dXJuICEhZ2V0RGVidWdDb250ZXh0KGVycik7XG59XG4vKipcbiAqIEBwYXJhbSB7P30gYWN0aW9uXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiB2aWV3RGVzdHJveWVkRXJyb3IoYWN0aW9uKSB7XG4gICAgcmV0dXJuIG5ldyBFcnJvcihcIlZpZXdEZXN0cm95ZWRFcnJvcjogQXR0ZW1wdCB0byB1c2UgYSBkZXN0cm95ZWQgdmlldzogXCIgKyBhY3Rpb24pO1xufVxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xudmFyIE5PT1AgPSBmdW5jdGlvbiAoKSB7IH07XG52YXIgX3Rva2VuS2V5Q2FjaGUgPSBuZXcgTWFwKCk7XG4vKipcbiAqIEBwYXJhbSB7P30gdG9rZW5cbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIHRva2VuS2V5KHRva2VuKSB7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8ga2V5ID0gX3Rva2VuS2V5Q2FjaGUuZ2V0KHRva2VuKTtcbiAgICBpZiAoIWtleSkge1xuICAgICAgICBrZXkgPSBzdHJpbmdpZnkodG9rZW4pICsgJ18nICsgX3Rva2VuS2V5Q2FjaGUuc2l6ZTtcbiAgICAgICAgX3Rva2VuS2V5Q2FjaGUuc2V0KHRva2VuLCBrZXkpO1xuICAgIH1cbiAgICByZXR1cm4ga2V5O1xufVxuLyoqXG4gKiBAcGFyYW0gez99IHZpZXdcbiAqIEBwYXJhbSB7P30gbm9kZUlkeFxuICogQHBhcmFtIHs/fSBiaW5kaW5nSWR4XG4gKiBAcGFyYW0gez99IHZhbHVlXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiB1bndyYXBWYWx1ZSh2aWV3LCBub2RlSWR4LCBiaW5kaW5nSWR4LCB2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFdyYXBwZWRWYWx1ZSkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLndyYXBwZWQ7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGdsb2JhbEJpbmRpbmdJZHggPSB2aWV3LmRlZi5ub2Rlc1tub2RlSWR4XS5iaW5kaW5nSW5kZXggKyBiaW5kaW5nSWR4O1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBvbGRWYWx1ZSA9IHZpZXcub2xkVmFsdWVzW2dsb2JhbEJpbmRpbmdJZHhdO1xuICAgICAgICBpZiAob2xkVmFsdWUgaW5zdGFuY2VvZiBXcmFwcGVkVmFsdWUpIHtcbiAgICAgICAgICAgIG9sZFZhbHVlID0gb2xkVmFsdWUud3JhcHBlZDtcbiAgICAgICAgfVxuICAgICAgICB2aWV3Lm9sZFZhbHVlc1tnbG9iYWxCaW5kaW5nSWR4XSA9IG5ldyBXcmFwcGVkVmFsdWUob2xkVmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG52YXIgVU5ERUZJTkVEX1JFTkRFUkVSX1RZUEVfSUQgPSAnJCR1bmRlZmluZWQnO1xudmFyIEVNUFRZX1JFTkRFUkVSX1RZUEVfSUQgPSAnJCRlbXB0eSc7XG4vKipcbiAqIEBwYXJhbSB7P30gdmFsdWVzXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBjcmVhdGVSZW5kZXJlclR5cGUyKHZhbHVlcykge1xuICAgIHJldHVybiB7XG4gICAgICAgIGlkOiBVTkRFRklORURfUkVOREVSRVJfVFlQRV9JRCxcbiAgICAgICAgc3R5bGVzOiB2YWx1ZXMuc3R5bGVzLFxuICAgICAgICBlbmNhcHN1bGF0aW9uOiB2YWx1ZXMuZW5jYXBzdWxhdGlvbixcbiAgICAgICAgZGF0YTogdmFsdWVzLmRhdGFcbiAgICB9O1xufVxudmFyIF9yZW5kZXJDb21wQ291bnQgPSAwO1xuLyoqXG4gKiBAcGFyYW0gez89fSB0eXBlXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiByZXNvbHZlUmVuZGVyZXJUeXBlMih0eXBlKSB7XG4gICAgaWYgKHR5cGUgJiYgdHlwZS5pZCA9PT0gVU5ERUZJTkVEX1JFTkRFUkVSX1RZUEVfSUQpIHtcbiAgICAgICAgLy8gZmlyc3QgdGltZSB3ZSBzZWUgdGhpcyBSZW5kZXJlclR5cGUyLiBJbml0aWFsaXplIGl0Li4uXG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGlzRmlsbGVkID0gKCh0eXBlLmVuY2Fwc3VsYXRpb24gIT0gbnVsbCAmJiB0eXBlLmVuY2Fwc3VsYXRpb24gIT09IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUpIHx8XG4gICAgICAgICAgICB0eXBlLnN0eWxlcy5sZW5ndGggfHwgT2JqZWN0LmtleXModHlwZS5kYXRhKS5sZW5ndGgpO1xuICAgICAgICBpZiAoaXNGaWxsZWQpIHtcbiAgICAgICAgICAgIHR5cGUuaWQgPSBcImNcIiArIF9yZW5kZXJDb21wQ291bnQrKztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHR5cGUuaWQgPSBFTVBUWV9SRU5ERVJFUl9UWVBFX0lEO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICh0eXBlICYmIHR5cGUuaWQgPT09IEVNUFRZX1JFTkRFUkVSX1RZUEVfSUQpIHtcbiAgICAgICAgdHlwZSA9IG51bGw7XG4gICAgfVxuICAgIHJldHVybiB0eXBlIHx8IG51bGw7XG59XG4vKipcbiAqIEBwYXJhbSB7P30gdmlld1xuICogQHBhcmFtIHs/fSBkZWZcbiAqIEBwYXJhbSB7P30gYmluZGluZ0lkeFxuICogQHBhcmFtIHs/fSB2YWx1ZVxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gY2hlY2tCaW5kaW5nKHZpZXcsIGRlZiwgYmluZGluZ0lkeCwgdmFsdWUpIHtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBvbGRWYWx1ZXMgPSB2aWV3Lm9sZFZhbHVlcztcbiAgICBpZiAoKHZpZXcuc3RhdGUgJiAyIC8qIEZpcnN0Q2hlY2sgKi8pIHx8XG4gICAgICAgICFsb29zZUlkZW50aWNhbChvbGRWYWx1ZXNbZGVmLmJpbmRpbmdJbmRleCArIGJpbmRpbmdJZHhdLCB2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogQHBhcmFtIHs/fSB2aWV3XG4gKiBAcGFyYW0gez99IGRlZlxuICogQHBhcmFtIHs/fSBiaW5kaW5nSWR4XG4gKiBAcGFyYW0gez99IHZhbHVlXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBjaGVja0FuZFVwZGF0ZUJpbmRpbmcodmlldywgZGVmLCBiaW5kaW5nSWR4LCB2YWx1ZSkge1xuICAgIGlmIChjaGVja0JpbmRpbmcodmlldywgZGVmLCBiaW5kaW5nSWR4LCB2YWx1ZSkpIHtcbiAgICAgICAgdmlldy5vbGRWYWx1ZXNbZGVmLmJpbmRpbmdJbmRleCArIGJpbmRpbmdJZHhdID0gdmFsdWU7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vKipcbiAqIEBwYXJhbSB7P30gdmlld1xuICogQHBhcmFtIHs/fSBkZWZcbiAqIEBwYXJhbSB7P30gYmluZGluZ0lkeFxuICogQHBhcmFtIHs/fSB2YWx1ZVxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gY2hlY2tCaW5kaW5nTm9DaGFuZ2VzKHZpZXcsIGRlZiwgYmluZGluZ0lkeCwgdmFsdWUpIHtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBvbGRWYWx1ZSA9IHZpZXcub2xkVmFsdWVzW2RlZi5iaW5kaW5nSW5kZXggKyBiaW5kaW5nSWR4XTtcbiAgICBpZiAoKHZpZXcuc3RhdGUgJiAxIC8qIEJlZm9yZUZpcnN0Q2hlY2sgKi8pIHx8ICFkZXZNb2RlRXF1YWwob2xkVmFsdWUsIHZhbHVlKSkge1xuICAgICAgICB0aHJvdyBleHByZXNzaW9uQ2hhbmdlZEFmdGVySXRIYXNCZWVuQ2hlY2tlZEVycm9yKFNlcnZpY2VzLmNyZWF0ZURlYnVnQ29udGV4dCh2aWV3LCBkZWYubm9kZUluZGV4KSwgb2xkVmFsdWUsIHZhbHVlLCAodmlldy5zdGF0ZSAmIDEgLyogQmVmb3JlRmlyc3RDaGVjayAqLykgIT09IDApO1xuICAgIH1cbn1cbi8qKlxuICogQHBhcmFtIHs/fSB2aWV3XG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBtYXJrUGFyZW50Vmlld3NGb3JDaGVjayh2aWV3KSB7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gY3VyclZpZXcgPSB2aWV3O1xuICAgIHdoaWxlIChjdXJyVmlldykge1xuICAgICAgICBpZiAoY3VyclZpZXcuZGVmLmZsYWdzICYgMiAvKiBPblB1c2ggKi8pIHtcbiAgICAgICAgICAgIGN1cnJWaWV3LnN0YXRlIHw9IDggLyogQ2hlY2tzRW5hYmxlZCAqLztcbiAgICAgICAgfVxuICAgICAgICBjdXJyVmlldyA9IGN1cnJWaWV3LnZpZXdDb250YWluZXJQYXJlbnQgfHwgY3VyclZpZXcucGFyZW50O1xuICAgIH1cbn1cbi8qKlxuICogQHBhcmFtIHs/fSB2aWV3XG4gKiBAcGFyYW0gez99IGVuZFZpZXdcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIG1hcmtQYXJlbnRWaWV3c0ZvckNoZWNrUHJvamVjdGVkVmlld3ModmlldywgZW5kVmlldykge1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIGN1cnJWaWV3ID0gdmlldztcbiAgICB3aGlsZSAoY3VyclZpZXcgJiYgY3VyclZpZXcgIT09IGVuZFZpZXcpIHtcbiAgICAgICAgY3VyclZpZXcuc3RhdGUgfD0gNjQgLyogQ2hlY2tQcm9qZWN0ZWRWaWV3cyAqLztcbiAgICAgICAgY3VyclZpZXcgPSBjdXJyVmlldy52aWV3Q29udGFpbmVyUGFyZW50IHx8IGN1cnJWaWV3LnBhcmVudDtcbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7P30gdmlld1xuICogQHBhcmFtIHs/fSBub2RlSW5kZXhcbiAqIEBwYXJhbSB7P30gZXZlbnROYW1lXG4gKiBAcGFyYW0gez99IGV2ZW50XG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBkaXNwYXRjaEV2ZW50KHZpZXcsIG5vZGVJbmRleCwgZXZlbnROYW1lLCBldmVudCkge1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIG5vZGVEZWYgPSB2aWV3LmRlZi5ub2Rlc1tub2RlSW5kZXhdO1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIHN0YXJ0VmlldyA9IG5vZGVEZWYuZmxhZ3MgJiAzMzU1NDQzMiAvKiBDb21wb25lbnRWaWV3ICovID8gYXNFbGVtZW50RGF0YSh2aWV3LCBub2RlSW5kZXgpLmNvbXBvbmVudFZpZXcgOiB2aWV3O1xuICAgIG1hcmtQYXJlbnRWaWV3c0ZvckNoZWNrKHN0YXJ0Vmlldyk7XG4gICAgcmV0dXJuIFNlcnZpY2VzLmhhbmRsZUV2ZW50KHZpZXcsIG5vZGVJbmRleCwgZXZlbnROYW1lLCBldmVudCk7XG59XG4vKipcbiAqIEBwYXJhbSB7P30gdmlld1xuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gZGVjbGFyZWRWaWV3Q29udGFpbmVyKHZpZXcpIHtcbiAgICBpZiAodmlldy5wYXJlbnQpIHtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcGFyZW50VmlldyA9IHZpZXcucGFyZW50O1xuICAgICAgICByZXR1cm4gYXNFbGVtZW50RGF0YShwYXJlbnRWaWV3LCAvKiogQHR5cGUgez99ICovICgodmlldy5wYXJlbnROb2RlRGVmKSkubm9kZUluZGV4KTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG4vKipcbiAqIGZvciBjb21wb25lbnQgdmlld3MsIHRoaXMgaXMgdGhlIGhvc3QgZWxlbWVudC5cbiAqIGZvciBlbWJlZGRlZCB2aWV3cywgdGhpcyBpcyB0aGUgaW5kZXggb2YgdGhlIHBhcmVudCBub2RlXG4gKiB0aGF0IGNvbnRhaW5zIHRoZSB2aWV3IGNvbnRhaW5lci5cbiAqIEBwYXJhbSB7P30gdmlld1xuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gdmlld1BhcmVudEVsKHZpZXcpIHtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBwYXJlbnRWaWV3ID0gdmlldy5wYXJlbnQ7XG4gICAgaWYgKHBhcmVudFZpZXcpIHtcbiAgICAgICAgcmV0dXJuICgodmlldy5wYXJlbnROb2RlRGVmKSkucGFyZW50O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuLyoqXG4gKiBAcGFyYW0gez99IHZpZXdcbiAqIEBwYXJhbSB7P30gZGVmXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiByZW5kZXJOb2RlKHZpZXcsIGRlZikge1xuICAgIHN3aXRjaCAoZGVmLmZsYWdzICYgMjAxMzQ3MDY3IC8qIFR5cGVzICovKSB7XG4gICAgICAgIGNhc2UgMSAvKiBUeXBlRWxlbWVudCAqLzpcbiAgICAgICAgICAgIHJldHVybiBhc0VsZW1lbnREYXRhKHZpZXcsIGRlZi5ub2RlSW5kZXgpLnJlbmRlckVsZW1lbnQ7XG4gICAgICAgIGNhc2UgMiAvKiBUeXBlVGV4dCAqLzpcbiAgICAgICAgICAgIHJldHVybiBhc1RleHREYXRhKHZpZXcsIGRlZi5ub2RlSW5kZXgpLnJlbmRlclRleHQ7XG4gICAgfVxufVxuLyoqXG4gKiBAcGFyYW0gez99IHRhcmdldFxuICogQHBhcmFtIHs/fSBuYW1lXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBlbGVtZW50RXZlbnRGdWxsTmFtZSh0YXJnZXQsIG5hbWUpIHtcbiAgICByZXR1cm4gdGFyZ2V0ID8gdGFyZ2V0ICsgXCI6XCIgKyBuYW1lIDogbmFtZTtcbn1cbi8qKlxuICogQHBhcmFtIHs/fSB2aWV3XG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBpc0NvbXBvbmVudFZpZXcodmlldykge1xuICAgIHJldHVybiAhIXZpZXcucGFyZW50ICYmICEhKCgodmlldy5wYXJlbnROb2RlRGVmKSkuZmxhZ3MgJiAzMjc2OCAvKiBDb21wb25lbnQgKi8pO1xufVxuLyoqXG4gKiBAcGFyYW0gez99IHZpZXdcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGlzRW1iZWRkZWRWaWV3KHZpZXcpIHtcbiAgICByZXR1cm4gISF2aWV3LnBhcmVudCAmJiAhKCgodmlldy5wYXJlbnROb2RlRGVmKSkuZmxhZ3MgJiAzMjc2OCAvKiBDb21wb25lbnQgKi8pO1xufVxuLyoqXG4gKiBAcGFyYW0gez99IHF1ZXJ5SWRcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGZpbHRlclF1ZXJ5SWQocXVlcnlJZCkge1xuICAgIHJldHVybiAxIDw8IChxdWVyeUlkICUgMzIpO1xufVxuLyoqXG4gKiBAcGFyYW0gez99IG1hdGNoZWRRdWVyaWVzRHNsXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBzcGxpdE1hdGNoZWRRdWVyaWVzRHNsKG1hdGNoZWRRdWVyaWVzRHNsKSB7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gbWF0Y2hlZFF1ZXJpZXMgPSB7fTtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBtYXRjaGVkUXVlcnlJZHMgPSAwO1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIHJlZmVyZW5jZXMgPSB7fTtcbiAgICBpZiAobWF0Y2hlZFF1ZXJpZXNEc2wpIHtcbiAgICAgICAgbWF0Y2hlZFF1ZXJpZXNEc2wuZm9yRWFjaChmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgIHZhciBxdWVyeUlkID0gX2FbMF0sIHZhbHVlVHlwZSA9IF9hWzFdO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBxdWVyeUlkID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIG1hdGNoZWRRdWVyaWVzW3F1ZXJ5SWRdID0gdmFsdWVUeXBlO1xuICAgICAgICAgICAgICAgIG1hdGNoZWRRdWVyeUlkcyB8PSBmaWx0ZXJRdWVyeUlkKHF1ZXJ5SWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVmZXJlbmNlc1txdWVyeUlkXSA9IHZhbHVlVHlwZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB7IG1hdGNoZWRRdWVyaWVzOiBtYXRjaGVkUXVlcmllcywgcmVmZXJlbmNlczogcmVmZXJlbmNlcywgbWF0Y2hlZFF1ZXJ5SWRzOiBtYXRjaGVkUXVlcnlJZHMgfTtcbn1cbi8qKlxuICogQHBhcmFtIHs/fSBkZXBzXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBzcGxpdERlcHNEc2woZGVwcykge1xuICAgIHJldHVybiBkZXBzLm1hcChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gdG9rZW47XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGZsYWdzO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGZsYWdzID0gdmFsdWVbMF0sIHRva2VuID0gdmFsdWVbMV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmbGFncyA9IDAgLyogTm9uZSAqLztcbiAgICAgICAgICAgIHRva2VuID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgZmxhZ3M6IGZsYWdzLCB0b2tlbjogdG9rZW4sIHRva2VuS2V5OiB0b2tlbktleSh0b2tlbikgfTtcbiAgICB9KTtcbn1cbi8qKlxuICogQHBhcmFtIHs/fSB2aWV3XG4gKiBAcGFyYW0gez99IHJlbmRlckhvc3RcbiAqIEBwYXJhbSB7P30gZGVmXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBnZXRQYXJlbnRSZW5kZXJFbGVtZW50KHZpZXcsIHJlbmRlckhvc3QsIGRlZikge1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIHJlbmRlclBhcmVudCA9IGRlZi5yZW5kZXJQYXJlbnQ7XG4gICAgaWYgKHJlbmRlclBhcmVudCkge1xuICAgICAgICBpZiAoKHJlbmRlclBhcmVudC5mbGFncyAmIDEgLyogVHlwZUVsZW1lbnQgKi8pID09PSAwIHx8XG4gICAgICAgICAgICAocmVuZGVyUGFyZW50LmZsYWdzICYgMzM1NTQ0MzIgLyogQ29tcG9uZW50VmlldyAqLykgPT09IDAgfHxcbiAgICAgICAgICAgICgoKHJlbmRlclBhcmVudC5lbGVtZW50KSkuY29tcG9uZW50UmVuZGVyZXJUeXBlICYmICgoKChyZW5kZXJQYXJlbnQuZWxlbWVudCkpLmNvbXBvbmVudFJlbmRlcmVyVHlwZSkpLmVuY2Fwc3VsYXRpb24gPT09XG4gICAgICAgICAgICAgICAgVmlld0VuY2Fwc3VsYXRpb24uTmF0aXZlKSkge1xuICAgICAgICAgICAgLy8gb25seSBjaGlsZHJlbiBvZiBub24gY29tcG9uZW50cywgb3IgY2hpbGRyZW4gb2YgY29tcG9uZW50cyB3aXRoIG5hdGl2ZSBlbmNhcHN1bGF0aW9uIHNob3VsZFxuICAgICAgICAgICAgLy8gYmUgYXR0YWNoZWQuXG4gICAgICAgICAgICByZXR1cm4gYXNFbGVtZW50RGF0YSh2aWV3LCAvKiogQHR5cGUgez99ICovICgoZGVmLnJlbmRlclBhcmVudCkpLm5vZGVJbmRleCkucmVuZGVyRWxlbWVudDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHJlbmRlckhvc3Q7XG4gICAgfVxufVxudmFyIERFRklOSVRJT05fQ0FDSEUgPSBuZXcgV2Vha01hcCgpO1xuLyoqXG4gKiBAdGVtcGxhdGUgRFxuICogQHBhcmFtIHs/fSBmYWN0b3J5XG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiByZXNvbHZlRGVmaW5pdGlvbihmYWN0b3J5KSB7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gdmFsdWUgPSAoKChERUZJTklUSU9OX0NBQ0hFLmdldChmYWN0b3J5KSkpKTtcbiAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgIHZhbHVlID0gZmFjdG9yeShmdW5jdGlvbiAoKSB7IHJldHVybiBOT09QOyB9KTtcbiAgICAgICAgdmFsdWUuZmFjdG9yeSA9IGZhY3Rvcnk7XG4gICAgICAgIERFRklOSVRJT05fQ0FDSEUuc2V0KGZhY3RvcnksIHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuLyoqXG4gKiBAcGFyYW0gez99IHZpZXdcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIHJvb3RSZW5kZXJOb2Rlcyh2aWV3KSB7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcmVuZGVyTm9kZXMgPSBbXTtcbiAgICB2aXNpdFJvb3RSZW5kZXJOb2Rlcyh2aWV3LCAwIC8qIENvbGxlY3QgKi8sIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCByZW5kZXJOb2Rlcyk7XG4gICAgcmV0dXJuIHJlbmRlck5vZGVzO1xufVxuLyoqXG4gKiBAcGFyYW0gez99IHZpZXdcbiAqIEBwYXJhbSB7P30gYWN0aW9uXG4gKiBAcGFyYW0gez99IHBhcmVudE5vZGVcbiAqIEBwYXJhbSB7P30gbmV4dFNpYmxpbmdcbiAqIEBwYXJhbSB7Pz19IHRhcmdldFxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gdmlzaXRSb290UmVuZGVyTm9kZXModmlldywgYWN0aW9uLCBwYXJlbnROb2RlLCBuZXh0U2libGluZywgdGFyZ2V0KSB7XG4gICAgLy8gV2UgbmVlZCB0byByZS1jb21wdXRlIHRoZSBwYXJlbnQgbm9kZSBpbiBjYXNlIHRoZSBub2RlcyBoYXZlIGJlZW4gbW92ZWQgYXJvdW5kIG1hbnVhbGx5XG4gICAgaWYgKGFjdGlvbiA9PT0gMyAvKiBSZW1vdmVDaGlsZCAqLykge1xuICAgICAgICBwYXJlbnROb2RlID0gdmlldy5yZW5kZXJlci5wYXJlbnROb2RlKHJlbmRlck5vZGUodmlldywgLyoqIEB0eXBlIHs/fSAqLyAoKHZpZXcuZGVmLmxhc3RSZW5kZXJSb290Tm9kZSkpKSk7XG4gICAgfVxuICAgIHZpc2l0U2libGluZ1JlbmRlck5vZGVzKHZpZXcsIGFjdGlvbiwgMCwgdmlldy5kZWYubm9kZXMubGVuZ3RoIC0gMSwgcGFyZW50Tm9kZSwgbmV4dFNpYmxpbmcsIHRhcmdldCk7XG59XG4vKipcbiAqIEBwYXJhbSB7P30gdmlld1xuICogQHBhcmFtIHs/fSBhY3Rpb25cbiAqIEBwYXJhbSB7P30gc3RhcnRJbmRleFxuICogQHBhcmFtIHs/fSBlbmRJbmRleFxuICogQHBhcmFtIHs/fSBwYXJlbnROb2RlXG4gKiBAcGFyYW0gez99IG5leHRTaWJsaW5nXG4gKiBAcGFyYW0gez89fSB0YXJnZXRcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIHZpc2l0U2libGluZ1JlbmRlck5vZGVzKHZpZXcsIGFjdGlvbiwgc3RhcnRJbmRleCwgZW5kSW5kZXgsIHBhcmVudE5vZGUsIG5leHRTaWJsaW5nLCB0YXJnZXQpIHtcbiAgICBmb3IgKHZhciAvKiogQHR5cGUgez99ICovIGkgPSBzdGFydEluZGV4OyBpIDw9IGVuZEluZGV4OyBpKyspIHtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gbm9kZURlZiA9IHZpZXcuZGVmLm5vZGVzW2ldO1xuICAgICAgICBpZiAobm9kZURlZi5mbGFncyAmICgxIC8qIFR5cGVFbGVtZW50ICovIHwgMiAvKiBUeXBlVGV4dCAqLyB8IDggLyogVHlwZU5nQ29udGVudCAqLykpIHtcbiAgICAgICAgICAgIHZpc2l0UmVuZGVyTm9kZSh2aWV3LCBub2RlRGVmLCBhY3Rpb24sIHBhcmVudE5vZGUsIG5leHRTaWJsaW5nLCB0YXJnZXQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGp1bXAgdG8gbmV4dCBzaWJsaW5nXG4gICAgICAgIGkgKz0gbm9kZURlZi5jaGlsZENvdW50O1xuICAgIH1cbn1cbi8qKlxuICogQHBhcmFtIHs/fSB2aWV3XG4gKiBAcGFyYW0gez99IG5nQ29udGVudEluZGV4XG4gKiBAcGFyYW0gez99IGFjdGlvblxuICogQHBhcmFtIHs/fSBwYXJlbnROb2RlXG4gKiBAcGFyYW0gez99IG5leHRTaWJsaW5nXG4gKiBAcGFyYW0gez89fSB0YXJnZXRcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIHZpc2l0UHJvamVjdGVkUmVuZGVyTm9kZXModmlldywgbmdDb250ZW50SW5kZXgsIGFjdGlvbiwgcGFyZW50Tm9kZSwgbmV4dFNpYmxpbmcsIHRhcmdldCkge1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIGNvbXBWaWV3ID0gdmlldztcbiAgICB3aGlsZSAoY29tcFZpZXcgJiYgIWlzQ29tcG9uZW50Vmlldyhjb21wVmlldykpIHtcbiAgICAgICAgY29tcFZpZXcgPSBjb21wVmlldy5wYXJlbnQ7XG4gICAgfVxuICAgIHZhciAvKiogQHR5cGUgez99ICovIGhvc3RWaWV3ID0gKChjb21wVmlldykpLnBhcmVudDtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBob3N0RWxEZWYgPSB2aWV3UGFyZW50RWwoLyoqIEB0eXBlIHs/fSAqLyAoKGNvbXBWaWV3KSkpO1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIHN0YXJ0SW5kZXggPSAoKGhvc3RFbERlZikpLm5vZGVJbmRleCArIDE7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gZW5kSW5kZXggPSAoKGhvc3RFbERlZikpLm5vZGVJbmRleCArICgoaG9zdEVsRGVmKSkuY2hpbGRDb3VudDtcbiAgICBmb3IgKHZhciAvKiogQHR5cGUgez99ICovIGkgPSBzdGFydEluZGV4OyBpIDw9IGVuZEluZGV4OyBpKyspIHtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gbm9kZURlZiA9ICgoaG9zdFZpZXcpKS5kZWYubm9kZXNbaV07XG4gICAgICAgIGlmIChub2RlRGVmLm5nQ29udGVudEluZGV4ID09PSBuZ0NvbnRlbnRJbmRleCkge1xuICAgICAgICAgICAgdmlzaXRSZW5kZXJOb2RlKC8qKiBAdHlwZSB7P30gKi8gKChob3N0VmlldykpLCBub2RlRGVmLCBhY3Rpb24sIHBhcmVudE5vZGUsIG5leHRTaWJsaW5nLCB0YXJnZXQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGp1bXAgdG8gbmV4dCBzaWJsaW5nXG4gICAgICAgIGkgKz0gbm9kZURlZi5jaGlsZENvdW50O1xuICAgIH1cbiAgICBpZiAoISgoaG9zdFZpZXcpKS5wYXJlbnQpIHtcbiAgICAgICAgLy8gYSByb290IHZpZXdcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcHJvamVjdGVkTm9kZXMgPSB2aWV3LnJvb3QucHJvamVjdGFibGVOb2Rlc1tuZ0NvbnRlbnRJbmRleF07XG4gICAgICAgIGlmIChwcm9qZWN0ZWROb2Rlcykge1xuICAgICAgICAgICAgZm9yICh2YXIgLyoqIEB0eXBlIHs/fSAqLyBpID0gMDsgaSA8IHByb2plY3RlZE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZXhlY1JlbmRlck5vZGVBY3Rpb24odmlldywgcHJvamVjdGVkTm9kZXNbaV0sIGFjdGlvbiwgcGFyZW50Tm9kZSwgbmV4dFNpYmxpbmcsIHRhcmdldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7P30gdmlld1xuICogQHBhcmFtIHs/fSBub2RlRGVmXG4gKiBAcGFyYW0gez99IGFjdGlvblxuICogQHBhcmFtIHs/fSBwYXJlbnROb2RlXG4gKiBAcGFyYW0gez99IG5leHRTaWJsaW5nXG4gKiBAcGFyYW0gez89fSB0YXJnZXRcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIHZpc2l0UmVuZGVyTm9kZSh2aWV3LCBub2RlRGVmLCBhY3Rpb24sIHBhcmVudE5vZGUsIG5leHRTaWJsaW5nLCB0YXJnZXQpIHtcbiAgICBpZiAobm9kZURlZi5mbGFncyAmIDggLyogVHlwZU5nQ29udGVudCAqLykge1xuICAgICAgICB2aXNpdFByb2plY3RlZFJlbmRlck5vZGVzKHZpZXcsIC8qKiBAdHlwZSB7P30gKi8gKChub2RlRGVmLm5nQ29udGVudCkpLmluZGV4LCBhY3Rpb24sIHBhcmVudE5vZGUsIG5leHRTaWJsaW5nLCB0YXJnZXQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcm4gPSByZW5kZXJOb2RlKHZpZXcsIG5vZGVEZWYpO1xuICAgICAgICBpZiAoYWN0aW9uID09PSAzIC8qIFJlbW92ZUNoaWxkICovICYmIChub2RlRGVmLmZsYWdzICYgMzM1NTQ0MzIgLyogQ29tcG9uZW50VmlldyAqLykgJiZcbiAgICAgICAgICAgIChub2RlRGVmLmJpbmRpbmdGbGFncyAmIDQ4IC8qIENhdFN5bnRoZXRpY1Byb3BlcnR5ICovKSkge1xuICAgICAgICAgICAgLy8gTm90ZTogd2UgbWlnaHQgbmVlZCB0byBkbyBib3RoIGFjdGlvbnMuXG4gICAgICAgICAgICBpZiAobm9kZURlZi5iaW5kaW5nRmxhZ3MgJiAoMTYgLyogU3ludGhldGljUHJvcGVydHkgKi8pKSB7XG4gICAgICAgICAgICAgICAgZXhlY1JlbmRlck5vZGVBY3Rpb24odmlldywgcm4sIGFjdGlvbiwgcGFyZW50Tm9kZSwgbmV4dFNpYmxpbmcsIHRhcmdldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobm9kZURlZi5iaW5kaW5nRmxhZ3MgJiAoMzIgLyogU3ludGhldGljSG9zdFByb3BlcnR5ICovKSkge1xuICAgICAgICAgICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGNvbXBWaWV3ID0gYXNFbGVtZW50RGF0YSh2aWV3LCBub2RlRGVmLm5vZGVJbmRleCkuY29tcG9uZW50VmlldztcbiAgICAgICAgICAgICAgICBleGVjUmVuZGVyTm9kZUFjdGlvbihjb21wVmlldywgcm4sIGFjdGlvbiwgcGFyZW50Tm9kZSwgbmV4dFNpYmxpbmcsIHRhcmdldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBleGVjUmVuZGVyTm9kZUFjdGlvbih2aWV3LCBybiwgYWN0aW9uLCBwYXJlbnROb2RlLCBuZXh0U2libGluZywgdGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZURlZi5mbGFncyAmIDE2Nzc3MjE2IC8qIEVtYmVkZGVkVmlld3MgKi8pIHtcbiAgICAgICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGVtYmVkZGVkVmlld3MgPSAoKGFzRWxlbWVudERhdGEodmlldywgbm9kZURlZi5ub2RlSW5kZXgpLnZpZXdDb250YWluZXIpKS5fZW1iZWRkZWRWaWV3cztcbiAgICAgICAgICAgIGZvciAodmFyIC8qKiBAdHlwZSB7P30gKi8gayA9IDA7IGsgPCBlbWJlZGRlZFZpZXdzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgICAgdmlzaXRSb290UmVuZGVyTm9kZXMoZW1iZWRkZWRWaWV3c1trXSwgYWN0aW9uLCBwYXJlbnROb2RlLCBuZXh0U2libGluZywgdGFyZ2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZURlZi5mbGFncyAmIDEgLyogVHlwZUVsZW1lbnQgKi8gJiYgISgobm9kZURlZi5lbGVtZW50KSkubmFtZSkge1xuICAgICAgICAgICAgdmlzaXRTaWJsaW5nUmVuZGVyTm9kZXModmlldywgYWN0aW9uLCBub2RlRGVmLm5vZGVJbmRleCArIDEsIG5vZGVEZWYubm9kZUluZGV4ICsgbm9kZURlZi5jaGlsZENvdW50LCBwYXJlbnROb2RlLCBuZXh0U2libGluZywgdGFyZ2V0KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQHBhcmFtIHs/fSB2aWV3XG4gKiBAcGFyYW0gez99IHJlbmRlck5vZGVcbiAqIEBwYXJhbSB7P30gYWN0aW9uXG4gKiBAcGFyYW0gez99IHBhcmVudE5vZGVcbiAqIEBwYXJhbSB7P30gbmV4dFNpYmxpbmdcbiAqIEBwYXJhbSB7Pz19IHRhcmdldFxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gZXhlY1JlbmRlck5vZGVBY3Rpb24odmlldywgcmVuZGVyTm9kZSwgYWN0aW9uLCBwYXJlbnROb2RlLCBuZXh0U2libGluZywgdGFyZ2V0KSB7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcmVuZGVyZXIgPSB2aWV3LnJlbmRlcmVyO1xuICAgIHN3aXRjaCAoYWN0aW9uKSB7XG4gICAgICAgIGNhc2UgMSAvKiBBcHBlbmRDaGlsZCAqLzpcbiAgICAgICAgICAgIHJlbmRlcmVyLmFwcGVuZENoaWxkKHBhcmVudE5vZGUsIHJlbmRlck5vZGUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMiAvKiBJbnNlcnRCZWZvcmUgKi86XG4gICAgICAgICAgICByZW5kZXJlci5pbnNlcnRCZWZvcmUocGFyZW50Tm9kZSwgcmVuZGVyTm9kZSwgbmV4dFNpYmxpbmcpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMyAvKiBSZW1vdmVDaGlsZCAqLzpcbiAgICAgICAgICAgIHJlbmRlcmVyLnJlbW92ZUNoaWxkKHBhcmVudE5vZGUsIHJlbmRlck5vZGUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMCAvKiBDb2xsZWN0ICovOlxuICAgICAgICAgICAgKCh0YXJnZXQpKS5wdXNoKHJlbmRlck5vZGUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxufVxudmFyIE5TX1BSRUZJWF9SRSA9IC9eOihbXjpdKyk6KC4rKSQvO1xuLyoqXG4gKiBAcGFyYW0gez99IG5hbWVcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIHNwbGl0TmFtZXNwYWNlKG5hbWUpIHtcbiAgICBpZiAobmFtZVswXSA9PT0gJzonKSB7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIG1hdGNoID0gKChuYW1lLm1hdGNoKE5TX1BSRUZJWF9SRSkpKTtcbiAgICAgICAgcmV0dXJuIFttYXRjaFsxXSwgbWF0Y2hbMl1dO1xuICAgIH1cbiAgICByZXR1cm4gWycnLCBuYW1lXTtcbn1cbi8qKlxuICogQHBhcmFtIHs/fSBiaW5kaW5nc1xuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gY2FsY0JpbmRpbmdGbGFncyhiaW5kaW5ncykge1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIGZsYWdzID0gMDtcbiAgICBmb3IgKHZhciAvKiogQHR5cGUgez99ICovIGkgPSAwOyBpIDwgYmluZGluZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZmxhZ3MgfD0gYmluZGluZ3NbaV0uZmxhZ3M7XG4gICAgfVxuICAgIHJldHVybiBmbGFncztcbn1cbi8qKlxuICogQHBhcmFtIHs/fSB2YWx1ZUNvdW50XG4gKiBAcGFyYW0gez99IGNvbnN0QW5kSW50ZXJwXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBpbnRlcnBvbGF0ZSh2YWx1ZUNvdW50LCBjb25zdEFuZEludGVycCkge1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIHJlc3VsdCA9ICcnO1xuICAgIGZvciAodmFyIC8qKiBAdHlwZSB7P30gKi8gaSA9IDA7IGkgPCB2YWx1ZUNvdW50ICogMjsgaSA9IGkgKyAyKSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdCArIGNvbnN0QW5kSW50ZXJwW2ldICsgX3RvU3RyaW5nV2l0aE51bGwoY29uc3RBbmRJbnRlcnBbaSArIDFdKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdCArIGNvbnN0QW5kSW50ZXJwW3ZhbHVlQ291bnQgKiAyXTtcbn1cbi8qKlxuICogQHBhcmFtIHs/fSB2YWx1ZUNvdW50XG4gKiBAcGFyYW0gez99IGMwXG4gKiBAcGFyYW0gez99IGExXG4gKiBAcGFyYW0gez99IGMxXG4gKiBAcGFyYW0gez89fSBhMlxuICogQHBhcmFtIHs/PX0gYzJcbiAqIEBwYXJhbSB7Pz19IGEzXG4gKiBAcGFyYW0gez89fSBjM1xuICogQHBhcmFtIHs/PX0gYTRcbiAqIEBwYXJhbSB7Pz19IGM0XG4gKiBAcGFyYW0gez89fSBhNVxuICogQHBhcmFtIHs/PX0gYzVcbiAqIEBwYXJhbSB7Pz19IGE2XG4gKiBAcGFyYW0gez89fSBjNlxuICogQHBhcmFtIHs/PX0gYTdcbiAqIEBwYXJhbSB7Pz19IGM3XG4gKiBAcGFyYW0gez89fSBhOFxuICogQHBhcmFtIHs/PX0gYzhcbiAqIEBwYXJhbSB7Pz19IGE5XG4gKiBAcGFyYW0gez89fSBjOVxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gaW5saW5lSW50ZXJwb2xhdGUodmFsdWVDb3VudCwgYzAsIGExLCBjMSwgYTIsIGMyLCBhMywgYzMsIGE0LCBjNCwgYTUsIGM1LCBhNiwgYzYsIGE3LCBjNywgYTgsIGM4LCBhOSwgYzkpIHtcbiAgICBzd2l0Y2ggKHZhbHVlQ291bnQpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgcmV0dXJuIGMwICsgX3RvU3RyaW5nV2l0aE51bGwoYTEpICsgYzE7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIHJldHVybiBjMCArIF90b1N0cmluZ1dpdGhOdWxsKGExKSArIGMxICsgX3RvU3RyaW5nV2l0aE51bGwoYTIpICsgYzI7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgIHJldHVybiBjMCArIF90b1N0cmluZ1dpdGhOdWxsKGExKSArIGMxICsgX3RvU3RyaW5nV2l0aE51bGwoYTIpICsgYzIgKyBfdG9TdHJpbmdXaXRoTnVsbChhMykgK1xuICAgICAgICAgICAgICAgIGMzO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICByZXR1cm4gYzAgKyBfdG9TdHJpbmdXaXRoTnVsbChhMSkgKyBjMSArIF90b1N0cmluZ1dpdGhOdWxsKGEyKSArIGMyICsgX3RvU3RyaW5nV2l0aE51bGwoYTMpICtcbiAgICAgICAgICAgICAgICBjMyArIF90b1N0cmluZ1dpdGhOdWxsKGE0KSArIGM0O1xuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICByZXR1cm4gYzAgKyBfdG9TdHJpbmdXaXRoTnVsbChhMSkgKyBjMSArIF90b1N0cmluZ1dpdGhOdWxsKGEyKSArIGMyICsgX3RvU3RyaW5nV2l0aE51bGwoYTMpICtcbiAgICAgICAgICAgICAgICBjMyArIF90b1N0cmluZ1dpdGhOdWxsKGE0KSArIGM0ICsgX3RvU3RyaW5nV2l0aE51bGwoYTUpICsgYzU7XG4gICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgIHJldHVybiBjMCArIF90b1N0cmluZ1dpdGhOdWxsKGExKSArIGMxICsgX3RvU3RyaW5nV2l0aE51bGwoYTIpICsgYzIgKyBfdG9TdHJpbmdXaXRoTnVsbChhMykgK1xuICAgICAgICAgICAgICAgIGMzICsgX3RvU3RyaW5nV2l0aE51bGwoYTQpICsgYzQgKyBfdG9TdHJpbmdXaXRoTnVsbChhNSkgKyBjNSArIF90b1N0cmluZ1dpdGhOdWxsKGE2KSArIGM2O1xuICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICByZXR1cm4gYzAgKyBfdG9TdHJpbmdXaXRoTnVsbChhMSkgKyBjMSArIF90b1N0cmluZ1dpdGhOdWxsKGEyKSArIGMyICsgX3RvU3RyaW5nV2l0aE51bGwoYTMpICtcbiAgICAgICAgICAgICAgICBjMyArIF90b1N0cmluZ1dpdGhOdWxsKGE0KSArIGM0ICsgX3RvU3RyaW5nV2l0aE51bGwoYTUpICsgYzUgKyBfdG9TdHJpbmdXaXRoTnVsbChhNikgK1xuICAgICAgICAgICAgICAgIGM2ICsgX3RvU3RyaW5nV2l0aE51bGwoYTcpICsgYzc7XG4gICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgIHJldHVybiBjMCArIF90b1N0cmluZ1dpdGhOdWxsKGExKSArIGMxICsgX3RvU3RyaW5nV2l0aE51bGwoYTIpICsgYzIgKyBfdG9TdHJpbmdXaXRoTnVsbChhMykgK1xuICAgICAgICAgICAgICAgIGMzICsgX3RvU3RyaW5nV2l0aE51bGwoYTQpICsgYzQgKyBfdG9TdHJpbmdXaXRoTnVsbChhNSkgKyBjNSArIF90b1N0cmluZ1dpdGhOdWxsKGE2KSArXG4gICAgICAgICAgICAgICAgYzYgKyBfdG9TdHJpbmdXaXRoTnVsbChhNykgKyBjNyArIF90b1N0cmluZ1dpdGhOdWxsKGE4KSArIGM4O1xuICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICByZXR1cm4gYzAgKyBfdG9TdHJpbmdXaXRoTnVsbChhMSkgKyBjMSArIF90b1N0cmluZ1dpdGhOdWxsKGEyKSArIGMyICsgX3RvU3RyaW5nV2l0aE51bGwoYTMpICtcbiAgICAgICAgICAgICAgICBjMyArIF90b1N0cmluZ1dpdGhOdWxsKGE0KSArIGM0ICsgX3RvU3RyaW5nV2l0aE51bGwoYTUpICsgYzUgKyBfdG9TdHJpbmdXaXRoTnVsbChhNikgK1xuICAgICAgICAgICAgICAgIGM2ICsgX3RvU3RyaW5nV2l0aE51bGwoYTcpICsgYzcgKyBfdG9TdHJpbmdXaXRoTnVsbChhOCkgKyBjOCArIF90b1N0cmluZ1dpdGhOdWxsKGE5KSArIGM5O1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRG9lcyBub3Qgc3VwcG9ydCBtb3JlIHRoYW4gOSBleHByZXNzaW9uc1wiKTtcbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7P30gdlxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gX3RvU3RyaW5nV2l0aE51bGwodikge1xuICAgIHJldHVybiB2ICE9IG51bGwgPyB2LnRvU3RyaW5nKCkgOiAnJztcbn1cbnZhciBFTVBUWV9BUlJBWSA9IFtdO1xudmFyIEVNUFRZX01BUCA9IHt9O1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBAcGFyYW0gez99IGZsYWdzXG4gKiBAcGFyYW0gez99IG1hdGNoZWRRdWVyaWVzRHNsXG4gKiBAcGFyYW0gez99IG5nQ29udGVudEluZGV4XG4gKiBAcGFyYW0gez99IGNoaWxkQ291bnRcbiAqIEBwYXJhbSB7Pz19IGhhbmRsZUV2ZW50XG4gKiBAcGFyYW0gez89fSB0ZW1wbGF0ZUZhY3RvcnlcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGFuY2hvckRlZihmbGFncywgbWF0Y2hlZFF1ZXJpZXNEc2wsIG5nQ29udGVudEluZGV4LCBjaGlsZENvdW50LCBoYW5kbGVFdmVudCwgdGVtcGxhdGVGYWN0b3J5KSB7XG4gICAgZmxhZ3MgfD0gMSAvKiBUeXBlRWxlbWVudCAqLztcbiAgICB2YXIgX2EgPSBzcGxpdE1hdGNoZWRRdWVyaWVzRHNsKG1hdGNoZWRRdWVyaWVzRHNsKSwgbWF0Y2hlZFF1ZXJpZXMgPSBfYS5tYXRjaGVkUXVlcmllcywgcmVmZXJlbmNlcyA9IF9hLnJlZmVyZW5jZXMsIG1hdGNoZWRRdWVyeUlkcyA9IF9hLm1hdGNoZWRRdWVyeUlkcztcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyB0ZW1wbGF0ZSA9IHRlbXBsYXRlRmFjdG9yeSA/IHJlc29sdmVEZWZpbml0aW9uKHRlbXBsYXRlRmFjdG9yeSkgOiBudWxsO1xuICAgIHJldHVybiB7XG4gICAgICAgIC8vIHdpbGwgYmV0IHNldCBieSB0aGUgdmlldyBkZWZpbml0aW9uXG4gICAgICAgIG5vZGVJbmRleDogLTEsXG4gICAgICAgIHBhcmVudDogbnVsbCxcbiAgICAgICAgcmVuZGVyUGFyZW50OiBudWxsLFxuICAgICAgICBiaW5kaW5nSW5kZXg6IC0xLFxuICAgICAgICBvdXRwdXRJbmRleDogLTEsXG4gICAgICAgIC8vIHJlZ3VsYXIgdmFsdWVzXG4gICAgICAgIGZsYWdzOiBmbGFncyxcbiAgICAgICAgY2hlY2tJbmRleDogLTEsXG4gICAgICAgIGNoaWxkRmxhZ3M6IDAsXG4gICAgICAgIGRpcmVjdENoaWxkRmxhZ3M6IDAsXG4gICAgICAgIGNoaWxkTWF0Y2hlZFF1ZXJpZXM6IDAsIG1hdGNoZWRRdWVyaWVzOiBtYXRjaGVkUXVlcmllcywgbWF0Y2hlZFF1ZXJ5SWRzOiBtYXRjaGVkUXVlcnlJZHMsIHJlZmVyZW5jZXM6IHJlZmVyZW5jZXMsIG5nQ29udGVudEluZGV4OiBuZ0NvbnRlbnRJbmRleCwgY2hpbGRDb3VudDogY2hpbGRDb3VudCxcbiAgICAgICAgYmluZGluZ3M6IFtdLFxuICAgICAgICBiaW5kaW5nRmxhZ3M6IDAsXG4gICAgICAgIG91dHB1dHM6IFtdLFxuICAgICAgICBlbGVtZW50OiB7XG4gICAgICAgICAgICBuczogbnVsbCxcbiAgICAgICAgICAgIG5hbWU6IG51bGwsXG4gICAgICAgICAgICBhdHRyczogbnVsbCwgdGVtcGxhdGU6IHRlbXBsYXRlLFxuICAgICAgICAgICAgY29tcG9uZW50UHJvdmlkZXI6IG51bGwsXG4gICAgICAgICAgICBjb21wb25lbnRWaWV3OiBudWxsLFxuICAgICAgICAgICAgY29tcG9uZW50UmVuZGVyZXJUeXBlOiBudWxsLFxuICAgICAgICAgICAgcHVibGljUHJvdmlkZXJzOiBudWxsLFxuICAgICAgICAgICAgYWxsUHJvdmlkZXJzOiBudWxsLFxuICAgICAgICAgICAgaGFuZGxlRXZlbnQ6IGhhbmRsZUV2ZW50IHx8IE5PT1BcbiAgICAgICAgfSxcbiAgICAgICAgcHJvdmlkZXI6IG51bGwsXG4gICAgICAgIHRleHQ6IG51bGwsXG4gICAgICAgIHF1ZXJ5OiBudWxsLFxuICAgICAgICBuZ0NvbnRlbnQ6IG51bGxcbiAgICB9O1xufVxuLyoqXG4gKiBAcGFyYW0gez99IGNoZWNrSW5kZXhcbiAqIEBwYXJhbSB7P30gZmxhZ3NcbiAqIEBwYXJhbSB7P30gbWF0Y2hlZFF1ZXJpZXNEc2xcbiAqIEBwYXJhbSB7P30gbmdDb250ZW50SW5kZXhcbiAqIEBwYXJhbSB7P30gY2hpbGRDb3VudFxuICogQHBhcmFtIHs/fSBuYW1lc3BhY2VBbmROYW1lXG4gKiBAcGFyYW0gez89fSBmaXhlZEF0dHJzXG4gKiBAcGFyYW0gez89fSBiaW5kaW5nc1xuICogQHBhcmFtIHs/PX0gb3V0cHV0c1xuICogQHBhcmFtIHs/PX0gaGFuZGxlRXZlbnRcbiAqIEBwYXJhbSB7Pz19IGNvbXBvbmVudFZpZXdcbiAqIEBwYXJhbSB7Pz19IGNvbXBvbmVudFJlbmRlcmVyVHlwZVxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gZWxlbWVudERlZihjaGVja0luZGV4LCBmbGFncywgbWF0Y2hlZFF1ZXJpZXNEc2wsIG5nQ29udGVudEluZGV4LCBjaGlsZENvdW50LCBuYW1lc3BhY2VBbmROYW1lLCBmaXhlZEF0dHJzLCBiaW5kaW5ncywgb3V0cHV0cywgaGFuZGxlRXZlbnQsIGNvbXBvbmVudFZpZXcsIGNvbXBvbmVudFJlbmRlcmVyVHlwZSkge1xuICAgIGlmIChmaXhlZEF0dHJzID09PSB2b2lkIDApIHsgZml4ZWRBdHRycyA9IFtdOyB9XG4gICAgaWYgKCFoYW5kbGVFdmVudCkge1xuICAgICAgICBoYW5kbGVFdmVudCA9IE5PT1A7XG4gICAgfVxuICAgIHZhciBfYSA9IHNwbGl0TWF0Y2hlZFF1ZXJpZXNEc2wobWF0Y2hlZFF1ZXJpZXNEc2wpLCBtYXRjaGVkUXVlcmllcyA9IF9hLm1hdGNoZWRRdWVyaWVzLCByZWZlcmVuY2VzID0gX2EucmVmZXJlbmNlcywgbWF0Y2hlZFF1ZXJ5SWRzID0gX2EubWF0Y2hlZFF1ZXJ5SWRzO1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIG5zID0gKChudWxsKSk7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gbmFtZSA9ICgobnVsbCkpO1xuICAgIGlmIChuYW1lc3BhY2VBbmROYW1lKSB7XG4gICAgICAgIF9iID0gc3BsaXROYW1lc3BhY2UobmFtZXNwYWNlQW5kTmFtZSksIG5zID0gX2JbMF0sIG5hbWUgPSBfYlsxXTtcbiAgICB9XG4gICAgYmluZGluZ3MgPSBiaW5kaW5ncyB8fCBbXTtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBiaW5kaW5nRGVmcyA9IG5ldyBBcnJheShiaW5kaW5ncy5sZW5ndGgpO1xuICAgIGZvciAodmFyIC8qKiBAdHlwZSB7P30gKi8gaSA9IDA7IGkgPCBiaW5kaW5ncy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgX2MgPSBiaW5kaW5nc1tpXSwgYmluZGluZ0ZsYWdzID0gX2NbMF0sIG5hbWVzcGFjZUFuZE5hbWVfMSA9IF9jWzFdLCBzdWZmaXhPclNlY3VyaXR5Q29udGV4dCA9IF9jWzJdO1xuICAgICAgICB2YXIgX2QgPSBzcGxpdE5hbWVzcGFjZShuYW1lc3BhY2VBbmROYW1lXzEpLCBuc18xID0gX2RbMF0sIG5hbWVfMSA9IF9kWzFdO1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBzZWN1cml0eUNvbnRleHQgPSAoKHVuZGVmaW5lZCkpO1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBzdWZmaXggPSAoKHVuZGVmaW5lZCkpO1xuICAgICAgICBzd2l0Y2ggKGJpbmRpbmdGbGFncyAmIDE1IC8qIFR5cGVzICovKSB7XG4gICAgICAgICAgICBjYXNlIDQgLyogVHlwZUVsZW1lbnRTdHlsZSAqLzpcbiAgICAgICAgICAgICAgICBzdWZmaXggPSAoc3VmZml4T3JTZWN1cml0eUNvbnRleHQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxIC8qIFR5cGVFbGVtZW50QXR0cmlidXRlICovOlxuICAgICAgICAgICAgY2FzZSA4IC8qIFR5cGVQcm9wZXJ0eSAqLzpcbiAgICAgICAgICAgICAgICBzZWN1cml0eUNvbnRleHQgPSAoc3VmZml4T3JTZWN1cml0eUNvbnRleHQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGJpbmRpbmdEZWZzW2ldID1cbiAgICAgICAgICAgIHsgZmxhZ3M6IGJpbmRpbmdGbGFncywgbnM6IG5zXzEsIG5hbWU6IG5hbWVfMSwgbm9uTWluaWZpZWROYW1lOiBuYW1lXzEsIHNlY3VyaXR5Q29udGV4dDogc2VjdXJpdHlDb250ZXh0LCBzdWZmaXg6IHN1ZmZpeCB9O1xuICAgIH1cbiAgICBvdXRwdXRzID0gb3V0cHV0cyB8fCBbXTtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBvdXRwdXREZWZzID0gbmV3IEFycmF5KG91dHB1dHMubGVuZ3RoKTtcbiAgICBmb3IgKHZhciAvKiogQHR5cGUgez99ICovIGkgPSAwOyBpIDwgb3V0cHV0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgX2UgPSBvdXRwdXRzW2ldLCB0YXJnZXQgPSBfZVswXSwgZXZlbnROYW1lID0gX2VbMV07XG4gICAgICAgIG91dHB1dERlZnNbaV0gPSB7XG4gICAgICAgICAgICB0eXBlOiAwIC8qIEVsZW1lbnRPdXRwdXQgKi8sXG4gICAgICAgICAgICB0YXJnZXQ6IC8qKiBAdHlwZSB7P30gKi8gKHRhcmdldCksIGV2ZW50TmFtZTogZXZlbnROYW1lLFxuICAgICAgICAgICAgcHJvcE5hbWU6IG51bGxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZml4ZWRBdHRycyA9IGZpeGVkQXR0cnMgfHwgW107XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gYXR0cnMgPSAoZml4ZWRBdHRycy5tYXAoZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBuYW1lc3BhY2VBbmROYW1lID0gX2FbMF0sIHZhbHVlID0gX2FbMV07XG4gICAgICAgIHZhciBfYiA9IHNwbGl0TmFtZXNwYWNlKG5hbWVzcGFjZUFuZE5hbWUpLCBucyA9IF9iWzBdLCBuYW1lID0gX2JbMV07XG4gICAgICAgIHJldHVybiBbbnMsIG5hbWUsIHZhbHVlXTtcbiAgICB9KSk7XG4gICAgY29tcG9uZW50UmVuZGVyZXJUeXBlID0gcmVzb2x2ZVJlbmRlcmVyVHlwZTIoY29tcG9uZW50UmVuZGVyZXJUeXBlKTtcbiAgICBpZiAoY29tcG9uZW50Vmlldykge1xuICAgICAgICBmbGFncyB8PSAzMzU1NDQzMiAvKiBDb21wb25lbnRWaWV3ICovO1xuICAgIH1cbiAgICBmbGFncyB8PSAxIC8qIFR5cGVFbGVtZW50ICovO1xuICAgIHJldHVybiB7XG4gICAgICAgIC8vIHdpbGwgYmV0IHNldCBieSB0aGUgdmlldyBkZWZpbml0aW9uXG4gICAgICAgIG5vZGVJbmRleDogLTEsXG4gICAgICAgIHBhcmVudDogbnVsbCxcbiAgICAgICAgcmVuZGVyUGFyZW50OiBudWxsLFxuICAgICAgICBiaW5kaW5nSW5kZXg6IC0xLFxuICAgICAgICBvdXRwdXRJbmRleDogLTEsXG4gICAgICAgIC8vIHJlZ3VsYXIgdmFsdWVzXG4gICAgICAgIGNoZWNrSW5kZXg6IGNoZWNrSW5kZXgsXG4gICAgICAgIGZsYWdzOiBmbGFncyxcbiAgICAgICAgY2hpbGRGbGFnczogMCxcbiAgICAgICAgZGlyZWN0Q2hpbGRGbGFnczogMCxcbiAgICAgICAgY2hpbGRNYXRjaGVkUXVlcmllczogMCwgbWF0Y2hlZFF1ZXJpZXM6IG1hdGNoZWRRdWVyaWVzLCBtYXRjaGVkUXVlcnlJZHM6IG1hdGNoZWRRdWVyeUlkcywgcmVmZXJlbmNlczogcmVmZXJlbmNlcywgbmdDb250ZW50SW5kZXg6IG5nQ29udGVudEluZGV4LCBjaGlsZENvdW50OiBjaGlsZENvdW50LFxuICAgICAgICBiaW5kaW5nczogYmluZGluZ0RlZnMsXG4gICAgICAgIGJpbmRpbmdGbGFnczogY2FsY0JpbmRpbmdGbGFncyhiaW5kaW5nRGVmcyksXG4gICAgICAgIG91dHB1dHM6IG91dHB1dERlZnMsXG4gICAgICAgIGVsZW1lbnQ6IHtcbiAgICAgICAgICAgIG5zOiBucyxcbiAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICBhdHRyczogYXR0cnMsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogbnVsbCxcbiAgICAgICAgICAgIC8vIHdpbGwgYmV0IHNldCBieSB0aGUgdmlldyBkZWZpbml0aW9uXG4gICAgICAgICAgICBjb21wb25lbnRQcm92aWRlcjogbnVsbCxcbiAgICAgICAgICAgIGNvbXBvbmVudFZpZXc6IGNvbXBvbmVudFZpZXcgfHwgbnVsbCxcbiAgICAgICAgICAgIGNvbXBvbmVudFJlbmRlcmVyVHlwZTogY29tcG9uZW50UmVuZGVyZXJUeXBlLFxuICAgICAgICAgICAgcHVibGljUHJvdmlkZXJzOiBudWxsLFxuICAgICAgICAgICAgYWxsUHJvdmlkZXJzOiBudWxsLFxuICAgICAgICAgICAgaGFuZGxlRXZlbnQ6IGhhbmRsZUV2ZW50IHx8IE5PT1AsXG4gICAgICAgIH0sXG4gICAgICAgIHByb3ZpZGVyOiBudWxsLFxuICAgICAgICB0ZXh0OiBudWxsLFxuICAgICAgICBxdWVyeTogbnVsbCxcbiAgICAgICAgbmdDb250ZW50OiBudWxsXG4gICAgfTtcbiAgICB2YXIgX2I7XG59XG4vKipcbiAqIEBwYXJhbSB7P30gdmlld1xuICogQHBhcmFtIHs/fSByZW5kZXJIb3N0XG4gKiBAcGFyYW0gez99IGRlZlxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gY3JlYXRlRWxlbWVudCh2aWV3LCByZW5kZXJIb3N0LCBkZWYpIHtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBlbERlZiA9ICgoZGVmLmVsZW1lbnQpKTtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyByb290U2VsZWN0b3JPck5vZGUgPSB2aWV3LnJvb3Quc2VsZWN0b3JPck5vZGU7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcmVuZGVyZXIgPSB2aWV3LnJlbmRlcmVyO1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIGVsO1xuICAgIGlmICh2aWV3LnBhcmVudCB8fCAhcm9vdFNlbGVjdG9yT3JOb2RlKSB7XG4gICAgICAgIGlmIChlbERlZi5uYW1lKSB7XG4gICAgICAgICAgICBlbCA9IHJlbmRlcmVyLmNyZWF0ZUVsZW1lbnQoZWxEZWYubmFtZSwgZWxEZWYubnMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZWwgPSByZW5kZXJlci5jcmVhdGVDb21tZW50KCcnKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBwYXJlbnRFbCA9IGdldFBhcmVudFJlbmRlckVsZW1lbnQodmlldywgcmVuZGVySG9zdCwgZGVmKTtcbiAgICAgICAgaWYgKHBhcmVudEVsKSB7XG4gICAgICAgICAgICByZW5kZXJlci5hcHBlbmRDaGlsZChwYXJlbnRFbCwgZWwpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBlbCA9IHJlbmRlcmVyLnNlbGVjdFJvb3RFbGVtZW50KHJvb3RTZWxlY3Rvck9yTm9kZSk7XG4gICAgfVxuICAgIGlmIChlbERlZi5hdHRycykge1xuICAgICAgICBmb3IgKHZhciAvKiogQHR5cGUgez99ICovIGkgPSAwOyBpIDwgZWxEZWYuYXR0cnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBfYSA9IGVsRGVmLmF0dHJzW2ldLCBucyA9IF9hWzBdLCBuYW1lID0gX2FbMV0sIHZhbHVlID0gX2FbMl07XG4gICAgICAgICAgICByZW5kZXJlci5zZXRBdHRyaWJ1dGUoZWwsIG5hbWUsIHZhbHVlLCBucyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGVsO1xufVxuLyoqXG4gKiBAcGFyYW0gez99IHZpZXdcbiAqIEBwYXJhbSB7P30gY29tcFZpZXdcbiAqIEBwYXJhbSB7P30gZGVmXG4gKiBAcGFyYW0gez99IGVsXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBsaXN0ZW5Ub0VsZW1lbnRPdXRwdXRzKHZpZXcsIGNvbXBWaWV3LCBkZWYsIGVsKSB7XG4gICAgZm9yICh2YXIgLyoqIEB0eXBlIHs/fSAqLyBpID0gMDsgaSA8IGRlZi5vdXRwdXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIG91dHB1dCA9IGRlZi5vdXRwdXRzW2ldO1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBoYW5kbGVFdmVudENsb3N1cmUgPSByZW5kZXJFdmVudEhhbmRsZXJDbG9zdXJlKHZpZXcsIGRlZi5ub2RlSW5kZXgsIGVsZW1lbnRFdmVudEZ1bGxOYW1lKG91dHB1dC50YXJnZXQsIG91dHB1dC5ldmVudE5hbWUpKTtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gbGlzdGVuVGFyZ2V0ID0gb3V0cHV0LnRhcmdldDtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gbGlzdGVuZXJWaWV3ID0gdmlldztcbiAgICAgICAgaWYgKG91dHB1dC50YXJnZXQgPT09ICdjb21wb25lbnQnKSB7XG4gICAgICAgICAgICBsaXN0ZW5UYXJnZXQgPSBudWxsO1xuICAgICAgICAgICAgbGlzdGVuZXJWaWV3ID0gY29tcFZpZXc7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gZGlzcG9zYWJsZSA9IChsaXN0ZW5lclZpZXcucmVuZGVyZXIubGlzdGVuKGxpc3RlblRhcmdldCB8fCBlbCwgb3V0cHV0LmV2ZW50TmFtZSwgaGFuZGxlRXZlbnRDbG9zdXJlKSk7IC8qKiBAdHlwZSB7P30gKi9cbiAgICAgICAgKCh2aWV3LmRpc3Bvc2FibGVzKSlbZGVmLm91dHB1dEluZGV4ICsgaV0gPSBkaXNwb3NhYmxlO1xuICAgIH1cbn1cbi8qKlxuICogQHBhcmFtIHs/fSB2aWV3XG4gKiBAcGFyYW0gez99IGluZGV4XG4gKiBAcGFyYW0gez99IGV2ZW50TmFtZVxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gcmVuZGVyRXZlbnRIYW5kbGVyQ2xvc3VyZSh2aWV3LCBpbmRleCwgZXZlbnROYW1lKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoRXZlbnQodmlldywgaW5kZXgsIGV2ZW50TmFtZSwgZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBBdHRlbnRpb246IERvbid0IHJldGhyb3csIHRvIGtlZXAgaW4gc3luYyB3aXRoIGRpcmVjdGl2ZSBldmVudHMuXG4gICAgICAgICAgICB2aWV3LnJvb3QuZXJyb3JIYW5kbGVyLmhhbmRsZUVycm9yKGUpO1xuICAgICAgICB9XG4gICAgfTtcbn1cbi8qKlxuICogQHBhcmFtIHs/fSB2aWV3XG4gKiBAcGFyYW0gez99IGRlZlxuICogQHBhcmFtIHs/fSB2MFxuICogQHBhcmFtIHs/fSB2MVxuICogQHBhcmFtIHs/fSB2MlxuICogQHBhcmFtIHs/fSB2M1xuICogQHBhcmFtIHs/fSB2NFxuICogQHBhcmFtIHs/fSB2NVxuICogQHBhcmFtIHs/fSB2NlxuICogQHBhcmFtIHs/fSB2N1xuICogQHBhcmFtIHs/fSB2OFxuICogQHBhcmFtIHs/fSB2OVxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gY2hlY2tBbmRVcGRhdGVFbGVtZW50SW5saW5lKHZpZXcsIGRlZiwgdjAsIHYxLCB2MiwgdjMsIHY0LCB2NSwgdjYsIHY3LCB2OCwgdjkpIHtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBiaW5kTGVuID0gZGVmLmJpbmRpbmdzLmxlbmd0aDtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBjaGFuZ2VkID0gZmFsc2U7XG4gICAgaWYgKGJpbmRMZW4gPiAwICYmIGNoZWNrQW5kVXBkYXRlRWxlbWVudFZhbHVlKHZpZXcsIGRlZiwgMCwgdjApKVxuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICBpZiAoYmluZExlbiA+IDEgJiYgY2hlY2tBbmRVcGRhdGVFbGVtZW50VmFsdWUodmlldywgZGVmLCAxLCB2MSkpXG4gICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgIGlmIChiaW5kTGVuID4gMiAmJiBjaGVja0FuZFVwZGF0ZUVsZW1lbnRWYWx1ZSh2aWV3LCBkZWYsIDIsIHYyKSlcbiAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgaWYgKGJpbmRMZW4gPiAzICYmIGNoZWNrQW5kVXBkYXRlRWxlbWVudFZhbHVlKHZpZXcsIGRlZiwgMywgdjMpKVxuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICBpZiAoYmluZExlbiA+IDQgJiYgY2hlY2tBbmRVcGRhdGVFbGVtZW50VmFsdWUodmlldywgZGVmLCA0LCB2NCkpXG4gICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgIGlmIChiaW5kTGVuID4gNSAmJiBjaGVja0FuZFVwZGF0ZUVsZW1lbnRWYWx1ZSh2aWV3LCBkZWYsIDUsIHY1KSlcbiAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgaWYgKGJpbmRMZW4gPiA2ICYmIGNoZWNrQW5kVXBkYXRlRWxlbWVudFZhbHVlKHZpZXcsIGRlZiwgNiwgdjYpKVxuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICBpZiAoYmluZExlbiA+IDcgJiYgY2hlY2tBbmRVcGRhdGVFbGVtZW50VmFsdWUodmlldywgZGVmLCA3LCB2NykpXG4gICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgIGlmIChiaW5kTGVuID4gOCAmJiBjaGVja0FuZFVwZGF0ZUVsZW1lbnRWYWx1ZSh2aWV3LCBkZWYsIDgsIHY4KSlcbiAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgaWYgKGJpbmRMZW4gPiA5ICYmIGNoZWNrQW5kVXBkYXRlRWxlbWVudFZhbHVlKHZpZXcsIGRlZiwgOSwgdjkpKVxuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICByZXR1cm4gY2hhbmdlZDtcbn1cbi8qKlxuICogQHBhcmFtIHs/fSB2aWV3XG4gKiBAcGFyYW0gez99IGRlZlxuICogQHBhcmFtIHs/fSB2YWx1ZXNcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGNoZWNrQW5kVXBkYXRlRWxlbWVudER5bmFtaWModmlldywgZGVmLCB2YWx1ZXMpIHtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBjaGFuZ2VkID0gZmFsc2U7XG4gICAgZm9yICh2YXIgLyoqIEB0eXBlIHs/fSAqLyBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoY2hlY2tBbmRVcGRhdGVFbGVtZW50VmFsdWUodmlldywgZGVmLCBpLCB2YWx1ZXNbaV0pKVxuICAgICAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBjaGFuZ2VkO1xufVxuLyoqXG4gKiBAcGFyYW0gez99IHZpZXdcbiAqIEBwYXJhbSB7P30gZGVmXG4gKiBAcGFyYW0gez99IGJpbmRpbmdJZHhcbiAqIEBwYXJhbSB7P30gdmFsdWVcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGNoZWNrQW5kVXBkYXRlRWxlbWVudFZhbHVlKHZpZXcsIGRlZiwgYmluZGluZ0lkeCwgdmFsdWUpIHtcbiAgICBpZiAoIWNoZWNrQW5kVXBkYXRlQmluZGluZyh2aWV3LCBkZWYsIGJpbmRpbmdJZHgsIHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciAvKiogQHR5cGUgez99ICovIGJpbmRpbmcgPSBkZWYuYmluZGluZ3NbYmluZGluZ0lkeF07XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gZWxEYXRhID0gYXNFbGVtZW50RGF0YSh2aWV3LCBkZWYubm9kZUluZGV4KTtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyByZW5kZXJOb2RlJCQxID0gZWxEYXRhLnJlbmRlckVsZW1lbnQ7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gbmFtZSA9ICgoYmluZGluZy5uYW1lKSk7XG4gICAgc3dpdGNoIChiaW5kaW5nLmZsYWdzICYgMTUgLyogVHlwZXMgKi8pIHtcbiAgICAgICAgY2FzZSAxIC8qIFR5cGVFbGVtZW50QXR0cmlidXRlICovOlxuICAgICAgICAgICAgc2V0RWxlbWVudEF0dHJpYnV0ZSh2aWV3LCBiaW5kaW5nLCByZW5kZXJOb2RlJCQxLCBiaW5kaW5nLm5zLCBuYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyIC8qIFR5cGVFbGVtZW50Q2xhc3MgKi86XG4gICAgICAgICAgICBzZXRFbGVtZW50Q2xhc3ModmlldywgcmVuZGVyTm9kZSQkMSwgbmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNCAvKiBUeXBlRWxlbWVudFN0eWxlICovOlxuICAgICAgICAgICAgc2V0RWxlbWVudFN0eWxlKHZpZXcsIGJpbmRpbmcsIHJlbmRlck5vZGUkJDEsIG5hbWUsIHZhbHVlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDggLyogVHlwZVByb3BlcnR5ICovOlxuICAgICAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gYmluZFZpZXcgPSAoZGVmLmZsYWdzICYgMzM1NTQ0MzIgLyogQ29tcG9uZW50VmlldyAqLyAmJlxuICAgICAgICAgICAgICAgIGJpbmRpbmcuZmxhZ3MgJiAzMiAvKiBTeW50aGV0aWNIb3N0UHJvcGVydHkgKi8pID9cbiAgICAgICAgICAgICAgICBlbERhdGEuY29tcG9uZW50VmlldyA6XG4gICAgICAgICAgICAgICAgdmlldztcbiAgICAgICAgICAgIHNldEVsZW1lbnRQcm9wZXJ0eShiaW5kVmlldywgYmluZGluZywgcmVuZGVyTm9kZSQkMSwgbmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuLyoqXG4gKiBAcGFyYW0gez99IHZpZXdcbiAqIEBwYXJhbSB7P30gYmluZGluZ1xuICogQHBhcmFtIHs/fSByZW5kZXJOb2RlXG4gKiBAcGFyYW0gez99IG5zXG4gKiBAcGFyYW0gez99IG5hbWVcbiAqIEBwYXJhbSB7P30gdmFsdWVcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIHNldEVsZW1lbnRBdHRyaWJ1dGUodmlldywgYmluZGluZywgcmVuZGVyTm9kZSQkMSwgbnMsIG5hbWUsIHZhbHVlKSB7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gc2VjdXJpdHlDb250ZXh0ID0gYmluZGluZy5zZWN1cml0eUNvbnRleHQ7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcmVuZGVyVmFsdWUgPSBzZWN1cml0eUNvbnRleHQgPyB2aWV3LnJvb3Quc2FuaXRpemVyLnNhbml0aXplKHNlY3VyaXR5Q29udGV4dCwgdmFsdWUpIDogdmFsdWU7XG4gICAgcmVuZGVyVmFsdWUgPSByZW5kZXJWYWx1ZSAhPSBudWxsID8gcmVuZGVyVmFsdWUudG9TdHJpbmcoKSA6IG51bGw7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcmVuZGVyZXIgPSB2aWV3LnJlbmRlcmVyO1xuICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgIHJlbmRlcmVyLnNldEF0dHJpYnV0ZShyZW5kZXJOb2RlJCQxLCBuYW1lLCByZW5kZXJWYWx1ZSwgbnMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmVuZGVyZXIucmVtb3ZlQXR0cmlidXRlKHJlbmRlck5vZGUkJDEsIG5hbWUsIG5zKTtcbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7P30gdmlld1xuICogQHBhcmFtIHs/fSByZW5kZXJOb2RlXG4gKiBAcGFyYW0gez99IG5hbWVcbiAqIEBwYXJhbSB7P30gdmFsdWVcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIHNldEVsZW1lbnRDbGFzcyh2aWV3LCByZW5kZXJOb2RlJCQxLCBuYW1lLCB2YWx1ZSkge1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIHJlbmRlcmVyID0gdmlldy5yZW5kZXJlcjtcbiAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgcmVuZGVyZXIuYWRkQ2xhc3MocmVuZGVyTm9kZSQkMSwgbmFtZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZW5kZXJlci5yZW1vdmVDbGFzcyhyZW5kZXJOb2RlJCQxLCBuYW1lKTtcbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7P30gdmlld1xuICogQHBhcmFtIHs/fSBiaW5kaW5nXG4gKiBAcGFyYW0gez99IHJlbmRlck5vZGVcbiAqIEBwYXJhbSB7P30gbmFtZVxuICogQHBhcmFtIHs/fSB2YWx1ZVxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gc2V0RWxlbWVudFN0eWxlKHZpZXcsIGJpbmRpbmcsIHJlbmRlck5vZGUkJDEsIG5hbWUsIHZhbHVlKSB7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcmVuZGVyVmFsdWUgPSB2aWV3LnJvb3Quc2FuaXRpemVyLnNhbml0aXplKFNlY3VyaXR5Q29udGV4dC5TVFlMRSwgLyoqIEB0eXBlIHs/fSAqLyAodmFsdWUpKTtcbiAgICBpZiAocmVuZGVyVmFsdWUgIT0gbnVsbCkge1xuICAgICAgICByZW5kZXJWYWx1ZSA9IHJlbmRlclZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIHVuaXQgPSBiaW5kaW5nLnN1ZmZpeDtcbiAgICAgICAgaWYgKHVuaXQgIT0gbnVsbCkge1xuICAgICAgICAgICAgcmVuZGVyVmFsdWUgPSByZW5kZXJWYWx1ZSArIHVuaXQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJlbmRlclZhbHVlID0gbnVsbDtcbiAgICB9XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcmVuZGVyZXIgPSB2aWV3LnJlbmRlcmVyO1xuICAgIGlmIChyZW5kZXJWYWx1ZSAhPSBudWxsKSB7XG4gICAgICAgIHJlbmRlcmVyLnNldFN0eWxlKHJlbmRlck5vZGUkJDEsIG5hbWUsIHJlbmRlclZhbHVlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJlbmRlcmVyLnJlbW92ZVN0eWxlKHJlbmRlck5vZGUkJDEsIG5hbWUpO1xuICAgIH1cbn1cbi8qKlxuICogQHBhcmFtIHs/fSB2aWV3XG4gKiBAcGFyYW0gez99IGJpbmRpbmdcbiAqIEBwYXJhbSB7P30gcmVuZGVyTm9kZVxuICogQHBhcmFtIHs/fSBuYW1lXG4gKiBAcGFyYW0gez99IHZhbHVlXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBzZXRFbGVtZW50UHJvcGVydHkodmlldywgYmluZGluZywgcmVuZGVyTm9kZSQkMSwgbmFtZSwgdmFsdWUpIHtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBzZWN1cml0eUNvbnRleHQgPSBiaW5kaW5nLnNlY3VyaXR5Q29udGV4dDtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyByZW5kZXJWYWx1ZSA9IHNlY3VyaXR5Q29udGV4dCA/IHZpZXcucm9vdC5zYW5pdGl6ZXIuc2FuaXRpemUoc2VjdXJpdHlDb250ZXh0LCB2YWx1ZSkgOiB2YWx1ZTtcbiAgICB2aWV3LnJlbmRlcmVyLnNldFByb3BlcnR5KHJlbmRlck5vZGUkJDEsIG5hbWUsIHJlbmRlclZhbHVlKTtcbn1cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbnZhciBVTkRFRklORURfVkFMVUUgPSBuZXcgT2JqZWN0KCk7XG52YXIgSW5qZWN0b3JSZWZUb2tlbktleSQxID0gdG9rZW5LZXkoSW5qZWN0b3IpO1xudmFyIE5nTW9kdWxlUmVmVG9rZW5LZXkgPSB0b2tlbktleShOZ01vZHVsZVJlZik7XG4vKipcbiAqIEBwYXJhbSB7P30gZmxhZ3NcbiAqIEBwYXJhbSB7P30gdG9rZW5cbiAqIEBwYXJhbSB7P30gdmFsdWVcbiAqIEBwYXJhbSB7P30gZGVwc1xuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gbW9kdWxlUHJvdmlkZURlZihmbGFncywgdG9rZW4sIHZhbHVlLCBkZXBzKSB7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gZGVwRGVmcyA9IHNwbGl0RGVwc0RzbChkZXBzKTtcbiAgICByZXR1cm4ge1xuICAgICAgICAvLyB3aWxsIGJldCBzZXQgYnkgdGhlIG1vZHVsZSBkZWZpbml0aW9uXG4gICAgICAgIGluZGV4OiAtMSxcbiAgICAgICAgZGVwczogZGVwRGVmcywgZmxhZ3M6IGZsYWdzLCB0b2tlbjogdG9rZW4sIHZhbHVlOiB2YWx1ZVxuICAgIH07XG59XG4vKipcbiAqIEBwYXJhbSB7P30gcHJvdmlkZXJzXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBtb2R1bGVEZWYocHJvdmlkZXJzKSB7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcHJvdmlkZXJzQnlLZXkgPSB7fTtcbiAgICBmb3IgKHZhciAvKiogQHR5cGUgez99ICovIGkgPSAwOyBpIDwgcHJvdmlkZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIHByb3ZpZGVyID0gcHJvdmlkZXJzW2ldO1xuICAgICAgICBwcm92aWRlci5pbmRleCA9IGk7XG4gICAgICAgIHByb3ZpZGVyc0J5S2V5W3Rva2VuS2V5KHByb3ZpZGVyLnRva2VuKV0gPSBwcm92aWRlcjtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLy8gV2lsbCBiZSBmaWxsZWQgbGF0ZXIuLi5cbiAgICAgICAgZmFjdG9yeTogbnVsbCxcbiAgICAgICAgcHJvdmlkZXJzQnlLZXk6IHByb3ZpZGVyc0J5S2V5LFxuICAgICAgICBwcm92aWRlcnM6IHByb3ZpZGVyc1xuICAgIH07XG59XG4vKipcbiAqIEBwYXJhbSB7P30gZGF0YVxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gaW5pdE5nTW9kdWxlKGRhdGEpIHtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBkZWYgPSBkYXRhLl9kZWY7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcHJvdmlkZXJzID0gZGF0YS5fcHJvdmlkZXJzID0gbmV3IEFycmF5KGRlZi5wcm92aWRlcnMubGVuZ3RoKTtcbiAgICBmb3IgKHZhciAvKiogQHR5cGUgez99ICovIGkgPSAwOyBpIDwgZGVmLnByb3ZpZGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBwcm92RGVmID0gZGVmLnByb3ZpZGVyc1tpXTtcbiAgICAgICAgaWYgKCEocHJvdkRlZi5mbGFncyAmIDQwOTYgLyogTGF6eVByb3ZpZGVyICovKSkge1xuICAgICAgICAgICAgcHJvdmlkZXJzW2ldID0gX2NyZWF0ZVByb3ZpZGVySW5zdGFuY2UkMShkYXRhLCBwcm92RGVmKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQHBhcmFtIHs/fSBkYXRhXG4gKiBAcGFyYW0gez99IGRlcERlZlxuICogQHBhcmFtIHs/PX0gbm90Rm91bmRWYWx1ZVxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gcmVzb2x2ZU5nTW9kdWxlRGVwKGRhdGEsIGRlcERlZiwgbm90Rm91bmRWYWx1ZSkge1xuICAgIGlmIChub3RGb3VuZFZhbHVlID09PSB2b2lkIDApIHsgbm90Rm91bmRWYWx1ZSA9IEluamVjdG9yLlRIUk9XX0lGX05PVF9GT1VORDsgfVxuICAgIGlmIChkZXBEZWYuZmxhZ3MgJiA4IC8qIFZhbHVlICovKSB7XG4gICAgICAgIHJldHVybiBkZXBEZWYudG9rZW47XG4gICAgfVxuICAgIGlmIChkZXBEZWYuZmxhZ3MgJiAyIC8qIE9wdGlvbmFsICovKSB7XG4gICAgICAgIG5vdEZvdW5kVmFsdWUgPSBudWxsO1xuICAgIH1cbiAgICBpZiAoZGVwRGVmLmZsYWdzICYgMSAvKiBTa2lwU2VsZiAqLykge1xuICAgICAgICByZXR1cm4gZGF0YS5fcGFyZW50LmdldChkZXBEZWYudG9rZW4sIG5vdEZvdW5kVmFsdWUpO1xuICAgIH1cbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyB0b2tlbktleSQkMSA9IGRlcERlZi50b2tlbktleTtcbiAgICBzd2l0Y2ggKHRva2VuS2V5JCQxKSB7XG4gICAgICAgIGNhc2UgSW5qZWN0b3JSZWZUb2tlbktleSQxOlxuICAgICAgICBjYXNlIE5nTW9kdWxlUmVmVG9rZW5LZXk6XG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcHJvdmlkZXJEZWYgPSBkYXRhLl9kZWYucHJvdmlkZXJzQnlLZXlbdG9rZW5LZXkkJDFdO1xuICAgIGlmIChwcm92aWRlckRlZikge1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBwcm92aWRlckluc3RhbmNlID0gZGF0YS5fcHJvdmlkZXJzW3Byb3ZpZGVyRGVmLmluZGV4XTtcbiAgICAgICAgaWYgKHByb3ZpZGVySW5zdGFuY2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcHJvdmlkZXJJbnN0YW5jZSA9IGRhdGEuX3Byb3ZpZGVyc1twcm92aWRlckRlZi5pbmRleF0gPVxuICAgICAgICAgICAgICAgIF9jcmVhdGVQcm92aWRlckluc3RhbmNlJDEoZGF0YSwgcHJvdmlkZXJEZWYpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwcm92aWRlckluc3RhbmNlID09PSBVTkRFRklORURfVkFMVUUgPyB1bmRlZmluZWQgOiBwcm92aWRlckluc3RhbmNlO1xuICAgIH1cbiAgICByZXR1cm4gZGF0YS5fcGFyZW50LmdldChkZXBEZWYudG9rZW4sIG5vdEZvdW5kVmFsdWUpO1xufVxuLyoqXG4gKiBAcGFyYW0gez99IG5nTW9kdWxlXG4gKiBAcGFyYW0gez99IHByb3ZpZGVyRGVmXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBfY3JlYXRlUHJvdmlkZXJJbnN0YW5jZSQxKG5nTW9kdWxlLCBwcm92aWRlckRlZikge1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIGluamVjdGFibGU7XG4gICAgc3dpdGNoIChwcm92aWRlckRlZi5mbGFncyAmIDIwMTM0NzA2NyAvKiBUeXBlcyAqLykge1xuICAgICAgICBjYXNlIDUxMiAvKiBUeXBlQ2xhc3NQcm92aWRlciAqLzpcbiAgICAgICAgICAgIGluamVjdGFibGUgPSBfY3JlYXRlQ2xhc3MobmdNb2R1bGUsIHByb3ZpZGVyRGVmLnZhbHVlLCBwcm92aWRlckRlZi5kZXBzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDEwMjQgLyogVHlwZUZhY3RvcnlQcm92aWRlciAqLzpcbiAgICAgICAgICAgIGluamVjdGFibGUgPSBfY2FsbEZhY3RvcnkobmdNb2R1bGUsIHByb3ZpZGVyRGVmLnZhbHVlLCBwcm92aWRlckRlZi5kZXBzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDIwNDggLyogVHlwZVVzZUV4aXN0aW5nUHJvdmlkZXIgKi86XG4gICAgICAgICAgICBpbmplY3RhYmxlID0gcmVzb2x2ZU5nTW9kdWxlRGVwKG5nTW9kdWxlLCBwcm92aWRlckRlZi5kZXBzWzBdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI1NiAvKiBUeXBlVmFsdWVQcm92aWRlciAqLzpcbiAgICAgICAgICAgIGluamVjdGFibGUgPSBwcm92aWRlckRlZi52YWx1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gaW5qZWN0YWJsZSA9PT0gdW5kZWZpbmVkID8gVU5ERUZJTkVEX1ZBTFVFIDogaW5qZWN0YWJsZTtcbn1cbi8qKlxuICogQHBhcmFtIHs/fSBuZ01vZHVsZVxuICogQHBhcmFtIHs/fSBjdG9yXG4gKiBAcGFyYW0gez99IGRlcHNcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhuZ01vZHVsZSwgY3RvciwgZGVwcykge1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIGxlbiA9IGRlcHMubGVuZ3RoO1xuICAgIHN3aXRjaCAobGVuKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIHJldHVybiBuZXcgY3RvcigpO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICByZXR1cm4gbmV3IGN0b3IocmVzb2x2ZU5nTW9kdWxlRGVwKG5nTW9kdWxlLCBkZXBzWzBdKSk7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIHJldHVybiBuZXcgY3RvcihyZXNvbHZlTmdNb2R1bGVEZXAobmdNb2R1bGUsIGRlcHNbMF0pLCByZXNvbHZlTmdNb2R1bGVEZXAobmdNb2R1bGUsIGRlcHNbMV0pKTtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBjdG9yKHJlc29sdmVOZ01vZHVsZURlcChuZ01vZHVsZSwgZGVwc1swXSksIHJlc29sdmVOZ01vZHVsZURlcChuZ01vZHVsZSwgZGVwc1sxXSksIHJlc29sdmVOZ01vZHVsZURlcChuZ01vZHVsZSwgZGVwc1syXSkpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gZGVwVmFsdWVzID0gbmV3IEFycmF5KGxlbik7XG4gICAgICAgICAgICBmb3IgKHZhciAvKiogQHR5cGUgez99ICovIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICBkZXBWYWx1ZXNbaV0gPSByZXNvbHZlTmdNb2R1bGVEZXAobmdNb2R1bGUsIGRlcHNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ldyAoY3Rvci5iaW5kLmFwcGx5KGN0b3IsIFt2b2lkIDBdLmNvbmNhdChkZXBWYWx1ZXMpKSkoKTtcbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7P30gbmdNb2R1bGVcbiAqIEBwYXJhbSB7P30gZmFjdG9yeVxuICogQHBhcmFtIHs/fSBkZXBzXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBfY2FsbEZhY3RvcnkobmdNb2R1bGUsIGZhY3RvcnksIGRlcHMpIHtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBsZW4gPSBkZXBzLmxlbmd0aDtcbiAgICBzd2l0Y2ggKGxlbikge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICByZXR1cm4gZmFjdG9yeSgpO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICByZXR1cm4gZmFjdG9yeShyZXNvbHZlTmdNb2R1bGVEZXAobmdNb2R1bGUsIGRlcHNbMF0pKTtcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgcmV0dXJuIGZhY3RvcnkocmVzb2x2ZU5nTW9kdWxlRGVwKG5nTW9kdWxlLCBkZXBzWzBdKSwgcmVzb2x2ZU5nTW9kdWxlRGVwKG5nTW9kdWxlLCBkZXBzWzFdKSk7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgIHJldHVybiBmYWN0b3J5KHJlc29sdmVOZ01vZHVsZURlcChuZ01vZHVsZSwgZGVwc1swXSksIHJlc29sdmVOZ01vZHVsZURlcChuZ01vZHVsZSwgZGVwc1sxXSksIHJlc29sdmVOZ01vZHVsZURlcChuZ01vZHVsZSwgZGVwc1syXSkpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gZGVwVmFsdWVzID0gQXJyYXkobGVuKTtcbiAgICAgICAgICAgIGZvciAodmFyIC8qKiBAdHlwZSB7P30gKi8gaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIGRlcFZhbHVlc1tpXSA9IHJlc29sdmVOZ01vZHVsZURlcChuZ01vZHVsZSwgZGVwc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFjdG9yeS5hcHBseSh2b2lkIDAsIGRlcFZhbHVlcyk7XG4gICAgfVxufVxuLyoqXG4gKiBAcGFyYW0gez99IG5nTW9kdWxlXG4gKiBAcGFyYW0gez99IGxpZmVjeWNsZXNcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGNhbGxOZ01vZHVsZUxpZmVjeWNsZShuZ01vZHVsZSwgbGlmZWN5Y2xlcykge1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIGRlZiA9IG5nTW9kdWxlLl9kZWY7XG4gICAgZm9yICh2YXIgLyoqIEB0eXBlIHs/fSAqLyBpID0gMDsgaSA8IGRlZi5wcm92aWRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcHJvdkRlZiA9IGRlZi5wcm92aWRlcnNbaV07XG4gICAgICAgIGlmIChwcm92RGVmLmZsYWdzICYgMTMxMDcyIC8qIE9uRGVzdHJveSAqLykge1xuICAgICAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gaW5zdGFuY2UgPSBuZ01vZHVsZS5fcHJvdmlkZXJzW2ldO1xuICAgICAgICAgICAgaWYgKGluc3RhbmNlICYmIGluc3RhbmNlICE9PSBVTkRFRklORURfVkFMVUUpIHtcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5uZ09uRGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBAcGFyYW0gez99IHBhcmVudFZpZXdcbiAqIEBwYXJhbSB7P30gZWxlbWVudERhdGFcbiAqIEBwYXJhbSB7P30gdmlld0luZGV4XG4gKiBAcGFyYW0gez99IHZpZXdcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGF0dGFjaEVtYmVkZGVkVmlldyhwYXJlbnRWaWV3LCBlbGVtZW50RGF0YSwgdmlld0luZGV4LCB2aWV3KSB7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gZW1iZWRkZWRWaWV3cyA9ICgoZWxlbWVudERhdGEudmlld0NvbnRhaW5lcikpLl9lbWJlZGRlZFZpZXdzO1xuICAgIGlmICh2aWV3SW5kZXggPT09IG51bGwgfHwgdmlld0luZGV4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdmlld0luZGV4ID0gZW1iZWRkZWRWaWV3cy5sZW5ndGg7XG4gICAgfVxuICAgIHZpZXcudmlld0NvbnRhaW5lclBhcmVudCA9IHBhcmVudFZpZXc7XG4gICAgYWRkVG9BcnJheShlbWJlZGRlZFZpZXdzLCAvKiogQHR5cGUgez99ICovICgodmlld0luZGV4KSksIHZpZXcpO1xuICAgIGF0dGFjaFByb2plY3RlZFZpZXcoZWxlbWVudERhdGEsIHZpZXcpO1xuICAgIFNlcnZpY2VzLmRpcnR5UGFyZW50UXVlcmllcyh2aWV3KTtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBwcmV2VmlldyA9ICgodmlld0luZGV4KSkgPiAwID8gZW1iZWRkZWRWaWV3c1soKHZpZXdJbmRleCkpIC0gMV0gOiBudWxsO1xuICAgIHJlbmRlckF0dGFjaEVtYmVkZGVkVmlldyhlbGVtZW50RGF0YSwgcHJldlZpZXcsIHZpZXcpO1xufVxuLyoqXG4gKiBAcGFyYW0gez99IHZjRWxlbWVudERhdGFcbiAqIEBwYXJhbSB7P30gdmlld1xuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gYXR0YWNoUHJvamVjdGVkVmlldyh2Y0VsZW1lbnREYXRhLCB2aWV3KSB7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gZHZjRWxlbWVudERhdGEgPSBkZWNsYXJlZFZpZXdDb250YWluZXIodmlldyk7XG4gICAgaWYgKCFkdmNFbGVtZW50RGF0YSB8fCBkdmNFbGVtZW50RGF0YSA9PT0gdmNFbGVtZW50RGF0YSB8fFxuICAgICAgICB2aWV3LnN0YXRlICYgMTYgLyogSXNQcm9qZWN0ZWRWaWV3ICovKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gTm90ZTogRm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMsIHdlXG4gICAgLy8gLSBhZGQgYSB2aWV3IHRvIHRlbXBsYXRlLl9wcm9qZWN0ZWRWaWV3cyBvbmx5IDF4IHRocm91Z2hvdXQgaXRzIGxpZmV0aW1lLFxuICAgIC8vICAgYW5kIHJlbW92ZSBpdCBub3QgdW50aWwgdGhlIHZpZXcgaXMgZGVzdHJveWVkLlxuICAgIC8vICAgKGhhcmQsIGFzIHdoZW4gYSBwYXJlbnQgdmlldyBpcyBhdHRhY2hlZC9kZXRhY2hlZCB3ZSB3b3VsZCBuZWVkIHRvIGF0dGFjaC9kZXRhY2ggYWxsXG4gICAgLy8gICAgbmVzdGVkIHByb2plY3RlZCB2aWV3cyBhcyB3ZWxsLCBldmVuIGFjY3Jvc3MgY29tcG9uZW50IGJvdW5kYXJpZXMpLlxuICAgIC8vIC0gZG9uJ3QgdHJhY2sgdGhlIGluc2VydGlvbiBvcmRlciBvZiB2aWV3cyBpbiB0aGUgcHJvamVjdGVkIHZpZXdzIGFycmF5XG4gICAgLy8gICAoaGFyZCwgYXMgd2hlbiB0aGUgdmlld3Mgb2YgdGhlIHNhbWUgdGVtcGxhdGUgYXJlIGluc2VydGVkIGRpZmZlcmVudCB2aWV3IGNvbnRhaW5lcnMpXG4gICAgdmlldy5zdGF0ZSB8PSAxNiAvKiBJc1Byb2plY3RlZFZpZXcgKi87XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcHJvamVjdGVkVmlld3MgPSBkdmNFbGVtZW50RGF0YS50ZW1wbGF0ZS5fcHJvamVjdGVkVmlld3M7XG4gICAgaWYgKCFwcm9qZWN0ZWRWaWV3cykge1xuICAgICAgICBwcm9qZWN0ZWRWaWV3cyA9IGR2Y0VsZW1lbnREYXRhLnRlbXBsYXRlLl9wcm9qZWN0ZWRWaWV3cyA9IFtdO1xuICAgIH1cbiAgICBwcm9qZWN0ZWRWaWV3cy5wdXNoKHZpZXcpO1xuICAgIC8vIE5vdGU6IHdlIGFyZSBjaGFuZ2luZyB0aGUgTm9kZURlZiBoZXJlIGFzIHdlIGNhbm5vdCBjYWxjdWxhdGVcbiAgICAvLyB0aGUgZmFjdCB3aGV0aGVyIGEgdGVtcGxhdGUgaXMgdXNlZCBmb3IgcHJvamVjdGlvbiBkdXJpbmcgY29tcGlsYXRpb24uXG4gICAgbWFya05vZGVBc1Byb2plY3RlZFRlbXBsYXRlKC8qKiBAdHlwZSB7P30gKi8gKCh2aWV3LnBhcmVudCkpLmRlZiwgLyoqIEB0eXBlIHs/fSAqLyAoKHZpZXcucGFyZW50Tm9kZURlZikpKTtcbn1cbi8qKlxuICogQHBhcmFtIHs/fSB2aWV3RGVmXG4gKiBAcGFyYW0gez99IG5vZGVEZWZcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIG1hcmtOb2RlQXNQcm9qZWN0ZWRUZW1wbGF0ZSh2aWV3RGVmLCBub2RlRGVmKSB7XG4gICAgaWYgKG5vZGVEZWYuZmxhZ3MgJiA0IC8qIFByb2plY3RlZFRlbXBsYXRlICovKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmlld0RlZi5ub2RlRmxhZ3MgfD0gNCAvKiBQcm9qZWN0ZWRUZW1wbGF0ZSAqLztcbiAgICBub2RlRGVmLmZsYWdzIHw9IDQgLyogUHJvamVjdGVkVGVtcGxhdGUgKi87XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcGFyZW50Tm9kZURlZiA9IG5vZGVEZWYucGFyZW50O1xuICAgIHdoaWxlIChwYXJlbnROb2RlRGVmKSB7XG4gICAgICAgIHBhcmVudE5vZGVEZWYuY2hpbGRGbGFncyB8PSA0IC8qIFByb2plY3RlZFRlbXBsYXRlICovO1xuICAgICAgICBwYXJlbnROb2RlRGVmID0gcGFyZW50Tm9kZURlZi5wYXJlbnQ7XG4gICAgfVxufVxuLyoqXG4gKiBAcGFyYW0gez99IGVsZW1lbnREYXRhXG4gKiBAcGFyYW0gez89fSB2aWV3SW5kZXhcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGRldGFjaEVtYmVkZGVkVmlldyhlbGVtZW50RGF0YSwgdmlld0luZGV4KSB7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gZW1iZWRkZWRWaWV3cyA9ICgoZWxlbWVudERhdGEudmlld0NvbnRhaW5lcikpLl9lbWJlZGRlZFZpZXdzO1xuICAgIGlmICh2aWV3SW5kZXggPT0gbnVsbCB8fCB2aWV3SW5kZXggPj0gZW1iZWRkZWRWaWV3cy5sZW5ndGgpIHtcbiAgICAgICAgdmlld0luZGV4ID0gZW1iZWRkZWRWaWV3cy5sZW5ndGggLSAxO1xuICAgIH1cbiAgICBpZiAodmlld0luZGV4IDwgMCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gdmlldyA9IGVtYmVkZGVkVmlld3Nbdmlld0luZGV4XTtcbiAgICB2aWV3LnZpZXdDb250YWluZXJQYXJlbnQgPSBudWxsO1xuICAgIHJlbW92ZUZyb21BcnJheShlbWJlZGRlZFZpZXdzLCB2aWV3SW5kZXgpO1xuICAgIC8vIFNlZSBhdHRhY2hQcm9qZWN0ZWRWaWV3IGZvciB3aHkgd2UgZG9uJ3QgdXBkYXRlIHByb2plY3RlZFZpZXdzIGhlcmUuXG4gICAgU2VydmljZXMuZGlydHlQYXJlbnRRdWVyaWVzKHZpZXcpO1xuICAgIHJlbmRlckRldGFjaFZpZXcodmlldyk7XG4gICAgcmV0dXJuIHZpZXc7XG59XG4vKipcbiAqIEBwYXJhbSB7P30gdmlld1xuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gZGV0YWNoUHJvamVjdGVkVmlldyh2aWV3KSB7XG4gICAgaWYgKCEodmlldy5zdGF0ZSAmIDE2IC8qIElzUHJvamVjdGVkVmlldyAqLykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBkdmNFbGVtZW50RGF0YSA9IGRlY2xhcmVkVmlld0NvbnRhaW5lcih2aWV3KTtcbiAgICBpZiAoZHZjRWxlbWVudERhdGEpIHtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcHJvamVjdGVkVmlld3MgPSBkdmNFbGVtZW50RGF0YS50ZW1wbGF0ZS5fcHJvamVjdGVkVmlld3M7XG4gICAgICAgIGlmIChwcm9qZWN0ZWRWaWV3cykge1xuICAgICAgICAgICAgcmVtb3ZlRnJvbUFycmF5KHByb2plY3RlZFZpZXdzLCBwcm9qZWN0ZWRWaWV3cy5pbmRleE9mKHZpZXcpKTtcbiAgICAgICAgICAgIFNlcnZpY2VzLmRpcnR5UGFyZW50UXVlcmllcyh2aWV3KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQHBhcmFtIHs/fSBlbGVtZW50RGF0YVxuICogQHBhcmFtIHs/fSBvbGRWaWV3SW5kZXhcbiAqIEBwYXJhbSB7P30gbmV3Vmlld0luZGV4XG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBtb3ZlRW1iZWRkZWRWaWV3KGVsZW1lbnREYXRhLCBvbGRWaWV3SW5kZXgsIG5ld1ZpZXdJbmRleCkge1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIGVtYmVkZGVkVmlld3MgPSAoKGVsZW1lbnREYXRhLnZpZXdDb250YWluZXIpKS5fZW1iZWRkZWRWaWV3cztcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyB2aWV3ID0gZW1iZWRkZWRWaWV3c1tvbGRWaWV3SW5kZXhdO1xuICAgIHJlbW92ZUZyb21BcnJheShlbWJlZGRlZFZpZXdzLCBvbGRWaWV3SW5kZXgpO1xuICAgIGlmIChuZXdWaWV3SW5kZXggPT0gbnVsbCkge1xuICAgICAgICBuZXdWaWV3SW5kZXggPSBlbWJlZGRlZFZpZXdzLmxlbmd0aDtcbiAgICB9XG4gICAgYWRkVG9BcnJheShlbWJlZGRlZFZpZXdzLCBuZXdWaWV3SW5kZXgsIHZpZXcpO1xuICAgIC8vIE5vdGU6IERvbid0IG5lZWQgdG8gY2hhbmdlIHByb2plY3RlZFZpZXdzIGFzIHRoZSBvcmRlciBpbiB0aGVyZVxuICAgIC8vIGFzIGFsd2F5cyBpbnZhbGlkLi4uXG4gICAgU2VydmljZXMuZGlydHlQYXJlbnRRdWVyaWVzKHZpZXcpO1xuICAgIHJlbmRlckRldGFjaFZpZXcodmlldyk7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcHJldlZpZXcgPSBuZXdWaWV3SW5kZXggPiAwID8gZW1iZWRkZWRWaWV3c1tuZXdWaWV3SW5kZXggLSAxXSA6IG51bGw7XG4gICAgcmVuZGVyQXR0YWNoRW1iZWRkZWRWaWV3KGVsZW1lbnREYXRhLCBwcmV2Vmlldywgdmlldyk7XG4gICAgcmV0dXJuIHZpZXc7XG59XG4vKipcbiAqIEBwYXJhbSB7P30gZWxlbWVudERhdGFcbiAqIEBwYXJhbSB7P30gcHJldlZpZXdcbiAqIEBwYXJhbSB7P30gdmlld1xuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gcmVuZGVyQXR0YWNoRW1iZWRkZWRWaWV3KGVsZW1lbnREYXRhLCBwcmV2Vmlldywgdmlldykge1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIHByZXZSZW5kZXJOb2RlID0gcHJldlZpZXcgPyByZW5kZXJOb2RlKHByZXZWaWV3LCAvKiogQHR5cGUgez99ICovICgocHJldlZpZXcuZGVmLmxhc3RSZW5kZXJSb290Tm9kZSkpKSA6XG4gICAgICAgIGVsZW1lbnREYXRhLnJlbmRlckVsZW1lbnQ7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcGFyZW50Tm9kZSA9IHZpZXcucmVuZGVyZXIucGFyZW50Tm9kZShwcmV2UmVuZGVyTm9kZSk7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gbmV4dFNpYmxpbmcgPSB2aWV3LnJlbmRlcmVyLm5leHRTaWJsaW5nKHByZXZSZW5kZXJOb2RlKTtcbiAgICAvLyBOb3RlOiBXZSBjYW4ndCBjaGVjayBpZiBgbmV4dFNpYmxpbmdgIGlzIHByZXNlbnQsIGFzIG9uIFdlYldvcmtlcnMgaXQgd2lsbCBhbHdheXMgYmUhXG4gICAgLy8gSG93ZXZlciwgYnJvd3NlcnMgYXV0b21hdGljYWxseSBkbyBgYXBwZW5kQ2hpbGRgIHdoZW4gdGhlcmUgaXMgbm8gYG5leHRTaWJsaW5nYC5cbiAgICB2aXNpdFJvb3RSZW5kZXJOb2Rlcyh2aWV3LCAyIC8qIEluc2VydEJlZm9yZSAqLywgcGFyZW50Tm9kZSwgbmV4dFNpYmxpbmcsIHVuZGVmaW5lZCk7XG59XG4vKipcbiAqIEBwYXJhbSB7P30gdmlld1xuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gcmVuZGVyRGV0YWNoVmlldyh2aWV3KSB7XG4gICAgdmlzaXRSb290UmVuZGVyTm9kZXModmlldywgMyAvKiBSZW1vdmVDaGlsZCAqLywgbnVsbCwgbnVsbCwgdW5kZWZpbmVkKTtcbn1cbi8qKlxuICogQHBhcmFtIHs/fSBhcnJcbiAqIEBwYXJhbSB7P30gaW5kZXhcbiAqIEBwYXJhbSB7P30gdmFsdWVcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGFkZFRvQXJyYXkoYXJyLCBpbmRleCwgdmFsdWUpIHtcbiAgICAvLyBwZXJmOiBhcnJheS5wdXNoIGlzIGZhc3RlciB0aGFuIGFycmF5LnNwbGljZSFcbiAgICBpZiAoaW5kZXggPj0gYXJyLmxlbmd0aCkge1xuICAgICAgICBhcnIucHVzaCh2YWx1ZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBhcnIuc3BsaWNlKGluZGV4LCAwLCB2YWx1ZSk7XG4gICAgfVxufVxuLyoqXG4gKiBAcGFyYW0gez99IGFyclxuICogQHBhcmFtIHs/fSBpbmRleFxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gcmVtb3ZlRnJvbUFycmF5KGFyciwgaW5kZXgpIHtcbiAgICAvLyBwZXJmOiBhcnJheS5wb3AgaXMgZmFzdGVyIHRoYW4gYXJyYXkuc3BsaWNlIVxuICAgIGlmIChpbmRleCA+PSBhcnIubGVuZ3RoIC0gMSkge1xuICAgICAgICBhcnIucG9wKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBhcnIuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG59XG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG52YXIgRU1QVFlfQ09OVEVYVCA9IG5ldyBPYmplY3QoKTtcbi8qKlxuICogQHBhcmFtIHs/fSBzZWxlY3RvclxuICogQHBhcmFtIHs/fSBjb21wb25lbnRUeXBlXG4gKiBAcGFyYW0gez99IHZpZXdEZWZGYWN0b3J5XG4gKiBAcGFyYW0gez99IGlucHV0c1xuICogQHBhcmFtIHs/fSBvdXRwdXRzXG4gKiBAcGFyYW0gez99IG5nQ29udGVudFNlbGVjdG9yc1xuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gY3JlYXRlQ29tcG9uZW50RmFjdG9yeShzZWxlY3RvciwgY29tcG9uZW50VHlwZSwgdmlld0RlZkZhY3RvcnksIGlucHV0cywgb3V0cHV0cywgbmdDb250ZW50U2VsZWN0b3JzKSB7XG4gICAgcmV0dXJuIG5ldyBDb21wb25lbnRGYWN0b3J5XyhzZWxlY3RvciwgY29tcG9uZW50VHlwZSwgdmlld0RlZkZhY3RvcnksIGlucHV0cywgb3V0cHV0cywgbmdDb250ZW50U2VsZWN0b3JzKTtcbn1cbi8qKlxuICogQHBhcmFtIHs/fSBjb21wb25lbnRGYWN0b3J5XG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBnZXRDb21wb25lbnRWaWV3RGVmaW5pdGlvbkZhY3RvcnkoY29tcG9uZW50RmFjdG9yeSkge1xuICAgIHJldHVybiAoKGNvbXBvbmVudEZhY3RvcnkpKS52aWV3RGVmRmFjdG9yeTtcbn1cbnZhciBDb21wb25lbnRGYWN0b3J5XyA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENvbXBvbmVudEZhY3RvcnlfLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gc2VsZWN0b3JcbiAgICAgKiBAcGFyYW0gez99IGNvbXBvbmVudFR5cGVcbiAgICAgKiBAcGFyYW0gez99IHZpZXdEZWZGYWN0b3J5XG4gICAgICogQHBhcmFtIHs/fSBfaW5wdXRzXG4gICAgICogQHBhcmFtIHs/fSBfb3V0cHV0c1xuICAgICAqIEBwYXJhbSB7P30gbmdDb250ZW50U2VsZWN0b3JzXG4gICAgICovXG4gICAgZnVuY3Rpb24gQ29tcG9uZW50RmFjdG9yeV8oc2VsZWN0b3IsIGNvbXBvbmVudFR5cGUsIHZpZXdEZWZGYWN0b3J5LCBfaW5wdXRzLCBfb3V0cHV0cywgbmdDb250ZW50U2VsZWN0b3JzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IFxuICAgICAgICAvLyBBdHRlbnRpb246IHRoaXMgY3RvciBpcyBjYWxsZWQgYXMgdG9wIGxldmVsIGZ1bmN0aW9uLlxuICAgICAgICAvLyBQdXR0aW5nIGFueSBsb2dpYyBpbiBoZXJlIHdpbGwgZGVzdHJveSBjbG9zdXJlIHRyZWUgc2hha2luZyFcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc2VsZWN0b3IgPSBzZWxlY3RvcjtcbiAgICAgICAgX3RoaXMuY29tcG9uZW50VHlwZSA9IGNvbXBvbmVudFR5cGU7XG4gICAgICAgIF90aGlzLl9pbnB1dHMgPSBfaW5wdXRzO1xuICAgICAgICBfdGhpcy5fb3V0cHV0cyA9IF9vdXRwdXRzO1xuICAgICAgICBfdGhpcy5uZ0NvbnRlbnRTZWxlY3RvcnMgPSBuZ0NvbnRlbnRTZWxlY3RvcnM7XG4gICAgICAgIF90aGlzLnZpZXdEZWZGYWN0b3J5ID0gdmlld0RlZkZhY3Rvcnk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbXBvbmVudEZhY3RvcnlfLnByb3RvdHlwZSwgXCJpbnB1dHNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybiB7P31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gaW5wdXRzQXJyID0gW107XG4gICAgICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBpbnB1dHMgPSAoKHRoaXMuX2lucHV0cykpO1xuICAgICAgICAgICAgZm9yICh2YXIgLyoqIEB0eXBlIHs/fSAqLyBwcm9wTmFtZSBpbiBpbnB1dHMpIHtcbiAgICAgICAgICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyB0ZW1wbGF0ZU5hbWUgPSBpbnB1dHNbcHJvcE5hbWVdO1xuICAgICAgICAgICAgICAgIGlucHV0c0Fyci5wdXNoKHsgcHJvcE5hbWU6IHByb3BOYW1lLCB0ZW1wbGF0ZU5hbWU6IHRlbXBsYXRlTmFtZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpbnB1dHNBcnI7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb21wb25lbnRGYWN0b3J5Xy5wcm90b3R5cGUsIFwib3V0cHV0c1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBvdXRwdXRzQXJyID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciAvKiogQHR5cGUgez99ICovIHByb3BOYW1lIGluIHRoaXMuX291dHB1dHMpIHtcbiAgICAgICAgICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyB0ZW1wbGF0ZU5hbWUgPSB0aGlzLl9vdXRwdXRzW3Byb3BOYW1lXTtcbiAgICAgICAgICAgICAgICBvdXRwdXRzQXJyLnB1c2goeyBwcm9wTmFtZTogcHJvcE5hbWUsIHRlbXBsYXRlTmFtZTogdGVtcGxhdGVOYW1lIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG91dHB1dHNBcnI7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgY29tcG9uZW50LlxuICAgICAqIEBwYXJhbSB7P30gaW5qZWN0b3JcbiAgICAgKiBAcGFyYW0gez89fSBwcm9qZWN0YWJsZU5vZGVzXG4gICAgICogQHBhcmFtIHs/PX0gcm9vdFNlbGVjdG9yT3JOb2RlXG4gICAgICogQHBhcmFtIHs/PX0gbmdNb2R1bGVcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIENvbXBvbmVudEZhY3RvcnlfLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbiAoaW5qZWN0b3IsIHByb2plY3RhYmxlTm9kZXMsIHJvb3RTZWxlY3Rvck9yTm9kZSwgbmdNb2R1bGUpIHtcbiAgICAgICAgaWYgKCFuZ01vZHVsZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCduZ01vZHVsZSBzaG91bGQgYmUgcHJvdmlkZWQnKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyB2aWV3RGVmID0gcmVzb2x2ZURlZmluaXRpb24odGhpcy52aWV3RGVmRmFjdG9yeSk7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGNvbXBvbmVudE5vZGVJbmRleCA9ICgoKCh2aWV3RGVmLm5vZGVzWzBdLmVsZW1lbnQpKS5jb21wb25lbnRQcm92aWRlcikpLm5vZGVJbmRleDtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gdmlldyA9IFNlcnZpY2VzLmNyZWF0ZVJvb3RWaWV3KGluamVjdG9yLCBwcm9qZWN0YWJsZU5vZGVzIHx8IFtdLCByb290U2VsZWN0b3JPck5vZGUsIHZpZXdEZWYsIG5nTW9kdWxlLCBFTVBUWV9DT05URVhUKTtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gY29tcG9uZW50ID0gYXNQcm92aWRlckRhdGEodmlldywgY29tcG9uZW50Tm9kZUluZGV4KS5pbnN0YW5jZTtcbiAgICAgICAgaWYgKHJvb3RTZWxlY3Rvck9yTm9kZSkge1xuICAgICAgICAgICAgdmlldy5yZW5kZXJlci5zZXRBdHRyaWJ1dGUoYXNFbGVtZW50RGF0YSh2aWV3LCAwKS5yZW5kZXJFbGVtZW50LCAnbmctdmVyc2lvbicsIFZFUlNJT04uZnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBDb21wb25lbnRSZWZfKHZpZXcsIG5ldyBWaWV3UmVmXyh2aWV3KSwgY29tcG9uZW50KTtcbiAgICB9O1xuICAgIHJldHVybiBDb21wb25lbnRGYWN0b3J5Xztcbn0oQ29tcG9uZW50RmFjdG9yeSkpO1xudmFyIENvbXBvbmVudFJlZl8gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDb21wb25lbnRSZWZfLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gX3ZpZXdcbiAgICAgKiBAcGFyYW0gez99IF92aWV3UmVmXG4gICAgICogQHBhcmFtIHs/fSBfY29tcG9uZW50XG4gICAgICovXG4gICAgZnVuY3Rpb24gQ29tcG9uZW50UmVmXyhfdmlldywgX3ZpZXdSZWYsIF9jb21wb25lbnQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX3ZpZXcgPSBfdmlldztcbiAgICAgICAgX3RoaXMuX3ZpZXdSZWYgPSBfdmlld1JlZjtcbiAgICAgICAgX3RoaXMuX2NvbXBvbmVudCA9IF9jb21wb25lbnQ7XG4gICAgICAgIF90aGlzLl9lbERlZiA9IF90aGlzLl92aWV3LmRlZi5ub2Rlc1swXTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29tcG9uZW50UmVmXy5wcm90b3R5cGUsIFwibG9jYXRpb25cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybiB7P31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBFbGVtZW50UmVmKGFzRWxlbWVudERhdGEodGhpcy5fdmlldywgdGhpcy5fZWxEZWYubm9kZUluZGV4KS5yZW5kZXJFbGVtZW50KTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbXBvbmVudFJlZl8ucHJvdG90eXBlLCBcImluamVjdG9yXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm4gez99XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5ldyBJbmplY3Rvcl8odGhpcy5fdmlldywgdGhpcy5fZWxEZWYpOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29tcG9uZW50UmVmXy5wcm90b3R5cGUsIFwiaW5zdGFuY2VcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybiB7P31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fY29tcG9uZW50OyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29tcG9uZW50UmVmXy5wcm90b3R5cGUsIFwiaG9zdFZpZXdcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybiB7P31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fdmlld1JlZjsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbXBvbmVudFJlZl8ucHJvdG90eXBlLCBcImNoYW5nZURldGVjdG9yUmVmXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm4gez99XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX3ZpZXdSZWY7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb21wb25lbnRSZWZfLnByb3RvdHlwZSwgXCJjb21wb25lbnRUeXBlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm4gez99XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuICh0aGlzLl9jb21wb25lbnQuY29uc3RydWN0b3IpOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIENvbXBvbmVudFJlZl8ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7IHRoaXMuX3ZpZXdSZWYuZGVzdHJveSgpOyB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gY2FsbGJhY2tcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIENvbXBvbmVudFJlZl8ucHJvdG90eXBlLm9uRGVzdHJveSA9IGZ1bmN0aW9uIChjYWxsYmFjaykgeyB0aGlzLl92aWV3UmVmLm9uRGVzdHJveShjYWxsYmFjayk7IH07XG4gICAgcmV0dXJuIENvbXBvbmVudFJlZl87XG59KENvbXBvbmVudFJlZikpO1xuLyoqXG4gKiBAcGFyYW0gez99IHZpZXdcbiAqIEBwYXJhbSB7P30gZWxEZWZcbiAqIEBwYXJhbSB7P30gZWxEYXRhXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBjcmVhdGVWaWV3Q29udGFpbmVyRGF0YSh2aWV3LCBlbERlZiwgZWxEYXRhKSB7XG4gICAgcmV0dXJuIG5ldyBWaWV3Q29udGFpbmVyUmVmXyh2aWV3LCBlbERlZiwgZWxEYXRhKTtcbn1cbnZhciBWaWV3Q29udGFpbmVyUmVmXyA9IChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBfdmlld1xuICAgICAqIEBwYXJhbSB7P30gX2VsRGVmXG4gICAgICogQHBhcmFtIHs/fSBfZGF0YVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFZpZXdDb250YWluZXJSZWZfKF92aWV3LCBfZWxEZWYsIF9kYXRhKSB7XG4gICAgICAgIHRoaXMuX3ZpZXcgPSBfdmlldztcbiAgICAgICAgdGhpcy5fZWxEZWYgPSBfZWxEZWY7XG4gICAgICAgIHRoaXMuX2RhdGEgPSBfZGF0YTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFxcQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9lbWJlZGRlZFZpZXdzID0gW107XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWaWV3Q29udGFpbmVyUmVmXy5wcm90b3R5cGUsIFwiZWxlbWVudFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgRWxlbWVudFJlZih0aGlzLl9kYXRhLnJlbmRlckVsZW1lbnQpOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVmlld0NvbnRhaW5lclJlZl8ucHJvdG90eXBlLCBcImluamVjdG9yXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm4gez99XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5ldyBJbmplY3Rvcl8odGhpcy5fdmlldywgdGhpcy5fZWxEZWYpOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVmlld0NvbnRhaW5lclJlZl8ucHJvdG90eXBlLCBcInBhcmVudEluamVjdG9yXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm4gez99XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIHZpZXcgPSB0aGlzLl92aWV3O1xuICAgICAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gZWxEZWYgPSB0aGlzLl9lbERlZi5wYXJlbnQ7XG4gICAgICAgICAgICB3aGlsZSAoIWVsRGVmICYmIHZpZXcpIHtcbiAgICAgICAgICAgICAgICBlbERlZiA9IHZpZXdQYXJlbnRFbCh2aWV3KTtcbiAgICAgICAgICAgICAgICB2aWV3ID0gKCh2aWV3LnBhcmVudCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZpZXcgPyBuZXcgSW5qZWN0b3JfKHZpZXcsIGVsRGVmKSA6IG5ldyBJbmplY3Rvcl8odGhpcy5fdmlldywgbnVsbCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgVmlld0NvbnRhaW5lclJlZl8ucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBsZW4gPSB0aGlzLl9lbWJlZGRlZFZpZXdzLmxlbmd0aDtcbiAgICAgICAgZm9yICh2YXIgLyoqIEB0eXBlIHs/fSAqLyBpID0gbGVuIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIHZpZXcgPSAoKGRldGFjaEVtYmVkZGVkVmlldyh0aGlzLl9kYXRhLCBpKSkpO1xuICAgICAgICAgICAgU2VydmljZXMuZGVzdHJveVZpZXcodmlldyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gaW5kZXhcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFZpZXdDb250YWluZXJSZWZfLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gdmlldyA9IHRoaXMuX2VtYmVkZGVkVmlld3NbaW5kZXhdO1xuICAgICAgICBpZiAodmlldykge1xuICAgICAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcmVmID0gbmV3IFZpZXdSZWZfKHZpZXcpO1xuICAgICAgICAgICAgcmVmLmF0dGFjaFRvVmlld0NvbnRhaW5lclJlZih0aGlzKTtcbiAgICAgICAgICAgIHJldHVybiByZWY7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVmlld0NvbnRhaW5lclJlZl8ucHJvdG90eXBlLCBcImxlbmd0aFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9lbWJlZGRlZFZpZXdzLmxlbmd0aDsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQHRlbXBsYXRlIENcbiAgICAgKiBAcGFyYW0gez99IHRlbXBsYXRlUmVmXG4gICAgICogQHBhcmFtIHs/PX0gY29udGV4dFxuICAgICAqIEBwYXJhbSB7Pz19IGluZGV4XG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBWaWV3Q29udGFpbmVyUmVmXy5wcm90b3R5cGUuY3JlYXRlRW1iZWRkZWRWaWV3ID0gZnVuY3Rpb24gKHRlbXBsYXRlUmVmLCBjb250ZXh0LCBpbmRleCkge1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyB2aWV3UmVmID0gdGVtcGxhdGVSZWYuY3JlYXRlRW1iZWRkZWRWaWV3KGNvbnRleHQgfHwgKHt9KSk7XG4gICAgICAgIHRoaXMuaW5zZXJ0KHZpZXdSZWYsIGluZGV4KTtcbiAgICAgICAgcmV0dXJuIHZpZXdSZWY7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAdGVtcGxhdGUgQ1xuICAgICAqIEBwYXJhbSB7P30gY29tcG9uZW50RmFjdG9yeVxuICAgICAqIEBwYXJhbSB7Pz19IGluZGV4XG4gICAgICogQHBhcmFtIHs/PX0gaW5qZWN0b3JcbiAgICAgKiBAcGFyYW0gez89fSBwcm9qZWN0YWJsZU5vZGVzXG4gICAgICogQHBhcmFtIHs/PX0gbmdNb2R1bGVSZWZcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFZpZXdDb250YWluZXJSZWZfLnByb3RvdHlwZS5jcmVhdGVDb21wb25lbnQgPSBmdW5jdGlvbiAoY29tcG9uZW50RmFjdG9yeSwgaW5kZXgsIGluamVjdG9yLCBwcm9qZWN0YWJsZU5vZGVzLCBuZ01vZHVsZVJlZikge1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBjb250ZXh0SW5qZWN0b3IgPSBpbmplY3RvciB8fCB0aGlzLnBhcmVudEluamVjdG9yO1xuICAgICAgICBpZiAoIW5nTW9kdWxlUmVmICYmICEoY29tcG9uZW50RmFjdG9yeSBpbnN0YW5jZW9mIENvbXBvbmVudEZhY3RvcnlCb3VuZFRvTW9kdWxlKSkge1xuICAgICAgICAgICAgbmdNb2R1bGVSZWYgPSBjb250ZXh0SW5qZWN0b3IuZ2V0KE5nTW9kdWxlUmVmKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBjb21wb25lbnRSZWYgPSBjb21wb25lbnRGYWN0b3J5LmNyZWF0ZShjb250ZXh0SW5qZWN0b3IsIHByb2plY3RhYmxlTm9kZXMsIHVuZGVmaW5lZCwgbmdNb2R1bGVSZWYpO1xuICAgICAgICB0aGlzLmluc2VydChjb21wb25lbnRSZWYuaG9zdFZpZXcsIGluZGV4KTtcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudFJlZjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gdmlld1JlZlxuICAgICAqIEBwYXJhbSB7Pz19IGluZGV4XG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBWaWV3Q29udGFpbmVyUmVmXy5wcm90b3R5cGUuaW5zZXJ0ID0gZnVuY3Rpb24gKHZpZXdSZWYsIGluZGV4KSB7XG4gICAgICAgIGlmICh2aWV3UmVmLmRlc3Ryb3llZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaW5zZXJ0IGEgZGVzdHJveWVkIFZpZXcgaW4gYSBWaWV3Q29udGFpbmVyIScpO1xuICAgICAgICB9XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIHZpZXdSZWZfID0gKHZpZXdSZWYpO1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyB2aWV3RGF0YSA9IHZpZXdSZWZfLl92aWV3O1xuICAgICAgICBhdHRhY2hFbWJlZGRlZFZpZXcodGhpcy5fdmlldywgdGhpcy5fZGF0YSwgaW5kZXgsIHZpZXdEYXRhKTtcbiAgICAgICAgdmlld1JlZl8uYXR0YWNoVG9WaWV3Q29udGFpbmVyUmVmKHRoaXMpO1xuICAgICAgICByZXR1cm4gdmlld1JlZjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gdmlld1JlZlxuICAgICAqIEBwYXJhbSB7P30gY3VycmVudEluZGV4XG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBWaWV3Q29udGFpbmVyUmVmXy5wcm90b3R5cGUubW92ZSA9IGZ1bmN0aW9uICh2aWV3UmVmLCBjdXJyZW50SW5kZXgpIHtcbiAgICAgICAgaWYgKHZpZXdSZWYuZGVzdHJveWVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBtb3ZlIGEgZGVzdHJveWVkIFZpZXcgaW4gYSBWaWV3Q29udGFpbmVyIScpO1xuICAgICAgICB9XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIHByZXZpb3VzSW5kZXggPSB0aGlzLl9lbWJlZGRlZFZpZXdzLmluZGV4T2Yodmlld1JlZi5fdmlldyk7XG4gICAgICAgIG1vdmVFbWJlZGRlZFZpZXcodGhpcy5fZGF0YSwgcHJldmlvdXNJbmRleCwgY3VycmVudEluZGV4KTtcbiAgICAgICAgcmV0dXJuIHZpZXdSZWY7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IHZpZXdSZWZcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFZpZXdDb250YWluZXJSZWZfLnByb3RvdHlwZS5pbmRleE9mID0gZnVuY3Rpb24gKHZpZXdSZWYpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VtYmVkZGVkVmlld3MuaW5kZXhPZigoKHZpZXdSZWYpKS5fdmlldyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez89fSBpbmRleFxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgVmlld0NvbnRhaW5lclJlZl8ucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyB2aWV3RGF0YSA9IGRldGFjaEVtYmVkZGVkVmlldyh0aGlzLl9kYXRhLCBpbmRleCk7XG4gICAgICAgIGlmICh2aWV3RGF0YSkge1xuICAgICAgICAgICAgU2VydmljZXMuZGVzdHJveVZpZXcodmlld0RhdGEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez89fSBpbmRleFxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgVmlld0NvbnRhaW5lclJlZl8ucHJvdG90eXBlLmRldGFjaCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyB2aWV3ID0gZGV0YWNoRW1iZWRkZWRWaWV3KHRoaXMuX2RhdGEsIGluZGV4KTtcbiAgICAgICAgcmV0dXJuIHZpZXcgPyBuZXcgVmlld1JlZl8odmlldykgOiBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIFZpZXdDb250YWluZXJSZWZfO1xufSgpKTtcbi8qKlxuICogQHBhcmFtIHs/fSB2aWV3XG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBjcmVhdGVDaGFuZ2VEZXRlY3RvclJlZih2aWV3KSB7XG4gICAgcmV0dXJuIG5ldyBWaWV3UmVmXyh2aWV3KTtcbn1cbnZhciBWaWV3UmVmXyA9IChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBfdmlld1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFZpZXdSZWZfKF92aWV3KSB7XG4gICAgICAgIHRoaXMuX3ZpZXcgPSBfdmlldztcbiAgICAgICAgdGhpcy5fdmlld0NvbnRhaW5lclJlZiA9IG51bGw7XG4gICAgICAgIHRoaXMuX2FwcFJlZiA9IG51bGw7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWaWV3UmVmXy5wcm90b3R5cGUsIFwicm9vdE5vZGVzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm4gez99XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJvb3RSZW5kZXJOb2Rlcyh0aGlzLl92aWV3KTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZpZXdSZWZfLnByb3RvdHlwZSwgXCJjb250ZXh0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm4gez99XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX3ZpZXcuY29udGV4dDsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZpZXdSZWZfLnByb3RvdHlwZSwgXCJkZXN0cm95ZWRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybiB7P31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gKHRoaXMuX3ZpZXcuc3RhdGUgJiAxMjggLyogRGVzdHJveWVkICovKSAhPT0gMDsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBWaWV3UmVmXy5wcm90b3R5cGUubWFya0ZvckNoZWNrID0gZnVuY3Rpb24gKCkgeyBtYXJrUGFyZW50Vmlld3NGb3JDaGVjayh0aGlzLl92aWV3KTsgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFZpZXdSZWZfLnByb3RvdHlwZS5kZXRhY2ggPSBmdW5jdGlvbiAoKSB7IHRoaXMuX3ZpZXcuc3RhdGUgJj0gfjQgLyogQXR0YWNoZWQgKi87IH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBWaWV3UmVmXy5wcm90b3R5cGUuZGV0ZWN0Q2hhbmdlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gZnMgPSB0aGlzLl92aWV3LnJvb3QucmVuZGVyZXJGYWN0b3J5O1xuICAgICAgICBpZiAoZnMuYmVnaW4pIHtcbiAgICAgICAgICAgIGZzLmJlZ2luKCk7XG4gICAgICAgIH1cbiAgICAgICAgU2VydmljZXMuY2hlY2tBbmRVcGRhdGVWaWV3KHRoaXMuX3ZpZXcpO1xuICAgICAgICBpZiAoZnMuZW5kKSB7XG4gICAgICAgICAgICBmcy5lbmQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBWaWV3UmVmXy5wcm90b3R5cGUuY2hlY2tOb0NoYW5nZXMgPSBmdW5jdGlvbiAoKSB7IFNlcnZpY2VzLmNoZWNrTm9DaGFuZ2VzVmlldyh0aGlzLl92aWV3KTsgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFZpZXdSZWZfLnByb3RvdHlwZS5yZWF0dGFjaCA9IGZ1bmN0aW9uICgpIHsgdGhpcy5fdmlldy5zdGF0ZSB8PSA0IC8qIEF0dGFjaGVkICovOyB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gY2FsbGJhY2tcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFZpZXdSZWZfLnByb3RvdHlwZS5vbkRlc3Ryb3kgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKCF0aGlzLl92aWV3LmRpc3Bvc2FibGVzKSB7XG4gICAgICAgICAgICB0aGlzLl92aWV3LmRpc3Bvc2FibGVzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdmlldy5kaXNwb3NhYmxlcy5wdXNoKC8qKiBAdHlwZSB7P30gKi8gKGNhbGxiYWNrKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFZpZXdSZWZfLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fYXBwUmVmKSB7XG4gICAgICAgICAgICB0aGlzLl9hcHBSZWYuZGV0YWNoVmlldyh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLl92aWV3Q29udGFpbmVyUmVmKSB7XG4gICAgICAgICAgICB0aGlzLl92aWV3Q29udGFpbmVyUmVmLmRldGFjaCh0aGlzLl92aWV3Q29udGFpbmVyUmVmLmluZGV4T2YodGhpcykpO1xuICAgICAgICB9XG4gICAgICAgIFNlcnZpY2VzLmRlc3Ryb3lWaWV3KHRoaXMuX3ZpZXcpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBWaWV3UmVmXy5wcm90b3R5cGUuZGV0YWNoRnJvbUFwcFJlZiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fYXBwUmVmID0gbnVsbDtcbiAgICAgICAgcmVuZGVyRGV0YWNoVmlldyh0aGlzLl92aWV3KTtcbiAgICAgICAgU2VydmljZXMuZGlydHlQYXJlbnRRdWVyaWVzKHRoaXMuX3ZpZXcpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBhcHBSZWZcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFZpZXdSZWZfLnByb3RvdHlwZS5hdHRhY2hUb0FwcFJlZiA9IGZ1bmN0aW9uIChhcHBSZWYpIHtcbiAgICAgICAgaWYgKHRoaXMuX3ZpZXdDb250YWluZXJSZWYpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhpcyB2aWV3IGlzIGFscmVhZHkgYXR0YWNoZWQgdG8gYSBWaWV3Q29udGFpbmVyIScpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2FwcFJlZiA9IGFwcFJlZjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gdmNSZWZcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFZpZXdSZWZfLnByb3RvdHlwZS5hdHRhY2hUb1ZpZXdDb250YWluZXJSZWYgPSBmdW5jdGlvbiAodmNSZWYpIHtcbiAgICAgICAgaWYgKHRoaXMuX2FwcFJlZikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGlzIHZpZXcgaXMgYWxyZWFkeSBhdHRhY2hlZCBkaXJlY3RseSB0byB0aGUgQXBwbGljYXRpb25SZWYhJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdmlld0NvbnRhaW5lclJlZiA9IHZjUmVmO1xuICAgIH07XG4gICAgcmV0dXJuIFZpZXdSZWZfO1xufSgpKTtcbi8qKlxuICogQHBhcmFtIHs/fSB2aWV3XG4gKiBAcGFyYW0gez99IGRlZlxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gY3JlYXRlVGVtcGxhdGVEYXRhKHZpZXcsIGRlZikge1xuICAgIHJldHVybiBuZXcgVGVtcGxhdGVSZWZfKHZpZXcsIGRlZik7XG59XG52YXIgVGVtcGxhdGVSZWZfID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVGVtcGxhdGVSZWZfLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gX3BhcmVudFZpZXdcbiAgICAgKiBAcGFyYW0gez99IF9kZWZcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUZW1wbGF0ZVJlZl8oX3BhcmVudFZpZXcsIF9kZWYpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX3BhcmVudFZpZXcgPSBfcGFyZW50VmlldztcbiAgICAgICAgX3RoaXMuX2RlZiA9IF9kZWY7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBjb250ZXh0XG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBUZW1wbGF0ZVJlZl8ucHJvdG90eXBlLmNyZWF0ZUVtYmVkZGVkVmlldyA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBuZXcgVmlld1JlZl8oU2VydmljZXMuY3JlYXRlRW1iZWRkZWRWaWV3KHRoaXMuX3BhcmVudFZpZXcsIHRoaXMuX2RlZiwgLyoqIEB0eXBlIHs/fSAqLyAoKCgodGhpcy5fZGVmLmVsZW1lbnQpKS50ZW1wbGF0ZSkpLCBjb250ZXh0KSk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGVtcGxhdGVSZWZfLnByb3RvdHlwZSwgXCJlbGVtZW50UmVmXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm4gez99XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRWxlbWVudFJlZihhc0VsZW1lbnREYXRhKHRoaXMuX3BhcmVudFZpZXcsIHRoaXMuX2RlZi5ub2RlSW5kZXgpLnJlbmRlckVsZW1lbnQpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gVGVtcGxhdGVSZWZfO1xufShUZW1wbGF0ZVJlZikpO1xuLyoqXG4gKiBAcGFyYW0gez99IHZpZXdcbiAqIEBwYXJhbSB7P30gZWxEZWZcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUluamVjdG9yKHZpZXcsIGVsRGVmKSB7XG4gICAgcmV0dXJuIG5ldyBJbmplY3Rvcl8odmlldywgZWxEZWYpO1xufVxudmFyIEluamVjdG9yXyA9IChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSB2aWV3XG4gICAgICogQHBhcmFtIHs/fSBlbERlZlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEluamVjdG9yXyh2aWV3LCBlbERlZikge1xuICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgICAgICB0aGlzLmVsRGVmID0gZWxEZWY7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gdG9rZW5cbiAgICAgKiBAcGFyYW0gez89fSBub3RGb3VuZFZhbHVlXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBJbmplY3Rvcl8ucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uICh0b2tlbiwgbm90Rm91bmRWYWx1ZSkge1xuICAgICAgICBpZiAobm90Rm91bmRWYWx1ZSA9PT0gdm9pZCAwKSB7IG5vdEZvdW5kVmFsdWUgPSBJbmplY3Rvci5USFJPV19JRl9OT1RfRk9VTkQ7IH1cbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gYWxsb3dQcml2YXRlU2VydmljZXMgPSB0aGlzLmVsRGVmID8gKHRoaXMuZWxEZWYuZmxhZ3MgJiAzMzU1NDQzMiAvKiBDb21wb25lbnRWaWV3ICovKSAhPT0gMCA6IGZhbHNlO1xuICAgICAgICByZXR1cm4gU2VydmljZXMucmVzb2x2ZURlcCh0aGlzLnZpZXcsIHRoaXMuZWxEZWYsIGFsbG93UHJpdmF0ZVNlcnZpY2VzLCB7IGZsYWdzOiAwIC8qIE5vbmUgKi8sIHRva2VuOiB0b2tlbiwgdG9rZW5LZXk6IHRva2VuS2V5KHRva2VuKSB9LCBub3RGb3VuZFZhbHVlKTtcbiAgICB9O1xuICAgIHJldHVybiBJbmplY3Rvcl87XG59KCkpO1xuLyoqXG4gKiBAcGFyYW0gez99IHZpZXdcbiAqIEBwYXJhbSB7P30gaW5kZXhcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIG5vZGVWYWx1ZSh2aWV3LCBpbmRleCkge1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIGRlZiA9IHZpZXcuZGVmLm5vZGVzW2luZGV4XTtcbiAgICBpZiAoZGVmLmZsYWdzICYgMSAvKiBUeXBlRWxlbWVudCAqLykge1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBlbERhdGEgPSBhc0VsZW1lbnREYXRhKHZpZXcsIGRlZi5ub2RlSW5kZXgpO1xuICAgICAgICByZXR1cm4gKChkZWYuZWxlbWVudCkpLnRlbXBsYXRlID8gZWxEYXRhLnRlbXBsYXRlIDogZWxEYXRhLnJlbmRlckVsZW1lbnQ7XG4gICAgfVxuICAgIGVsc2UgaWYgKGRlZi5mbGFncyAmIDIgLyogVHlwZVRleHQgKi8pIHtcbiAgICAgICAgcmV0dXJuIGFzVGV4dERhdGEodmlldywgZGVmLm5vZGVJbmRleCkucmVuZGVyVGV4dDtcbiAgICB9XG4gICAgZWxzZSBpZiAoZGVmLmZsYWdzICYgKDIwMjI0IC8qIENhdFByb3ZpZGVyICovIHwgMTYgLyogVHlwZVBpcGUgKi8pKSB7XG4gICAgICAgIHJldHVybiBhc1Byb3ZpZGVyRGF0YSh2aWV3LCBkZWYubm9kZUluZGV4KS5pbnN0YW5jZTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSWxsZWdhbCBzdGF0ZTogcmVhZCBub2RlVmFsdWUgZm9yIG5vZGUgaW5kZXggXCIgKyBpbmRleCk7XG59XG4vKipcbiAqIEBwYXJhbSB7P30gdmlld1xuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gY3JlYXRlUmVuZGVyZXJWMSh2aWV3KSB7XG4gICAgcmV0dXJuIG5ldyBSZW5kZXJlckFkYXB0ZXIodmlldy5yZW5kZXJlcik7XG59XG52YXIgUmVuZGVyZXJBZGFwdGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IGRlbGVnYXRlXG4gICAgICovXG4gICAgZnVuY3Rpb24gUmVuZGVyZXJBZGFwdGVyKGRlbGVnYXRlKSB7XG4gICAgICAgIHRoaXMuZGVsZWdhdGUgPSBkZWxlZ2F0ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBzZWxlY3Rvck9yTm9kZVxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgUmVuZGVyZXJBZGFwdGVyLnByb3RvdHlwZS5zZWxlY3RSb290RWxlbWVudCA9IGZ1bmN0aW9uIChzZWxlY3Rvck9yTm9kZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5kZWxlZ2F0ZS5zZWxlY3RSb290RWxlbWVudChzZWxlY3Rvck9yTm9kZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IHBhcmVudFxuICAgICAqIEBwYXJhbSB7P30gbmFtZXNwYWNlQW5kTmFtZVxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgUmVuZGVyZXJBZGFwdGVyLnByb3RvdHlwZS5jcmVhdGVFbGVtZW50ID0gZnVuY3Rpb24gKHBhcmVudCwgbmFtZXNwYWNlQW5kTmFtZSkge1xuICAgICAgICB2YXIgX2EgPSBzcGxpdE5hbWVzcGFjZShuYW1lc3BhY2VBbmROYW1lKSwgbnMgPSBfYVswXSwgbmFtZSA9IF9hWzFdO1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBlbCA9IHRoaXMuZGVsZWdhdGUuY3JlYXRlRWxlbWVudChuYW1lLCBucyk7XG4gICAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUuYXBwZW5kQ2hpbGQocGFyZW50LCBlbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBob3N0RWxlbWVudFxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgUmVuZGVyZXJBZGFwdGVyLnByb3RvdHlwZS5jcmVhdGVWaWV3Um9vdCA9IGZ1bmN0aW9uIChob3N0RWxlbWVudCkgeyByZXR1cm4gaG9zdEVsZW1lbnQ7IH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBwYXJlbnRFbGVtZW50XG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBSZW5kZXJlckFkYXB0ZXIucHJvdG90eXBlLmNyZWF0ZVRlbXBsYXRlQW5jaG9yID0gZnVuY3Rpb24gKHBhcmVudEVsZW1lbnQpIHtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gY29tbWVudCA9IHRoaXMuZGVsZWdhdGUuY3JlYXRlQ29tbWVudCgnJyk7XG4gICAgICAgIGlmIChwYXJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLmRlbGVnYXRlLmFwcGVuZENoaWxkKHBhcmVudEVsZW1lbnQsIGNvbW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb21tZW50O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBwYXJlbnRFbGVtZW50XG4gICAgICogQHBhcmFtIHs/fSB2YWx1ZVxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgUmVuZGVyZXJBZGFwdGVyLnByb3RvdHlwZS5jcmVhdGVUZXh0ID0gZnVuY3Rpb24gKHBhcmVudEVsZW1lbnQsIHZhbHVlKSB7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIG5vZGUgPSB0aGlzLmRlbGVnYXRlLmNyZWF0ZVRleHQodmFsdWUpO1xuICAgICAgICBpZiAocGFyZW50RWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5hcHBlbmRDaGlsZChwYXJlbnRFbGVtZW50LCBub2RlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gcGFyZW50RWxlbWVudFxuICAgICAqIEBwYXJhbSB7P30gbm9kZXNcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFJlbmRlcmVyQWRhcHRlci5wcm90b3R5cGUucHJvamVjdE5vZGVzID0gZnVuY3Rpb24gKHBhcmVudEVsZW1lbnQsIG5vZGVzKSB7XG4gICAgICAgIGZvciAodmFyIC8qKiBAdHlwZSB7P30gKi8gaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5hcHBlbmRDaGlsZChwYXJlbnRFbGVtZW50LCBub2Rlc1tpXSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gbm9kZVxuICAgICAqIEBwYXJhbSB7P30gdmlld1Jvb3ROb2Rlc1xuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgUmVuZGVyZXJBZGFwdGVyLnByb3RvdHlwZS5hdHRhY2hWaWV3QWZ0ZXIgPSBmdW5jdGlvbiAobm9kZSwgdmlld1Jvb3ROb2Rlcykge1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBwYXJlbnRFbGVtZW50ID0gdGhpcy5kZWxlZ2F0ZS5wYXJlbnROb2RlKG5vZGUpO1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBuZXh0U2libGluZyA9IHRoaXMuZGVsZWdhdGUubmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICAgIGZvciAodmFyIC8qKiBAdHlwZSB7P30gKi8gaSA9IDA7IGkgPCB2aWV3Um9vdE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmRlbGVnYXRlLmluc2VydEJlZm9yZShwYXJlbnRFbGVtZW50LCB2aWV3Um9vdE5vZGVzW2ldLCBuZXh0U2libGluZyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gdmlld1Jvb3ROb2Rlc1xuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgUmVuZGVyZXJBZGFwdGVyLnByb3RvdHlwZS5kZXRhY2hWaWV3ID0gZnVuY3Rpb24gKHZpZXdSb290Tm9kZXMpIHtcbiAgICAgICAgZm9yICh2YXIgLyoqIEB0eXBlIHs/fSAqLyBpID0gMDsgaSA8IHZpZXdSb290Tm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIG5vZGUgPSB2aWV3Um9vdE5vZGVzW2ldO1xuICAgICAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcGFyZW50RWxlbWVudCA9IHRoaXMuZGVsZWdhdGUucGFyZW50Tm9kZShub2RlKTtcbiAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUucmVtb3ZlQ2hpbGQocGFyZW50RWxlbWVudCwgbm9kZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gaG9zdEVsZW1lbnRcbiAgICAgKiBAcGFyYW0gez99IHZpZXdBbGxOb2Rlc1xuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgUmVuZGVyZXJBZGFwdGVyLnByb3RvdHlwZS5kZXN0cm95VmlldyA9IGZ1bmN0aW9uIChob3N0RWxlbWVudCwgdmlld0FsbE5vZGVzKSB7XG4gICAgICAgIGZvciAodmFyIC8qKiBAdHlwZSB7P30gKi8gaSA9IDA7IGkgPCB2aWV3QWxsTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICgodGhpcy5kZWxlZ2F0ZS5kZXN0cm95Tm9kZSkpKHZpZXdBbGxOb2Rlc1tpXSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gcmVuZGVyRWxlbWVudFxuICAgICAqIEBwYXJhbSB7P30gbmFtZVxuICAgICAqIEBwYXJhbSB7P30gY2FsbGJhY2tcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFJlbmRlcmVyQWRhcHRlci5wcm90b3R5cGUubGlzdGVuID0gZnVuY3Rpb24gKHJlbmRlckVsZW1lbnQsIG5hbWUsIGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRlbGVnYXRlLmxpc3RlbihyZW5kZXJFbGVtZW50LCBuYW1lLCAvKiogQHR5cGUgez99ICovIChjYWxsYmFjaykpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSB0YXJnZXRcbiAgICAgKiBAcGFyYW0gez99IG5hbWVcbiAgICAgKiBAcGFyYW0gez99IGNhbGxiYWNrXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBSZW5kZXJlckFkYXB0ZXIucHJvdG90eXBlLmxpc3Rlbkdsb2JhbCA9IGZ1bmN0aW9uICh0YXJnZXQsIG5hbWUsIGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRlbGVnYXRlLmxpc3Rlbih0YXJnZXQsIG5hbWUsIC8qKiBAdHlwZSB7P30gKi8gKGNhbGxiYWNrKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IHJlbmRlckVsZW1lbnRcbiAgICAgKiBAcGFyYW0gez99IHByb3BlcnR5TmFtZVxuICAgICAqIEBwYXJhbSB7P30gcHJvcGVydHlWYWx1ZVxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgUmVuZGVyZXJBZGFwdGVyLnByb3RvdHlwZS5zZXRFbGVtZW50UHJvcGVydHkgPSBmdW5jdGlvbiAocmVuZGVyRWxlbWVudCwgcHJvcGVydHlOYW1lLCBwcm9wZXJ0eVZhbHVlKSB7XG4gICAgICAgIHRoaXMuZGVsZWdhdGUuc2V0UHJvcGVydHkocmVuZGVyRWxlbWVudCwgcHJvcGVydHlOYW1lLCBwcm9wZXJ0eVZhbHVlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gcmVuZGVyRWxlbWVudFxuICAgICAqIEBwYXJhbSB7P30gbmFtZXNwYWNlQW5kTmFtZVxuICAgICAqIEBwYXJhbSB7P30gYXR0cmlidXRlVmFsdWVcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFJlbmRlcmVyQWRhcHRlci5wcm90b3R5cGUuc2V0RWxlbWVudEF0dHJpYnV0ZSA9IGZ1bmN0aW9uIChyZW5kZXJFbGVtZW50LCBuYW1lc3BhY2VBbmROYW1lLCBhdHRyaWJ1dGVWYWx1ZSkge1xuICAgICAgICB2YXIgX2EgPSBzcGxpdE5hbWVzcGFjZShuYW1lc3BhY2VBbmROYW1lKSwgbnMgPSBfYVswXSwgbmFtZSA9IF9hWzFdO1xuICAgICAgICBpZiAoYXR0cmlidXRlVmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5zZXRBdHRyaWJ1dGUocmVuZGVyRWxlbWVudCwgbmFtZSwgYXR0cmlidXRlVmFsdWUsIG5zKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUucmVtb3ZlQXR0cmlidXRlKHJlbmRlckVsZW1lbnQsIG5hbWUsIG5zKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSByZW5kZXJFbGVtZW50XG4gICAgICogQHBhcmFtIHs/fSBwcm9wZXJ0eU5hbWVcbiAgICAgKiBAcGFyYW0gez99IHByb3BlcnR5VmFsdWVcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFJlbmRlcmVyQWRhcHRlci5wcm90b3R5cGUuc2V0QmluZGluZ0RlYnVnSW5mbyA9IGZ1bmN0aW9uIChyZW5kZXJFbGVtZW50LCBwcm9wZXJ0eU5hbWUsIHByb3BlcnR5VmFsdWUpIHsgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IHJlbmRlckVsZW1lbnRcbiAgICAgKiBAcGFyYW0gez99IGNsYXNzTmFtZVxuICAgICAqIEBwYXJhbSB7P30gaXNBZGRcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFJlbmRlcmVyQWRhcHRlci5wcm90b3R5cGUuc2V0RWxlbWVudENsYXNzID0gZnVuY3Rpb24gKHJlbmRlckVsZW1lbnQsIGNsYXNzTmFtZSwgaXNBZGQpIHtcbiAgICAgICAgaWYgKGlzQWRkKSB7XG4gICAgICAgICAgICB0aGlzLmRlbGVnYXRlLmFkZENsYXNzKHJlbmRlckVsZW1lbnQsIGNsYXNzTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRlbGVnYXRlLnJlbW92ZUNsYXNzKHJlbmRlckVsZW1lbnQsIGNsYXNzTmFtZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gcmVuZGVyRWxlbWVudFxuICAgICAqIEBwYXJhbSB7P30gc3R5bGVOYW1lXG4gICAgICogQHBhcmFtIHs/fSBzdHlsZVZhbHVlXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBSZW5kZXJlckFkYXB0ZXIucHJvdG90eXBlLnNldEVsZW1lbnRTdHlsZSA9IGZ1bmN0aW9uIChyZW5kZXJFbGVtZW50LCBzdHlsZU5hbWUsIHN0eWxlVmFsdWUpIHtcbiAgICAgICAgaWYgKHN0eWxlVmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5zZXRTdHlsZShyZW5kZXJFbGVtZW50LCBzdHlsZU5hbWUsIHN0eWxlVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5yZW1vdmVTdHlsZShyZW5kZXJFbGVtZW50LCBzdHlsZU5hbWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IHJlbmRlckVsZW1lbnRcbiAgICAgKiBAcGFyYW0gez99IG1ldGhvZE5hbWVcbiAgICAgKiBAcGFyYW0gez99IGFyZ3NcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIFJlbmRlcmVyQWRhcHRlci5wcm90b3R5cGUuaW52b2tlRWxlbWVudE1ldGhvZCA9IGZ1bmN0aW9uIChyZW5kZXJFbGVtZW50LCBtZXRob2ROYW1lLCBhcmdzKSB7XG4gICAgICAgICgocmVuZGVyRWxlbWVudCkpW21ldGhvZE5hbWVdLmFwcGx5KHJlbmRlckVsZW1lbnQsIGFyZ3MpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSByZW5kZXJOb2RlXG4gICAgICogQHBhcmFtIHs/fSB0ZXh0XG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBSZW5kZXJlckFkYXB0ZXIucHJvdG90eXBlLnNldFRleHQgPSBmdW5jdGlvbiAocmVuZGVyTm9kZSQkMSwgdGV4dCkgeyB0aGlzLmRlbGVnYXRlLnNldFZhbHVlKHJlbmRlck5vZGUkJDEsIHRleHQpOyB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgUmVuZGVyZXJBZGFwdGVyLnByb3RvdHlwZS5hbmltYXRlID0gZnVuY3Rpb24gKCkgeyB0aHJvdyBuZXcgRXJyb3IoJ1JlbmRlcmVyLmFuaW1hdGUgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZCEnKTsgfTtcbiAgICByZXR1cm4gUmVuZGVyZXJBZGFwdGVyO1xufSgpKTtcbi8qKlxuICogQHBhcmFtIHs/fSBtb2R1bGVUeXBlXG4gKiBAcGFyYW0gez99IHBhcmVudFxuICogQHBhcmFtIHs/fSBib290c3RyYXBDb21wb25lbnRzXG4gKiBAcGFyYW0gez99IGRlZlxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gY3JlYXRlTmdNb2R1bGVSZWYobW9kdWxlVHlwZSwgcGFyZW50LCBib290c3RyYXBDb21wb25lbnRzLCBkZWYpIHtcbiAgICByZXR1cm4gbmV3IE5nTW9kdWxlUmVmXyhtb2R1bGVUeXBlLCBwYXJlbnQsIGJvb3RzdHJhcENvbXBvbmVudHMsIGRlZik7XG59XG52YXIgTmdNb2R1bGVSZWZfID0gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IF9tb2R1bGVUeXBlXG4gICAgICogQHBhcmFtIHs/fSBfcGFyZW50XG4gICAgICogQHBhcmFtIHs/fSBfYm9vdHN0cmFwQ29tcG9uZW50c1xuICAgICAqIEBwYXJhbSB7P30gX2RlZlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE5nTW9kdWxlUmVmXyhfbW9kdWxlVHlwZSwgX3BhcmVudCwgX2Jvb3RzdHJhcENvbXBvbmVudHMsIF9kZWYpIHtcbiAgICAgICAgdGhpcy5fbW9kdWxlVHlwZSA9IF9tb2R1bGVUeXBlO1xuICAgICAgICB0aGlzLl9wYXJlbnQgPSBfcGFyZW50O1xuICAgICAgICB0aGlzLl9ib290c3RyYXBDb21wb25lbnRzID0gX2Jvb3RzdHJhcENvbXBvbmVudHM7XG4gICAgICAgIHRoaXMuX2RlZiA9IF9kZWY7XG4gICAgICAgIHRoaXMuX2Rlc3Ryb3lMaXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgdGhpcy5fZGVzdHJveWVkID0gZmFsc2U7XG4gICAgICAgIGluaXROZ01vZHVsZSh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSB0b2tlblxuICAgICAqIEBwYXJhbSB7Pz19IG5vdEZvdW5kVmFsdWVcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIE5nTW9kdWxlUmVmXy5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKHRva2VuLCBub3RGb3VuZFZhbHVlKSB7XG4gICAgICAgIGlmIChub3RGb3VuZFZhbHVlID09PSB2b2lkIDApIHsgbm90Rm91bmRWYWx1ZSA9IEluamVjdG9yLlRIUk9XX0lGX05PVF9GT1VORDsgfVxuICAgICAgICByZXR1cm4gcmVzb2x2ZU5nTW9kdWxlRGVwKHRoaXMsIHsgdG9rZW46IHRva2VuLCB0b2tlbktleTogdG9rZW5LZXkodG9rZW4pLCBmbGFnczogMCAvKiBOb25lICovIH0sIG5vdEZvdW5kVmFsdWUpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5nTW9kdWxlUmVmXy5wcm90b3R5cGUsIFwiaW5zdGFuY2VcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybiB7P31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5nZXQodGhpcy5fbW9kdWxlVHlwZSk7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOZ01vZHVsZVJlZl8ucHJvdG90eXBlLCBcImNvbXBvbmVudEZhY3RvcnlSZXNvbHZlclwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmdldChDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIpOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTmdNb2R1bGVSZWZfLnByb3RvdHlwZSwgXCJpbmplY3RvclwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIE5nTW9kdWxlUmVmXy5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2Rlc3Ryb3llZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIG5nIG1vZHVsZSBcIiArIHN0cmluZ2lmeSh0aGlzLmluc3RhbmNlLmNvbnN0cnVjdG9yKSArIFwiIGhhcyBhbHJlYWR5IGJlZW4gZGVzdHJveWVkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9kZXN0cm95ZWQgPSB0cnVlO1xuICAgICAgICBjYWxsTmdNb2R1bGVMaWZlY3ljbGUodGhpcywgMTMxMDcyIC8qIE9uRGVzdHJveSAqLyk7XG4gICAgICAgIHRoaXMuX2Rlc3Ryb3lMaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAobGlzdGVuZXIpIHsgcmV0dXJuIGxpc3RlbmVyKCk7IH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBjYWxsYmFja1xuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgTmdNb2R1bGVSZWZfLnByb3RvdHlwZS5vbkRlc3Ryb3kgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHsgdGhpcy5fZGVzdHJveUxpc3RlbmVycy5wdXNoKGNhbGxiYWNrKTsgfTtcbiAgICByZXR1cm4gTmdNb2R1bGVSZWZfO1xufSgpKTtcbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbnZhciBSZW5kZXJlclYxVG9rZW5LZXkgPSB0b2tlbktleShSZW5kZXJlcik7XG52YXIgUmVuZGVyZXIyVG9rZW5LZXkgPSB0b2tlbktleShSZW5kZXJlcjIpO1xudmFyIEVsZW1lbnRSZWZUb2tlbktleSA9IHRva2VuS2V5KEVsZW1lbnRSZWYpO1xudmFyIFZpZXdDb250YWluZXJSZWZUb2tlbktleSA9IHRva2VuS2V5KFZpZXdDb250YWluZXJSZWYpO1xudmFyIFRlbXBsYXRlUmVmVG9rZW5LZXkgPSB0b2tlbktleShUZW1wbGF0ZVJlZik7XG52YXIgQ2hhbmdlRGV0ZWN0b3JSZWZUb2tlbktleSA9IHRva2VuS2V5KENoYW5nZURldGVjdG9yUmVmKTtcbnZhciBJbmplY3RvclJlZlRva2VuS2V5ID0gdG9rZW5LZXkoSW5qZWN0b3IpO1xuLyoqXG4gKiBAcGFyYW0gez99IGNoZWNrSW5kZXhcbiAqIEBwYXJhbSB7P30gZmxhZ3NcbiAqIEBwYXJhbSB7P30gbWF0Y2hlZFF1ZXJpZXNcbiAqIEBwYXJhbSB7P30gY2hpbGRDb3VudFxuICogQHBhcmFtIHs/fSBjdG9yXG4gKiBAcGFyYW0gez99IGRlcHNcbiAqIEBwYXJhbSB7Pz19IHByb3BzXG4gKiBAcGFyYW0gez89fSBvdXRwdXRzXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBkaXJlY3RpdmVEZWYoY2hlY2tJbmRleCwgZmxhZ3MsIG1hdGNoZWRRdWVyaWVzLCBjaGlsZENvdW50LCBjdG9yLCBkZXBzLCBwcm9wcywgb3V0cHV0cykge1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIGJpbmRpbmdzID0gW107XG4gICAgaWYgKHByb3BzKSB7XG4gICAgICAgIGZvciAodmFyIC8qKiBAdHlwZSB7P30gKi8gcHJvcCBpbiBwcm9wcykge1xuICAgICAgICAgICAgdmFyIF9hID0gcHJvcHNbcHJvcF0sIGJpbmRpbmdJbmRleCA9IF9hWzBdLCBub25NaW5pZmllZE5hbWUgPSBfYVsxXTtcbiAgICAgICAgICAgIGJpbmRpbmdzW2JpbmRpbmdJbmRleF0gPSB7XG4gICAgICAgICAgICAgICAgZmxhZ3M6IDggLyogVHlwZVByb3BlcnR5ICovLFxuICAgICAgICAgICAgICAgIG5hbWU6IHByb3AsIG5vbk1pbmlmaWVkTmFtZTogbm9uTWluaWZpZWROYW1lLFxuICAgICAgICAgICAgICAgIG5zOiBudWxsLFxuICAgICAgICAgICAgICAgIHNlY3VyaXR5Q29udGV4dDogbnVsbCxcbiAgICAgICAgICAgICAgICBzdWZmaXg6IG51bGxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gb3V0cHV0RGVmcyA9IFtdO1xuICAgIGlmIChvdXRwdXRzKSB7XG4gICAgICAgIGZvciAodmFyIC8qKiBAdHlwZSB7P30gKi8gcHJvcE5hbWUgaW4gb3V0cHV0cykge1xuICAgICAgICAgICAgb3V0cHV0RGVmcy5wdXNoKHsgdHlwZTogMSAvKiBEaXJlY3RpdmVPdXRwdXQgKi8sIHByb3BOYW1lOiBwcm9wTmFtZSwgdGFyZ2V0OiBudWxsLCBldmVudE5hbWU6IG91dHB1dHNbcHJvcE5hbWVdIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZsYWdzIHw9IDE2Mzg0IC8qIFR5cGVEaXJlY3RpdmUgKi87XG4gICAgcmV0dXJuIF9kZWYoY2hlY2tJbmRleCwgZmxhZ3MsIG1hdGNoZWRRdWVyaWVzLCBjaGlsZENvdW50LCBjdG9yLCBjdG9yLCBkZXBzLCBiaW5kaW5ncywgb3V0cHV0RGVmcyk7XG59XG4vKipcbiAqIEBwYXJhbSB7P30gZmxhZ3NcbiAqIEBwYXJhbSB7P30gY3RvclxuICogQHBhcmFtIHs/fSBkZXBzXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBwaXBlRGVmKGZsYWdzLCBjdG9yLCBkZXBzKSB7XG4gICAgZmxhZ3MgfD0gMTYgLyogVHlwZVBpcGUgKi87XG4gICAgcmV0dXJuIF9kZWYoLTEsIGZsYWdzLCBudWxsLCAwLCBjdG9yLCBjdG9yLCBkZXBzKTtcbn1cbi8qKlxuICogQHBhcmFtIHs/fSBmbGFnc1xuICogQHBhcmFtIHs/fSBtYXRjaGVkUXVlcmllc1xuICogQHBhcmFtIHs/fSB0b2tlblxuICogQHBhcmFtIHs/fSB2YWx1ZVxuICogQHBhcmFtIHs/fSBkZXBzXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBwcm92aWRlckRlZihmbGFncywgbWF0Y2hlZFF1ZXJpZXMsIHRva2VuLCB2YWx1ZSwgZGVwcykge1xuICAgIHJldHVybiBfZGVmKC0xLCBmbGFncywgbWF0Y2hlZFF1ZXJpZXMsIDAsIHRva2VuLCB2YWx1ZSwgZGVwcyk7XG59XG4vKipcbiAqIEBwYXJhbSB7P30gY2hlY2tJbmRleFxuICogQHBhcmFtIHs/fSBmbGFnc1xuICogQHBhcmFtIHs/fSBtYXRjaGVkUXVlcmllc0RzbFxuICogQHBhcmFtIHs/fSBjaGlsZENvdW50XG4gKiBAcGFyYW0gez99IHRva2VuXG4gKiBAcGFyYW0gez99IHZhbHVlXG4gKiBAcGFyYW0gez99IGRlcHNcbiAqIEBwYXJhbSB7Pz19IGJpbmRpbmdzXG4gKiBAcGFyYW0gez89fSBvdXRwdXRzXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBfZGVmKGNoZWNrSW5kZXgsIGZsYWdzLCBtYXRjaGVkUXVlcmllc0RzbCwgY2hpbGRDb3VudCwgdG9rZW4sIHZhbHVlLCBkZXBzLCBiaW5kaW5ncywgb3V0cHV0cykge1xuICAgIHZhciBfYSA9IHNwbGl0TWF0Y2hlZFF1ZXJpZXNEc2wobWF0Y2hlZFF1ZXJpZXNEc2wpLCBtYXRjaGVkUXVlcmllcyA9IF9hLm1hdGNoZWRRdWVyaWVzLCByZWZlcmVuY2VzID0gX2EucmVmZXJlbmNlcywgbWF0Y2hlZFF1ZXJ5SWRzID0gX2EubWF0Y2hlZFF1ZXJ5SWRzO1xuICAgIGlmICghb3V0cHV0cykge1xuICAgICAgICBvdXRwdXRzID0gW107XG4gICAgfVxuICAgIGlmICghYmluZGluZ3MpIHtcbiAgICAgICAgYmluZGluZ3MgPSBbXTtcbiAgICB9XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gZGVwRGVmcyA9IHNwbGl0RGVwc0RzbChkZXBzKTtcbiAgICByZXR1cm4ge1xuICAgICAgICAvLyB3aWxsIGJldCBzZXQgYnkgdGhlIHZpZXcgZGVmaW5pdGlvblxuICAgICAgICBub2RlSW5kZXg6IC0xLFxuICAgICAgICBwYXJlbnQ6IG51bGwsXG4gICAgICAgIHJlbmRlclBhcmVudDogbnVsbCxcbiAgICAgICAgYmluZGluZ0luZGV4OiAtMSxcbiAgICAgICAgb3V0cHV0SW5kZXg6IC0xLFxuICAgICAgICAvLyByZWd1bGFyIHZhbHVlc1xuICAgICAgICBjaGVja0luZGV4OiBjaGVja0luZGV4LFxuICAgICAgICBmbGFnczogZmxhZ3MsXG4gICAgICAgIGNoaWxkRmxhZ3M6IDAsXG4gICAgICAgIGRpcmVjdENoaWxkRmxhZ3M6IDAsXG4gICAgICAgIGNoaWxkTWF0Y2hlZFF1ZXJpZXM6IDAsIG1hdGNoZWRRdWVyaWVzOiBtYXRjaGVkUXVlcmllcywgbWF0Y2hlZFF1ZXJ5SWRzOiBtYXRjaGVkUXVlcnlJZHMsIHJlZmVyZW5jZXM6IHJlZmVyZW5jZXMsXG4gICAgICAgIG5nQ29udGVudEluZGV4OiAtMSwgY2hpbGRDb3VudDogY2hpbGRDb3VudCwgYmluZGluZ3M6IGJpbmRpbmdzLFxuICAgICAgICBiaW5kaW5nRmxhZ3M6IGNhbGNCaW5kaW5nRmxhZ3MoYmluZGluZ3MpLCBvdXRwdXRzOiBvdXRwdXRzLFxuICAgICAgICBlbGVtZW50OiBudWxsLFxuICAgICAgICBwcm92aWRlcjogeyB0b2tlbjogdG9rZW4sIHZhbHVlOiB2YWx1ZSwgZGVwczogZGVwRGVmcyB9LFxuICAgICAgICB0ZXh0OiBudWxsLFxuICAgICAgICBxdWVyeTogbnVsbCxcbiAgICAgICAgbmdDb250ZW50OiBudWxsXG4gICAgfTtcbn1cbi8qKlxuICogQHBhcmFtIHs/fSB2aWV3XG4gKiBAcGFyYW0gez99IGRlZlxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gY3JlYXRlUHJvdmlkZXJJbnN0YW5jZSh2aWV3LCBkZWYpIHtcbiAgICByZXR1cm4gX2NyZWF0ZVByb3ZpZGVySW5zdGFuY2UodmlldywgZGVmKTtcbn1cbi8qKlxuICogQHBhcmFtIHs/fSB2aWV3XG4gKiBAcGFyYW0gez99IGRlZlxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gY3JlYXRlUGlwZUluc3RhbmNlKHZpZXcsIGRlZikge1xuICAgIC8vIGRlcHMgYXJlIGxvb2tlZCB1cCBmcm9tIGNvbXBvbmVudC5cbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBjb21wVmlldyA9IHZpZXc7XG4gICAgd2hpbGUgKGNvbXBWaWV3LnBhcmVudCAmJiAhaXNDb21wb25lbnRWaWV3KGNvbXBWaWV3KSkge1xuICAgICAgICBjb21wVmlldyA9IGNvbXBWaWV3LnBhcmVudDtcbiAgICB9XG4gICAgLy8gcGlwZXMgY2FuIHNlZSB0aGUgcHJpdmF0ZSBzZXJ2aWNlcyBvZiB0aGUgY29tcG9uZW50XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gYWxsb3dQcml2YXRlU2VydmljZXMgPSB0cnVlO1xuICAgIC8vIHBpcGVzIGFyZSBhbHdheXMgZWFnZXIgYW5kIGNsYXNzZXMhXG4gICAgcmV0dXJuIGNyZWF0ZUNsYXNzKC8qKiBAdHlwZSB7P30gKi8gKChjb21wVmlldy5wYXJlbnQpKSwgLyoqIEB0eXBlIHs/fSAqLyAoKHZpZXdQYXJlbnRFbChjb21wVmlldykpKSwgYWxsb3dQcml2YXRlU2VydmljZXMsIC8qKiBAdHlwZSB7P30gKi8gKChkZWYucHJvdmlkZXIpKS52YWx1ZSwgLyoqIEB0eXBlIHs/fSAqLyAoKGRlZi5wcm92aWRlcikpLmRlcHMpO1xufVxuLyoqXG4gKiBAcGFyYW0gez99IHZpZXdcbiAqIEBwYXJhbSB7P30gZGVmXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBjcmVhdGVEaXJlY3RpdmVJbnN0YW5jZSh2aWV3LCBkZWYpIHtcbiAgICAvLyBjb21wb25lbnRzIGNhbiBzZWUgb3RoZXIgcHJpdmF0ZSBzZXJ2aWNlcywgb3RoZXIgZGlyZWN0aXZlcyBjYW4ndC5cbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBhbGxvd1ByaXZhdGVTZXJ2aWNlcyA9IChkZWYuZmxhZ3MgJiAzMjc2OCAvKiBDb21wb25lbnQgKi8pID4gMDtcbiAgICAvLyBkaXJlY3RpdmVzIGFyZSBhbHdheXMgZWFnZXIgYW5kIGNsYXNzZXMhXG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gaW5zdGFuY2UgPSBjcmVhdGVDbGFzcyh2aWV3LCAvKiogQHR5cGUgez99ICovICgoZGVmLnBhcmVudCkpLCBhbGxvd1ByaXZhdGVTZXJ2aWNlcywgLyoqIEB0eXBlIHs/fSAqLyAoKGRlZi5wcm92aWRlcikpLnZhbHVlLCAvKiogQHR5cGUgez99ICovICgoZGVmLnByb3ZpZGVyKSkuZGVwcyk7XG4gICAgaWYgKGRlZi5vdXRwdXRzLmxlbmd0aCkge1xuICAgICAgICBmb3IgKHZhciAvKiogQHR5cGUgez99ICovIGkgPSAwOyBpIDwgZGVmLm91dHB1dHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIG91dHB1dCA9IGRlZi5vdXRwdXRzW2ldO1xuICAgICAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gc3Vic2NyaXB0aW9uID0gaW5zdGFuY2VbKChvdXRwdXQucHJvcE5hbWUpKV0uc3Vic2NyaWJlKGV2ZW50SGFuZGxlckNsb3N1cmUodmlldywgLyoqIEB0eXBlIHs/fSAqLyAoKGRlZi5wYXJlbnQpKS5ub2RlSW5kZXgsIG91dHB1dC5ldmVudE5hbWUpKTsgLyoqIEB0eXBlIHs/fSAqL1xuICAgICAgICAgICAgKCh2aWV3LmRpc3Bvc2FibGVzKSlbZGVmLm91dHB1dEluZGV4ICsgaV0gPSBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUuYmluZChzdWJzY3JpcHRpb24pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpbnN0YW5jZTtcbn1cbi8qKlxuICogQHBhcmFtIHs/fSB2aWV3XG4gKiBAcGFyYW0gez99IGluZGV4XG4gKiBAcGFyYW0gez99IGV2ZW50TmFtZVxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gZXZlbnRIYW5kbGVyQ2xvc3VyZSh2aWV3LCBpbmRleCwgZXZlbnROYW1lKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoRXZlbnQodmlldywgaW5kZXgsIGV2ZW50TmFtZSwgZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBBdHRlbnRpb246IERvbid0IHJldGhyb3csIGFzIGl0IHdvdWxkIGNhbmNlbCBPYnNlcnZhYmxlIHN1YnNjcmlwdGlvbnMhXG4gICAgICAgICAgICB2aWV3LnJvb3QuZXJyb3JIYW5kbGVyLmhhbmRsZUVycm9yKGUpO1xuICAgICAgICB9XG4gICAgfTtcbn1cbi8qKlxuICogQHBhcmFtIHs/fSB2aWV3XG4gKiBAcGFyYW0gez99IGRlZlxuICogQHBhcmFtIHs/fSB2MFxuICogQHBhcmFtIHs/fSB2MVxuICogQHBhcmFtIHs/fSB2MlxuICogQHBhcmFtIHs/fSB2M1xuICogQHBhcmFtIHs/fSB2NFxuICogQHBhcmFtIHs/fSB2NVxuICogQHBhcmFtIHs/fSB2NlxuICogQHBhcmFtIHs/fSB2N1xuICogQHBhcmFtIHs/fSB2OFxuICogQHBhcmFtIHs/fSB2OVxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gY2hlY2tBbmRVcGRhdGVEaXJlY3RpdmVJbmxpbmUodmlldywgZGVmLCB2MCwgdjEsIHYyLCB2MywgdjQsIHY1LCB2NiwgdjcsIHY4LCB2OSkge1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIHByb3ZpZGVyRGF0YSA9IGFzUHJvdmlkZXJEYXRhKHZpZXcsIGRlZi5ub2RlSW5kZXgpO1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIGRpcmVjdGl2ZSA9IHByb3ZpZGVyRGF0YS5pbnN0YW5jZTtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBjaGFuZ2VkID0gZmFsc2U7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gY2hhbmdlcyA9ICgodW5kZWZpbmVkKSk7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gYmluZExlbiA9IGRlZi5iaW5kaW5ncy5sZW5ndGg7XG4gICAgaWYgKGJpbmRMZW4gPiAwICYmIGNoZWNrQmluZGluZyh2aWV3LCBkZWYsIDAsIHYwKSkge1xuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgY2hhbmdlcyA9IHVwZGF0ZVByb3AodmlldywgcHJvdmlkZXJEYXRhLCBkZWYsIDAsIHYwLCBjaGFuZ2VzKTtcbiAgICB9XG4gICAgaWYgKGJpbmRMZW4gPiAxICYmIGNoZWNrQmluZGluZyh2aWV3LCBkZWYsIDEsIHYxKSkge1xuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgY2hhbmdlcyA9IHVwZGF0ZVByb3AodmlldywgcHJvdmlkZXJEYXRhLCBkZWYsIDEsIHYxLCBjaGFuZ2VzKTtcbiAgICB9XG4gICAgaWYgKGJpbmRMZW4gPiAyICYmIGNoZWNrQmluZGluZyh2aWV3LCBkZWYsIDIsIHYyKSkge1xuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgY2hhbmdlcyA9IHVwZGF0ZVByb3AodmlldywgcHJvdmlkZXJEYXRhLCBkZWYsIDIsIHYyLCBjaGFuZ2VzKTtcbiAgICB9XG4gICAgaWYgKGJpbmRMZW4gPiAzICYmIGNoZWNrQmluZGluZyh2aWV3LCBkZWYsIDMsIHYzKSkge1xuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgY2hhbmdlcyA9IHVwZGF0ZVByb3AodmlldywgcHJvdmlkZXJEYXRhLCBkZWYsIDMsIHYzLCBjaGFuZ2VzKTtcbiAgICB9XG4gICAgaWYgKGJpbmRMZW4gPiA0ICYmIGNoZWNrQmluZGluZyh2aWV3LCBkZWYsIDQsIHY0KSkge1xuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgY2hhbmdlcyA9IHVwZGF0ZVByb3AodmlldywgcHJvdmlkZXJEYXRhLCBkZWYsIDQsIHY0LCBjaGFuZ2VzKTtcbiAgICB9XG4gICAgaWYgKGJpbmRMZW4gPiA1ICYmIGNoZWNrQmluZGluZyh2aWV3LCBkZWYsIDUsIHY1KSkge1xuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgY2hhbmdlcyA9IHVwZGF0ZVByb3AodmlldywgcHJvdmlkZXJEYXRhLCBkZWYsIDUsIHY1LCBjaGFuZ2VzKTtcbiAgICB9XG4gICAgaWYgKGJpbmRMZW4gPiA2ICYmIGNoZWNrQmluZGluZyh2aWV3LCBkZWYsIDYsIHY2KSkge1xuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgY2hhbmdlcyA9IHVwZGF0ZVByb3AodmlldywgcHJvdmlkZXJEYXRhLCBkZWYsIDYsIHY2LCBjaGFuZ2VzKTtcbiAgICB9XG4gICAgaWYgKGJpbmRMZW4gPiA3ICYmIGNoZWNrQmluZGluZyh2aWV3LCBkZWYsIDcsIHY3KSkge1xuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgY2hhbmdlcyA9IHVwZGF0ZVByb3AodmlldywgcHJvdmlkZXJEYXRhLCBkZWYsIDcsIHY3LCBjaGFuZ2VzKTtcbiAgICB9XG4gICAgaWYgKGJpbmRMZW4gPiA4ICYmIGNoZWNrQmluZGluZyh2aWV3LCBkZWYsIDgsIHY4KSkge1xuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgY2hhbmdlcyA9IHVwZGF0ZVByb3AodmlldywgcHJvdmlkZXJEYXRhLCBkZWYsIDgsIHY4LCBjaGFuZ2VzKTtcbiAgICB9XG4gICAgaWYgKGJpbmRMZW4gPiA5ICYmIGNoZWNrQmluZGluZyh2aWV3LCBkZWYsIDksIHY5KSkge1xuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgY2hhbmdlcyA9IHVwZGF0ZVByb3AodmlldywgcHJvdmlkZXJEYXRhLCBkZWYsIDksIHY5LCBjaGFuZ2VzKTtcbiAgICB9XG4gICAgaWYgKGNoYW5nZXMpIHtcbiAgICAgICAgZGlyZWN0aXZlLm5nT25DaGFuZ2VzKGNoYW5nZXMpO1xuICAgIH1cbiAgICBpZiAoKHZpZXcuc3RhdGUgJiAyIC8qIEZpcnN0Q2hlY2sgKi8pICYmIChkZWYuZmxhZ3MgJiA2NTUzNiAvKiBPbkluaXQgKi8pKSB7XG4gICAgICAgIGRpcmVjdGl2ZS5uZ09uSW5pdCgpO1xuICAgIH1cbiAgICBpZiAoZGVmLmZsYWdzICYgMjYyMTQ0IC8qIERvQ2hlY2sgKi8pIHtcbiAgICAgICAgZGlyZWN0aXZlLm5nRG9DaGVjaygpO1xuICAgIH1cbiAgICByZXR1cm4gY2hhbmdlZDtcbn1cbi8qKlxuICogQHBhcmFtIHs/fSB2aWV3XG4gKiBAcGFyYW0gez99IGRlZlxuICogQHBhcmFtIHs/fSB2YWx1ZXNcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGNoZWNrQW5kVXBkYXRlRGlyZWN0aXZlRHluYW1pYyh2aWV3LCBkZWYsIHZhbHVlcykge1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIHByb3ZpZGVyRGF0YSA9IGFzUHJvdmlkZXJEYXRhKHZpZXcsIGRlZi5ub2RlSW5kZXgpO1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIGRpcmVjdGl2ZSA9IHByb3ZpZGVyRGF0YS5pbnN0YW5jZTtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBjaGFuZ2VkID0gZmFsc2U7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gY2hhbmdlcyA9ICgodW5kZWZpbmVkKSk7XG4gICAgZm9yICh2YXIgLyoqIEB0eXBlIHs/fSAqLyBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoY2hlY2tCaW5kaW5nKHZpZXcsIGRlZiwgaSwgdmFsdWVzW2ldKSkge1xuICAgICAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICBjaGFuZ2VzID0gdXBkYXRlUHJvcCh2aWV3LCBwcm92aWRlckRhdGEsIGRlZiwgaSwgdmFsdWVzW2ldLCBjaGFuZ2VzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoY2hhbmdlcykge1xuICAgICAgICBkaXJlY3RpdmUubmdPbkNoYW5nZXMoY2hhbmdlcyk7XG4gICAgfVxuICAgIGlmICgodmlldy5zdGF0ZSAmIDIgLyogRmlyc3RDaGVjayAqLykgJiYgKGRlZi5mbGFncyAmIDY1NTM2IC8qIE9uSW5pdCAqLykpIHtcbiAgICAgICAgZGlyZWN0aXZlLm5nT25Jbml0KCk7XG4gICAgfVxuICAgIGlmIChkZWYuZmxhZ3MgJiAyNjIxNDQgLyogRG9DaGVjayAqLykge1xuICAgICAgICBkaXJlY3RpdmUubmdEb0NoZWNrKCk7XG4gICAgfVxuICAgIHJldHVybiBjaGFuZ2VkO1xufVxuLyoqXG4gKiBAcGFyYW0gez99IHZpZXdcbiAqIEBwYXJhbSB7P30gZGVmXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBfY3JlYXRlUHJvdmlkZXJJbnN0YW5jZSh2aWV3LCBkZWYpIHtcbiAgICAvLyBwcml2YXRlIHNlcnZpY2VzIGNhbiBzZWUgb3RoZXIgcHJpdmF0ZSBzZXJ2aWNlc1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIGFsbG93UHJpdmF0ZVNlcnZpY2VzID0gKGRlZi5mbGFncyAmIDgxOTIgLyogUHJpdmF0ZVByb3ZpZGVyICovKSA+IDA7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcHJvdmlkZXJEZWYgPSBkZWYucHJvdmlkZXI7XG4gICAgc3dpdGNoIChkZWYuZmxhZ3MgJiAyMDEzNDcwNjcgLyogVHlwZXMgKi8pIHtcbiAgICAgICAgY2FzZSA1MTIgLyogVHlwZUNsYXNzUHJvdmlkZXIgKi86XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlQ2xhc3ModmlldywgLyoqIEB0eXBlIHs/fSAqLyAoKGRlZi5wYXJlbnQpKSwgYWxsb3dQcml2YXRlU2VydmljZXMsIC8qKiBAdHlwZSB7P30gKi8gKChwcm92aWRlckRlZikpLnZhbHVlLCAvKiogQHR5cGUgez99ICovICgocHJvdmlkZXJEZWYpKS5kZXBzKTtcbiAgICAgICAgY2FzZSAxMDI0IC8qIFR5cGVGYWN0b3J5UHJvdmlkZXIgKi86XG4gICAgICAgICAgICByZXR1cm4gY2FsbEZhY3RvcnkodmlldywgLyoqIEB0eXBlIHs/fSAqLyAoKGRlZi5wYXJlbnQpKSwgYWxsb3dQcml2YXRlU2VydmljZXMsIC8qKiBAdHlwZSB7P30gKi8gKChwcm92aWRlckRlZikpLnZhbHVlLCAvKiogQHR5cGUgez99ICovICgocHJvdmlkZXJEZWYpKS5kZXBzKTtcbiAgICAgICAgY2FzZSAyMDQ4IC8qIFR5cGVVc2VFeGlzdGluZ1Byb3ZpZGVyICovOlxuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmVEZXAodmlldywgLyoqIEB0eXBlIHs/fSAqLyAoKGRlZi5wYXJlbnQpKSwgYWxsb3dQcml2YXRlU2VydmljZXMsIC8qKiBAdHlwZSB7P30gKi8gKChwcm92aWRlckRlZikpLmRlcHNbMF0pO1xuICAgICAgICBjYXNlIDI1NiAvKiBUeXBlVmFsdWVQcm92aWRlciAqLzpcbiAgICAgICAgICAgIHJldHVybiAoKHByb3ZpZGVyRGVmKSkudmFsdWU7XG4gICAgfVxufVxuLyoqXG4gKiBAcGFyYW0gez99IHZpZXdcbiAqIEBwYXJhbSB7P30gZWxEZWZcbiAqIEBwYXJhbSB7P30gYWxsb3dQcml2YXRlU2VydmljZXNcbiAqIEBwYXJhbSB7P30gY3RvclxuICogQHBhcmFtIHs/fSBkZXBzXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBjcmVhdGVDbGFzcyh2aWV3LCBlbERlZiwgYWxsb3dQcml2YXRlU2VydmljZXMsIGN0b3IsIGRlcHMpIHtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBsZW4gPSBkZXBzLmxlbmd0aDtcbiAgICBzd2l0Y2ggKGxlbikge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICByZXR1cm4gbmV3IGN0b3IoKTtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBjdG9yKHJlc29sdmVEZXAodmlldywgZWxEZWYsIGFsbG93UHJpdmF0ZVNlcnZpY2VzLCBkZXBzWzBdKSk7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIHJldHVybiBuZXcgY3RvcihyZXNvbHZlRGVwKHZpZXcsIGVsRGVmLCBhbGxvd1ByaXZhdGVTZXJ2aWNlcywgZGVwc1swXSksIHJlc29sdmVEZXAodmlldywgZWxEZWYsIGFsbG93UHJpdmF0ZVNlcnZpY2VzLCBkZXBzWzFdKSk7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgY3RvcihyZXNvbHZlRGVwKHZpZXcsIGVsRGVmLCBhbGxvd1ByaXZhdGVTZXJ2aWNlcywgZGVwc1swXSksIHJlc29sdmVEZXAodmlldywgZWxEZWYsIGFsbG93UHJpdmF0ZVNlcnZpY2VzLCBkZXBzWzFdKSwgcmVzb2x2ZURlcCh2aWV3LCBlbERlZiwgYWxsb3dQcml2YXRlU2VydmljZXMsIGRlcHNbMl0pKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGRlcFZhbHVlcyA9IG5ldyBBcnJheShsZW4pO1xuICAgICAgICAgICAgZm9yICh2YXIgLyoqIEB0eXBlIHs/fSAqLyBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZGVwVmFsdWVzW2ldID0gcmVzb2x2ZURlcCh2aWV3LCBlbERlZiwgYWxsb3dQcml2YXRlU2VydmljZXMsIGRlcHNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ldyAoY3Rvci5iaW5kLmFwcGx5KGN0b3IsIFt2b2lkIDBdLmNvbmNhdChkZXBWYWx1ZXMpKSkoKTtcbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7P30gdmlld1xuICogQHBhcmFtIHs/fSBlbERlZlxuICogQHBhcmFtIHs/fSBhbGxvd1ByaXZhdGVTZXJ2aWNlc1xuICogQHBhcmFtIHs/fSBmYWN0b3J5XG4gKiBAcGFyYW0gez99IGRlcHNcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGNhbGxGYWN0b3J5KHZpZXcsIGVsRGVmLCBhbGxvd1ByaXZhdGVTZXJ2aWNlcywgZmFjdG9yeSwgZGVwcykge1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIGxlbiA9IGRlcHMubGVuZ3RoO1xuICAgIHN3aXRjaCAobGVuKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIHJldHVybiBmYWN0b3J5KCk7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIHJldHVybiBmYWN0b3J5KHJlc29sdmVEZXAodmlldywgZWxEZWYsIGFsbG93UHJpdmF0ZVNlcnZpY2VzLCBkZXBzWzBdKSk7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIHJldHVybiBmYWN0b3J5KHJlc29sdmVEZXAodmlldywgZWxEZWYsIGFsbG93UHJpdmF0ZVNlcnZpY2VzLCBkZXBzWzBdKSwgcmVzb2x2ZURlcCh2aWV3LCBlbERlZiwgYWxsb3dQcml2YXRlU2VydmljZXMsIGRlcHNbMV0pKTtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgcmV0dXJuIGZhY3RvcnkocmVzb2x2ZURlcCh2aWV3LCBlbERlZiwgYWxsb3dQcml2YXRlU2VydmljZXMsIGRlcHNbMF0pLCByZXNvbHZlRGVwKHZpZXcsIGVsRGVmLCBhbGxvd1ByaXZhdGVTZXJ2aWNlcywgZGVwc1sxXSksIHJlc29sdmVEZXAodmlldywgZWxEZWYsIGFsbG93UHJpdmF0ZVNlcnZpY2VzLCBkZXBzWzJdKSk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBkZXBWYWx1ZXMgPSBBcnJheShsZW4pO1xuICAgICAgICAgICAgZm9yICh2YXIgLyoqIEB0eXBlIHs/fSAqLyBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZGVwVmFsdWVzW2ldID0gcmVzb2x2ZURlcCh2aWV3LCBlbERlZiwgYWxsb3dQcml2YXRlU2VydmljZXMsIGRlcHNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhY3RvcnkuYXBwbHkodm9pZCAwLCBkZXBWYWx1ZXMpO1xuICAgIH1cbn1cbi8vIFRoaXMgZGVmYXVsdCB2YWx1ZSBpcyB3aGVuIGNoZWNraW5nIHRoZSBoaWVyYXJjaHkgZm9yIGEgdG9rZW4uXG4vL1xuLy8gSXQgbWVhbnMgYm90aDpcbi8vIC0gdGhlIHRva2VuIGlzIG5vdCBwcm92aWRlZCBieSB0aGUgY3VycmVudCBpbmplY3Rvcixcbi8vIC0gb25seSB0aGUgZWxlbWVudCBpbmplY3RvcnMgc2hvdWxkIGJlIGNoZWNrZWQgKGllIGRvIG5vdCBjaGVjayBtb2R1bGUgaW5qZWN0b3JzXG4vL1xuLy8gICAgICAgICAgbW9kMVxuLy8gICAgICAgICAvXG4vLyAgICAgICBlbDEgICBtb2QyXG4vLyAgICAgICAgIFxcICAvXG4vLyAgICAgICAgIGVsMlxuLy9cbi8vIFdoZW4gcmVxdWVzdGluZyBlbDIuaW5qZWN0b3IuZ2V0KHRva2VuKSwgd2Ugc2hvdWxkIGNoZWNrIGluIHRoZSBmb2xsb3dpbmcgb3JkZXIgYW5kIHJldHVybiB0aGVcbi8vIGZpcnN0IGZvdW5kIHZhbHVlOlxuLy8gLSBlbDIuaW5qZWN0b3IuZ2V0KHRva2VuLCBkZWZhdWx0KVxuLy8gLSBlbDEuaW5qZWN0b3IuZ2V0KHRva2VuLCBOT1RfRk9VTkRfQ0hFQ0tfT05MWV9FTEVNRU5UX0lOSkVDVE9SKSAtPiBkbyBub3QgY2hlY2sgdGhlIG1vZHVsZVxuLy8gLSBtb2QyLmluamVjdG9yLmdldCh0b2tlbiwgZGVmYXVsdClcbnZhciBOT1RfRk9VTkRfQ0hFQ0tfT05MWV9FTEVNRU5UX0lOSkVDVE9SID0ge307XG4vKipcbiAqIEBwYXJhbSB7P30gdmlld1xuICogQHBhcmFtIHs/fSBlbERlZlxuICogQHBhcmFtIHs/fSBhbGxvd1ByaXZhdGVTZXJ2aWNlc1xuICogQHBhcmFtIHs/fSBkZXBEZWZcbiAqIEBwYXJhbSB7Pz19IG5vdEZvdW5kVmFsdWVcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIHJlc29sdmVEZXAodmlldywgZWxEZWYsIGFsbG93UHJpdmF0ZVNlcnZpY2VzLCBkZXBEZWYsIG5vdEZvdW5kVmFsdWUpIHtcbiAgICBpZiAobm90Rm91bmRWYWx1ZSA9PT0gdm9pZCAwKSB7IG5vdEZvdW5kVmFsdWUgPSBJbmplY3Rvci5USFJPV19JRl9OT1RfRk9VTkQ7IH1cbiAgICBpZiAoZGVwRGVmLmZsYWdzICYgOCAvKiBWYWx1ZSAqLykge1xuICAgICAgICByZXR1cm4gZGVwRGVmLnRva2VuO1xuICAgIH1cbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBzdGFydFZpZXcgPSB2aWV3O1xuICAgIGlmIChkZXBEZWYuZmxhZ3MgJiAyIC8qIE9wdGlvbmFsICovKSB7XG4gICAgICAgIG5vdEZvdW5kVmFsdWUgPSBudWxsO1xuICAgIH1cbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyB0b2tlbktleSQkMSA9IGRlcERlZi50b2tlbktleTtcbiAgICBpZiAodG9rZW5LZXkkJDEgPT09IENoYW5nZURldGVjdG9yUmVmVG9rZW5LZXkpIHtcbiAgICAgICAgLy8gZGlyZWN0aXZlcyBvbiB0aGUgc2FtZSBlbGVtZW50IGFzIGEgY29tcG9uZW50IHNob3VsZCBiZSBhYmxlIHRvIGNvbnRyb2wgdGhlIGNoYW5nZSBkZXRlY3RvclxuICAgICAgICAvLyBvZiB0aGF0IGNvbXBvbmVudCBhcyB3ZWxsLlxuICAgICAgICBhbGxvd1ByaXZhdGVTZXJ2aWNlcyA9ICEhKGVsRGVmICYmICgoZWxEZWYuZWxlbWVudCkpLmNvbXBvbmVudFZpZXcpO1xuICAgIH1cbiAgICBpZiAoZWxEZWYgJiYgKGRlcERlZi5mbGFncyAmIDEgLyogU2tpcFNlbGYgKi8pKSB7XG4gICAgICAgIGFsbG93UHJpdmF0ZVNlcnZpY2VzID0gZmFsc2U7XG4gICAgICAgIGVsRGVmID0gKChlbERlZi5wYXJlbnQpKTtcbiAgICB9XG4gICAgd2hpbGUgKHZpZXcpIHtcbiAgICAgICAgaWYgKGVsRGVmKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHRva2VuS2V5JCQxKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBSZW5kZXJlclYxVG9rZW5LZXk6IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gY29tcFZpZXcgPSBmaW5kQ29tcFZpZXcodmlldywgZWxEZWYsIGFsbG93UHJpdmF0ZVNlcnZpY2VzKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVJlbmRlcmVyVjEoY29tcFZpZXcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIFJlbmRlcmVyMlRva2VuS2V5OiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGNvbXBWaWV3ID0gZmluZENvbXBWaWV3KHZpZXcsIGVsRGVmLCBhbGxvd1ByaXZhdGVTZXJ2aWNlcyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb21wVmlldy5yZW5kZXJlcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBFbGVtZW50UmVmVG9rZW5LZXk6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRWxlbWVudFJlZihhc0VsZW1lbnREYXRhKHZpZXcsIGVsRGVmLm5vZGVJbmRleCkucmVuZGVyRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgY2FzZSBWaWV3Q29udGFpbmVyUmVmVG9rZW5LZXk6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhc0VsZW1lbnREYXRhKHZpZXcsIGVsRGVmLm5vZGVJbmRleCkudmlld0NvbnRhaW5lcjtcbiAgICAgICAgICAgICAgICBjYXNlIFRlbXBsYXRlUmVmVG9rZW5LZXk6IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCgoZWxEZWYuZWxlbWVudCkpLnRlbXBsYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXNFbGVtZW50RGF0YSh2aWV3LCBlbERlZi5ub2RlSW5kZXgpLnRlbXBsYXRlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIENoYW5nZURldGVjdG9yUmVmVG9rZW5LZXk6IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gY2RWaWV3ID0gZmluZENvbXBWaWV3KHZpZXcsIGVsRGVmLCBhbGxvd1ByaXZhdGVTZXJ2aWNlcyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDaGFuZ2VEZXRlY3RvclJlZihjZFZpZXcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIEluamVjdG9yUmVmVG9rZW5LZXk6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVJbmplY3Rvcih2aWV3LCBlbERlZik7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcHJvdmlkZXJEZWZfMSA9ICgoKGFsbG93UHJpdmF0ZVNlcnZpY2VzID8gKChlbERlZi5lbGVtZW50KSkuYWxsUHJvdmlkZXJzIDogKChlbERlZi5lbGVtZW50KSkucHVibGljUHJvdmlkZXJzKSkpW3Rva2VuS2V5JCQxXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3ZpZGVyRGVmXzEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIHByb3ZpZGVyRGF0YSA9IGFzUHJvdmlkZXJEYXRhKHZpZXcsIHByb3ZpZGVyRGVmXzEubm9kZUluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcHJvdmlkZXJEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJEYXRhID0geyBpbnN0YW5jZTogX2NyZWF0ZVByb3ZpZGVySW5zdGFuY2UodmlldywgcHJvdmlkZXJEZWZfMSkgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWV3Lm5vZGVzW3Byb3ZpZGVyRGVmXzEubm9kZUluZGV4XSA9IChwcm92aWRlckRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByb3ZpZGVyRGF0YS5pbnN0YW5jZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGFsbG93UHJpdmF0ZVNlcnZpY2VzID0gaXNDb21wb25lbnRWaWV3KHZpZXcpO1xuICAgICAgICBlbERlZiA9ICgodmlld1BhcmVudEVsKHZpZXcpKSk7XG4gICAgICAgIHZpZXcgPSAoKHZpZXcucGFyZW50KSk7XG4gICAgfVxuICAgIHZhciAvKiogQHR5cGUgez99ICovIHZhbHVlID0gc3RhcnRWaWV3LnJvb3QuaW5qZWN0b3IuZ2V0KGRlcERlZi50b2tlbiwgTk9UX0ZPVU5EX0NIRUNLX09OTFlfRUxFTUVOVF9JTkpFQ1RPUik7XG4gICAgaWYgKHZhbHVlICE9PSBOT1RfRk9VTkRfQ0hFQ0tfT05MWV9FTEVNRU5UX0lOSkVDVE9SIHx8XG4gICAgICAgIG5vdEZvdW5kVmFsdWUgPT09IE5PVF9GT1VORF9DSEVDS19PTkxZX0VMRU1FTlRfSU5KRUNUT1IpIHtcbiAgICAgICAgLy8gUmV0dXJuIHRoZSB2YWx1ZSBmcm9tIHRoZSByb290IGVsZW1lbnQgaW5qZWN0b3Igd2hlblxuICAgICAgICAvLyAtIGl0IHByb3ZpZGVzIGl0XG4gICAgICAgIC8vICAgKHZhbHVlICE9PSBOT1RfRk9VTkRfQ0hFQ0tfT05MWV9FTEVNRU5UX0lOSkVDVE9SKVxuICAgICAgICAvLyAtIHRoZSBtb2R1bGUgaW5qZWN0b3Igc2hvdWxkIG5vdCBiZSBjaGVja2VkXG4gICAgICAgIC8vICAgKG5vdEZvdW5kVmFsdWUgPT09IE5PVF9GT1VORF9DSEVDS19PTkxZX0VMRU1FTlRfSU5KRUNUT1IpXG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHN0YXJ0Vmlldy5yb290Lm5nTW9kdWxlLmluamVjdG9yLmdldChkZXBEZWYudG9rZW4sIG5vdEZvdW5kVmFsdWUpO1xufVxuLyoqXG4gKiBAcGFyYW0gez99IHZpZXdcbiAqIEBwYXJhbSB7P30gZWxEZWZcbiAqIEBwYXJhbSB7P30gYWxsb3dQcml2YXRlU2VydmljZXNcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGZpbmRDb21wVmlldyh2aWV3LCBlbERlZiwgYWxsb3dQcml2YXRlU2VydmljZXMpIHtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBjb21wVmlldztcbiAgICBpZiAoYWxsb3dQcml2YXRlU2VydmljZXMpIHtcbiAgICAgICAgY29tcFZpZXcgPSBhc0VsZW1lbnREYXRhKHZpZXcsIGVsRGVmLm5vZGVJbmRleCkuY29tcG9uZW50VmlldztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbXBWaWV3ID0gdmlldztcbiAgICAgICAgd2hpbGUgKGNvbXBWaWV3LnBhcmVudCAmJiAhaXNDb21wb25lbnRWaWV3KGNvbXBWaWV3KSkge1xuICAgICAgICAgICAgY29tcFZpZXcgPSBjb21wVmlldy5wYXJlbnQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNvbXBWaWV3O1xufVxuLyoqXG4gKiBAcGFyYW0gez99IHZpZXdcbiAqIEBwYXJhbSB7P30gcHJvdmlkZXJEYXRhXG4gKiBAcGFyYW0gez99IGRlZlxuICogQHBhcmFtIHs/fSBiaW5kaW5nSWR4XG4gKiBAcGFyYW0gez99IHZhbHVlXG4gKiBAcGFyYW0gez99IGNoYW5nZXNcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIHVwZGF0ZVByb3AodmlldywgcHJvdmlkZXJEYXRhLCBkZWYsIGJpbmRpbmdJZHgsIHZhbHVlLCBjaGFuZ2VzKSB7XG4gICAgaWYgKGRlZi5mbGFncyAmIDMyNzY4IC8qIENvbXBvbmVudCAqLykge1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBjb21wVmlldyA9IGFzRWxlbWVudERhdGEodmlldywgLyoqIEB0eXBlIHs/fSAqLyAoKGRlZi5wYXJlbnQpKS5ub2RlSW5kZXgpLmNvbXBvbmVudFZpZXc7XG4gICAgICAgIGlmIChjb21wVmlldy5kZWYuZmxhZ3MgJiAyIC8qIE9uUHVzaCAqLykge1xuICAgICAgICAgICAgY29tcFZpZXcuc3RhdGUgfD0gOCAvKiBDaGVja3NFbmFibGVkICovO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhciAvKiogQHR5cGUgez99ICovIGJpbmRpbmcgPSBkZWYuYmluZGluZ3NbYmluZGluZ0lkeF07XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcHJvcE5hbWUgPSAoKGJpbmRpbmcubmFtZSkpO1xuICAgIC8vIE5vdGU6IFRoaXMgaXMgc3RpbGwgc2FmZSB3aXRoIENsb3N1cmUgQ29tcGlsZXIgYXNcbiAgICAvLyB0aGUgdXNlciBwYXNzZWQgaW4gdGhlIHByb3BlcnR5IG5hbWUgYXMgYW4gb2JqZWN0IGhhcyB0byBgcHJvdmlkZXJEZWZgLFxuICAgIC8vIHNvIENsb3N1cmUgQ29tcGlsZXIgd2lsbCBoYXZlIHJlbmFtZWQgdGhlIHByb3BlcnR5IGNvcnJlY3RseSBhbHJlYWR5LlxuICAgIHByb3ZpZGVyRGF0YS5pbnN0YW5jZVtwcm9wTmFtZV0gPSB2YWx1ZTtcbiAgICBpZiAoZGVmLmZsYWdzICYgNTI0Mjg4IC8qIE9uQ2hhbmdlcyAqLykge1xuICAgICAgICBjaGFuZ2VzID0gY2hhbmdlcyB8fCB7fTtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gb2xkVmFsdWUgPSB2aWV3Lm9sZFZhbHVlc1tkZWYuYmluZGluZ0luZGV4ICsgYmluZGluZ0lkeF07XG4gICAgICAgIGlmIChvbGRWYWx1ZSBpbnN0YW5jZW9mIFdyYXBwZWRWYWx1ZSkge1xuICAgICAgICAgICAgb2xkVmFsdWUgPSBvbGRWYWx1ZS53cmFwcGVkO1xuICAgICAgICB9XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGJpbmRpbmdfMSA9IGRlZi5iaW5kaW5nc1tiaW5kaW5nSWR4XTtcbiAgICAgICAgY2hhbmdlc1soKGJpbmRpbmdfMS5ub25NaW5pZmllZE5hbWUpKV0gPVxuICAgICAgICAgICAgbmV3IFNpbXBsZUNoYW5nZShvbGRWYWx1ZSwgdmFsdWUsICh2aWV3LnN0YXRlICYgMiAvKiBGaXJzdENoZWNrICovKSAhPT0gMCk7XG4gICAgfVxuICAgIHZpZXcub2xkVmFsdWVzW2RlZi5iaW5kaW5nSW5kZXggKyBiaW5kaW5nSWR4XSA9IHZhbHVlO1xuICAgIHJldHVybiBjaGFuZ2VzO1xufVxuLyoqXG4gKiBAcGFyYW0gez99IHZpZXdcbiAqIEBwYXJhbSB7P30gbGlmZWN5Y2xlc1xuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gY2FsbExpZmVjeWNsZUhvb2tzQ2hpbGRyZW5GaXJzdCh2aWV3LCBsaWZlY3ljbGVzKSB7XG4gICAgaWYgKCEodmlldy5kZWYubm9kZUZsYWdzICYgbGlmZWN5Y2xlcykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBub2RlcyA9IHZpZXcuZGVmLm5vZGVzO1xuICAgIGZvciAodmFyIC8qKiBAdHlwZSB7P30gKi8gaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBub2RlRGVmID0gbm9kZXNbaV07XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIHBhcmVudCA9IG5vZGVEZWYucGFyZW50O1xuICAgICAgICBpZiAoIXBhcmVudCAmJiBub2RlRGVmLmZsYWdzICYgbGlmZWN5Y2xlcykge1xuICAgICAgICAgICAgLy8gbWF0Y2hpbmcgcm9vdCBub2RlIChlLmcuIGEgcGlwZSlcbiAgICAgICAgICAgIGNhbGxQcm92aWRlckxpZmVjeWNsZXModmlldywgaSwgbm9kZURlZi5mbGFncyAmIGxpZmVjeWNsZXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgobm9kZURlZi5jaGlsZEZsYWdzICYgbGlmZWN5Y2xlcykgPT09IDApIHtcbiAgICAgICAgICAgIC8vIG5vIGNoaWxkIG1hdGNoZXMgb25lIG9mIHRoZSBsaWZlY3ljbGVzXG4gICAgICAgICAgICBpICs9IG5vZGVEZWYuY2hpbGRDb3VudDtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAocGFyZW50ICYmIChwYXJlbnQuZmxhZ3MgJiAxIC8qIFR5cGVFbGVtZW50ICovKSAmJlxuICAgICAgICAgICAgaSA9PT0gcGFyZW50Lm5vZGVJbmRleCArIHBhcmVudC5jaGlsZENvdW50KSB7XG4gICAgICAgICAgICAvLyBsYXN0IGNoaWxkIG9mIGFuIGVsZW1lbnRcbiAgICAgICAgICAgIGlmIChwYXJlbnQuZGlyZWN0Q2hpbGRGbGFncyAmIGxpZmVjeWNsZXMpIHtcbiAgICAgICAgICAgICAgICBjYWxsRWxlbWVudFByb3ZpZGVyc0xpZmVjeWNsZXModmlldywgcGFyZW50LCBsaWZlY3ljbGVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7P30gdmlld1xuICogQHBhcmFtIHs/fSBlbERlZlxuICogQHBhcmFtIHs/fSBsaWZlY3ljbGVzXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBjYWxsRWxlbWVudFByb3ZpZGVyc0xpZmVjeWNsZXModmlldywgZWxEZWYsIGxpZmVjeWNsZXMpIHtcbiAgICBmb3IgKHZhciAvKiogQHR5cGUgez99ICovIGkgPSBlbERlZi5ub2RlSW5kZXggKyAxOyBpIDw9IGVsRGVmLm5vZGVJbmRleCArIGVsRGVmLmNoaWxkQ291bnQ7IGkrKykge1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBub2RlRGVmID0gdmlldy5kZWYubm9kZXNbaV07XG4gICAgICAgIGlmIChub2RlRGVmLmZsYWdzICYgbGlmZWN5Y2xlcykge1xuICAgICAgICAgICAgY2FsbFByb3ZpZGVyTGlmZWN5Y2xlcyh2aWV3LCBpLCBub2RlRGVmLmZsYWdzICYgbGlmZWN5Y2xlcyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gb25seSB2aXNpdCBkaXJlY3QgY2hpbGRyZW5cbiAgICAgICAgaSArPSBub2RlRGVmLmNoaWxkQ291bnQ7XG4gICAgfVxufVxuLyoqXG4gKiBAcGFyYW0gez99IHZpZXdcbiAqIEBwYXJhbSB7P30gaW5kZXhcbiAqIEBwYXJhbSB7P30gbGlmZWN5Y2xlc1xuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gY2FsbFByb3ZpZGVyTGlmZWN5Y2xlcyh2aWV3LCBpbmRleCwgbGlmZWN5Y2xlcykge1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIHByb3ZpZGVyRGF0YSA9IGFzUHJvdmlkZXJEYXRhKHZpZXcsIGluZGV4KTtcbiAgICBpZiAoIXByb3ZpZGVyRGF0YSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciAvKiogQHR5cGUgez99ICovIHByb3ZpZGVyID0gcHJvdmlkZXJEYXRhLmluc3RhbmNlO1xuICAgIGlmICghcHJvdmlkZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBTZXJ2aWNlcy5zZXRDdXJyZW50Tm9kZSh2aWV3LCBpbmRleCk7XG4gICAgaWYgKGxpZmVjeWNsZXMgJiAxMDQ4NTc2IC8qIEFmdGVyQ29udGVudEluaXQgKi8pIHtcbiAgICAgICAgcHJvdmlkZXIubmdBZnRlckNvbnRlbnRJbml0KCk7XG4gICAgfVxuICAgIGlmIChsaWZlY3ljbGVzICYgMjA5NzE1MiAvKiBBZnRlckNvbnRlbnRDaGVja2VkICovKSB7XG4gICAgICAgIHByb3ZpZGVyLm5nQWZ0ZXJDb250ZW50Q2hlY2tlZCgpO1xuICAgIH1cbiAgICBpZiAobGlmZWN5Y2xlcyAmIDQxOTQzMDQgLyogQWZ0ZXJWaWV3SW5pdCAqLykge1xuICAgICAgICBwcm92aWRlci5uZ0FmdGVyVmlld0luaXQoKTtcbiAgICB9XG4gICAgaWYgKGxpZmVjeWNsZXMgJiA4Mzg4NjA4IC8qIEFmdGVyVmlld0NoZWNrZWQgKi8pIHtcbiAgICAgICAgcHJvdmlkZXIubmdBZnRlclZpZXdDaGVja2VkKCk7XG4gICAgfVxuICAgIGlmIChsaWZlY3ljbGVzICYgMTMxMDcyIC8qIE9uRGVzdHJveSAqLykge1xuICAgICAgICBwcm92aWRlci5uZ09uRGVzdHJveSgpO1xuICAgIH1cbn1cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQHBhcmFtIHs/fSBmbGFnc1xuICogQHBhcmFtIHs/fSBpZFxuICogQHBhcmFtIHs/fSBiaW5kaW5nc1xuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gcXVlcnlEZWYoZmxhZ3MsIGlkLCBiaW5kaW5ncykge1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIGJpbmRpbmdEZWZzID0gW107XG4gICAgZm9yICh2YXIgLyoqIEB0eXBlIHs/fSAqLyBwcm9wTmFtZSBpbiBiaW5kaW5ncykge1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBiaW5kaW5nVHlwZSA9IGJpbmRpbmdzW3Byb3BOYW1lXTtcbiAgICAgICAgYmluZGluZ0RlZnMucHVzaCh7IHByb3BOYW1lOiBwcm9wTmFtZSwgYmluZGluZ1R5cGU6IGJpbmRpbmdUeXBlIH0pO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICAvLyB3aWxsIGJldCBzZXQgYnkgdGhlIHZpZXcgZGVmaW5pdGlvblxuICAgICAgICBub2RlSW5kZXg6IC0xLFxuICAgICAgICBwYXJlbnQ6IG51bGwsXG4gICAgICAgIHJlbmRlclBhcmVudDogbnVsbCxcbiAgICAgICAgYmluZGluZ0luZGV4OiAtMSxcbiAgICAgICAgb3V0cHV0SW5kZXg6IC0xLFxuICAgICAgICAvLyByZWd1bGFyIHZhbHVlc1xuICAgICAgICAvLyBUT0RPKHZpY2IpOiBjaGVja1xuICAgICAgICBjaGVja0luZGV4OiAtMSwgZmxhZ3M6IGZsYWdzLFxuICAgICAgICBjaGlsZEZsYWdzOiAwLFxuICAgICAgICBkaXJlY3RDaGlsZEZsYWdzOiAwLFxuICAgICAgICBjaGlsZE1hdGNoZWRRdWVyaWVzOiAwLFxuICAgICAgICBuZ0NvbnRlbnRJbmRleDogLTEsXG4gICAgICAgIG1hdGNoZWRRdWVyaWVzOiB7fSxcbiAgICAgICAgbWF0Y2hlZFF1ZXJ5SWRzOiAwLFxuICAgICAgICByZWZlcmVuY2VzOiB7fSxcbiAgICAgICAgY2hpbGRDb3VudDogMCxcbiAgICAgICAgYmluZGluZ3M6IFtdLFxuICAgICAgICBiaW5kaW5nRmxhZ3M6IDAsXG4gICAgICAgIG91dHB1dHM6IFtdLFxuICAgICAgICBlbGVtZW50OiBudWxsLFxuICAgICAgICBwcm92aWRlcjogbnVsbCxcbiAgICAgICAgdGV4dDogbnVsbCxcbiAgICAgICAgcXVlcnk6IHsgaWQ6IGlkLCBmaWx0ZXJJZDogZmlsdGVyUXVlcnlJZChpZCksIGJpbmRpbmdzOiBiaW5kaW5nRGVmcyB9LFxuICAgICAgICBuZ0NvbnRlbnQ6IG51bGxcbiAgICB9O1xufVxuLyoqXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBjcmVhdGVRdWVyeSgpIHtcbiAgICByZXR1cm4gbmV3IFF1ZXJ5TGlzdCgpO1xufVxuLyoqXG4gKiBAcGFyYW0gez99IHZpZXdcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGRpcnR5UGFyZW50UXVlcmllcyh2aWV3KSB7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcXVlcnlJZHMgPSB2aWV3LmRlZi5ub2RlTWF0Y2hlZFF1ZXJpZXM7XG4gICAgd2hpbGUgKHZpZXcucGFyZW50ICYmIGlzRW1iZWRkZWRWaWV3KHZpZXcpKSB7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIHRwbERlZiA9ICgodmlldy5wYXJlbnROb2RlRGVmKSk7XG4gICAgICAgIHZpZXcgPSB2aWV3LnBhcmVudDtcbiAgICAgICAgLy8gY29udGVudCBxdWVyaWVzXG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGVuZCA9IHRwbERlZi5ub2RlSW5kZXggKyB0cGxEZWYuY2hpbGRDb3VudDtcbiAgICAgICAgZm9yICh2YXIgLyoqIEB0eXBlIHs/fSAqLyBpID0gMDsgaSA8PSBlbmQ7IGkrKykge1xuICAgICAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gbm9kZURlZiA9IHZpZXcuZGVmLm5vZGVzW2ldO1xuICAgICAgICAgICAgaWYgKChub2RlRGVmLmZsYWdzICYgNjcxMDg4NjQgLyogVHlwZUNvbnRlbnRRdWVyeSAqLykgJiZcbiAgICAgICAgICAgICAgICAobm9kZURlZi5mbGFncyAmIDUzNjg3MDkxMiAvKiBEeW5hbWljUXVlcnkgKi8pICYmXG4gICAgICAgICAgICAgICAgKCgobm9kZURlZi5xdWVyeSkpLmZpbHRlcklkICYgcXVlcnlJZHMpID09PSAoKG5vZGVEZWYucXVlcnkpKS5maWx0ZXJJZCkge1xuICAgICAgICAgICAgICAgIGFzUXVlcnlMaXN0KHZpZXcsIGkpLnNldERpcnR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKG5vZGVEZWYuZmxhZ3MgJiAxIC8qIFR5cGVFbGVtZW50ICovICYmIGkgKyBub2RlRGVmLmNoaWxkQ291bnQgPCB0cGxEZWYubm9kZUluZGV4KSB8fFxuICAgICAgICAgICAgICAgICEobm9kZURlZi5jaGlsZEZsYWdzICYgNjcxMDg4NjQgLyogVHlwZUNvbnRlbnRRdWVyeSAqLykgfHxcbiAgICAgICAgICAgICAgICAhKG5vZGVEZWYuY2hpbGRGbGFncyAmIDUzNjg3MDkxMiAvKiBEeW5hbWljUXVlcnkgKi8pKSB7XG4gICAgICAgICAgICAgICAgLy8gc2tpcCBlbGVtZW50cyB0aGF0IGRvbid0IGNvbnRhaW4gdGhlIHRlbXBsYXRlIGVsZW1lbnQgb3Igbm8gcXVlcnkuXG4gICAgICAgICAgICAgICAgaSArPSBub2RlRGVmLmNoaWxkQ291bnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gdmlldyBxdWVyaWVzXG4gICAgaWYgKHZpZXcuZGVmLm5vZGVGbGFncyAmIDEzNDIxNzcyOCAvKiBUeXBlVmlld1F1ZXJ5ICovKSB7XG4gICAgICAgIGZvciAodmFyIC8qKiBAdHlwZSB7P30gKi8gaSA9IDA7IGkgPCB2aWV3LmRlZi5ub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gbm9kZURlZiA9IHZpZXcuZGVmLm5vZGVzW2ldO1xuICAgICAgICAgICAgaWYgKChub2RlRGVmLmZsYWdzICYgMTM0MjE3NzI4IC8qIFR5cGVWaWV3UXVlcnkgKi8pICYmIChub2RlRGVmLmZsYWdzICYgNTM2ODcwOTEyIC8qIER5bmFtaWNRdWVyeSAqLykpIHtcbiAgICAgICAgICAgICAgICBhc1F1ZXJ5TGlzdCh2aWV3LCBpKS5zZXREaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gb25seSB2aXNpdCB0aGUgcm9vdCBub2Rlc1xuICAgICAgICAgICAgaSArPSBub2RlRGVmLmNoaWxkQ291bnQ7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7P30gdmlld1xuICogQHBhcmFtIHs/fSBub2RlRGVmXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBjaGVja0FuZFVwZGF0ZVF1ZXJ5KHZpZXcsIG5vZGVEZWYpIHtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBxdWVyeUxpc3QgPSBhc1F1ZXJ5TGlzdCh2aWV3LCBub2RlRGVmLm5vZGVJbmRleCk7XG4gICAgaWYgKCFxdWVyeUxpc3QuZGlydHkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBkaXJlY3RpdmVJbnN0YW5jZTtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBuZXdWYWx1ZXMgPSAoKHVuZGVmaW5lZCkpO1xuICAgIGlmIChub2RlRGVmLmZsYWdzICYgNjcxMDg4NjQgLyogVHlwZUNvbnRlbnRRdWVyeSAqLykge1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBlbGVtZW50RGVmXzEgPSAoKCgobm9kZURlZi5wYXJlbnQpKS5wYXJlbnQpKTtcbiAgICAgICAgbmV3VmFsdWVzID0gY2FsY1F1ZXJ5VmFsdWVzKHZpZXcsIGVsZW1lbnREZWZfMS5ub2RlSW5kZXgsIGVsZW1lbnREZWZfMS5ub2RlSW5kZXggKyBlbGVtZW50RGVmXzEuY2hpbGRDb3VudCwgLyoqIEB0eXBlIHs/fSAqLyAoKG5vZGVEZWYucXVlcnkpKSwgW10pO1xuICAgICAgICBkaXJlY3RpdmVJbnN0YW5jZSA9IGFzUHJvdmlkZXJEYXRhKHZpZXcsIC8qKiBAdHlwZSB7P30gKi8gKChub2RlRGVmLnBhcmVudCkpLm5vZGVJbmRleCkuaW5zdGFuY2U7XG4gICAgfVxuICAgIGVsc2UgaWYgKG5vZGVEZWYuZmxhZ3MgJiAxMzQyMTc3MjggLyogVHlwZVZpZXdRdWVyeSAqLykge1xuICAgICAgICBuZXdWYWx1ZXMgPSBjYWxjUXVlcnlWYWx1ZXModmlldywgMCwgdmlldy5kZWYubm9kZXMubGVuZ3RoIC0gMSwgLyoqIEB0eXBlIHs/fSAqLyAoKG5vZGVEZWYucXVlcnkpKSwgW10pO1xuICAgICAgICBkaXJlY3RpdmVJbnN0YW5jZSA9IHZpZXcuY29tcG9uZW50O1xuICAgIH1cbiAgICBxdWVyeUxpc3QucmVzZXQobmV3VmFsdWVzKTtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBiaW5kaW5ncyA9ICgobm9kZURlZi5xdWVyeSkpLmJpbmRpbmdzO1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIG5vdGlmeSA9IGZhbHNlO1xuICAgIGZvciAodmFyIC8qKiBAdHlwZSB7P30gKi8gaSA9IDA7IGkgPCBiaW5kaW5ncy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBiaW5kaW5nID0gYmluZGluZ3NbaV07XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGJvdW5kVmFsdWUgPSB2b2lkIDA7XG4gICAgICAgIHN3aXRjaCAoYmluZGluZy5iaW5kaW5nVHlwZSkge1xuICAgICAgICAgICAgY2FzZSAwIC8qIEZpcnN0ICovOlxuICAgICAgICAgICAgICAgIGJvdW5kVmFsdWUgPSBxdWVyeUxpc3QuZmlyc3Q7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDEgLyogQWxsICovOlxuICAgICAgICAgICAgICAgIGJvdW5kVmFsdWUgPSBxdWVyeUxpc3Q7XG4gICAgICAgICAgICAgICAgbm90aWZ5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBkaXJlY3RpdmVJbnN0YW5jZVtiaW5kaW5nLnByb3BOYW1lXSA9IGJvdW5kVmFsdWU7XG4gICAgfVxuICAgIGlmIChub3RpZnkpIHtcbiAgICAgICAgcXVlcnlMaXN0Lm5vdGlmeU9uQ2hhbmdlcygpO1xuICAgIH1cbn1cbi8qKlxuICogQHBhcmFtIHs/fSB2aWV3XG4gKiBAcGFyYW0gez99IHN0YXJ0SW5kZXhcbiAqIEBwYXJhbSB7P30gZW5kSW5kZXhcbiAqIEBwYXJhbSB7P30gcXVlcnlEZWZcbiAqIEBwYXJhbSB7P30gdmFsdWVzXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBjYWxjUXVlcnlWYWx1ZXModmlldywgc3RhcnRJbmRleCwgZW5kSW5kZXgsIHF1ZXJ5RGVmLCB2YWx1ZXMpIHtcbiAgICBmb3IgKHZhciAvKiogQHR5cGUgez99ICovIGkgPSBzdGFydEluZGV4OyBpIDw9IGVuZEluZGV4OyBpKyspIHtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gbm9kZURlZiA9IHZpZXcuZGVmLm5vZGVzW2ldO1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyB2YWx1ZVR5cGUgPSBub2RlRGVmLm1hdGNoZWRRdWVyaWVzW3F1ZXJ5RGVmLmlkXTtcbiAgICAgICAgaWYgKHZhbHVlVHlwZSAhPSBudWxsKSB7XG4gICAgICAgICAgICB2YWx1ZXMucHVzaChnZXRRdWVyeVZhbHVlKHZpZXcsIG5vZGVEZWYsIHZhbHVlVHlwZSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlRGVmLmZsYWdzICYgMSAvKiBUeXBlRWxlbWVudCAqLyAmJiAoKG5vZGVEZWYuZWxlbWVudCkpLnRlbXBsYXRlICYmXG4gICAgICAgICAgICAoKCgoKG5vZGVEZWYuZWxlbWVudCkpLnRlbXBsYXRlKSkubm9kZU1hdGNoZWRRdWVyaWVzICYgcXVlcnlEZWYuZmlsdGVySWQpID09PVxuICAgICAgICAgICAgICAgIHF1ZXJ5RGVmLmZpbHRlcklkKSB7XG4gICAgICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBlbGVtZW50RGF0YSA9IGFzRWxlbWVudERhdGEodmlldywgaSk7XG4gICAgICAgICAgICAvLyBjaGVjayBlbWJlZGRlZCB2aWV3cyB0aGF0IHdlcmUgYXR0YWNoZWQgYXQgdGhlIHBsYWNlIG9mIHRoZWlyIHRlbXBsYXRlLFxuICAgICAgICAgICAgLy8gYnV0IHByb2Nlc3MgY2hpbGQgbm9kZXMgZmlyc3QgaWYgc29tZSBtYXRjaCB0aGUgcXVlcnkgKHNlZSBpc3N1ZSAjMTY1NjgpXG4gICAgICAgICAgICBpZiAoKG5vZGVEZWYuY2hpbGRNYXRjaGVkUXVlcmllcyAmIHF1ZXJ5RGVmLmZpbHRlcklkKSA9PT0gcXVlcnlEZWYuZmlsdGVySWQpIHtcbiAgICAgICAgICAgICAgICBjYWxjUXVlcnlWYWx1ZXModmlldywgaSArIDEsIGkgKyBub2RlRGVmLmNoaWxkQ291bnQsIHF1ZXJ5RGVmLCB2YWx1ZXMpO1xuICAgICAgICAgICAgICAgIGkgKz0gbm9kZURlZi5jaGlsZENvdW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5vZGVEZWYuZmxhZ3MgJiAxNjc3NzIxNiAvKiBFbWJlZGRlZFZpZXdzICovKSB7XG4gICAgICAgICAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gZW1iZWRkZWRWaWV3cyA9ICgoZWxlbWVudERhdGEudmlld0NvbnRhaW5lcikpLl9lbWJlZGRlZFZpZXdzO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIC8qKiBAdHlwZSB7P30gKi8gayA9IDA7IGsgPCBlbWJlZGRlZFZpZXdzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGVtYmVkZGVkVmlldyA9IGVtYmVkZGVkVmlld3Nba107XG4gICAgICAgICAgICAgICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGR2YyA9IGRlY2xhcmVkVmlld0NvbnRhaW5lcihlbWJlZGRlZFZpZXcpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZHZjICYmIGR2YyA9PT0gZWxlbWVudERhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGNRdWVyeVZhbHVlcyhlbWJlZGRlZFZpZXcsIDAsIGVtYmVkZGVkVmlldy5kZWYubm9kZXMubGVuZ3RoIC0gMSwgcXVlcnlEZWYsIHZhbHVlcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBwcm9qZWN0ZWRWaWV3cyA9IGVsZW1lbnREYXRhLnRlbXBsYXRlLl9wcm9qZWN0ZWRWaWV3cztcbiAgICAgICAgICAgIGlmIChwcm9qZWN0ZWRWaWV3cykge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIC8qKiBAdHlwZSB7P30gKi8gayA9IDA7IGsgPCBwcm9qZWN0ZWRWaWV3cy5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBwcm9qZWN0ZWRWaWV3ID0gcHJvamVjdGVkVmlld3Nba107XG4gICAgICAgICAgICAgICAgICAgIGNhbGNRdWVyeVZhbHVlcyhwcm9qZWN0ZWRWaWV3LCAwLCBwcm9qZWN0ZWRWaWV3LmRlZi5ub2Rlcy5sZW5ndGggLSAxLCBxdWVyeURlZiwgdmFsdWVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChub2RlRGVmLmNoaWxkTWF0Y2hlZFF1ZXJpZXMgJiBxdWVyeURlZi5maWx0ZXJJZCkgIT09IHF1ZXJ5RGVmLmZpbHRlcklkKSB7XG4gICAgICAgICAgICAvLyBpZiBubyBjaGlsZCBtYXRjaGVzIHRoZSBxdWVyeSwgc2tpcCB0aGUgY2hpbGRyZW4uXG4gICAgICAgICAgICBpICs9IG5vZGVEZWYuY2hpbGRDb3VudDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdmFsdWVzO1xufVxuLyoqXG4gKiBAcGFyYW0gez99IHZpZXdcbiAqIEBwYXJhbSB7P30gbm9kZURlZlxuICogQHBhcmFtIHs/fSBxdWVyeVZhbHVlVHlwZVxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gZ2V0UXVlcnlWYWx1ZSh2aWV3LCBub2RlRGVmLCBxdWVyeVZhbHVlVHlwZSkge1xuICAgIGlmIChxdWVyeVZhbHVlVHlwZSAhPSBudWxsKSB7XG4gICAgICAgIC8vIGEgbWF0Y2hcbiAgICAgICAgc3dpdGNoIChxdWVyeVZhbHVlVHlwZSkge1xuICAgICAgICAgICAgY2FzZSAxIC8qIFJlbmRlckVsZW1lbnQgKi86XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFzRWxlbWVudERhdGEodmlldywgbm9kZURlZi5ub2RlSW5kZXgpLnJlbmRlckVsZW1lbnQ7XG4gICAgICAgICAgICBjYXNlIDAgLyogRWxlbWVudFJlZiAqLzpcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEVsZW1lbnRSZWYoYXNFbGVtZW50RGF0YSh2aWV3LCBub2RlRGVmLm5vZGVJbmRleCkucmVuZGVyRWxlbWVudCk7XG4gICAgICAgICAgICBjYXNlIDIgLyogVGVtcGxhdGVSZWYgKi86XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFzRWxlbWVudERhdGEodmlldywgbm9kZURlZi5ub2RlSW5kZXgpLnRlbXBsYXRlO1xuICAgICAgICAgICAgY2FzZSAzIC8qIFZpZXdDb250YWluZXJSZWYgKi86XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFzRWxlbWVudERhdGEodmlldywgbm9kZURlZi5ub2RlSW5kZXgpLnZpZXdDb250YWluZXI7XG4gICAgICAgICAgICBjYXNlIDQgLyogUHJvdmlkZXIgKi86XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFzUHJvdmlkZXJEYXRhKHZpZXcsIG5vZGVEZWYubm9kZUluZGV4KS5pbnN0YW5jZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQHBhcmFtIHs/fSBuZ0NvbnRlbnRJbmRleFxuICogQHBhcmFtIHs/fSBpbmRleFxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gbmdDb250ZW50RGVmKG5nQ29udGVudEluZGV4LCBpbmRleCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIC8vIHdpbGwgYmV0IHNldCBieSB0aGUgdmlldyBkZWZpbml0aW9uXG4gICAgICAgIG5vZGVJbmRleDogLTEsXG4gICAgICAgIHBhcmVudDogbnVsbCxcbiAgICAgICAgcmVuZGVyUGFyZW50OiBudWxsLFxuICAgICAgICBiaW5kaW5nSW5kZXg6IC0xLFxuICAgICAgICBvdXRwdXRJbmRleDogLTEsXG4gICAgICAgIC8vIHJlZ3VsYXIgdmFsdWVzXG4gICAgICAgIGNoZWNrSW5kZXg6IC0xLFxuICAgICAgICBmbGFnczogOCAvKiBUeXBlTmdDb250ZW50ICovLFxuICAgICAgICBjaGlsZEZsYWdzOiAwLFxuICAgICAgICBkaXJlY3RDaGlsZEZsYWdzOiAwLFxuICAgICAgICBjaGlsZE1hdGNoZWRRdWVyaWVzOiAwLFxuICAgICAgICBtYXRjaGVkUXVlcmllczoge30sXG4gICAgICAgIG1hdGNoZWRRdWVyeUlkczogMCxcbiAgICAgICAgcmVmZXJlbmNlczoge30sIG5nQ29udGVudEluZGV4OiBuZ0NvbnRlbnRJbmRleCxcbiAgICAgICAgY2hpbGRDb3VudDogMCxcbiAgICAgICAgYmluZGluZ3M6IFtdLFxuICAgICAgICBiaW5kaW5nRmxhZ3M6IDAsXG4gICAgICAgIG91dHB1dHM6IFtdLFxuICAgICAgICBlbGVtZW50OiBudWxsLFxuICAgICAgICBwcm92aWRlcjogbnVsbCxcbiAgICAgICAgdGV4dDogbnVsbCxcbiAgICAgICAgcXVlcnk6IG51bGwsXG4gICAgICAgIG5nQ29udGVudDogeyBpbmRleDogaW5kZXggfVxuICAgIH07XG59XG4vKipcbiAqIEBwYXJhbSB7P30gdmlld1xuICogQHBhcmFtIHs/fSByZW5kZXJIb3N0XG4gKiBAcGFyYW0gez99IGRlZlxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gYXBwZW5kTmdDb250ZW50KHZpZXcsIHJlbmRlckhvc3QsIGRlZikge1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIHBhcmVudEVsID0gZ2V0UGFyZW50UmVuZGVyRWxlbWVudCh2aWV3LCByZW5kZXJIb3N0LCBkZWYpO1xuICAgIGlmICghcGFyZW50RWwpIHtcbiAgICAgICAgLy8gTm90aGluZyB0byBkbyBpZiB0aGVyZSBpcyBubyBwYXJlbnQgZWxlbWVudC5cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBuZ0NvbnRlbnRJbmRleCA9ICgoZGVmLm5nQ29udGVudCkpLmluZGV4O1xuICAgIHZpc2l0UHJvamVjdGVkUmVuZGVyTm9kZXModmlldywgbmdDb250ZW50SW5kZXgsIDEgLyogQXBwZW5kQ2hpbGQgKi8sIHBhcmVudEVsLCBudWxsLCB1bmRlZmluZWQpO1xufVxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBAcGFyYW0gez99IGNoZWNrSW5kZXhcbiAqIEBwYXJhbSB7P30gYXJnQ291bnRcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIHB1cmVQaXBlRGVmKGNoZWNrSW5kZXgsIGFyZ0NvdW50KSB7XG4gICAgLy8gYXJnQ291bnQgKyAxIHRvIGluY2x1ZGUgdGhlIHBpcGUgYXMgZmlyc3QgYXJnXG4gICAgcmV0dXJuIF9wdXJlRXhwcmVzc2lvbkRlZigxMjggLyogVHlwZVB1cmVQaXBlICovLCBjaGVja0luZGV4LCBuZXcgQXJyYXkoYXJnQ291bnQgKyAxKSk7XG59XG4vKipcbiAqIEBwYXJhbSB7P30gY2hlY2tJbmRleFxuICogQHBhcmFtIHs/fSBhcmdDb3VudFxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gcHVyZUFycmF5RGVmKGNoZWNrSW5kZXgsIGFyZ0NvdW50KSB7XG4gICAgcmV0dXJuIF9wdXJlRXhwcmVzc2lvbkRlZigzMiAvKiBUeXBlUHVyZUFycmF5ICovLCBjaGVja0luZGV4LCBuZXcgQXJyYXkoYXJnQ291bnQpKTtcbn1cbi8qKlxuICogQHBhcmFtIHs/fSBjaGVja0luZGV4XG4gKiBAcGFyYW0gez99IHByb3BUb0luZGV4XG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBwdXJlT2JqZWN0RGVmKGNoZWNrSW5kZXgsIHByb3BUb0luZGV4KSB7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8ga2V5cyA9IE9iamVjdC5rZXlzKHByb3BUb0luZGV4KTtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBuYktleXMgPSBrZXlzLmxlbmd0aDtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBwcm9wZXJ0eU5hbWVzID0gbmV3IEFycmF5KG5iS2V5cyk7XG4gICAgZm9yICh2YXIgLyoqIEB0eXBlIHs/fSAqLyBpID0gMDsgaSA8IG5iS2V5czsgaSsrKSB7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGtleSA9IGtleXNbaV07XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGluZGV4ID0gcHJvcFRvSW5kZXhba2V5XTtcbiAgICAgICAgcHJvcGVydHlOYW1lc1tpbmRleF0gPSBrZXk7XG4gICAgfVxuICAgIHJldHVybiBfcHVyZUV4cHJlc3Npb25EZWYoNjQgLyogVHlwZVB1cmVPYmplY3QgKi8sIGNoZWNrSW5kZXgsIHByb3BlcnR5TmFtZXMpO1xufVxuLyoqXG4gKiBAcGFyYW0gez99IGZsYWdzXG4gKiBAcGFyYW0gez99IGNoZWNrSW5kZXhcbiAqIEBwYXJhbSB7P30gcHJvcGVydHlOYW1lc1xuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gX3B1cmVFeHByZXNzaW9uRGVmKGZsYWdzLCBjaGVja0luZGV4LCBwcm9wZXJ0eU5hbWVzKSB7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gYmluZGluZ3MgPSBuZXcgQXJyYXkocHJvcGVydHlOYW1lcy5sZW5ndGgpO1xuICAgIGZvciAodmFyIC8qKiBAdHlwZSB7P30gKi8gaSA9IDA7IGkgPCBwcm9wZXJ0eU5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIHByb3AgPSBwcm9wZXJ0eU5hbWVzW2ldO1xuICAgICAgICBiaW5kaW5nc1tpXSA9IHtcbiAgICAgICAgICAgIGZsYWdzOiA4IC8qIFR5cGVQcm9wZXJ0eSAqLyxcbiAgICAgICAgICAgIG5hbWU6IHByb3AsXG4gICAgICAgICAgICBuczogbnVsbCxcbiAgICAgICAgICAgIG5vbk1pbmlmaWVkTmFtZTogcHJvcCxcbiAgICAgICAgICAgIHNlY3VyaXR5Q29udGV4dDogbnVsbCxcbiAgICAgICAgICAgIHN1ZmZpeDogbnVsbFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICAvLyB3aWxsIGJldCBzZXQgYnkgdGhlIHZpZXcgZGVmaW5pdGlvblxuICAgICAgICBub2RlSW5kZXg6IC0xLFxuICAgICAgICBwYXJlbnQ6IG51bGwsXG4gICAgICAgIHJlbmRlclBhcmVudDogbnVsbCxcbiAgICAgICAgYmluZGluZ0luZGV4OiAtMSxcbiAgICAgICAgb3V0cHV0SW5kZXg6IC0xLFxuICAgICAgICAvLyByZWd1bGFyIHZhbHVlc1xuICAgICAgICBjaGVja0luZGV4OiBjaGVja0luZGV4LFxuICAgICAgICBmbGFnczogZmxhZ3MsXG4gICAgICAgIGNoaWxkRmxhZ3M6IDAsXG4gICAgICAgIGRpcmVjdENoaWxkRmxhZ3M6IDAsXG4gICAgICAgIGNoaWxkTWF0Y2hlZFF1ZXJpZXM6IDAsXG4gICAgICAgIG1hdGNoZWRRdWVyaWVzOiB7fSxcbiAgICAgICAgbWF0Y2hlZFF1ZXJ5SWRzOiAwLFxuICAgICAgICByZWZlcmVuY2VzOiB7fSxcbiAgICAgICAgbmdDb250ZW50SW5kZXg6IC0xLFxuICAgICAgICBjaGlsZENvdW50OiAwLCBiaW5kaW5nczogYmluZGluZ3MsXG4gICAgICAgIGJpbmRpbmdGbGFnczogY2FsY0JpbmRpbmdGbGFncyhiaW5kaW5ncyksXG4gICAgICAgIG91dHB1dHM6IFtdLFxuICAgICAgICBlbGVtZW50OiBudWxsLFxuICAgICAgICBwcm92aWRlcjogbnVsbCxcbiAgICAgICAgdGV4dDogbnVsbCxcbiAgICAgICAgcXVlcnk6IG51bGwsXG4gICAgICAgIG5nQ29udGVudDogbnVsbFxuICAgIH07XG59XG4vKipcbiAqIEBwYXJhbSB7P30gdmlld1xuICogQHBhcmFtIHs/fSBkZWZcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVB1cmVFeHByZXNzaW9uKHZpZXcsIGRlZikge1xuICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQgfTtcbn1cbi8qKlxuICogQHBhcmFtIHs/fSB2aWV3XG4gKiBAcGFyYW0gez99IGRlZlxuICogQHBhcmFtIHs/fSB2MFxuICogQHBhcmFtIHs/fSB2MVxuICogQHBhcmFtIHs/fSB2MlxuICogQHBhcmFtIHs/fSB2M1xuICogQHBhcmFtIHs/fSB2NFxuICogQHBhcmFtIHs/fSB2NVxuICogQHBhcmFtIHs/fSB2NlxuICogQHBhcmFtIHs/fSB2N1xuICogQHBhcmFtIHs/fSB2OFxuICogQHBhcmFtIHs/fSB2OVxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gY2hlY2tBbmRVcGRhdGVQdXJlRXhwcmVzc2lvbklubGluZSh2aWV3LCBkZWYsIHYwLCB2MSwgdjIsIHYzLCB2NCwgdjUsIHY2LCB2NywgdjgsIHY5KSB7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gYmluZGluZ3MgPSBkZWYuYmluZGluZ3M7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gY2hhbmdlZCA9IGZhbHNlO1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIGJpbmRMZW4gPSBiaW5kaW5ncy5sZW5ndGg7XG4gICAgaWYgKGJpbmRMZW4gPiAwICYmIGNoZWNrQW5kVXBkYXRlQmluZGluZyh2aWV3LCBkZWYsIDAsIHYwKSlcbiAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgaWYgKGJpbmRMZW4gPiAxICYmIGNoZWNrQW5kVXBkYXRlQmluZGluZyh2aWV3LCBkZWYsIDEsIHYxKSlcbiAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgaWYgKGJpbmRMZW4gPiAyICYmIGNoZWNrQW5kVXBkYXRlQmluZGluZyh2aWV3LCBkZWYsIDIsIHYyKSlcbiAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgaWYgKGJpbmRMZW4gPiAzICYmIGNoZWNrQW5kVXBkYXRlQmluZGluZyh2aWV3LCBkZWYsIDMsIHYzKSlcbiAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgaWYgKGJpbmRMZW4gPiA0ICYmIGNoZWNrQW5kVXBkYXRlQmluZGluZyh2aWV3LCBkZWYsIDQsIHY0KSlcbiAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgaWYgKGJpbmRMZW4gPiA1ICYmIGNoZWNrQW5kVXBkYXRlQmluZGluZyh2aWV3LCBkZWYsIDUsIHY1KSlcbiAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgaWYgKGJpbmRMZW4gPiA2ICYmIGNoZWNrQW5kVXBkYXRlQmluZGluZyh2aWV3LCBkZWYsIDYsIHY2KSlcbiAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgaWYgKGJpbmRMZW4gPiA3ICYmIGNoZWNrQW5kVXBkYXRlQmluZGluZyh2aWV3LCBkZWYsIDcsIHY3KSlcbiAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgaWYgKGJpbmRMZW4gPiA4ICYmIGNoZWNrQW5kVXBkYXRlQmluZGluZyh2aWV3LCBkZWYsIDgsIHY4KSlcbiAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgaWYgKGJpbmRMZW4gPiA5ICYmIGNoZWNrQW5kVXBkYXRlQmluZGluZyh2aWV3LCBkZWYsIDksIHY5KSlcbiAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgaWYgKGNoYW5nZWQpIHtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gZGF0YSA9IGFzUHVyZUV4cHJlc3Npb25EYXRhKHZpZXcsIGRlZi5ub2RlSW5kZXgpO1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyB2YWx1ZSA9IHZvaWQgMDtcbiAgICAgICAgc3dpdGNoIChkZWYuZmxhZ3MgJiAyMDEzNDcwNjcgLyogVHlwZXMgKi8pIHtcbiAgICAgICAgICAgIGNhc2UgMzIgLyogVHlwZVB1cmVBcnJheSAqLzpcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IG5ldyBBcnJheShiaW5kaW5ncy5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIGlmIChiaW5kTGVuID4gMClcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVbMF0gPSB2MDtcbiAgICAgICAgICAgICAgICBpZiAoYmluZExlbiA+IDEpXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlWzFdID0gdjE7XG4gICAgICAgICAgICAgICAgaWYgKGJpbmRMZW4gPiAyKVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZVsyXSA9IHYyO1xuICAgICAgICAgICAgICAgIGlmIChiaW5kTGVuID4gMylcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVbM10gPSB2MztcbiAgICAgICAgICAgICAgICBpZiAoYmluZExlbiA+IDQpXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlWzRdID0gdjQ7XG4gICAgICAgICAgICAgICAgaWYgKGJpbmRMZW4gPiA1KVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZVs1XSA9IHY1O1xuICAgICAgICAgICAgICAgIGlmIChiaW5kTGVuID4gNilcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVbNl0gPSB2NjtcbiAgICAgICAgICAgICAgICBpZiAoYmluZExlbiA+IDcpXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlWzddID0gdjc7XG4gICAgICAgICAgICAgICAgaWYgKGJpbmRMZW4gPiA4KVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZVs4XSA9IHY4O1xuICAgICAgICAgICAgICAgIGlmIChiaW5kTGVuID4gOSlcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVbOV0gPSB2OTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNjQgLyogVHlwZVB1cmVPYmplY3QgKi86XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB7fTtcbiAgICAgICAgICAgICAgICBpZiAoYmluZExlbiA+IDApXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlWygoYmluZGluZ3NbMF0ubmFtZSkpXSA9IHYwO1xuICAgICAgICAgICAgICAgIGlmIChiaW5kTGVuID4gMSlcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVbKChiaW5kaW5nc1sxXS5uYW1lKSldID0gdjE7XG4gICAgICAgICAgICAgICAgaWYgKGJpbmRMZW4gPiAyKVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZVsoKGJpbmRpbmdzWzJdLm5hbWUpKV0gPSB2MjtcbiAgICAgICAgICAgICAgICBpZiAoYmluZExlbiA+IDMpXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlWygoYmluZGluZ3NbM10ubmFtZSkpXSA9IHYzO1xuICAgICAgICAgICAgICAgIGlmIChiaW5kTGVuID4gNClcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVbKChiaW5kaW5nc1s0XS5uYW1lKSldID0gdjQ7XG4gICAgICAgICAgICAgICAgaWYgKGJpbmRMZW4gPiA1KVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZVsoKGJpbmRpbmdzWzVdLm5hbWUpKV0gPSB2NTtcbiAgICAgICAgICAgICAgICBpZiAoYmluZExlbiA+IDYpXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlWygoYmluZGluZ3NbNl0ubmFtZSkpXSA9IHY2O1xuICAgICAgICAgICAgICAgIGlmIChiaW5kTGVuID4gNylcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVbKChiaW5kaW5nc1s3XS5uYW1lKSldID0gdjc7XG4gICAgICAgICAgICAgICAgaWYgKGJpbmRMZW4gPiA4KVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZVsoKGJpbmRpbmdzWzhdLm5hbWUpKV0gPSB2ODtcbiAgICAgICAgICAgICAgICBpZiAoYmluZExlbiA+IDkpXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlWygoYmluZGluZ3NbOV0ubmFtZSkpXSA9IHY5O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxMjggLyogVHlwZVB1cmVQaXBlICovOlxuICAgICAgICAgICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIHBpcGUgPSB2MDtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGJpbmRMZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBwaXBlLnRyYW5zZm9ybSh2MCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBwaXBlLnRyYW5zZm9ybSh2MSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBwaXBlLnRyYW5zZm9ybSh2MSwgdjIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gcGlwZS50cmFuc2Zvcm0odjEsIHYyLCB2Myk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBwaXBlLnRyYW5zZm9ybSh2MSwgdjIsIHYzLCB2NCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBwaXBlLnRyYW5zZm9ybSh2MSwgdjIsIHYzLCB2NCwgdjUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gcGlwZS50cmFuc2Zvcm0odjEsIHYyLCB2MywgdjQsIHY1LCB2Nik7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBwaXBlLnRyYW5zZm9ybSh2MSwgdjIsIHYzLCB2NCwgdjUsIHY2LCB2Nyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBwaXBlLnRyYW5zZm9ybSh2MSwgdjIsIHYzLCB2NCwgdjUsIHY2LCB2NywgdjgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHBpcGUudHJhbnNmb3JtKHYxLCB2MiwgdjMsIHY0LCB2NSwgdjYsIHY3LCB2OCwgdjkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGRhdGEudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGNoYW5nZWQ7XG59XG4vKipcbiAqIEBwYXJhbSB7P30gdmlld1xuICogQHBhcmFtIHs/fSBkZWZcbiAqIEBwYXJhbSB7P30gdmFsdWVzXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBjaGVja0FuZFVwZGF0ZVB1cmVFeHByZXNzaW9uRHluYW1pYyh2aWV3LCBkZWYsIHZhbHVlcykge1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIGJpbmRpbmdzID0gZGVmLmJpbmRpbmdzO1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIGNoYW5nZWQgPSBmYWxzZTtcbiAgICBmb3IgKHZhciAvKiogQHR5cGUgez99ICovIGkgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIE5vdGU6IFdlIG5lZWQgdG8gbG9vcCBvdmVyIGFsbCB2YWx1ZXMsIHNvIHRoYXRcbiAgICAgICAgLy8gdGhlIG9sZCB2YWx1ZXMgYXJlIHVwZGF0ZXMgYXMgd2VsbCFcbiAgICAgICAgaWYgKGNoZWNrQW5kVXBkYXRlQmluZGluZyh2aWV3LCBkZWYsIGksIHZhbHVlc1tpXSkpIHtcbiAgICAgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChjaGFuZ2VkKSB7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGRhdGEgPSBhc1B1cmVFeHByZXNzaW9uRGF0YSh2aWV3LCBkZWYubm9kZUluZGV4KTtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gdmFsdWUgPSB2b2lkIDA7XG4gICAgICAgIHN3aXRjaCAoZGVmLmZsYWdzICYgMjAxMzQ3MDY3IC8qIFR5cGVzICovKSB7XG4gICAgICAgICAgICBjYXNlIDMyIC8qIFR5cGVQdXJlQXJyYXkgKi86XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZXM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDY0IC8qIFR5cGVQdXJlT2JqZWN0ICovOlxuICAgICAgICAgICAgICAgIHZhbHVlID0ge307XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgLyoqIEB0eXBlIHs/fSAqLyBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZVsoKGJpbmRpbmdzW2ldLm5hbWUpKV0gPSB2YWx1ZXNbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxMjggLyogVHlwZVB1cmVQaXBlICovOlxuICAgICAgICAgICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIHBpcGUgPSB2YWx1ZXNbMF07XG4gICAgICAgICAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcGFyYW1zID0gdmFsdWVzLnNsaWNlKDEpO1xuICAgICAgICAgICAgICAgIHZhbHVlID0gcGlwZS50cmFuc2Zvcm0uYXBwbHkocGlwZSwgcGFyYW1zKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBkYXRhLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBjaGFuZ2VkO1xufVxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBAcGFyYW0gez99IGNoZWNrSW5kZXhcbiAqIEBwYXJhbSB7P30gbmdDb250ZW50SW5kZXhcbiAqIEBwYXJhbSB7P30gc3RhdGljVGV4dFxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gdGV4dERlZihjaGVja0luZGV4LCBuZ0NvbnRlbnRJbmRleCwgc3RhdGljVGV4dCkge1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIGJpbmRpbmdzID0gbmV3IEFycmF5KHN0YXRpY1RleHQubGVuZ3RoIC0gMSk7XG4gICAgZm9yICh2YXIgLyoqIEB0eXBlIHs/fSAqLyBpID0gMTsgaSA8IHN0YXRpY1RleHQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYmluZGluZ3NbaSAtIDFdID0ge1xuICAgICAgICAgICAgZmxhZ3M6IDggLyogVHlwZVByb3BlcnR5ICovLFxuICAgICAgICAgICAgbmFtZTogbnVsbCxcbiAgICAgICAgICAgIG5zOiBudWxsLFxuICAgICAgICAgICAgbm9uTWluaWZpZWROYW1lOiBudWxsLFxuICAgICAgICAgICAgc2VjdXJpdHlDb250ZXh0OiBudWxsLFxuICAgICAgICAgICAgc3VmZml4OiBzdGF0aWNUZXh0W2ldLFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICAvLyB3aWxsIGJldCBzZXQgYnkgdGhlIHZpZXcgZGVmaW5pdGlvblxuICAgICAgICBub2RlSW5kZXg6IC0xLFxuICAgICAgICBwYXJlbnQ6IG51bGwsXG4gICAgICAgIHJlbmRlclBhcmVudDogbnVsbCxcbiAgICAgICAgYmluZGluZ0luZGV4OiAtMSxcbiAgICAgICAgb3V0cHV0SW5kZXg6IC0xLFxuICAgICAgICAvLyByZWd1bGFyIHZhbHVlc1xuICAgICAgICBjaGVja0luZGV4OiBjaGVja0luZGV4LFxuICAgICAgICBmbGFnczogMiAvKiBUeXBlVGV4dCAqLyxcbiAgICAgICAgY2hpbGRGbGFnczogMCxcbiAgICAgICAgZGlyZWN0Q2hpbGRGbGFnczogMCxcbiAgICAgICAgY2hpbGRNYXRjaGVkUXVlcmllczogMCxcbiAgICAgICAgbWF0Y2hlZFF1ZXJpZXM6IHt9LFxuICAgICAgICBtYXRjaGVkUXVlcnlJZHM6IDAsXG4gICAgICAgIHJlZmVyZW5jZXM6IHt9LCBuZ0NvbnRlbnRJbmRleDogbmdDb250ZW50SW5kZXgsXG4gICAgICAgIGNoaWxkQ291bnQ6IDAsIGJpbmRpbmdzOiBiaW5kaW5ncyxcbiAgICAgICAgYmluZGluZ0ZsYWdzOiA4IC8qIFR5cGVQcm9wZXJ0eSAqLyxcbiAgICAgICAgb3V0cHV0czogW10sXG4gICAgICAgIGVsZW1lbnQ6IG51bGwsXG4gICAgICAgIHByb3ZpZGVyOiBudWxsLFxuICAgICAgICB0ZXh0OiB7IHByZWZpeDogc3RhdGljVGV4dFswXSB9LFxuICAgICAgICBxdWVyeTogbnVsbCxcbiAgICAgICAgbmdDb250ZW50OiBudWxsLFxuICAgIH07XG59XG4vKipcbiAqIEBwYXJhbSB7P30gdmlld1xuICogQHBhcmFtIHs/fSByZW5kZXJIb3N0XG4gKiBAcGFyYW0gez99IGRlZlxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gY3JlYXRlVGV4dCh2aWV3LCByZW5kZXJIb3N0LCBkZWYpIHtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyByZW5kZXJOb2RlJCQxO1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIHJlbmRlcmVyID0gdmlldy5yZW5kZXJlcjtcbiAgICByZW5kZXJOb2RlJCQxID0gcmVuZGVyZXIuY3JlYXRlVGV4dCgvKiogQHR5cGUgez99ICovICgoZGVmLnRleHQpKS5wcmVmaXgpO1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIHBhcmVudEVsID0gZ2V0UGFyZW50UmVuZGVyRWxlbWVudCh2aWV3LCByZW5kZXJIb3N0LCBkZWYpO1xuICAgIGlmIChwYXJlbnRFbCkge1xuICAgICAgICByZW5kZXJlci5hcHBlbmRDaGlsZChwYXJlbnRFbCwgcmVuZGVyTm9kZSQkMSk7XG4gICAgfVxuICAgIHJldHVybiB7IHJlbmRlclRleHQ6IHJlbmRlck5vZGUkJDEgfTtcbn1cbi8qKlxuICogQHBhcmFtIHs/fSB2aWV3XG4gKiBAcGFyYW0gez99IGRlZlxuICogQHBhcmFtIHs/fSB2MFxuICogQHBhcmFtIHs/fSB2MVxuICogQHBhcmFtIHs/fSB2MlxuICogQHBhcmFtIHs/fSB2M1xuICogQHBhcmFtIHs/fSB2NFxuICogQHBhcmFtIHs/fSB2NVxuICogQHBhcmFtIHs/fSB2NlxuICogQHBhcmFtIHs/fSB2N1xuICogQHBhcmFtIHs/fSB2OFxuICogQHBhcmFtIHs/fSB2OVxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gY2hlY2tBbmRVcGRhdGVUZXh0SW5saW5lKHZpZXcsIGRlZiwgdjAsIHYxLCB2MiwgdjMsIHY0LCB2NSwgdjYsIHY3LCB2OCwgdjkpIHtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBjaGFuZ2VkID0gZmFsc2U7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gYmluZGluZ3MgPSBkZWYuYmluZGluZ3M7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gYmluZExlbiA9IGJpbmRpbmdzLmxlbmd0aDtcbiAgICBpZiAoYmluZExlbiA+IDAgJiYgY2hlY2tBbmRVcGRhdGVCaW5kaW5nKHZpZXcsIGRlZiwgMCwgdjApKVxuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICBpZiAoYmluZExlbiA+IDEgJiYgY2hlY2tBbmRVcGRhdGVCaW5kaW5nKHZpZXcsIGRlZiwgMSwgdjEpKVxuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICBpZiAoYmluZExlbiA+IDIgJiYgY2hlY2tBbmRVcGRhdGVCaW5kaW5nKHZpZXcsIGRlZiwgMiwgdjIpKVxuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICBpZiAoYmluZExlbiA+IDMgJiYgY2hlY2tBbmRVcGRhdGVCaW5kaW5nKHZpZXcsIGRlZiwgMywgdjMpKVxuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICBpZiAoYmluZExlbiA+IDQgJiYgY2hlY2tBbmRVcGRhdGVCaW5kaW5nKHZpZXcsIGRlZiwgNCwgdjQpKVxuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICBpZiAoYmluZExlbiA+IDUgJiYgY2hlY2tBbmRVcGRhdGVCaW5kaW5nKHZpZXcsIGRlZiwgNSwgdjUpKVxuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICBpZiAoYmluZExlbiA+IDYgJiYgY2hlY2tBbmRVcGRhdGVCaW5kaW5nKHZpZXcsIGRlZiwgNiwgdjYpKVxuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICBpZiAoYmluZExlbiA+IDcgJiYgY2hlY2tBbmRVcGRhdGVCaW5kaW5nKHZpZXcsIGRlZiwgNywgdjcpKVxuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICBpZiAoYmluZExlbiA+IDggJiYgY2hlY2tBbmRVcGRhdGVCaW5kaW5nKHZpZXcsIGRlZiwgOCwgdjgpKVxuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICBpZiAoYmluZExlbiA+IDkgJiYgY2hlY2tBbmRVcGRhdGVCaW5kaW5nKHZpZXcsIGRlZiwgOSwgdjkpKVxuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICBpZiAoY2hhbmdlZCkge1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyB2YWx1ZSA9ICgoZGVmLnRleHQpKS5wcmVmaXg7XG4gICAgICAgIGlmIChiaW5kTGVuID4gMClcbiAgICAgICAgICAgIHZhbHVlICs9IF9hZGRJbnRlcnBvbGF0aW9uUGFydCh2MCwgYmluZGluZ3NbMF0pO1xuICAgICAgICBpZiAoYmluZExlbiA+IDEpXG4gICAgICAgICAgICB2YWx1ZSArPSBfYWRkSW50ZXJwb2xhdGlvblBhcnQodjEsIGJpbmRpbmdzWzFdKTtcbiAgICAgICAgaWYgKGJpbmRMZW4gPiAyKVxuICAgICAgICAgICAgdmFsdWUgKz0gX2FkZEludGVycG9sYXRpb25QYXJ0KHYyLCBiaW5kaW5nc1syXSk7XG4gICAgICAgIGlmIChiaW5kTGVuID4gMylcbiAgICAgICAgICAgIHZhbHVlICs9IF9hZGRJbnRlcnBvbGF0aW9uUGFydCh2MywgYmluZGluZ3NbM10pO1xuICAgICAgICBpZiAoYmluZExlbiA+IDQpXG4gICAgICAgICAgICB2YWx1ZSArPSBfYWRkSW50ZXJwb2xhdGlvblBhcnQodjQsIGJpbmRpbmdzWzRdKTtcbiAgICAgICAgaWYgKGJpbmRMZW4gPiA1KVxuICAgICAgICAgICAgdmFsdWUgKz0gX2FkZEludGVycG9sYXRpb25QYXJ0KHY1LCBiaW5kaW5nc1s1XSk7XG4gICAgICAgIGlmIChiaW5kTGVuID4gNilcbiAgICAgICAgICAgIHZhbHVlICs9IF9hZGRJbnRlcnBvbGF0aW9uUGFydCh2NiwgYmluZGluZ3NbNl0pO1xuICAgICAgICBpZiAoYmluZExlbiA+IDcpXG4gICAgICAgICAgICB2YWx1ZSArPSBfYWRkSW50ZXJwb2xhdGlvblBhcnQodjcsIGJpbmRpbmdzWzddKTtcbiAgICAgICAgaWYgKGJpbmRMZW4gPiA4KVxuICAgICAgICAgICAgdmFsdWUgKz0gX2FkZEludGVycG9sYXRpb25QYXJ0KHY4LCBiaW5kaW5nc1s4XSk7XG4gICAgICAgIGlmIChiaW5kTGVuID4gOSlcbiAgICAgICAgICAgIHZhbHVlICs9IF9hZGRJbnRlcnBvbGF0aW9uUGFydCh2OSwgYmluZGluZ3NbOV0pO1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyByZW5kZXJOb2RlJCQxID0gYXNUZXh0RGF0YSh2aWV3LCBkZWYubm9kZUluZGV4KS5yZW5kZXJUZXh0O1xuICAgICAgICB2aWV3LnJlbmRlcmVyLnNldFZhbHVlKHJlbmRlck5vZGUkJDEsIHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIGNoYW5nZWQ7XG59XG4vKipcbiAqIEBwYXJhbSB7P30gdmlld1xuICogQHBhcmFtIHs/fSBkZWZcbiAqIEBwYXJhbSB7P30gdmFsdWVzXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBjaGVja0FuZFVwZGF0ZVRleHREeW5hbWljKHZpZXcsIGRlZiwgdmFsdWVzKSB7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gYmluZGluZ3MgPSBkZWYuYmluZGluZ3M7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gY2hhbmdlZCA9IGZhbHNlO1xuICAgIGZvciAodmFyIC8qKiBAdHlwZSB7P30gKi8gaSA9IDA7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gTm90ZTogV2UgbmVlZCB0byBsb29wIG92ZXIgYWxsIHZhbHVlcywgc28gdGhhdFxuICAgICAgICAvLyB0aGUgb2xkIHZhbHVlcyBhcmUgdXBkYXRlcyBhcyB3ZWxsIVxuICAgICAgICBpZiAoY2hlY2tBbmRVcGRhdGVCaW5kaW5nKHZpZXcsIGRlZiwgaSwgdmFsdWVzW2ldKSkge1xuICAgICAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGNoYW5nZWQpIHtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gdmFsdWUgPSAnJztcbiAgICAgICAgZm9yICh2YXIgLyoqIEB0eXBlIHs/fSAqLyBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSArIF9hZGRJbnRlcnBvbGF0aW9uUGFydCh2YWx1ZXNbaV0sIGJpbmRpbmdzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZSA9ICgoZGVmLnRleHQpKS5wcmVmaXggKyB2YWx1ZTtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcmVuZGVyTm9kZSQkMSA9IGFzVGV4dERhdGEodmlldywgZGVmLm5vZGVJbmRleCkucmVuZGVyVGV4dDtcbiAgICAgICAgdmlldy5yZW5kZXJlci5zZXRWYWx1ZShyZW5kZXJOb2RlJCQxLCB2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiBjaGFuZ2VkO1xufVxuLyoqXG4gKiBAcGFyYW0gez99IHZhbHVlXG4gKiBAcGFyYW0gez99IGJpbmRpbmdcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIF9hZGRJbnRlcnBvbGF0aW9uUGFydCh2YWx1ZSwgYmluZGluZykge1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIHZhbHVlU3RyID0gdmFsdWUgIT0gbnVsbCA/IHZhbHVlLnRvU3RyaW5nKCkgOiAnJztcbiAgICByZXR1cm4gdmFsdWVTdHIgKyBiaW5kaW5nLnN1ZmZpeDtcbn1cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQHBhcmFtIHs/fSBmbGFnc1xuICogQHBhcmFtIHs/fSBub2Rlc1xuICogQHBhcmFtIHs/PX0gdXBkYXRlRGlyZWN0aXZlc1xuICogQHBhcmFtIHs/PX0gdXBkYXRlUmVuZGVyZXJcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIHZpZXdEZWYoZmxhZ3MsIG5vZGVzLCB1cGRhdGVEaXJlY3RpdmVzLCB1cGRhdGVSZW5kZXJlcikge1xuICAgIC8vIGNsb25lIG5vZGVzIGFuZCBzZXQgYXV0byBjYWxjdWxhdGVkIHZhbHVlc1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIHZpZXdCaW5kaW5nQ291bnQgPSAwO1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIHZpZXdEaXNwb3NhYmxlQ291bnQgPSAwO1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIHZpZXdOb2RlRmxhZ3MgPSAwO1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIHZpZXdSb290Tm9kZUZsYWdzID0gMDtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyB2aWV3TWF0Y2hlZFF1ZXJpZXMgPSAwO1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIGN1cnJlbnRQYXJlbnQgPSBudWxsO1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIGN1cnJlbnRSZW5kZXJQYXJlbnQgPSBudWxsO1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIGN1cnJlbnRFbGVtZW50SGFzUHVibGljUHJvdmlkZXJzID0gZmFsc2U7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gY3VycmVudEVsZW1lbnRIYXNQcml2YXRlUHJvdmlkZXJzID0gZmFsc2U7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gbGFzdFJlbmRlclJvb3ROb2RlID0gbnVsbDtcbiAgICBmb3IgKHZhciAvKiogQHR5cGUgez99ICovIGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gbm9kZSA9IG5vZGVzW2ldO1xuICAgICAgICBub2RlLm5vZGVJbmRleCA9IGk7XG4gICAgICAgIG5vZGUucGFyZW50ID0gY3VycmVudFBhcmVudDtcbiAgICAgICAgbm9kZS5iaW5kaW5nSW5kZXggPSB2aWV3QmluZGluZ0NvdW50O1xuICAgICAgICBub2RlLm91dHB1dEluZGV4ID0gdmlld0Rpc3Bvc2FibGVDb3VudDtcbiAgICAgICAgbm9kZS5yZW5kZXJQYXJlbnQgPSBjdXJyZW50UmVuZGVyUGFyZW50O1xuICAgICAgICB2aWV3Tm9kZUZsYWdzIHw9IG5vZGUuZmxhZ3M7XG4gICAgICAgIHZpZXdNYXRjaGVkUXVlcmllcyB8PSBub2RlLm1hdGNoZWRRdWVyeUlkcztcbiAgICAgICAgaWYgKG5vZGUuZWxlbWVudCkge1xuICAgICAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gZWxEZWYgPSBub2RlLmVsZW1lbnQ7XG4gICAgICAgICAgICBlbERlZi5wdWJsaWNQcm92aWRlcnMgPVxuICAgICAgICAgICAgICAgIGN1cnJlbnRQYXJlbnQgPyAoKGN1cnJlbnRQYXJlbnQuZWxlbWVudCkpLnB1YmxpY1Byb3ZpZGVycyA6IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgICAgICBlbERlZi5hbGxQcm92aWRlcnMgPSBlbERlZi5wdWJsaWNQcm92aWRlcnM7XG4gICAgICAgICAgICAvLyBOb3RlOiBXZSBhc3N1bWUgdGhhdCBhbGwgcHJvdmlkZXJzIG9mIGFuIGVsZW1lbnQgYXJlIGJlZm9yZSBhbnkgY2hpbGQgZWxlbWVudCFcbiAgICAgICAgICAgIGN1cnJlbnRFbGVtZW50SGFzUHVibGljUHJvdmlkZXJzID0gZmFsc2U7XG4gICAgICAgICAgICBjdXJyZW50RWxlbWVudEhhc1ByaXZhdGVQcm92aWRlcnMgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChub2RlLmVsZW1lbnQudGVtcGxhdGUpIHtcbiAgICAgICAgICAgICAgICB2aWV3TWF0Y2hlZFF1ZXJpZXMgfD0gbm9kZS5lbGVtZW50LnRlbXBsYXRlLm5vZGVNYXRjaGVkUXVlcmllcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YWxpZGF0ZU5vZGUoY3VycmVudFBhcmVudCwgbm9kZSwgbm9kZXMubGVuZ3RoKTtcbiAgICAgICAgdmlld0JpbmRpbmdDb3VudCArPSBub2RlLmJpbmRpbmdzLmxlbmd0aDtcbiAgICAgICAgdmlld0Rpc3Bvc2FibGVDb3VudCArPSBub2RlLm91dHB1dHMubGVuZ3RoO1xuICAgICAgICBpZiAoIWN1cnJlbnRSZW5kZXJQYXJlbnQgJiYgKG5vZGUuZmxhZ3MgJiAzIC8qIENhdFJlbmRlck5vZGUgKi8pKSB7XG4gICAgICAgICAgICBsYXN0UmVuZGVyUm9vdE5vZGUgPSBub2RlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlLmZsYWdzICYgMjAyMjQgLyogQ2F0UHJvdmlkZXIgKi8pIHtcbiAgICAgICAgICAgIGlmICghY3VycmVudEVsZW1lbnRIYXNQdWJsaWNQcm92aWRlcnMpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50RWxlbWVudEhhc1B1YmxpY1Byb3ZpZGVycyA9IHRydWU7IC8qKiBAdHlwZSB7P30gKi9cbiAgICAgICAgICAgICAgICAoKCgoXG4gICAgICAgICAgICAgICAgLy8gVXNlIHByb3RvdHlwaWNhbCBpbmhlcml0YW5jZSB0byBub3QgZ2V0IE8obl4yKSBjb21wbGV4aXR5Li4uXG4gICAgICAgICAgICAgICAgY3VycmVudFBhcmVudCkpLmVsZW1lbnQpKS5wdWJsaWNQcm92aWRlcnMgPVxuICAgICAgICAgICAgICAgICAgICBPYmplY3QuY3JlYXRlKC8qKiBAdHlwZSB7P30gKi8gKCgoKGN1cnJlbnRQYXJlbnQpKS5lbGVtZW50KSkucHVibGljUHJvdmlkZXJzKTsgLyoqIEB0eXBlIHs/fSAqL1xuICAgICAgICAgICAgICAgICgoKChjdXJyZW50UGFyZW50KSkuZWxlbWVudCkpLmFsbFByb3ZpZGVycyA9ICgoKChjdXJyZW50UGFyZW50KSkuZWxlbWVudCkpLnB1YmxpY1Byb3ZpZGVycztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGlzUHJpdmF0ZVNlcnZpY2UgPSAobm9kZS5mbGFncyAmIDgxOTIgLyogUHJpdmF0ZVByb3ZpZGVyICovKSAhPT0gMDtcbiAgICAgICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGlzQ29tcG9uZW50ID0gKG5vZGUuZmxhZ3MgJiAzMjc2OCAvKiBDb21wb25lbnQgKi8pICE9PSAwO1xuICAgICAgICAgICAgaWYgKCFpc1ByaXZhdGVTZXJ2aWNlIHx8IGlzQ29tcG9uZW50KSB7XG4gICAgICAgICAgICAgICAgKCgoKCgoY3VycmVudFBhcmVudCkpLmVsZW1lbnQpKS5wdWJsaWNQcm92aWRlcnMpKVt0b2tlbktleSgvKiogQHR5cGUgez99ICovICgobm9kZS5wcm92aWRlcikpLnRva2VuKV0gPSBub2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjdXJyZW50RWxlbWVudEhhc1ByaXZhdGVQcm92aWRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEVsZW1lbnRIYXNQcml2YXRlUHJvdmlkZXJzID0gdHJ1ZTsgLyoqIEB0eXBlIHs/fSAqL1xuICAgICAgICAgICAgICAgICAgICAoKCgoXG4gICAgICAgICAgICAgICAgICAgIC8vIFVzZSBwcm90b3R5cGljYWwgaW5oZXJpdGFuY2UgdG8gbm90IGdldCBPKG5eMikgY29tcGxleGl0eS4uLlxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGFyZW50KSkuZWxlbWVudCkpLmFsbFByb3ZpZGVycyA9XG4gICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QuY3JlYXRlKC8qKiBAdHlwZSB7P30gKi8gKCgoKGN1cnJlbnRQYXJlbnQpKS5lbGVtZW50KSkucHVibGljUHJvdmlkZXJzKTtcbiAgICAgICAgICAgICAgICB9IC8qKiBAdHlwZSB7P30gKi9cbiAgICAgICAgICAgICAgICAoKCgoKChjdXJyZW50UGFyZW50KSkuZWxlbWVudCkpLmFsbFByb3ZpZGVycykpW3Rva2VuS2V5KC8qKiBAdHlwZSB7P30gKi8gKChub2RlLnByb3ZpZGVyKSkudG9rZW4pXSA9IG5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNDb21wb25lbnQpIHtcbiAgICAgICAgICAgICAgICAoKCgoY3VycmVudFBhcmVudCkpLmVsZW1lbnQpKS5jb21wb25lbnRQcm92aWRlciA9IG5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN1cnJlbnRQYXJlbnQpIHtcbiAgICAgICAgICAgIGN1cnJlbnRQYXJlbnQuY2hpbGRGbGFncyB8PSBub2RlLmZsYWdzO1xuICAgICAgICAgICAgY3VycmVudFBhcmVudC5kaXJlY3RDaGlsZEZsYWdzIHw9IG5vZGUuZmxhZ3M7XG4gICAgICAgICAgICBjdXJyZW50UGFyZW50LmNoaWxkTWF0Y2hlZFF1ZXJpZXMgfD0gbm9kZS5tYXRjaGVkUXVlcnlJZHM7XG4gICAgICAgICAgICBpZiAobm9kZS5lbGVtZW50ICYmIG5vZGUuZWxlbWVudC50ZW1wbGF0ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRQYXJlbnQuY2hpbGRNYXRjaGVkUXVlcmllcyB8PSBub2RlLmVsZW1lbnQudGVtcGxhdGUubm9kZU1hdGNoZWRRdWVyaWVzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmlld1Jvb3ROb2RlRmxhZ3MgfD0gbm9kZS5mbGFncztcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS5jaGlsZENvdW50ID4gMCkge1xuICAgICAgICAgICAgY3VycmVudFBhcmVudCA9IG5vZGU7XG4gICAgICAgICAgICBpZiAoIWlzTmdDb250YWluZXIobm9kZSkpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UmVuZGVyUGFyZW50ID0gbm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFdoZW4gdGhlIGN1cnJlbnQgbm9kZSBoYXMgbm8gY2hpbGRyZW4sIGNoZWNrIGlmIGl0IGlzIHRoZSBsYXN0IGNoaWxkcmVuIG9mIGl0cyBwYXJlbnQuXG4gICAgICAgICAgICAvLyBXaGVuIGl0IGlzLCBwcm9wYWdhdGUgdGhlIGZsYWdzIHVwLlxuICAgICAgICAgICAgLy8gVGhlIGxvb3AgaXMgcmVxdWlyZWQgYmVjYXVzZSBhbiBlbGVtZW50IGNvdWxkIGJlIHRoZSBsYXN0IHRyYW5zaXRpdmUgY2hpbGRyZW4gb2Ygc2V2ZXJhbFxuICAgICAgICAgICAgLy8gZWxlbWVudHMuIFdlIGxvb3AgdG8gZWl0aGVyIHRoZSByb290IG9yIHRoZSBoaWdoZXN0IG9wZW5lZCBlbGVtZW50ICg9IHdpdGggcmVtYWluaW5nXG4gICAgICAgICAgICAvLyBjaGlsZHJlbilcbiAgICAgICAgICAgIHdoaWxlIChjdXJyZW50UGFyZW50ICYmIGkgPT09IGN1cnJlbnRQYXJlbnQubm9kZUluZGV4ICsgY3VycmVudFBhcmVudC5jaGlsZENvdW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gbmV3UGFyZW50ID0gY3VycmVudFBhcmVudC5wYXJlbnQ7XG4gICAgICAgICAgICAgICAgaWYgKG5ld1BhcmVudCkge1xuICAgICAgICAgICAgICAgICAgICBuZXdQYXJlbnQuY2hpbGRGbGFncyB8PSBjdXJyZW50UGFyZW50LmNoaWxkRmxhZ3M7XG4gICAgICAgICAgICAgICAgICAgIG5ld1BhcmVudC5jaGlsZE1hdGNoZWRRdWVyaWVzIHw9IGN1cnJlbnRQYXJlbnQuY2hpbGRNYXRjaGVkUXVlcmllcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3VycmVudFBhcmVudCA9IG5ld1BhcmVudDtcbiAgICAgICAgICAgICAgICAvLyBXZSBhbHNvIG5lZWQgdG8gdXBkYXRlIHRoZSByZW5kZXIgcGFyZW50ICYgYWNjb3VudCBmb3IgbmctY29udGFpbmVyXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRQYXJlbnQgJiYgaXNOZ0NvbnRhaW5lcihjdXJyZW50UGFyZW50KSkge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50UmVuZGVyUGFyZW50ID0gY3VycmVudFBhcmVudC5yZW5kZXJQYXJlbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50UmVuZGVyUGFyZW50ID0gY3VycmVudFBhcmVudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gaGFuZGxlRXZlbnQgPSBmdW5jdGlvbiAodmlldywgbm9kZUluZGV4LCBldmVudE5hbWUsIGV2ZW50KSB7IHJldHVybiAoKCgobm9kZXNbbm9kZUluZGV4XS5lbGVtZW50KSkuaGFuZGxlRXZlbnQpKSh2aWV3LCBldmVudE5hbWUsIGV2ZW50KTsgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICAvLyBXaWxsIGJlIGZpbGxlZCBsYXRlci4uLlxuICAgICAgICBmYWN0b3J5OiBudWxsLFxuICAgICAgICBub2RlRmxhZ3M6IHZpZXdOb2RlRmxhZ3MsXG4gICAgICAgIHJvb3ROb2RlRmxhZ3M6IHZpZXdSb290Tm9kZUZsYWdzLFxuICAgICAgICBub2RlTWF0Y2hlZFF1ZXJpZXM6IHZpZXdNYXRjaGVkUXVlcmllcywgZmxhZ3M6IGZsYWdzLFxuICAgICAgICBub2Rlczogbm9kZXMsXG4gICAgICAgIHVwZGF0ZURpcmVjdGl2ZXM6IHVwZGF0ZURpcmVjdGl2ZXMgfHwgTk9PUCxcbiAgICAgICAgdXBkYXRlUmVuZGVyZXI6IHVwZGF0ZVJlbmRlcmVyIHx8IE5PT1AsIGhhbmRsZUV2ZW50OiBoYW5kbGVFdmVudCxcbiAgICAgICAgYmluZGluZ0NvdW50OiB2aWV3QmluZGluZ0NvdW50LFxuICAgICAgICBvdXRwdXRDb3VudDogdmlld0Rpc3Bvc2FibGVDb3VudCwgbGFzdFJlbmRlclJvb3ROb2RlOiBsYXN0UmVuZGVyUm9vdE5vZGVcbiAgICB9O1xufVxuLyoqXG4gKiBAcGFyYW0gez99IG5vZGVcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGlzTmdDb250YWluZXIobm9kZSkge1xuICAgIHJldHVybiAobm9kZS5mbGFncyAmIDEgLyogVHlwZUVsZW1lbnQgKi8pICE9PSAwICYmICgobm9kZS5lbGVtZW50KSkubmFtZSA9PT0gbnVsbDtcbn1cbi8qKlxuICogQHBhcmFtIHs/fSBwYXJlbnRcbiAqIEBwYXJhbSB7P30gbm9kZVxuICogQHBhcmFtIHs/fSBub2RlQ291bnRcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIHZhbGlkYXRlTm9kZShwYXJlbnQsIG5vZGUsIG5vZGVDb3VudCkge1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIHRlbXBsYXRlID0gbm9kZS5lbGVtZW50ICYmIG5vZGUuZWxlbWVudC50ZW1wbGF0ZTtcbiAgICBpZiAodGVtcGxhdGUpIHtcbiAgICAgICAgaWYgKCF0ZW1wbGF0ZS5sYXN0UmVuZGVyUm9vdE5vZGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIklsbGVnYWwgU3RhdGU6IEVtYmVkZGVkIHRlbXBsYXRlcyB3aXRob3V0IG5vZGVzIGFyZSBub3QgYWxsb3dlZCFcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRlbXBsYXRlLmxhc3RSZW5kZXJSb290Tm9kZSAmJlxuICAgICAgICAgICAgdGVtcGxhdGUubGFzdFJlbmRlclJvb3ROb2RlLmZsYWdzICYgMTY3NzcyMTYgLyogRW1iZWRkZWRWaWV3cyAqLykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSWxsZWdhbCBTdGF0ZTogTGFzdCByb290IG5vZGUgb2YgYSB0ZW1wbGF0ZSBjYW4ndCBoYXZlIGVtYmVkZGVkIHZpZXdzLCBhdCBpbmRleCBcIiArIG5vZGUubm9kZUluZGV4ICsgXCIhXCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChub2RlLmZsYWdzICYgMjAyMjQgLyogQ2F0UHJvdmlkZXIgKi8pIHtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcGFyZW50RmxhZ3MgPSBwYXJlbnQgPyBwYXJlbnQuZmxhZ3MgOiAwO1xuICAgICAgICBpZiAoKHBhcmVudEZsYWdzICYgMSAvKiBUeXBlRWxlbWVudCAqLykgPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIklsbGVnYWwgU3RhdGU6IFN0YXRpY1Byb3ZpZGVyL0RpcmVjdGl2ZSBub2RlcyBuZWVkIHRvIGJlIGNoaWxkcmVuIG9mIGVsZW1lbnRzIG9yIGFuY2hvcnMsIGF0IGluZGV4IFwiICsgbm9kZS5ub2RlSW5kZXggKyBcIiFcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKG5vZGUucXVlcnkpIHtcbiAgICAgICAgaWYgKG5vZGUuZmxhZ3MgJiA2NzEwODg2NCAvKiBUeXBlQ29udGVudFF1ZXJ5ICovICYmXG4gICAgICAgICAgICAoIXBhcmVudCB8fCAocGFyZW50LmZsYWdzICYgMTYzODQgLyogVHlwZURpcmVjdGl2ZSAqLykgPT09IDApKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbGxlZ2FsIFN0YXRlOiBDb250ZW50IFF1ZXJ5IG5vZGVzIG5lZWQgdG8gYmUgY2hpbGRyZW4gb2YgZGlyZWN0aXZlcywgYXQgaW5kZXggXCIgKyBub2RlLm5vZGVJbmRleCArIFwiIVwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS5mbGFncyAmIDEzNDIxNzcyOCAvKiBUeXBlVmlld1F1ZXJ5ICovICYmIHBhcmVudCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSWxsZWdhbCBTdGF0ZTogVmlldyBRdWVyeSBub2RlcyBoYXZlIHRvIGJlIHRvcCBsZXZlbCBub2RlcywgYXQgaW5kZXggXCIgKyBub2RlLm5vZGVJbmRleCArIFwiIVwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAobm9kZS5jaGlsZENvdW50KSB7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIHBhcmVudEVuZCA9IHBhcmVudCA/IHBhcmVudC5ub2RlSW5kZXggKyBwYXJlbnQuY2hpbGRDb3VudCA6IG5vZGVDb3VudCAtIDE7XG4gICAgICAgIGlmIChub2RlLm5vZGVJbmRleCA8PSBwYXJlbnRFbmQgJiYgbm9kZS5ub2RlSW5kZXggKyBub2RlLmNoaWxkQ291bnQgPiBwYXJlbnRFbmQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIklsbGVnYWwgU3RhdGU6IGNoaWxkQ291bnQgb2Ygbm9kZSBsZWFkcyBvdXRzaWRlIG9mIHBhcmVudCwgYXQgaW5kZXggXCIgKyBub2RlLm5vZGVJbmRleCArIFwiIVwiKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQHBhcmFtIHs/fSBwYXJlbnRcbiAqIEBwYXJhbSB7P30gYW5jaG9yRGVmXG4gKiBAcGFyYW0gez99IHZpZXdEZWZcbiAqIEBwYXJhbSB7Pz19IGNvbnRleHRcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUVtYmVkZGVkVmlldyhwYXJlbnQsIGFuY2hvckRlZiQkMSwgdmlld0RlZiwgY29udGV4dCkge1xuICAgIC8vIGVtYmVkZGVkIHZpZXdzIGFyZSBzZWVuIGFzIHNpYmxpbmdzIHRvIHRoZSBhbmNob3IsIHNvIHdlIG5lZWRcbiAgICAvLyB0byBnZXQgdGhlIHBhcmVudCBvZiB0aGUgYW5jaG9yIGFuZCB1c2UgaXQgYXMgcGFyZW50SW5kZXguXG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gdmlldyA9IGNyZWF0ZVZpZXcocGFyZW50LnJvb3QsIHBhcmVudC5yZW5kZXJlciwgcGFyZW50LCBhbmNob3JEZWYkJDEsIHZpZXdEZWYpO1xuICAgIGluaXRWaWV3KHZpZXcsIHBhcmVudC5jb21wb25lbnQsIGNvbnRleHQpO1xuICAgIGNyZWF0ZVZpZXdOb2Rlcyh2aWV3KTtcbiAgICByZXR1cm4gdmlldztcbn1cbi8qKlxuICogQHBhcmFtIHs/fSByb290XG4gKiBAcGFyYW0gez99IGRlZlxuICogQHBhcmFtIHs/PX0gY29udGV4dFxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gY3JlYXRlUm9vdFZpZXcocm9vdCwgZGVmLCBjb250ZXh0KSB7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gdmlldyA9IGNyZWF0ZVZpZXcocm9vdCwgcm9vdC5yZW5kZXJlciwgbnVsbCwgbnVsbCwgZGVmKTtcbiAgICBpbml0Vmlldyh2aWV3LCBjb250ZXh0LCBjb250ZXh0KTtcbiAgICBjcmVhdGVWaWV3Tm9kZXModmlldyk7XG4gICAgcmV0dXJuIHZpZXc7XG59XG4vKipcbiAqIEBwYXJhbSB7P30gcGFyZW50Vmlld1xuICogQHBhcmFtIHs/fSBub2RlRGVmXG4gKiBAcGFyYW0gez99IHZpZXdEZWZcbiAqIEBwYXJhbSB7P30gaG9zdEVsZW1lbnRcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUNvbXBvbmVudFZpZXcocGFyZW50Vmlldywgbm9kZURlZiwgdmlld0RlZiwgaG9zdEVsZW1lbnQpIHtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyByZW5kZXJlclR5cGUgPSAoKG5vZGVEZWYuZWxlbWVudCkpLmNvbXBvbmVudFJlbmRlcmVyVHlwZTtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBjb21wUmVuZGVyZXI7XG4gICAgaWYgKCFyZW5kZXJlclR5cGUpIHtcbiAgICAgICAgY29tcFJlbmRlcmVyID0gcGFyZW50Vmlldy5yb290LnJlbmRlcmVyO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29tcFJlbmRlcmVyID0gcGFyZW50Vmlldy5yb290LnJlbmRlcmVyRmFjdG9yeS5jcmVhdGVSZW5kZXJlcihob3N0RWxlbWVudCwgcmVuZGVyZXJUeXBlKTtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZVZpZXcocGFyZW50Vmlldy5yb290LCBjb21wUmVuZGVyZXIsIHBhcmVudFZpZXcsIC8qKiBAdHlwZSB7P30gKi8gKChub2RlRGVmLmVsZW1lbnQpKS5jb21wb25lbnRQcm92aWRlciwgdmlld0RlZik7XG59XG4vKipcbiAqIEBwYXJhbSB7P30gcm9vdFxuICogQHBhcmFtIHs/fSByZW5kZXJlclxuICogQHBhcmFtIHs/fSBwYXJlbnRcbiAqIEBwYXJhbSB7P30gcGFyZW50Tm9kZURlZlxuICogQHBhcmFtIHs/fSBkZWZcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVZpZXcocm9vdCwgcmVuZGVyZXIsIHBhcmVudCwgcGFyZW50Tm9kZURlZiwgZGVmKSB7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gbm9kZXMgPSBuZXcgQXJyYXkoZGVmLm5vZGVzLmxlbmd0aCk7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gZGlzcG9zYWJsZXMgPSBkZWYub3V0cHV0Q291bnQgPyBuZXcgQXJyYXkoZGVmLm91dHB1dENvdW50KSA6IG51bGw7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gdmlldyA9IHtcbiAgICAgICAgZGVmOiBkZWYsXG4gICAgICAgIHBhcmVudDogcGFyZW50LFxuICAgICAgICB2aWV3Q29udGFpbmVyUGFyZW50OiBudWxsLCBwYXJlbnROb2RlRGVmOiBwYXJlbnROb2RlRGVmLFxuICAgICAgICBjb250ZXh0OiBudWxsLFxuICAgICAgICBjb21wb25lbnQ6IG51bGwsIG5vZGVzOiBub2RlcyxcbiAgICAgICAgc3RhdGU6IDEzIC8qIENhdEluaXQgKi8sIHJvb3Q6IHJvb3QsIHJlbmRlcmVyOiByZW5kZXJlcixcbiAgICAgICAgb2xkVmFsdWVzOiBuZXcgQXJyYXkoZGVmLmJpbmRpbmdDb3VudCksIGRpc3Bvc2FibGVzOiBkaXNwb3NhYmxlc1xuICAgIH07XG4gICAgcmV0dXJuIHZpZXc7XG59XG4vKipcbiAqIEBwYXJhbSB7P30gdmlld1xuICogQHBhcmFtIHs/fSBjb21wb25lbnRcbiAqIEBwYXJhbSB7P30gY29udGV4dFxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gaW5pdFZpZXcodmlldywgY29tcG9uZW50LCBjb250ZXh0KSB7XG4gICAgdmlldy5jb21wb25lbnQgPSBjb21wb25lbnQ7XG4gICAgdmlldy5jb250ZXh0ID0gY29udGV4dDtcbn1cbi8qKlxuICogQHBhcmFtIHs/fSB2aWV3XG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBjcmVhdGVWaWV3Tm9kZXModmlldykge1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIHJlbmRlckhvc3Q7XG4gICAgaWYgKGlzQ29tcG9uZW50Vmlldyh2aWV3KSkge1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBob3N0RGVmID0gdmlldy5wYXJlbnROb2RlRGVmO1xuICAgICAgICByZW5kZXJIb3N0ID0gYXNFbGVtZW50RGF0YSgvKiogQHR5cGUgez99ICovICgodmlldy5wYXJlbnQpKSwgLyoqIEB0eXBlIHs/fSAqLyAoKCgoaG9zdERlZikpLnBhcmVudCkpLm5vZGVJbmRleCkucmVuZGVyRWxlbWVudDtcbiAgICB9XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gZGVmID0gdmlldy5kZWY7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gbm9kZXMgPSB2aWV3Lm5vZGVzO1xuICAgIGZvciAodmFyIC8qKiBAdHlwZSB7P30gKi8gaSA9IDA7IGkgPCBkZWYubm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gbm9kZURlZiA9IGRlZi5ub2Rlc1tpXTtcbiAgICAgICAgU2VydmljZXMuc2V0Q3VycmVudE5vZGUodmlldywgaSk7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIG5vZGVEYXRhID0gdm9pZCAwO1xuICAgICAgICBzd2l0Y2ggKG5vZGVEZWYuZmxhZ3MgJiAyMDEzNDcwNjcgLyogVHlwZXMgKi8pIHtcbiAgICAgICAgICAgIGNhc2UgMSAvKiBUeXBlRWxlbWVudCAqLzpcbiAgICAgICAgICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBlbCA9IChjcmVhdGVFbGVtZW50KHZpZXcsIHJlbmRlckhvc3QsIG5vZGVEZWYpKTtcbiAgICAgICAgICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBjb21wb25lbnRWaWV3ID0gKCh1bmRlZmluZWQpKTtcbiAgICAgICAgICAgICAgICBpZiAobm9kZURlZi5mbGFncyAmIDMzNTU0NDMyIC8qIENvbXBvbmVudFZpZXcgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gY29tcFZpZXdEZWYgPSByZXNvbHZlRGVmaW5pdGlvbigvKiogQHR5cGUgez99ICovICgoKChub2RlRGVmLmVsZW1lbnQpKS5jb21wb25lbnRWaWV3KSkpO1xuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRWaWV3ID0gU2VydmljZXMuY3JlYXRlQ29tcG9uZW50Vmlldyh2aWV3LCBub2RlRGVmLCBjb21wVmlld0RlZiwgZWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsaXN0ZW5Ub0VsZW1lbnRPdXRwdXRzKHZpZXcsIGNvbXBvbmVudFZpZXcsIG5vZGVEZWYsIGVsKTtcbiAgICAgICAgICAgICAgICBub2RlRGF0YSA9ICh7XG4gICAgICAgICAgICAgICAgICAgIHJlbmRlckVsZW1lbnQ6IGVsLFxuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRWaWV3OiBjb21wb25lbnRWaWV3LFxuICAgICAgICAgICAgICAgICAgICB2aWV3Q29udGFpbmVyOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogLyoqIEB0eXBlIHs/fSAqLyAoKG5vZGVEZWYuZWxlbWVudCkpLnRlbXBsYXRlID8gY3JlYXRlVGVtcGxhdGVEYXRhKHZpZXcsIG5vZGVEZWYpIDogdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKG5vZGVEZWYuZmxhZ3MgJiAxNjc3NzIxNiAvKiBFbWJlZGRlZFZpZXdzICovKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGVEYXRhLnZpZXdDb250YWluZXIgPSBjcmVhdGVWaWV3Q29udGFpbmVyRGF0YSh2aWV3LCBub2RlRGVmLCBub2RlRGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyIC8qIFR5cGVUZXh0ICovOlxuICAgICAgICAgICAgICAgIG5vZGVEYXRhID0gKGNyZWF0ZVRleHQodmlldywgcmVuZGVySG9zdCwgbm9kZURlZikpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA1MTIgLyogVHlwZUNsYXNzUHJvdmlkZXIgKi86XG4gICAgICAgICAgICBjYXNlIDEwMjQgLyogVHlwZUZhY3RvcnlQcm92aWRlciAqLzpcbiAgICAgICAgICAgIGNhc2UgMjA0OCAvKiBUeXBlVXNlRXhpc3RpbmdQcm92aWRlciAqLzpcbiAgICAgICAgICAgIGNhc2UgMjU2IC8qIFR5cGVWYWx1ZVByb3ZpZGVyICovOiB7XG4gICAgICAgICAgICAgICAgbm9kZURhdGEgPSBub2Rlc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAoIW5vZGVEYXRhICYmICEobm9kZURlZi5mbGFncyAmIDQwOTYgLyogTGF6eVByb3ZpZGVyICovKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBpbnN0YW5jZSA9IGNyZWF0ZVByb3ZpZGVySW5zdGFuY2Uodmlldywgbm9kZURlZik7XG4gICAgICAgICAgICAgICAgICAgIG5vZGVEYXRhID0gKHsgaW5zdGFuY2U6IGluc3RhbmNlIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgMTYgLyogVHlwZVBpcGUgKi86IHtcbiAgICAgICAgICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBpbnN0YW5jZSA9IGNyZWF0ZVBpcGVJbnN0YW5jZSh2aWV3LCBub2RlRGVmKTtcbiAgICAgICAgICAgICAgICBub2RlRGF0YSA9ICh7IGluc3RhbmNlOiBpbnN0YW5jZSB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgMTYzODQgLyogVHlwZURpcmVjdGl2ZSAqLzoge1xuICAgICAgICAgICAgICAgIG5vZGVEYXRhID0gbm9kZXNbaV07XG4gICAgICAgICAgICAgICAgaWYgKCFub2RlRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBpbnN0YW5jZSA9IGNyZWF0ZURpcmVjdGl2ZUluc3RhbmNlKHZpZXcsIG5vZGVEZWYpO1xuICAgICAgICAgICAgICAgICAgICBub2RlRGF0YSA9ICh7IGluc3RhbmNlOiBpbnN0YW5jZSB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5vZGVEZWYuZmxhZ3MgJiAzMjc2OCAvKiBDb21wb25lbnQgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gY29tcFZpZXcgPSBhc0VsZW1lbnREYXRhKHZpZXcsIC8qKiBAdHlwZSB7P30gKi8gKChub2RlRGVmLnBhcmVudCkpLm5vZGVJbmRleCkuY29tcG9uZW50VmlldztcbiAgICAgICAgICAgICAgICAgICAgaW5pdFZpZXcoY29tcFZpZXcsIG5vZGVEYXRhLmluc3RhbmNlLCBub2RlRGF0YS5pbnN0YW5jZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAzMiAvKiBUeXBlUHVyZUFycmF5ICovOlxuICAgICAgICAgICAgY2FzZSA2NCAvKiBUeXBlUHVyZU9iamVjdCAqLzpcbiAgICAgICAgICAgIGNhc2UgMTI4IC8qIFR5cGVQdXJlUGlwZSAqLzpcbiAgICAgICAgICAgICAgICBub2RlRGF0YSA9IChjcmVhdGVQdXJlRXhwcmVzc2lvbih2aWV3LCBub2RlRGVmKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDY3MTA4ODY0IC8qIFR5cGVDb250ZW50UXVlcnkgKi86XG4gICAgICAgICAgICBjYXNlIDEzNDIxNzcyOCAvKiBUeXBlVmlld1F1ZXJ5ICovOlxuICAgICAgICAgICAgICAgIG5vZGVEYXRhID0gKGNyZWF0ZVF1ZXJ5KCkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA4IC8qIFR5cGVOZ0NvbnRlbnQgKi86XG4gICAgICAgICAgICAgICAgYXBwZW5kTmdDb250ZW50KHZpZXcsIHJlbmRlckhvc3QsIG5vZGVEZWYpO1xuICAgICAgICAgICAgICAgIC8vIG5vIHJ1bnRpbWUgZGF0YSBuZWVkZWQgZm9yIE5nQ29udGVudC4uLlxuICAgICAgICAgICAgICAgIG5vZGVEYXRhID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIG5vZGVzW2ldID0gbm9kZURhdGE7XG4gICAgfVxuICAgIC8vIENyZWF0ZSB0aGUgVmlld0RhdGEubm9kZXMgb2YgY29tcG9uZW50IHZpZXdzIGFmdGVyIHdlIGNyZWF0ZWQgZXZlcnl0aGluZyBlbHNlLFxuICAgIC8vIHNvIHRoYXQgZS5nLiBuZy1jb250ZW50IHdvcmtzXG4gICAgZXhlY0NvbXBvbmVudFZpZXdzQWN0aW9uKHZpZXcsIFZpZXdBY3Rpb24uQ3JlYXRlVmlld05vZGVzKTtcbiAgICAvLyBmaWxsIHN0YXRpYyBjb250ZW50IGFuZCB2aWV3IHF1ZXJpZXNcbiAgICBleGVjUXVlcmllc0FjdGlvbih2aWV3LCA2NzEwODg2NCAvKiBUeXBlQ29udGVudFF1ZXJ5ICovIHwgMTM0MjE3NzI4IC8qIFR5cGVWaWV3UXVlcnkgKi8sIDI2ODQzNTQ1NiAvKiBTdGF0aWNRdWVyeSAqLywgMCAvKiBDaGVja0FuZFVwZGF0ZSAqLyk7XG59XG4vKipcbiAqIEBwYXJhbSB7P30gdmlld1xuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gY2hlY2tOb0NoYW5nZXNWaWV3KHZpZXcpIHtcbiAgICBtYXJrUHJvamVjdGVkVmlld3NGb3JDaGVjayh2aWV3KTtcbiAgICBTZXJ2aWNlcy51cGRhdGVEaXJlY3RpdmVzKHZpZXcsIDEgLyogQ2hlY2tOb0NoYW5nZXMgKi8pO1xuICAgIGV4ZWNFbWJlZGRlZFZpZXdzQWN0aW9uKHZpZXcsIFZpZXdBY3Rpb24uQ2hlY2tOb0NoYW5nZXMpO1xuICAgIFNlcnZpY2VzLnVwZGF0ZVJlbmRlcmVyKHZpZXcsIDEgLyogQ2hlY2tOb0NoYW5nZXMgKi8pO1xuICAgIGV4ZWNDb21wb25lbnRWaWV3c0FjdGlvbih2aWV3LCBWaWV3QWN0aW9uLkNoZWNrTm9DaGFuZ2VzKTtcbiAgICAvLyBOb3RlOiBXZSBkb24ndCBjaGVjayBxdWVyaWVzIGZvciBjaGFuZ2VzIGFzIHdlIGRpZG4ndCBkbyB0aGlzIGluIHYyLnguXG4gICAgLy8gVE9ETyh0Ym9zY2gpOiBpbnZlc3RpZ2F0ZSBpZiB3ZSBjYW4gZW5hYmxlIHRoZSBjaGVjayBhZ2FpbiBpbiB2NS54IHdpdGggYSBuaWNlciBlcnJvciBtZXNzYWdlLlxuICAgIHZpZXcuc3RhdGUgJj0gfig2NCAvKiBDaGVja1Byb2plY3RlZFZpZXdzICovIHwgMzIgLyogQ2hlY2tQcm9qZWN0ZWRWaWV3ICovKTtcbn1cbi8qKlxuICogQHBhcmFtIHs/fSB2aWV3XG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBjaGVja0FuZFVwZGF0ZVZpZXcodmlldykge1xuICAgIGlmICh2aWV3LnN0YXRlICYgMSAvKiBCZWZvcmVGaXJzdENoZWNrICovKSB7XG4gICAgICAgIHZpZXcuc3RhdGUgJj0gfjEgLyogQmVmb3JlRmlyc3RDaGVjayAqLztcbiAgICAgICAgdmlldy5zdGF0ZSB8PSAyIC8qIEZpcnN0Q2hlY2sgKi87XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2aWV3LnN0YXRlICY9IH4yIC8qIEZpcnN0Q2hlY2sgKi87XG4gICAgfVxuICAgIG1hcmtQcm9qZWN0ZWRWaWV3c0ZvckNoZWNrKHZpZXcpO1xuICAgIFNlcnZpY2VzLnVwZGF0ZURpcmVjdGl2ZXModmlldywgMCAvKiBDaGVja0FuZFVwZGF0ZSAqLyk7XG4gICAgZXhlY0VtYmVkZGVkVmlld3NBY3Rpb24odmlldywgVmlld0FjdGlvbi5DaGVja0FuZFVwZGF0ZSk7XG4gICAgZXhlY1F1ZXJpZXNBY3Rpb24odmlldywgNjcxMDg4NjQgLyogVHlwZUNvbnRlbnRRdWVyeSAqLywgNTM2ODcwOTEyIC8qIER5bmFtaWNRdWVyeSAqLywgMCAvKiBDaGVja0FuZFVwZGF0ZSAqLyk7XG4gICAgY2FsbExpZmVjeWNsZUhvb2tzQ2hpbGRyZW5GaXJzdCh2aWV3LCAyMDk3MTUyIC8qIEFmdGVyQ29udGVudENoZWNrZWQgKi8gfFxuICAgICAgICAodmlldy5zdGF0ZSAmIDIgLyogRmlyc3RDaGVjayAqLyA/IDEwNDg1NzYgLyogQWZ0ZXJDb250ZW50SW5pdCAqLyA6IDApKTtcbiAgICBTZXJ2aWNlcy51cGRhdGVSZW5kZXJlcih2aWV3LCAwIC8qIENoZWNrQW5kVXBkYXRlICovKTtcbiAgICBleGVjQ29tcG9uZW50Vmlld3NBY3Rpb24odmlldywgVmlld0FjdGlvbi5DaGVja0FuZFVwZGF0ZSk7XG4gICAgZXhlY1F1ZXJpZXNBY3Rpb24odmlldywgMTM0MjE3NzI4IC8qIFR5cGVWaWV3UXVlcnkgKi8sIDUzNjg3MDkxMiAvKiBEeW5hbWljUXVlcnkgKi8sIDAgLyogQ2hlY2tBbmRVcGRhdGUgKi8pO1xuICAgIGNhbGxMaWZlY3ljbGVIb29rc0NoaWxkcmVuRmlyc3QodmlldywgODM4ODYwOCAvKiBBZnRlclZpZXdDaGVja2VkICovIHxcbiAgICAgICAgKHZpZXcuc3RhdGUgJiAyIC8qIEZpcnN0Q2hlY2sgKi8gPyA0MTk0MzA0IC8qIEFmdGVyVmlld0luaXQgKi8gOiAwKSk7XG4gICAgaWYgKHZpZXcuZGVmLmZsYWdzICYgMiAvKiBPblB1c2ggKi8pIHtcbiAgICAgICAgdmlldy5zdGF0ZSAmPSB+OCAvKiBDaGVja3NFbmFibGVkICovO1xuICAgIH1cbiAgICB2aWV3LnN0YXRlICY9IH4oNjQgLyogQ2hlY2tQcm9qZWN0ZWRWaWV3cyAqLyB8IDMyIC8qIENoZWNrUHJvamVjdGVkVmlldyAqLyk7XG59XG4vKipcbiAqIEBwYXJhbSB7P30gdmlld1xuICogQHBhcmFtIHs/fSBub2RlRGVmXG4gKiBAcGFyYW0gez99IGFyZ1N0eWxlXG4gKiBAcGFyYW0gez89fSB2MFxuICogQHBhcmFtIHs/PX0gdjFcbiAqIEBwYXJhbSB7Pz19IHYyXG4gKiBAcGFyYW0gez89fSB2M1xuICogQHBhcmFtIHs/PX0gdjRcbiAqIEBwYXJhbSB7Pz19IHY1XG4gKiBAcGFyYW0gez89fSB2NlxuICogQHBhcmFtIHs/PX0gdjdcbiAqIEBwYXJhbSB7Pz19IHY4XG4gKiBAcGFyYW0gez89fSB2OVxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gY2hlY2tBbmRVcGRhdGVOb2RlKHZpZXcsIG5vZGVEZWYsIGFyZ1N0eWxlLCB2MCwgdjEsIHYyLCB2MywgdjQsIHY1LCB2NiwgdjcsIHY4LCB2OSkge1xuICAgIGlmIChhcmdTdHlsZSA9PT0gMCAvKiBJbmxpbmUgKi8pIHtcbiAgICAgICAgcmV0dXJuIGNoZWNrQW5kVXBkYXRlTm9kZUlubGluZSh2aWV3LCBub2RlRGVmLCB2MCwgdjEsIHYyLCB2MywgdjQsIHY1LCB2NiwgdjcsIHY4LCB2OSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gY2hlY2tBbmRVcGRhdGVOb2RlRHluYW1pYyh2aWV3LCBub2RlRGVmLCB2MCk7XG4gICAgfVxufVxuLyoqXG4gKiBAcGFyYW0gez99IHZpZXdcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIG1hcmtQcm9qZWN0ZWRWaWV3c0ZvckNoZWNrKHZpZXcpIHtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBkZWYgPSB2aWV3LmRlZjtcbiAgICBpZiAoIShkZWYubm9kZUZsYWdzICYgNCAvKiBQcm9qZWN0ZWRUZW1wbGF0ZSAqLykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmb3IgKHZhciAvKiogQHR5cGUgez99ICovIGkgPSAwOyBpIDwgZGVmLm5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIG5vZGVEZWYgPSBkZWYubm9kZXNbaV07XG4gICAgICAgIGlmIChub2RlRGVmLmZsYWdzICYgNCAvKiBQcm9qZWN0ZWRUZW1wbGF0ZSAqLykge1xuICAgICAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcHJvamVjdGVkVmlld3MgPSBhc0VsZW1lbnREYXRhKHZpZXcsIGkpLnRlbXBsYXRlLl9wcm9qZWN0ZWRWaWV3cztcbiAgICAgICAgICAgIGlmIChwcm9qZWN0ZWRWaWV3cykge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIC8qKiBAdHlwZSB7P30gKi8gaV8xID0gMDsgaV8xIDwgcHJvamVjdGVkVmlld3MubGVuZ3RoOyBpXzErKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBwcm9qZWN0ZWRWaWV3ID0gcHJvamVjdGVkVmlld3NbaV8xXTtcbiAgICAgICAgICAgICAgICAgICAgcHJvamVjdGVkVmlldy5zdGF0ZSB8PSAzMiAvKiBDaGVja1Byb2plY3RlZFZpZXcgKi87XG4gICAgICAgICAgICAgICAgICAgIG1hcmtQYXJlbnRWaWV3c0ZvckNoZWNrUHJvamVjdGVkVmlld3MocHJvamVjdGVkVmlldywgdmlldyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKChub2RlRGVmLmNoaWxkRmxhZ3MgJiA0IC8qIFByb2plY3RlZFRlbXBsYXRlICovKSA9PT0gMCkge1xuICAgICAgICAgICAgLy8gYSBwYXJlbnQgd2l0aCBsZWFmc1xuICAgICAgICAgICAgLy8gbm8gY2hpbGQgaXMgYSBjb21wb25lbnQsXG4gICAgICAgICAgICAvLyB0aGVuIHNraXAgdGhlIGNoaWxkcmVuXG4gICAgICAgICAgICBpICs9IG5vZGVEZWYuY2hpbGRDb3VudDtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQHBhcmFtIHs/fSB2aWV3XG4gKiBAcGFyYW0gez99IG5vZGVEZWZcbiAqIEBwYXJhbSB7Pz19IHYwXG4gKiBAcGFyYW0gez89fSB2MVxuICogQHBhcmFtIHs/PX0gdjJcbiAqIEBwYXJhbSB7Pz19IHYzXG4gKiBAcGFyYW0gez89fSB2NFxuICogQHBhcmFtIHs/PX0gdjVcbiAqIEBwYXJhbSB7Pz19IHY2XG4gKiBAcGFyYW0gez89fSB2N1xuICogQHBhcmFtIHs/PX0gdjhcbiAqIEBwYXJhbSB7Pz19IHY5XG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBjaGVja0FuZFVwZGF0ZU5vZGVJbmxpbmUodmlldywgbm9kZURlZiwgdjAsIHYxLCB2MiwgdjMsIHY0LCB2NSwgdjYsIHY3LCB2OCwgdjkpIHtcbiAgICBzd2l0Y2ggKG5vZGVEZWYuZmxhZ3MgJiAyMDEzNDcwNjcgLyogVHlwZXMgKi8pIHtcbiAgICAgICAgY2FzZSAxIC8qIFR5cGVFbGVtZW50ICovOlxuICAgICAgICAgICAgcmV0dXJuIGNoZWNrQW5kVXBkYXRlRWxlbWVudElubGluZSh2aWV3LCBub2RlRGVmLCB2MCwgdjEsIHYyLCB2MywgdjQsIHY1LCB2NiwgdjcsIHY4LCB2OSk7XG4gICAgICAgIGNhc2UgMiAvKiBUeXBlVGV4dCAqLzpcbiAgICAgICAgICAgIHJldHVybiBjaGVja0FuZFVwZGF0ZVRleHRJbmxpbmUodmlldywgbm9kZURlZiwgdjAsIHYxLCB2MiwgdjMsIHY0LCB2NSwgdjYsIHY3LCB2OCwgdjkpO1xuICAgICAgICBjYXNlIDE2Mzg0IC8qIFR5cGVEaXJlY3RpdmUgKi86XG4gICAgICAgICAgICByZXR1cm4gY2hlY2tBbmRVcGRhdGVEaXJlY3RpdmVJbmxpbmUodmlldywgbm9kZURlZiwgdjAsIHYxLCB2MiwgdjMsIHY0LCB2NSwgdjYsIHY3LCB2OCwgdjkpO1xuICAgICAgICBjYXNlIDMyIC8qIFR5cGVQdXJlQXJyYXkgKi86XG4gICAgICAgIGNhc2UgNjQgLyogVHlwZVB1cmVPYmplY3QgKi86XG4gICAgICAgIGNhc2UgMTI4IC8qIFR5cGVQdXJlUGlwZSAqLzpcbiAgICAgICAgICAgIHJldHVybiBjaGVja0FuZFVwZGF0ZVB1cmVFeHByZXNzaW9uSW5saW5lKHZpZXcsIG5vZGVEZWYsIHYwLCB2MSwgdjIsIHYzLCB2NCwgdjUsIHY2LCB2NywgdjgsIHY5KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93ICd1bnJlYWNoYWJsZSc7XG4gICAgfVxufVxuLyoqXG4gKiBAcGFyYW0gez99IHZpZXdcbiAqIEBwYXJhbSB7P30gbm9kZURlZlxuICogQHBhcmFtIHs/fSB2YWx1ZXNcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGNoZWNrQW5kVXBkYXRlTm9kZUR5bmFtaWModmlldywgbm9kZURlZiwgdmFsdWVzKSB7XG4gICAgc3dpdGNoIChub2RlRGVmLmZsYWdzICYgMjAxMzQ3MDY3IC8qIFR5cGVzICovKSB7XG4gICAgICAgIGNhc2UgMSAvKiBUeXBlRWxlbWVudCAqLzpcbiAgICAgICAgICAgIHJldHVybiBjaGVja0FuZFVwZGF0ZUVsZW1lbnREeW5hbWljKHZpZXcsIG5vZGVEZWYsIHZhbHVlcyk7XG4gICAgICAgIGNhc2UgMiAvKiBUeXBlVGV4dCAqLzpcbiAgICAgICAgICAgIHJldHVybiBjaGVja0FuZFVwZGF0ZVRleHREeW5hbWljKHZpZXcsIG5vZGVEZWYsIHZhbHVlcyk7XG4gICAgICAgIGNhc2UgMTYzODQgLyogVHlwZURpcmVjdGl2ZSAqLzpcbiAgICAgICAgICAgIHJldHVybiBjaGVja0FuZFVwZGF0ZURpcmVjdGl2ZUR5bmFtaWModmlldywgbm9kZURlZiwgdmFsdWVzKTtcbiAgICAgICAgY2FzZSAzMiAvKiBUeXBlUHVyZUFycmF5ICovOlxuICAgICAgICBjYXNlIDY0IC8qIFR5cGVQdXJlT2JqZWN0ICovOlxuICAgICAgICBjYXNlIDEyOCAvKiBUeXBlUHVyZVBpcGUgKi86XG4gICAgICAgICAgICByZXR1cm4gY2hlY2tBbmRVcGRhdGVQdXJlRXhwcmVzc2lvbkR5bmFtaWModmlldywgbm9kZURlZiwgdmFsdWVzKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93ICd1bnJlYWNoYWJsZSc7XG4gICAgfVxufVxuLyoqXG4gKiBAcGFyYW0gez99IHZpZXdcbiAqIEBwYXJhbSB7P30gbm9kZURlZlxuICogQHBhcmFtIHs/fSBhcmdTdHlsZVxuICogQHBhcmFtIHs/PX0gdjBcbiAqIEBwYXJhbSB7Pz19IHYxXG4gKiBAcGFyYW0gez89fSB2MlxuICogQHBhcmFtIHs/PX0gdjNcbiAqIEBwYXJhbSB7Pz19IHY0XG4gKiBAcGFyYW0gez89fSB2NVxuICogQHBhcmFtIHs/PX0gdjZcbiAqIEBwYXJhbSB7Pz19IHY3XG4gKiBAcGFyYW0gez89fSB2OFxuICogQHBhcmFtIHs/PX0gdjlcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGNoZWNrTm9DaGFuZ2VzTm9kZSh2aWV3LCBub2RlRGVmLCBhcmdTdHlsZSwgdjAsIHYxLCB2MiwgdjMsIHY0LCB2NSwgdjYsIHY3LCB2OCwgdjkpIHtcbiAgICBpZiAoYXJnU3R5bGUgPT09IDAgLyogSW5saW5lICovKSB7XG4gICAgICAgIGNoZWNrTm9DaGFuZ2VzTm9kZUlubGluZSh2aWV3LCBub2RlRGVmLCB2MCwgdjEsIHYyLCB2MywgdjQsIHY1LCB2NiwgdjcsIHY4LCB2OSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjaGVja05vQ2hhbmdlc05vZGVEeW5hbWljKHZpZXcsIG5vZGVEZWYsIHYwKTtcbiAgICB9XG4gICAgLy8gUmV0dXJuaW5nIGZhbHNlIGlzIG9rIGhlcmUgYXMgd2Ugd291bGQgaGF2ZSB0aHJvd24gaW4gY2FzZSBvZiBhIGNoYW5nZS5cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vKipcbiAqIEBwYXJhbSB7P30gdmlld1xuICogQHBhcmFtIHs/fSBub2RlRGVmXG4gKiBAcGFyYW0gez99IHYwXG4gKiBAcGFyYW0gez99IHYxXG4gKiBAcGFyYW0gez99IHYyXG4gKiBAcGFyYW0gez99IHYzXG4gKiBAcGFyYW0gez99IHY0XG4gKiBAcGFyYW0gez99IHY1XG4gKiBAcGFyYW0gez99IHY2XG4gKiBAcGFyYW0gez99IHY3XG4gKiBAcGFyYW0gez99IHY4XG4gKiBAcGFyYW0gez99IHY5XG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBjaGVja05vQ2hhbmdlc05vZGVJbmxpbmUodmlldywgbm9kZURlZiwgdjAsIHYxLCB2MiwgdjMsIHY0LCB2NSwgdjYsIHY3LCB2OCwgdjkpIHtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBiaW5kTGVuID0gbm9kZURlZi5iaW5kaW5ncy5sZW5ndGg7XG4gICAgaWYgKGJpbmRMZW4gPiAwKVxuICAgICAgICBjaGVja0JpbmRpbmdOb0NoYW5nZXModmlldywgbm9kZURlZiwgMCwgdjApO1xuICAgIGlmIChiaW5kTGVuID4gMSlcbiAgICAgICAgY2hlY2tCaW5kaW5nTm9DaGFuZ2VzKHZpZXcsIG5vZGVEZWYsIDEsIHYxKTtcbiAgICBpZiAoYmluZExlbiA+IDIpXG4gICAgICAgIGNoZWNrQmluZGluZ05vQ2hhbmdlcyh2aWV3LCBub2RlRGVmLCAyLCB2Mik7XG4gICAgaWYgKGJpbmRMZW4gPiAzKVxuICAgICAgICBjaGVja0JpbmRpbmdOb0NoYW5nZXModmlldywgbm9kZURlZiwgMywgdjMpO1xuICAgIGlmIChiaW5kTGVuID4gNClcbiAgICAgICAgY2hlY2tCaW5kaW5nTm9DaGFuZ2VzKHZpZXcsIG5vZGVEZWYsIDQsIHY0KTtcbiAgICBpZiAoYmluZExlbiA+IDUpXG4gICAgICAgIGNoZWNrQmluZGluZ05vQ2hhbmdlcyh2aWV3LCBub2RlRGVmLCA1LCB2NSk7XG4gICAgaWYgKGJpbmRMZW4gPiA2KVxuICAgICAgICBjaGVja0JpbmRpbmdOb0NoYW5nZXModmlldywgbm9kZURlZiwgNiwgdjYpO1xuICAgIGlmIChiaW5kTGVuID4gNylcbiAgICAgICAgY2hlY2tCaW5kaW5nTm9DaGFuZ2VzKHZpZXcsIG5vZGVEZWYsIDcsIHY3KTtcbiAgICBpZiAoYmluZExlbiA+IDgpXG4gICAgICAgIGNoZWNrQmluZGluZ05vQ2hhbmdlcyh2aWV3LCBub2RlRGVmLCA4LCB2OCk7XG4gICAgaWYgKGJpbmRMZW4gPiA5KVxuICAgICAgICBjaGVja0JpbmRpbmdOb0NoYW5nZXModmlldywgbm9kZURlZiwgOSwgdjkpO1xufVxuLyoqXG4gKiBAcGFyYW0gez99IHZpZXdcbiAqIEBwYXJhbSB7P30gbm9kZURlZlxuICogQHBhcmFtIHs/fSB2YWx1ZXNcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGNoZWNrTm9DaGFuZ2VzTm9kZUR5bmFtaWModmlldywgbm9kZURlZiwgdmFsdWVzKSB7XG4gICAgZm9yICh2YXIgLyoqIEB0eXBlIHs/fSAqLyBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjaGVja0JpbmRpbmdOb0NoYW5nZXModmlldywgbm9kZURlZiwgaSwgdmFsdWVzW2ldKTtcbiAgICB9XG59XG4vKipcbiAqIFdvcmthcm91bmQgaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvdHNpY2tsZS9pc3N1ZXMvNDk3XG4gKiBAc3VwcHJlc3Mge21pc3BsYWNlZFR5cGVBbm5vdGF0aW9ufVxuICogQHBhcmFtIHs/fSB2aWV3XG4gKiBAcGFyYW0gez99IG5vZGVEZWZcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGNoZWNrTm9DaGFuZ2VzUXVlcnkodmlldywgbm9kZURlZikge1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIHF1ZXJ5TGlzdCA9IGFzUXVlcnlMaXN0KHZpZXcsIG5vZGVEZWYubm9kZUluZGV4KTtcbiAgICBpZiAocXVlcnlMaXN0LmRpcnR5KSB7XG4gICAgICAgIHRocm93IGV4cHJlc3Npb25DaGFuZ2VkQWZ0ZXJJdEhhc0JlZW5DaGVja2VkRXJyb3IoU2VydmljZXMuY3JlYXRlRGVidWdDb250ZXh0KHZpZXcsIG5vZGVEZWYubm9kZUluZGV4KSwgXCJRdWVyeSBcIiArICgobm9kZURlZi5xdWVyeSkpLmlkICsgXCIgbm90IGRpcnR5XCIsIFwiUXVlcnkgXCIgKyAoKG5vZGVEZWYucXVlcnkpKS5pZCArIFwiIGRpcnR5XCIsICh2aWV3LnN0YXRlICYgMSAvKiBCZWZvcmVGaXJzdENoZWNrICovKSAhPT0gMCk7XG4gICAgfVxufVxuLyoqXG4gKiBAcGFyYW0gez99IHZpZXdcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGRlc3Ryb3lWaWV3KHZpZXcpIHtcbiAgICBpZiAodmlldy5zdGF0ZSAmIDEyOCAvKiBEZXN0cm95ZWQgKi8pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBleGVjRW1iZWRkZWRWaWV3c0FjdGlvbih2aWV3LCBWaWV3QWN0aW9uLkRlc3Ryb3kpO1xuICAgIGV4ZWNDb21wb25lbnRWaWV3c0FjdGlvbih2aWV3LCBWaWV3QWN0aW9uLkRlc3Ryb3kpO1xuICAgIGNhbGxMaWZlY3ljbGVIb29rc0NoaWxkcmVuRmlyc3QodmlldywgMTMxMDcyIC8qIE9uRGVzdHJveSAqLyk7XG4gICAgaWYgKHZpZXcuZGlzcG9zYWJsZXMpIHtcbiAgICAgICAgZm9yICh2YXIgLyoqIEB0eXBlIHs/fSAqLyBpID0gMDsgaSA8IHZpZXcuZGlzcG9zYWJsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZpZXcuZGlzcG9zYWJsZXNbaV0oKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkZXRhY2hQcm9qZWN0ZWRWaWV3KHZpZXcpO1xuICAgIGlmICh2aWV3LnJlbmRlcmVyLmRlc3Ryb3lOb2RlKSB7XG4gICAgICAgIGRlc3Ryb3lWaWV3Tm9kZXModmlldyk7XG4gICAgfVxuICAgIGlmIChpc0NvbXBvbmVudFZpZXcodmlldykpIHtcbiAgICAgICAgdmlldy5yZW5kZXJlci5kZXN0cm95KCk7XG4gICAgfVxuICAgIHZpZXcuc3RhdGUgfD0gMTI4IC8qIERlc3Ryb3llZCAqLztcbn1cbi8qKlxuICogQHBhcmFtIHs/fSB2aWV3XG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBkZXN0cm95Vmlld05vZGVzKHZpZXcpIHtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBsZW4gPSB2aWV3LmRlZi5ub2Rlcy5sZW5ndGg7XG4gICAgZm9yICh2YXIgLyoqIEB0eXBlIHs/fSAqLyBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGRlZiA9IHZpZXcuZGVmLm5vZGVzW2ldO1xuICAgICAgICBpZiAoZGVmLmZsYWdzICYgMSAvKiBUeXBlRWxlbWVudCAqLykge1xuICAgICAgICAgICAgKCh2aWV3LnJlbmRlcmVyLmRlc3Ryb3lOb2RlKSkoYXNFbGVtZW50RGF0YSh2aWV3LCBpKS5yZW5kZXJFbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkZWYuZmxhZ3MgJiAyIC8qIFR5cGVUZXh0ICovKSB7XG4gICAgICAgICAgICAoKHZpZXcucmVuZGVyZXIuZGVzdHJveU5vZGUpKShhc1RleHREYXRhKHZpZXcsIGkpLnJlbmRlclRleHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRlZi5mbGFncyAmIDY3MTA4ODY0IC8qIFR5cGVDb250ZW50UXVlcnkgKi8gfHwgZGVmLmZsYWdzICYgMTM0MjE3NzI4IC8qIFR5cGVWaWV3UXVlcnkgKi8pIHtcbiAgICAgICAgICAgIGFzUXVlcnlMaXN0KHZpZXcsIGkpLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbnZhciBWaWV3QWN0aW9uID0ge307XG5WaWV3QWN0aW9uLkNyZWF0ZVZpZXdOb2RlcyA9IDA7XG5WaWV3QWN0aW9uLkNoZWNrTm9DaGFuZ2VzID0gMTtcblZpZXdBY3Rpb24uQ2hlY2tOb0NoYW5nZXNQcm9qZWN0ZWRWaWV3cyA9IDI7XG5WaWV3QWN0aW9uLkNoZWNrQW5kVXBkYXRlID0gMztcblZpZXdBY3Rpb24uQ2hlY2tBbmRVcGRhdGVQcm9qZWN0ZWRWaWV3cyA9IDQ7XG5WaWV3QWN0aW9uLkRlc3Ryb3kgPSA1O1xuVmlld0FjdGlvbltWaWV3QWN0aW9uLkNyZWF0ZVZpZXdOb2Rlc10gPSBcIkNyZWF0ZVZpZXdOb2Rlc1wiO1xuVmlld0FjdGlvbltWaWV3QWN0aW9uLkNoZWNrTm9DaGFuZ2VzXSA9IFwiQ2hlY2tOb0NoYW5nZXNcIjtcblZpZXdBY3Rpb25bVmlld0FjdGlvbi5DaGVja05vQ2hhbmdlc1Byb2plY3RlZFZpZXdzXSA9IFwiQ2hlY2tOb0NoYW5nZXNQcm9qZWN0ZWRWaWV3c1wiO1xuVmlld0FjdGlvbltWaWV3QWN0aW9uLkNoZWNrQW5kVXBkYXRlXSA9IFwiQ2hlY2tBbmRVcGRhdGVcIjtcblZpZXdBY3Rpb25bVmlld0FjdGlvbi5DaGVja0FuZFVwZGF0ZVByb2plY3RlZFZpZXdzXSA9IFwiQ2hlY2tBbmRVcGRhdGVQcm9qZWN0ZWRWaWV3c1wiO1xuVmlld0FjdGlvbltWaWV3QWN0aW9uLkRlc3Ryb3ldID0gXCJEZXN0cm95XCI7XG4vKipcbiAqIEBwYXJhbSB7P30gdmlld1xuICogQHBhcmFtIHs/fSBhY3Rpb25cbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGV4ZWNDb21wb25lbnRWaWV3c0FjdGlvbih2aWV3LCBhY3Rpb24pIHtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBkZWYgPSB2aWV3LmRlZjtcbiAgICBpZiAoIShkZWYubm9kZUZsYWdzICYgMzM1NTQ0MzIgLyogQ29tcG9uZW50VmlldyAqLykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmb3IgKHZhciAvKiogQHR5cGUgez99ICovIGkgPSAwOyBpIDwgZGVmLm5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIG5vZGVEZWYgPSBkZWYubm9kZXNbaV07XG4gICAgICAgIGlmIChub2RlRGVmLmZsYWdzICYgMzM1NTQ0MzIgLyogQ29tcG9uZW50VmlldyAqLykge1xuICAgICAgICAgICAgLy8gYSBsZWFmXG4gICAgICAgICAgICBjYWxsVmlld0FjdGlvbihhc0VsZW1lbnREYXRhKHZpZXcsIGkpLmNvbXBvbmVudFZpZXcsIGFjdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKG5vZGVEZWYuY2hpbGRGbGFncyAmIDMzNTU0NDMyIC8qIENvbXBvbmVudFZpZXcgKi8pID09PSAwKSB7XG4gICAgICAgICAgICAvLyBhIHBhcmVudCB3aXRoIGxlYWZzXG4gICAgICAgICAgICAvLyBubyBjaGlsZCBpcyBhIGNvbXBvbmVudCxcbiAgICAgICAgICAgIC8vIHRoZW4gc2tpcCB0aGUgY2hpbGRyZW5cbiAgICAgICAgICAgIGkgKz0gbm9kZURlZi5jaGlsZENvdW50O1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBAcGFyYW0gez99IHZpZXdcbiAqIEBwYXJhbSB7P30gYWN0aW9uXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBleGVjRW1iZWRkZWRWaWV3c0FjdGlvbih2aWV3LCBhY3Rpb24pIHtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBkZWYgPSB2aWV3LmRlZjtcbiAgICBpZiAoIShkZWYubm9kZUZsYWdzICYgMTY3NzcyMTYgLyogRW1iZWRkZWRWaWV3cyAqLykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmb3IgKHZhciAvKiogQHR5cGUgez99ICovIGkgPSAwOyBpIDwgZGVmLm5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIG5vZGVEZWYgPSBkZWYubm9kZXNbaV07XG4gICAgICAgIGlmIChub2RlRGVmLmZsYWdzICYgMTY3NzcyMTYgLyogRW1iZWRkZWRWaWV3cyAqLykge1xuICAgICAgICAgICAgLy8gYSBsZWFmXG4gICAgICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBlbWJlZGRlZFZpZXdzID0gKChhc0VsZW1lbnREYXRhKHZpZXcsIGkpLnZpZXdDb250YWluZXIpKS5fZW1iZWRkZWRWaWV3cztcbiAgICAgICAgICAgIGZvciAodmFyIC8qKiBAdHlwZSB7P30gKi8gayA9IDA7IGsgPCBlbWJlZGRlZFZpZXdzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgICAgY2FsbFZpZXdBY3Rpb24oZW1iZWRkZWRWaWV3c1trXSwgYWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgobm9kZURlZi5jaGlsZEZsYWdzICYgMTY3NzcyMTYgLyogRW1iZWRkZWRWaWV3cyAqLykgPT09IDApIHtcbiAgICAgICAgICAgIC8vIGEgcGFyZW50IHdpdGggbGVhZnNcbiAgICAgICAgICAgIC8vIG5vIGNoaWxkIGlzIGEgY29tcG9uZW50LFxuICAgICAgICAgICAgLy8gdGhlbiBza2lwIHRoZSBjaGlsZHJlblxuICAgICAgICAgICAgaSArPSBub2RlRGVmLmNoaWxkQ291bnQ7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7P30gdmlld1xuICogQHBhcmFtIHs/fSBhY3Rpb25cbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGNhbGxWaWV3QWN0aW9uKHZpZXcsIGFjdGlvbikge1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIHZpZXdTdGF0ZSA9IHZpZXcuc3RhdGU7XG4gICAgc3dpdGNoIChhY3Rpb24pIHtcbiAgICAgICAgY2FzZSBWaWV3QWN0aW9uLkNoZWNrTm9DaGFuZ2VzOlxuICAgICAgICAgICAgaWYgKCh2aWV3U3RhdGUgJiAxMjggLyogRGVzdHJveWVkICovKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGlmICgodmlld1N0YXRlICYgMTIgLyogQ2F0RGV0ZWN0Q2hhbmdlcyAqLykgPT09IDEyIC8qIENhdERldGVjdENoYW5nZXMgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tOb0NoYW5nZXNWaWV3KHZpZXcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh2aWV3U3RhdGUgJiA2NCAvKiBDaGVja1Byb2plY3RlZFZpZXdzICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4ZWNQcm9qZWN0ZWRWaWV3c0FjdGlvbih2aWV3LCBWaWV3QWN0aW9uLkNoZWNrTm9DaGFuZ2VzUHJvamVjdGVkVmlld3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFZpZXdBY3Rpb24uQ2hlY2tOb0NoYW5nZXNQcm9qZWN0ZWRWaWV3czpcbiAgICAgICAgICAgIGlmICgodmlld1N0YXRlICYgMTI4IC8qIERlc3Ryb3llZCAqLykgPT09IDApIHtcbiAgICAgICAgICAgICAgICBpZiAodmlld1N0YXRlICYgMzIgLyogQ2hlY2tQcm9qZWN0ZWRWaWV3ICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrTm9DaGFuZ2VzVmlldyh2aWV3KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodmlld1N0YXRlICYgNjQgLyogQ2hlY2tQcm9qZWN0ZWRWaWV3cyAqLykge1xuICAgICAgICAgICAgICAgICAgICBleGVjUHJvamVjdGVkVmlld3NBY3Rpb24odmlldywgYWN0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBWaWV3QWN0aW9uLkNoZWNrQW5kVXBkYXRlOlxuICAgICAgICAgICAgaWYgKCh2aWV3U3RhdGUgJiAxMjggLyogRGVzdHJveWVkICovKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGlmICgodmlld1N0YXRlICYgMTIgLyogQ2F0RGV0ZWN0Q2hhbmdlcyAqLykgPT09IDEyIC8qIENhdERldGVjdENoYW5nZXMgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tBbmRVcGRhdGVWaWV3KHZpZXcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh2aWV3U3RhdGUgJiA2NCAvKiBDaGVja1Byb2plY3RlZFZpZXdzICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4ZWNQcm9qZWN0ZWRWaWV3c0FjdGlvbih2aWV3LCBWaWV3QWN0aW9uLkNoZWNrQW5kVXBkYXRlUHJvamVjdGVkVmlld3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFZpZXdBY3Rpb24uQ2hlY2tBbmRVcGRhdGVQcm9qZWN0ZWRWaWV3czpcbiAgICAgICAgICAgIGlmICgodmlld1N0YXRlICYgMTI4IC8qIERlc3Ryb3llZCAqLykgPT09IDApIHtcbiAgICAgICAgICAgICAgICBpZiAodmlld1N0YXRlICYgMzIgLyogQ2hlY2tQcm9qZWN0ZWRWaWV3ICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrQW5kVXBkYXRlVmlldyh2aWV3KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodmlld1N0YXRlICYgNjQgLyogQ2hlY2tQcm9qZWN0ZWRWaWV3cyAqLykge1xuICAgICAgICAgICAgICAgICAgICBleGVjUHJvamVjdGVkVmlld3NBY3Rpb24odmlldywgYWN0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBWaWV3QWN0aW9uLkRlc3Ryb3k6XG4gICAgICAgICAgICAvLyBOb3RlOiBkZXN0cm95VmlldyByZWN1cnNlcyBvdmVyIGFsbCB2aWV3cyxcbiAgICAgICAgICAgIC8vIHNvIHdlIGRvbid0IG5lZWQgdG8gc3BlY2lhbCBjYXNlIHByb2plY3RlZCB2aWV3cyBoZXJlLlxuICAgICAgICAgICAgZGVzdHJveVZpZXcodmlldyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBWaWV3QWN0aW9uLkNyZWF0ZVZpZXdOb2RlczpcbiAgICAgICAgICAgIGNyZWF0ZVZpZXdOb2Rlcyh2aWV3KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbn1cbi8qKlxuICogQHBhcmFtIHs/fSB2aWV3XG4gKiBAcGFyYW0gez99IGFjdGlvblxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gZXhlY1Byb2plY3RlZFZpZXdzQWN0aW9uKHZpZXcsIGFjdGlvbikge1xuICAgIGV4ZWNFbWJlZGRlZFZpZXdzQWN0aW9uKHZpZXcsIGFjdGlvbik7XG4gICAgZXhlY0NvbXBvbmVudFZpZXdzQWN0aW9uKHZpZXcsIGFjdGlvbik7XG59XG4vKipcbiAqIEBwYXJhbSB7P30gdmlld1xuICogQHBhcmFtIHs/fSBxdWVyeUZsYWdzXG4gKiBAcGFyYW0gez99IHN0YXRpY0R5bmFtaWNRdWVyeUZsYWdcbiAqIEBwYXJhbSB7P30gY2hlY2tUeXBlXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBleGVjUXVlcmllc0FjdGlvbih2aWV3LCBxdWVyeUZsYWdzLCBzdGF0aWNEeW5hbWljUXVlcnlGbGFnLCBjaGVja1R5cGUpIHtcbiAgICBpZiAoISh2aWV3LmRlZi5ub2RlRmxhZ3MgJiBxdWVyeUZsYWdzKSB8fCAhKHZpZXcuZGVmLm5vZGVGbGFncyAmIHN0YXRpY0R5bmFtaWNRdWVyeUZsYWcpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gbm9kZUNvdW50ID0gdmlldy5kZWYubm9kZXMubGVuZ3RoO1xuICAgIGZvciAodmFyIC8qKiBAdHlwZSB7P30gKi8gaSA9IDA7IGkgPCBub2RlQ291bnQ7IGkrKykge1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBub2RlRGVmID0gdmlldy5kZWYubm9kZXNbaV07XG4gICAgICAgIGlmICgobm9kZURlZi5mbGFncyAmIHF1ZXJ5RmxhZ3MpICYmIChub2RlRGVmLmZsYWdzICYgc3RhdGljRHluYW1pY1F1ZXJ5RmxhZykpIHtcbiAgICAgICAgICAgIFNlcnZpY2VzLnNldEN1cnJlbnROb2RlKHZpZXcsIG5vZGVEZWYubm9kZUluZGV4KTtcbiAgICAgICAgICAgIHN3aXRjaCAoY2hlY2tUeXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwIC8qIENoZWNrQW5kVXBkYXRlICovOlxuICAgICAgICAgICAgICAgICAgICBjaGVja0FuZFVwZGF0ZVF1ZXJ5KHZpZXcsIG5vZGVEZWYpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDEgLyogQ2hlY2tOb0NoYW5nZXMgKi86XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrTm9DaGFuZ2VzUXVlcnkodmlldywgbm9kZURlZik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghKG5vZGVEZWYuY2hpbGRGbGFncyAmIHF1ZXJ5RmxhZ3MpIHx8ICEobm9kZURlZi5jaGlsZEZsYWdzICYgc3RhdGljRHluYW1pY1F1ZXJ5RmxhZykpIHtcbiAgICAgICAgICAgIC8vIG5vIGNoaWxkIGhhcyBhIG1hdGNoaW5nIHF1ZXJ5XG4gICAgICAgICAgICAvLyB0aGVuIHNraXAgdGhlIGNoaWxkcmVuXG4gICAgICAgICAgICBpICs9IG5vZGVEZWYuY2hpbGRDb3VudDtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbnZhciBpbml0aWFsaXplZCA9IGZhbHNlO1xuLyoqXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBpbml0U2VydmljZXNJZk5lZWRlZCgpIHtcbiAgICBpZiAoaW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpbml0aWFsaXplZCA9IHRydWU7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gc2VydmljZXMgPSBpc0Rldk1vZGUoKSA/IGNyZWF0ZURlYnVnU2VydmljZXMoKSA6IGNyZWF0ZVByb2RTZXJ2aWNlcygpO1xuICAgIFNlcnZpY2VzLnNldEN1cnJlbnROb2RlID0gc2VydmljZXMuc2V0Q3VycmVudE5vZGU7XG4gICAgU2VydmljZXMuY3JlYXRlUm9vdFZpZXcgPSBzZXJ2aWNlcy5jcmVhdGVSb290VmlldztcbiAgICBTZXJ2aWNlcy5jcmVhdGVFbWJlZGRlZFZpZXcgPSBzZXJ2aWNlcy5jcmVhdGVFbWJlZGRlZFZpZXc7XG4gICAgU2VydmljZXMuY3JlYXRlQ29tcG9uZW50VmlldyA9IHNlcnZpY2VzLmNyZWF0ZUNvbXBvbmVudFZpZXc7XG4gICAgU2VydmljZXMuY3JlYXRlTmdNb2R1bGVSZWYgPSBzZXJ2aWNlcy5jcmVhdGVOZ01vZHVsZVJlZjtcbiAgICBTZXJ2aWNlcy5vdmVycmlkZVByb3ZpZGVyID0gc2VydmljZXMub3ZlcnJpZGVQcm92aWRlcjtcbiAgICBTZXJ2aWNlcy5jbGVhclByb3ZpZGVyT3ZlcnJpZGVzID0gc2VydmljZXMuY2xlYXJQcm92aWRlck92ZXJyaWRlcztcbiAgICBTZXJ2aWNlcy5jaGVja0FuZFVwZGF0ZVZpZXcgPSBzZXJ2aWNlcy5jaGVja0FuZFVwZGF0ZVZpZXc7XG4gICAgU2VydmljZXMuY2hlY2tOb0NoYW5nZXNWaWV3ID0gc2VydmljZXMuY2hlY2tOb0NoYW5nZXNWaWV3O1xuICAgIFNlcnZpY2VzLmRlc3Ryb3lWaWV3ID0gc2VydmljZXMuZGVzdHJveVZpZXc7XG4gICAgU2VydmljZXMucmVzb2x2ZURlcCA9IHJlc29sdmVEZXA7XG4gICAgU2VydmljZXMuY3JlYXRlRGVidWdDb250ZXh0ID0gc2VydmljZXMuY3JlYXRlRGVidWdDb250ZXh0O1xuICAgIFNlcnZpY2VzLmhhbmRsZUV2ZW50ID0gc2VydmljZXMuaGFuZGxlRXZlbnQ7XG4gICAgU2VydmljZXMudXBkYXRlRGlyZWN0aXZlcyA9IHNlcnZpY2VzLnVwZGF0ZURpcmVjdGl2ZXM7XG4gICAgU2VydmljZXMudXBkYXRlUmVuZGVyZXIgPSBzZXJ2aWNlcy51cGRhdGVSZW5kZXJlcjtcbiAgICBTZXJ2aWNlcy5kaXJ0eVBhcmVudFF1ZXJpZXMgPSBkaXJ0eVBhcmVudFF1ZXJpZXM7XG59XG4vKipcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVByb2RTZXJ2aWNlcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBzZXRDdXJyZW50Tm9kZTogZnVuY3Rpb24gKCkgeyB9LFxuICAgICAgICBjcmVhdGVSb290VmlldzogY3JlYXRlUHJvZFJvb3RWaWV3LFxuICAgICAgICBjcmVhdGVFbWJlZGRlZFZpZXc6IGNyZWF0ZUVtYmVkZGVkVmlldyxcbiAgICAgICAgY3JlYXRlQ29tcG9uZW50VmlldzogY3JlYXRlQ29tcG9uZW50VmlldyxcbiAgICAgICAgY3JlYXRlTmdNb2R1bGVSZWY6IGNyZWF0ZU5nTW9kdWxlUmVmLFxuICAgICAgICBvdmVycmlkZVByb3ZpZGVyOiBOT09QLFxuICAgICAgICBjbGVhclByb3ZpZGVyT3ZlcnJpZGVzOiBOT09QLFxuICAgICAgICBjaGVja0FuZFVwZGF0ZVZpZXc6IGNoZWNrQW5kVXBkYXRlVmlldyxcbiAgICAgICAgY2hlY2tOb0NoYW5nZXNWaWV3OiBjaGVja05vQ2hhbmdlc1ZpZXcsXG4gICAgICAgIGRlc3Ryb3lWaWV3OiBkZXN0cm95VmlldyxcbiAgICAgICAgY3JlYXRlRGVidWdDb250ZXh0OiBmdW5jdGlvbiAodmlldywgbm9kZUluZGV4KSB7IHJldHVybiBuZXcgRGVidWdDb250ZXh0Xyh2aWV3LCBub2RlSW5kZXgpOyB9LFxuICAgICAgICBoYW5kbGVFdmVudDogZnVuY3Rpb24gKHZpZXcsIG5vZGVJbmRleCwgZXZlbnROYW1lLCBldmVudCkgeyByZXR1cm4gdmlldy5kZWYuaGFuZGxlRXZlbnQodmlldywgbm9kZUluZGV4LCBldmVudE5hbWUsIGV2ZW50KTsgfSxcbiAgICAgICAgdXBkYXRlRGlyZWN0aXZlczogZnVuY3Rpb24gKHZpZXcsIGNoZWNrVHlwZSkgeyByZXR1cm4gdmlldy5kZWYudXBkYXRlRGlyZWN0aXZlcyhjaGVja1R5cGUgPT09IDAgLyogQ2hlY2tBbmRVcGRhdGUgKi8gPyBwcm9kQ2hlY2tBbmRVcGRhdGVOb2RlIDpcbiAgICAgICAgICAgIHByb2RDaGVja05vQ2hhbmdlc05vZGUsIHZpZXcpOyB9LFxuICAgICAgICB1cGRhdGVSZW5kZXJlcjogZnVuY3Rpb24gKHZpZXcsIGNoZWNrVHlwZSkgeyByZXR1cm4gdmlldy5kZWYudXBkYXRlUmVuZGVyZXIoY2hlY2tUeXBlID09PSAwIC8qIENoZWNrQW5kVXBkYXRlICovID8gcHJvZENoZWNrQW5kVXBkYXRlTm9kZSA6XG4gICAgICAgICAgICBwcm9kQ2hlY2tOb0NoYW5nZXNOb2RlLCB2aWV3KTsgfSxcbiAgICB9O1xufVxuLyoqXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBjcmVhdGVEZWJ1Z1NlcnZpY2VzKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHNldEN1cnJlbnROb2RlOiBkZWJ1Z1NldEN1cnJlbnROb2RlLFxuICAgICAgICBjcmVhdGVSb290VmlldzogZGVidWdDcmVhdGVSb290VmlldyxcbiAgICAgICAgY3JlYXRlRW1iZWRkZWRWaWV3OiBkZWJ1Z0NyZWF0ZUVtYmVkZGVkVmlldyxcbiAgICAgICAgY3JlYXRlQ29tcG9uZW50VmlldzogZGVidWdDcmVhdGVDb21wb25lbnRWaWV3LFxuICAgICAgICBjcmVhdGVOZ01vZHVsZVJlZjogZGVidWdDcmVhdGVOZ01vZHVsZVJlZixcbiAgICAgICAgb3ZlcnJpZGVQcm92aWRlcjogZGVidWdPdmVycmlkZVByb3ZpZGVyLFxuICAgICAgICBjbGVhclByb3ZpZGVyT3ZlcnJpZGVzOiBkZWJ1Z0NsZWFyUHJvdmlkZXJPdmVycmlkZXMsXG4gICAgICAgIGNoZWNrQW5kVXBkYXRlVmlldzogZGVidWdDaGVja0FuZFVwZGF0ZVZpZXcsXG4gICAgICAgIGNoZWNrTm9DaGFuZ2VzVmlldzogZGVidWdDaGVja05vQ2hhbmdlc1ZpZXcsXG4gICAgICAgIGRlc3Ryb3lWaWV3OiBkZWJ1Z0Rlc3Ryb3lWaWV3LFxuICAgICAgICBjcmVhdGVEZWJ1Z0NvbnRleHQ6IGZ1bmN0aW9uICh2aWV3LCBub2RlSW5kZXgpIHsgcmV0dXJuIG5ldyBEZWJ1Z0NvbnRleHRfKHZpZXcsIG5vZGVJbmRleCk7IH0sXG4gICAgICAgIGhhbmRsZUV2ZW50OiBkZWJ1Z0hhbmRsZUV2ZW50LFxuICAgICAgICB1cGRhdGVEaXJlY3RpdmVzOiBkZWJ1Z1VwZGF0ZURpcmVjdGl2ZXMsXG4gICAgICAgIHVwZGF0ZVJlbmRlcmVyOiBkZWJ1Z1VwZGF0ZVJlbmRlcmVyLFxuICAgIH07XG59XG4vKipcbiAqIEBwYXJhbSB7P30gZWxJbmplY3RvclxuICogQHBhcmFtIHs/fSBwcm9qZWN0YWJsZU5vZGVzXG4gKiBAcGFyYW0gez99IHJvb3RTZWxlY3Rvck9yTm9kZVxuICogQHBhcmFtIHs/fSBkZWZcbiAqIEBwYXJhbSB7P30gbmdNb2R1bGVcbiAqIEBwYXJhbSB7Pz19IGNvbnRleHRcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVByb2RSb290VmlldyhlbEluamVjdG9yLCBwcm9qZWN0YWJsZU5vZGVzLCByb290U2VsZWN0b3JPck5vZGUsIGRlZiwgbmdNb2R1bGUsIGNvbnRleHQpIHtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyByZW5kZXJlckZhY3RvcnkgPSBuZ01vZHVsZS5pbmplY3Rvci5nZXQoUmVuZGVyZXJGYWN0b3J5Mik7XG4gICAgcmV0dXJuIGNyZWF0ZVJvb3RWaWV3KGNyZWF0ZVJvb3REYXRhKGVsSW5qZWN0b3IsIG5nTW9kdWxlLCByZW5kZXJlckZhY3RvcnksIHByb2plY3RhYmxlTm9kZXMsIHJvb3RTZWxlY3Rvck9yTm9kZSksIGRlZiwgY29udGV4dCk7XG59XG4vKipcbiAqIEBwYXJhbSB7P30gZWxJbmplY3RvclxuICogQHBhcmFtIHs/fSBwcm9qZWN0YWJsZU5vZGVzXG4gKiBAcGFyYW0gez99IHJvb3RTZWxlY3Rvck9yTm9kZVxuICogQHBhcmFtIHs/fSBkZWZcbiAqIEBwYXJhbSB7P30gbmdNb2R1bGVcbiAqIEBwYXJhbSB7Pz19IGNvbnRleHRcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGRlYnVnQ3JlYXRlUm9vdFZpZXcoZWxJbmplY3RvciwgcHJvamVjdGFibGVOb2Rlcywgcm9vdFNlbGVjdG9yT3JOb2RlLCBkZWYsIG5nTW9kdWxlLCBjb250ZXh0KSB7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcmVuZGVyZXJGYWN0b3J5ID0gbmdNb2R1bGUuaW5qZWN0b3IuZ2V0KFJlbmRlcmVyRmFjdG9yeTIpO1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIHJvb3QgPSBjcmVhdGVSb290RGF0YShlbEluamVjdG9yLCBuZ01vZHVsZSwgbmV3IERlYnVnUmVuZGVyZXJGYWN0b3J5MihyZW5kZXJlckZhY3RvcnkpLCBwcm9qZWN0YWJsZU5vZGVzLCByb290U2VsZWN0b3JPck5vZGUpO1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIGRlZldpdGhPdmVycmlkZSA9IGFwcGx5UHJvdmlkZXJPdmVycmlkZXNUb1ZpZXcoZGVmKTtcbiAgICByZXR1cm4gY2FsbFdpdGhEZWJ1Z0NvbnRleHQoRGVidWdBY3Rpb24uY3JlYXRlLCBjcmVhdGVSb290VmlldywgbnVsbCwgW3Jvb3QsIGRlZldpdGhPdmVycmlkZSwgY29udGV4dF0pO1xufVxuLyoqXG4gKiBAcGFyYW0gez99IGVsSW5qZWN0b3JcbiAqIEBwYXJhbSB7P30gbmdNb2R1bGVcbiAqIEBwYXJhbSB7P30gcmVuZGVyZXJGYWN0b3J5XG4gKiBAcGFyYW0gez99IHByb2plY3RhYmxlTm9kZXNcbiAqIEBwYXJhbSB7P30gcm9vdFNlbGVjdG9yT3JOb2RlXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBjcmVhdGVSb290RGF0YShlbEluamVjdG9yLCBuZ01vZHVsZSwgcmVuZGVyZXJGYWN0b3J5LCBwcm9qZWN0YWJsZU5vZGVzLCByb290U2VsZWN0b3JPck5vZGUpIHtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBzYW5pdGl6ZXIgPSBuZ01vZHVsZS5pbmplY3Rvci5nZXQoU2FuaXRpemVyKTtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBlcnJvckhhbmRsZXIgPSBuZ01vZHVsZS5pbmplY3Rvci5nZXQoRXJyb3JIYW5kbGVyKTtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyByZW5kZXJlciA9IHJlbmRlcmVyRmFjdG9yeS5jcmVhdGVSZW5kZXJlcihudWxsLCBudWxsKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBuZ01vZHVsZTogbmdNb2R1bGUsXG4gICAgICAgIGluamVjdG9yOiBlbEluamVjdG9yLCBwcm9qZWN0YWJsZU5vZGVzOiBwcm9qZWN0YWJsZU5vZGVzLFxuICAgICAgICBzZWxlY3Rvck9yTm9kZTogcm9vdFNlbGVjdG9yT3JOb2RlLCBzYW5pdGl6ZXI6IHNhbml0aXplciwgcmVuZGVyZXJGYWN0b3J5OiByZW5kZXJlckZhY3RvcnksIHJlbmRlcmVyOiByZW5kZXJlciwgZXJyb3JIYW5kbGVyOiBlcnJvckhhbmRsZXJcbiAgICB9O1xufVxuLyoqXG4gKiBAcGFyYW0gez99IHBhcmVudFZpZXdcbiAqIEBwYXJhbSB7P30gYW5jaG9yRGVmXG4gKiBAcGFyYW0gez99IHZpZXdEZWZcbiAqIEBwYXJhbSB7Pz19IGNvbnRleHRcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGRlYnVnQ3JlYXRlRW1iZWRkZWRWaWV3KHBhcmVudFZpZXcsIGFuY2hvckRlZiwgdmlld0RlZiQkMSwgY29udGV4dCkge1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIGRlZldpdGhPdmVycmlkZSA9IGFwcGx5UHJvdmlkZXJPdmVycmlkZXNUb1ZpZXcodmlld0RlZiQkMSk7XG4gICAgcmV0dXJuIGNhbGxXaXRoRGVidWdDb250ZXh0KERlYnVnQWN0aW9uLmNyZWF0ZSwgY3JlYXRlRW1iZWRkZWRWaWV3LCBudWxsLCBbcGFyZW50VmlldywgYW5jaG9yRGVmLCBkZWZXaXRoT3ZlcnJpZGUsIGNvbnRleHRdKTtcbn1cbi8qKlxuICogQHBhcmFtIHs/fSBwYXJlbnRWaWV3XG4gKiBAcGFyYW0gez99IG5vZGVEZWZcbiAqIEBwYXJhbSB7P30gdmlld0RlZlxuICogQHBhcmFtIHs/fSBob3N0RWxlbWVudFxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gZGVidWdDcmVhdGVDb21wb25lbnRWaWV3KHBhcmVudFZpZXcsIG5vZGVEZWYsIHZpZXdEZWYkJDEsIGhvc3RFbGVtZW50KSB7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gZGVmV2l0aE92ZXJyaWRlID0gYXBwbHlQcm92aWRlck92ZXJyaWRlc1RvVmlldyh2aWV3RGVmJCQxKTtcbiAgICByZXR1cm4gY2FsbFdpdGhEZWJ1Z0NvbnRleHQoRGVidWdBY3Rpb24uY3JlYXRlLCBjcmVhdGVDb21wb25lbnRWaWV3LCBudWxsLCBbcGFyZW50Vmlldywgbm9kZURlZiwgZGVmV2l0aE92ZXJyaWRlLCBob3N0RWxlbWVudF0pO1xufVxuLyoqXG4gKiBAcGFyYW0gez99IG1vZHVsZVR5cGVcbiAqIEBwYXJhbSB7P30gcGFyZW50SW5qZWN0b3JcbiAqIEBwYXJhbSB7P30gYm9vdHN0cmFwQ29tcG9uZW50c1xuICogQHBhcmFtIHs/fSBkZWZcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGRlYnVnQ3JlYXRlTmdNb2R1bGVSZWYobW9kdWxlVHlwZSwgcGFyZW50SW5qZWN0b3IsIGJvb3RzdHJhcENvbXBvbmVudHMsIGRlZikge1xuICAgIHZhciAvKiogQHR5cGUgez99ICovIGRlZldpdGhPdmVycmlkZSA9IGFwcGx5UHJvdmlkZXJPdmVycmlkZXNUb05nTW9kdWxlKGRlZik7XG4gICAgcmV0dXJuIGNyZWF0ZU5nTW9kdWxlUmVmKG1vZHVsZVR5cGUsIHBhcmVudEluamVjdG9yLCBib290c3RyYXBDb21wb25lbnRzLCBkZWZXaXRoT3ZlcnJpZGUpO1xufVxudmFyIHByb3ZpZGVyT3ZlcnJpZGVzID0gbmV3IE1hcCgpO1xuLyoqXG4gKiBAcGFyYW0gez99IG92ZXJyaWRlXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBkZWJ1Z092ZXJyaWRlUHJvdmlkZXIob3ZlcnJpZGUpIHtcbiAgICBwcm92aWRlck92ZXJyaWRlcy5zZXQob3ZlcnJpZGUudG9rZW4sIG92ZXJyaWRlKTtcbn1cbi8qKlxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gZGVidWdDbGVhclByb3ZpZGVyT3ZlcnJpZGVzKCkge1xuICAgIHByb3ZpZGVyT3ZlcnJpZGVzLmNsZWFyKCk7XG59XG4vKipcbiAqIEBwYXJhbSB7P30gZGVmXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBhcHBseVByb3ZpZGVyT3ZlcnJpZGVzVG9WaWV3KGRlZikge1xuICAgIGlmIChwcm92aWRlck92ZXJyaWRlcy5zaXplID09PSAwKSB7XG4gICAgICAgIHJldHVybiBkZWY7XG4gICAgfVxuICAgIHZhciAvKiogQHR5cGUgez99ICovIGVsZW1lbnRJbmRpY2VzV2l0aE92ZXJ3cml0dGVuUHJvdmlkZXJzID0gZmluZEVsZW1lbnRJbmRpY2VzV2l0aE92ZXJ3cml0dGVuUHJvdmlkZXJzKGRlZik7XG4gICAgaWYgKGVsZW1lbnRJbmRpY2VzV2l0aE92ZXJ3cml0dGVuUHJvdmlkZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZGVmO1xuICAgIH1cbiAgICAvLyBjbG9uZSB0aGUgd2hvbGUgdmlldyBkZWZpbml0aW9uLFxuICAgIC8vIGFzIGl0IG1haW50YWlucyByZWZlcmVuY2VzIGJldHdlZW4gdGhlIG5vZGVzIHRoYXQgYXJlIGhhcmQgdG8gdXBkYXRlLlxuICAgIGRlZiA9ICgoZGVmLmZhY3RvcnkpKShmdW5jdGlvbiAoKSB7IHJldHVybiBOT09QOyB9KTtcbiAgICBmb3IgKHZhciAvKiogQHR5cGUgez99ICovIGkgPSAwOyBpIDwgZWxlbWVudEluZGljZXNXaXRoT3ZlcndyaXR0ZW5Qcm92aWRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYXBwbHlQcm92aWRlck92ZXJyaWRlc1RvRWxlbWVudChkZWYsIGVsZW1lbnRJbmRpY2VzV2l0aE92ZXJ3cml0dGVuUHJvdmlkZXJzW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlZjtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IGRlZlxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZEVsZW1lbnRJbmRpY2VzV2l0aE92ZXJ3cml0dGVuUHJvdmlkZXJzKGRlZikge1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBlbEluZGljZXNXaXRoT3ZlcndyaXR0ZW5Qcm92aWRlcnMgPSBbXTtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gbGFzdEVsZW1lbnREZWYgPSBudWxsO1xuICAgICAgICBmb3IgKHZhciAvKiogQHR5cGUgez99ICovIGkgPSAwOyBpIDwgZGVmLm5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBub2RlRGVmID0gZGVmLm5vZGVzW2ldO1xuICAgICAgICAgICAgaWYgKG5vZGVEZWYuZmxhZ3MgJiAxIC8qIFR5cGVFbGVtZW50ICovKSB7XG4gICAgICAgICAgICAgICAgbGFzdEVsZW1lbnREZWYgPSBub2RlRGVmO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxhc3RFbGVtZW50RGVmICYmIG5vZGVEZWYuZmxhZ3MgJiAzODQwIC8qIENhdFByb3ZpZGVyTm9EaXJlY3RpdmUgKi8gJiZcbiAgICAgICAgICAgICAgICBwcm92aWRlck92ZXJyaWRlcy5oYXMoLyoqIEB0eXBlIHs/fSAqLyAoKG5vZGVEZWYucHJvdmlkZXIpKS50b2tlbikpIHtcbiAgICAgICAgICAgICAgICBlbEluZGljZXNXaXRoT3ZlcndyaXR0ZW5Qcm92aWRlcnMucHVzaCgvKiogQHR5cGUgez99ICovICgobGFzdEVsZW1lbnREZWYpKS5ub2RlSW5kZXgpO1xuICAgICAgICAgICAgICAgIGxhc3RFbGVtZW50RGVmID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZWxJbmRpY2VzV2l0aE92ZXJ3cml0dGVuUHJvdmlkZXJzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IHZpZXdEZWZcbiAgICAgKiBAcGFyYW0gez99IGVsSW5kZXhcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFwcGx5UHJvdmlkZXJPdmVycmlkZXNUb0VsZW1lbnQodmlld0RlZiQkMSwgZWxJbmRleCkge1xuICAgICAgICBmb3IgKHZhciAvKiogQHR5cGUgez99ICovIGkgPSBlbEluZGV4ICsgMTsgaSA8IHZpZXdEZWYkJDEubm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIG5vZGVEZWYgPSB2aWV3RGVmJCQxLm5vZGVzW2ldO1xuICAgICAgICAgICAgaWYgKG5vZGVEZWYuZmxhZ3MgJiAxIC8qIFR5cGVFbGVtZW50ICovKSB7XG4gICAgICAgICAgICAgICAgLy8gc3RvcCBhdCB0aGUgbmV4dCBlbGVtZW50XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5vZGVEZWYuZmxhZ3MgJiAzODQwIC8qIENhdFByb3ZpZGVyTm9EaXJlY3RpdmUgKi8pIHtcbiAgICAgICAgICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBwcm92aWRlciA9ICgobm9kZURlZi5wcm92aWRlcikpO1xuICAgICAgICAgICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIG92ZXJyaWRlID0gcHJvdmlkZXJPdmVycmlkZXMuZ2V0KHByb3ZpZGVyLnRva2VuKTtcbiAgICAgICAgICAgICAgICBpZiAob3ZlcnJpZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZURlZi5mbGFncyA9IChub2RlRGVmLmZsYWdzICYgfjM4NDAgLyogQ2F0UHJvdmlkZXJOb0RpcmVjdGl2ZSAqLykgfCBvdmVycmlkZS5mbGFncztcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXIuZGVwcyA9IHNwbGl0RGVwc0RzbChvdmVycmlkZS5kZXBzKTtcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXIudmFsdWUgPSBvdmVycmlkZS52YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7P30gZGVmXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBhcHBseVByb3ZpZGVyT3ZlcnJpZGVzVG9OZ01vZHVsZShkZWYpIHtcbiAgICB2YXIgX2EgPSBjYWxjSGFzT3ZlcnJpZGVzKGRlZiksIGhhc092ZXJyaWRlcyA9IF9hLmhhc092ZXJyaWRlcywgaGFzRGVwcmVjYXRlZE92ZXJyaWRlcyA9IF9hLmhhc0RlcHJlY2F0ZWRPdmVycmlkZXM7XG4gICAgaWYgKCFoYXNPdmVycmlkZXMpIHtcbiAgICAgICAgcmV0dXJuIGRlZjtcbiAgICB9XG4gICAgLy8gY2xvbmUgdGhlIHdob2xlIHZpZXcgZGVmaW5pdGlvbixcbiAgICAvLyBhcyBpdCBtYWludGFpbnMgcmVmZXJlbmNlcyBiZXR3ZWVuIHRoZSBub2RlcyB0aGF0IGFyZSBoYXJkIHRvIHVwZGF0ZS5cbiAgICBkZWYgPSAoKGRlZi5mYWN0b3J5KSkoZnVuY3Rpb24gKCkgeyByZXR1cm4gTk9PUDsgfSk7XG4gICAgYXBwbHlQcm92aWRlck92ZXJyaWRlcyhkZWYpO1xuICAgIHJldHVybiBkZWY7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBkZWZcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhbGNIYXNPdmVycmlkZXMoZGVmKSB7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGhhc092ZXJyaWRlcyA9IGZhbHNlO1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBoYXNEZXByZWNhdGVkT3ZlcnJpZGVzID0gZmFsc2U7XG4gICAgICAgIGlmIChwcm92aWRlck92ZXJyaWRlcy5zaXplID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4geyBoYXNPdmVycmlkZXM6IGhhc092ZXJyaWRlcywgaGFzRGVwcmVjYXRlZE92ZXJyaWRlczogaGFzRGVwcmVjYXRlZE92ZXJyaWRlcyB9O1xuICAgICAgICB9XG4gICAgICAgIGRlZi5wcm92aWRlcnMuZm9yRWFjaChmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gb3ZlcnJpZGUgPSBwcm92aWRlck92ZXJyaWRlcy5nZXQobm9kZS50b2tlbik7XG4gICAgICAgICAgICBpZiAoKG5vZGUuZmxhZ3MgJiAzODQwIC8qIENhdFByb3ZpZGVyTm9EaXJlY3RpdmUgKi8pICYmIG92ZXJyaWRlKSB7XG4gICAgICAgICAgICAgICAgaGFzT3ZlcnJpZGVzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBoYXNEZXByZWNhdGVkT3ZlcnJpZGVzID0gaGFzRGVwcmVjYXRlZE92ZXJyaWRlcyB8fCBvdmVycmlkZS5kZXByZWNhdGVkQmVoYXZpb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4geyBoYXNPdmVycmlkZXM6IGhhc092ZXJyaWRlcywgaGFzRGVwcmVjYXRlZE92ZXJyaWRlczogaGFzRGVwcmVjYXRlZE92ZXJyaWRlcyB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IGRlZlxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgZnVuY3Rpb24gYXBwbHlQcm92aWRlck92ZXJyaWRlcyhkZWYpIHtcbiAgICAgICAgZm9yICh2YXIgLyoqIEB0eXBlIHs/fSAqLyBpID0gMDsgaSA8IGRlZi5wcm92aWRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIHByb3ZpZGVyID0gZGVmLnByb3ZpZGVyc1tpXTtcbiAgICAgICAgICAgIGlmIChoYXNEZXByZWNhdGVkT3ZlcnJpZGVzKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgaGFkIGEgYnVnIHdoZXJlIG1lIG1hZGVcbiAgICAgICAgICAgICAgICAvLyBhbGwgcHJvdmlkZXJzIGxhenkuIEtlZXAgdGhpcyBsb2dpYyBiZWhpbmQgYSBmbGFnXG4gICAgICAgICAgICAgICAgLy8gZm9yIG1pZ3JhdGluZyBleGlzdGluZyB1c2Vycy5cbiAgICAgICAgICAgICAgICBwcm92aWRlci5mbGFncyB8PSA0MDk2IC8qIExhenlQcm92aWRlciAqLztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIG92ZXJyaWRlID0gcHJvdmlkZXJPdmVycmlkZXMuZ2V0KHByb3ZpZGVyLnRva2VuKTtcbiAgICAgICAgICAgIGlmIChvdmVycmlkZSkge1xuICAgICAgICAgICAgICAgIHByb3ZpZGVyLmZsYWdzID0gKHByb3ZpZGVyLmZsYWdzICYgfjM4NDAgLyogQ2F0UHJvdmlkZXJOb0RpcmVjdGl2ZSAqLykgfCBvdmVycmlkZS5mbGFncztcbiAgICAgICAgICAgICAgICBwcm92aWRlci5kZXBzID0gc3BsaXREZXBzRHNsKG92ZXJyaWRlLmRlcHMpO1xuICAgICAgICAgICAgICAgIHByb3ZpZGVyLnZhbHVlID0gb3ZlcnJpZGUudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7P30gdmlld1xuICogQHBhcmFtIHs/fSBjaGVja0luZGV4XG4gKiBAcGFyYW0gez99IGFyZ1N0eWxlXG4gKiBAcGFyYW0gez89fSB2MFxuICogQHBhcmFtIHs/PX0gdjFcbiAqIEBwYXJhbSB7Pz19IHYyXG4gKiBAcGFyYW0gez89fSB2M1xuICogQHBhcmFtIHs/PX0gdjRcbiAqIEBwYXJhbSB7Pz19IHY1XG4gKiBAcGFyYW0gez89fSB2NlxuICogQHBhcmFtIHs/PX0gdjdcbiAqIEBwYXJhbSB7Pz19IHY4XG4gKiBAcGFyYW0gez89fSB2OVxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gcHJvZENoZWNrQW5kVXBkYXRlTm9kZSh2aWV3LCBjaGVja0luZGV4LCBhcmdTdHlsZSwgdjAsIHYxLCB2MiwgdjMsIHY0LCB2NSwgdjYsIHY3LCB2OCwgdjkpIHtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBub2RlRGVmID0gdmlldy5kZWYubm9kZXNbY2hlY2tJbmRleF07XG4gICAgY2hlY2tBbmRVcGRhdGVOb2RlKHZpZXcsIG5vZGVEZWYsIGFyZ1N0eWxlLCB2MCwgdjEsIHYyLCB2MywgdjQsIHY1LCB2NiwgdjcsIHY4LCB2OSk7XG4gICAgcmV0dXJuIChub2RlRGVmLmZsYWdzICYgMjI0IC8qIENhdFB1cmVFeHByZXNzaW9uICovKSA/XG4gICAgICAgIGFzUHVyZUV4cHJlc3Npb25EYXRhKHZpZXcsIGNoZWNrSW5kZXgpLnZhbHVlIDpcbiAgICAgICAgdW5kZWZpbmVkO1xufVxuLyoqXG4gKiBAcGFyYW0gez99IHZpZXdcbiAqIEBwYXJhbSB7P30gY2hlY2tJbmRleFxuICogQHBhcmFtIHs/fSBhcmdTdHlsZVxuICogQHBhcmFtIHs/PX0gdjBcbiAqIEBwYXJhbSB7Pz19IHYxXG4gKiBAcGFyYW0gez89fSB2MlxuICogQHBhcmFtIHs/PX0gdjNcbiAqIEBwYXJhbSB7Pz19IHY0XG4gKiBAcGFyYW0gez89fSB2NVxuICogQHBhcmFtIHs/PX0gdjZcbiAqIEBwYXJhbSB7Pz19IHY3XG4gKiBAcGFyYW0gez89fSB2OFxuICogQHBhcmFtIHs/PX0gdjlcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIHByb2RDaGVja05vQ2hhbmdlc05vZGUodmlldywgY2hlY2tJbmRleCwgYXJnU3R5bGUsIHYwLCB2MSwgdjIsIHYzLCB2NCwgdjUsIHY2LCB2NywgdjgsIHY5KSB7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gbm9kZURlZiA9IHZpZXcuZGVmLm5vZGVzW2NoZWNrSW5kZXhdO1xuICAgIGNoZWNrTm9DaGFuZ2VzTm9kZSh2aWV3LCBub2RlRGVmLCBhcmdTdHlsZSwgdjAsIHYxLCB2MiwgdjMsIHY0LCB2NSwgdjYsIHY3LCB2OCwgdjkpO1xuICAgIHJldHVybiAobm9kZURlZi5mbGFncyAmIDIyNCAvKiBDYXRQdXJlRXhwcmVzc2lvbiAqLykgP1xuICAgICAgICBhc1B1cmVFeHByZXNzaW9uRGF0YSh2aWV3LCBjaGVja0luZGV4KS52YWx1ZSA6XG4gICAgICAgIHVuZGVmaW5lZDtcbn1cbi8qKlxuICogQHBhcmFtIHs/fSB2aWV3XG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBkZWJ1Z0NoZWNrQW5kVXBkYXRlVmlldyh2aWV3KSB7XG4gICAgcmV0dXJuIGNhbGxXaXRoRGVidWdDb250ZXh0KERlYnVnQWN0aW9uLmRldGVjdENoYW5nZXMsIGNoZWNrQW5kVXBkYXRlVmlldywgbnVsbCwgW3ZpZXddKTtcbn1cbi8qKlxuICogQHBhcmFtIHs/fSB2aWV3XG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBkZWJ1Z0NoZWNrTm9DaGFuZ2VzVmlldyh2aWV3KSB7XG4gICAgcmV0dXJuIGNhbGxXaXRoRGVidWdDb250ZXh0KERlYnVnQWN0aW9uLmNoZWNrTm9DaGFuZ2VzLCBjaGVja05vQ2hhbmdlc1ZpZXcsIG51bGwsIFt2aWV3XSk7XG59XG4vKipcbiAqIEBwYXJhbSB7P30gdmlld1xuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gZGVidWdEZXN0cm95Vmlldyh2aWV3KSB7XG4gICAgcmV0dXJuIGNhbGxXaXRoRGVidWdDb250ZXh0KERlYnVnQWN0aW9uLmRlc3Ryb3ksIGRlc3Ryb3lWaWV3LCBudWxsLCBbdmlld10pO1xufVxudmFyIERlYnVnQWN0aW9uID0ge307XG5EZWJ1Z0FjdGlvbi5jcmVhdGUgPSAwO1xuRGVidWdBY3Rpb24uZGV0ZWN0Q2hhbmdlcyA9IDE7XG5EZWJ1Z0FjdGlvbi5jaGVja05vQ2hhbmdlcyA9IDI7XG5EZWJ1Z0FjdGlvbi5kZXN0cm95ID0gMztcbkRlYnVnQWN0aW9uLmhhbmRsZUV2ZW50ID0gNDtcbkRlYnVnQWN0aW9uW0RlYnVnQWN0aW9uLmNyZWF0ZV0gPSBcImNyZWF0ZVwiO1xuRGVidWdBY3Rpb25bRGVidWdBY3Rpb24uZGV0ZWN0Q2hhbmdlc10gPSBcImRldGVjdENoYW5nZXNcIjtcbkRlYnVnQWN0aW9uW0RlYnVnQWN0aW9uLmNoZWNrTm9DaGFuZ2VzXSA9IFwiY2hlY2tOb0NoYW5nZXNcIjtcbkRlYnVnQWN0aW9uW0RlYnVnQWN0aW9uLmRlc3Ryb3ldID0gXCJkZXN0cm95XCI7XG5EZWJ1Z0FjdGlvbltEZWJ1Z0FjdGlvbi5oYW5kbGVFdmVudF0gPSBcImhhbmRsZUV2ZW50XCI7XG52YXIgX2N1cnJlbnRBY3Rpb247XG52YXIgX2N1cnJlbnRWaWV3O1xudmFyIF9jdXJyZW50Tm9kZUluZGV4O1xuLyoqXG4gKiBAcGFyYW0gez99IHZpZXdcbiAqIEBwYXJhbSB7P30gbm9kZUluZGV4XG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBkZWJ1Z1NldEN1cnJlbnROb2RlKHZpZXcsIG5vZGVJbmRleCkge1xuICAgIF9jdXJyZW50VmlldyA9IHZpZXc7XG4gICAgX2N1cnJlbnROb2RlSW5kZXggPSBub2RlSW5kZXg7XG59XG4vKipcbiAqIEBwYXJhbSB7P30gdmlld1xuICogQHBhcmFtIHs/fSBub2RlSW5kZXhcbiAqIEBwYXJhbSB7P30gZXZlbnROYW1lXG4gKiBAcGFyYW0gez99IGV2ZW50XG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBkZWJ1Z0hhbmRsZUV2ZW50KHZpZXcsIG5vZGVJbmRleCwgZXZlbnROYW1lLCBldmVudCkge1xuICAgIGRlYnVnU2V0Q3VycmVudE5vZGUodmlldywgbm9kZUluZGV4KTtcbiAgICByZXR1cm4gY2FsbFdpdGhEZWJ1Z0NvbnRleHQoRGVidWdBY3Rpb24uaGFuZGxlRXZlbnQsIHZpZXcuZGVmLmhhbmRsZUV2ZW50LCBudWxsLCBbdmlldywgbm9kZUluZGV4LCBldmVudE5hbWUsIGV2ZW50XSk7XG59XG4vKipcbiAqIEBwYXJhbSB7P30gdmlld1xuICogQHBhcmFtIHs/fSBjaGVja1R5cGVcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGRlYnVnVXBkYXRlRGlyZWN0aXZlcyh2aWV3LCBjaGVja1R5cGUpIHtcbiAgICBpZiAodmlldy5zdGF0ZSAmIDEyOCAvKiBEZXN0cm95ZWQgKi8pIHtcbiAgICAgICAgdGhyb3cgdmlld0Rlc3Ryb3llZEVycm9yKERlYnVnQWN0aW9uW19jdXJyZW50QWN0aW9uXSk7XG4gICAgfVxuICAgIGRlYnVnU2V0Q3VycmVudE5vZGUodmlldywgbmV4dERpcmVjdGl2ZVdpdGhCaW5kaW5nKHZpZXcsIDApKTtcbiAgICByZXR1cm4gdmlldy5kZWYudXBkYXRlRGlyZWN0aXZlcyhkZWJ1Z0NoZWNrRGlyZWN0aXZlc0ZuLCB2aWV3KTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IHZpZXdcbiAgICAgKiBAcGFyYW0gez99IG5vZGVJbmRleFxuICAgICAqIEBwYXJhbSB7P30gYXJnU3R5bGVcbiAgICAgKiBAcGFyYW0gey4uLj99IHZhbHVlc1xuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgZnVuY3Rpb24gZGVidWdDaGVja0RpcmVjdGl2ZXNGbih2aWV3LCBub2RlSW5kZXgsIGFyZ1N0eWxlKSB7XG4gICAgICAgIHZhciB2YWx1ZXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAzOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhbHVlc1tfaSAtIDNdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBub2RlRGVmID0gdmlldy5kZWYubm9kZXNbbm9kZUluZGV4XTtcbiAgICAgICAgaWYgKGNoZWNrVHlwZSA9PT0gMCAvKiBDaGVja0FuZFVwZGF0ZSAqLykge1xuICAgICAgICAgICAgZGVidWdDaGVja0FuZFVwZGF0ZU5vZGUodmlldywgbm9kZURlZiwgYXJnU3R5bGUsIHZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkZWJ1Z0NoZWNrTm9DaGFuZ2VzTm9kZSh2aWV3LCBub2RlRGVmLCBhcmdTdHlsZSwgdmFsdWVzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZURlZi5mbGFncyAmIDE2Mzg0IC8qIFR5cGVEaXJlY3RpdmUgKi8pIHtcbiAgICAgICAgICAgIGRlYnVnU2V0Q3VycmVudE5vZGUodmlldywgbmV4dERpcmVjdGl2ZVdpdGhCaW5kaW5nKHZpZXcsIG5vZGVJbmRleCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAobm9kZURlZi5mbGFncyAmIDIyNCAvKiBDYXRQdXJlRXhwcmVzc2lvbiAqLykgP1xuICAgICAgICAgICAgYXNQdXJlRXhwcmVzc2lvbkRhdGEodmlldywgbm9kZURlZi5ub2RlSW5kZXgpLnZhbHVlIDpcbiAgICAgICAgICAgIHVuZGVmaW5lZDtcbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7P30gdmlld1xuICogQHBhcmFtIHs/fSBjaGVja1R5cGVcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGRlYnVnVXBkYXRlUmVuZGVyZXIodmlldywgY2hlY2tUeXBlKSB7XG4gICAgaWYgKHZpZXcuc3RhdGUgJiAxMjggLyogRGVzdHJveWVkICovKSB7XG4gICAgICAgIHRocm93IHZpZXdEZXN0cm95ZWRFcnJvcihEZWJ1Z0FjdGlvbltfY3VycmVudEFjdGlvbl0pO1xuICAgIH1cbiAgICBkZWJ1Z1NldEN1cnJlbnROb2RlKHZpZXcsIG5leHRSZW5kZXJOb2RlV2l0aEJpbmRpbmcodmlldywgMCkpO1xuICAgIHJldHVybiB2aWV3LmRlZi51cGRhdGVSZW5kZXJlcihkZWJ1Z0NoZWNrUmVuZGVyTm9kZUZuLCB2aWV3KTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IHZpZXdcbiAgICAgKiBAcGFyYW0gez99IG5vZGVJbmRleFxuICAgICAqIEBwYXJhbSB7P30gYXJnU3R5bGVcbiAgICAgKiBAcGFyYW0gey4uLj99IHZhbHVlc1xuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgZnVuY3Rpb24gZGVidWdDaGVja1JlbmRlck5vZGVGbih2aWV3LCBub2RlSW5kZXgsIGFyZ1N0eWxlKSB7XG4gICAgICAgIHZhciB2YWx1ZXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAzOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhbHVlc1tfaSAtIDNdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBub2RlRGVmID0gdmlldy5kZWYubm9kZXNbbm9kZUluZGV4XTtcbiAgICAgICAgaWYgKGNoZWNrVHlwZSA9PT0gMCAvKiBDaGVja0FuZFVwZGF0ZSAqLykge1xuICAgICAgICAgICAgZGVidWdDaGVja0FuZFVwZGF0ZU5vZGUodmlldywgbm9kZURlZiwgYXJnU3R5bGUsIHZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkZWJ1Z0NoZWNrTm9DaGFuZ2VzTm9kZSh2aWV3LCBub2RlRGVmLCBhcmdTdHlsZSwgdmFsdWVzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZURlZi5mbGFncyAmIDMgLyogQ2F0UmVuZGVyTm9kZSAqLykge1xuICAgICAgICAgICAgZGVidWdTZXRDdXJyZW50Tm9kZSh2aWV3LCBuZXh0UmVuZGVyTm9kZVdpdGhCaW5kaW5nKHZpZXcsIG5vZGVJbmRleCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAobm9kZURlZi5mbGFncyAmIDIyNCAvKiBDYXRQdXJlRXhwcmVzc2lvbiAqLykgP1xuICAgICAgICAgICAgYXNQdXJlRXhwcmVzc2lvbkRhdGEodmlldywgbm9kZURlZi5ub2RlSW5kZXgpLnZhbHVlIDpcbiAgICAgICAgICAgIHVuZGVmaW5lZDtcbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7P30gdmlld1xuICogQHBhcmFtIHs/fSBub2RlRGVmXG4gKiBAcGFyYW0gez99IGFyZ1N0eWxlXG4gKiBAcGFyYW0gez99IGdpdmVuVmFsdWVzXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBkZWJ1Z0NoZWNrQW5kVXBkYXRlTm9kZSh2aWV3LCBub2RlRGVmLCBhcmdTdHlsZSwgZ2l2ZW5WYWx1ZXMpIHtcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBjaGFuZ2VkID0gKChjaGVja0FuZFVwZGF0ZU5vZGUpKS5hcHBseSh2b2lkIDAsIFt2aWV3LCBub2RlRGVmLCBhcmdTdHlsZV0uY29uY2F0KGdpdmVuVmFsdWVzKSk7XG4gICAgaWYgKGNoYW5nZWQpIHtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gdmFsdWVzID0gYXJnU3R5bGUgPT09IDEgLyogRHluYW1pYyAqLyA/IGdpdmVuVmFsdWVzWzBdIDogZ2l2ZW5WYWx1ZXM7XG4gICAgICAgIGlmIChub2RlRGVmLmZsYWdzICYgMTYzODQgLyogVHlwZURpcmVjdGl2ZSAqLykge1xuICAgICAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gYmluZGluZ1ZhbHVlcyA9IHt9O1xuICAgICAgICAgICAgZm9yICh2YXIgLyoqIEB0eXBlIHs/fSAqLyBpID0gMDsgaSA8IG5vZGVEZWYuYmluZGluZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBiaW5kaW5nID0gbm9kZURlZi5iaW5kaW5nc1tpXTtcbiAgICAgICAgICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyB2YWx1ZSA9IHZhbHVlc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAoYmluZGluZy5mbGFncyAmIDggLyogVHlwZVByb3BlcnR5ICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGJpbmRpbmdWYWx1ZXNbbm9ybWFsaXplRGVidWdCaW5kaW5nTmFtZSgvKiogQHR5cGUgez99ICovICgoYmluZGluZy5ub25NaW5pZmllZE5hbWUpKSldID1cbiAgICAgICAgICAgICAgICAgICAgICAgIG5vcm1hbGl6ZURlYnVnQmluZGluZ1ZhbHVlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBlbERlZiA9ICgobm9kZURlZi5wYXJlbnQpKTtcbiAgICAgICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGVsID0gYXNFbGVtZW50RGF0YSh2aWV3LCBlbERlZi5ub2RlSW5kZXgpLnJlbmRlckVsZW1lbnQ7XG4gICAgICAgICAgICBpZiAoISgoZWxEZWYuZWxlbWVudCkpLm5hbWUpIHtcbiAgICAgICAgICAgICAgICAvLyBhIGNvbW1lbnQuXG4gICAgICAgICAgICAgICAgdmlldy5yZW5kZXJlci5zZXRWYWx1ZShlbCwgXCJiaW5kaW5ncz1cIiArIEpTT04uc3RyaW5naWZ5KGJpbmRpbmdWYWx1ZXMsIG51bGwsIDIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGEgcmVndWxhciBlbGVtZW50LlxuICAgICAgICAgICAgICAgIGZvciAodmFyIC8qKiBAdHlwZSB7P30gKi8gYXR0ciBpbiBiaW5kaW5nVmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIHZhbHVlID0gYmluZGluZ1ZhbHVlc1thdHRyXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZXcucmVuZGVyZXIuc2V0QXR0cmlidXRlKGVsLCBhdHRyLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2aWV3LnJlbmRlcmVyLnJlbW92ZUF0dHJpYnV0ZShlbCwgYXR0cik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7P30gdmlld1xuICogQHBhcmFtIHs/fSBub2RlRGVmXG4gKiBAcGFyYW0gez99IGFyZ1N0eWxlXG4gKiBAcGFyYW0gez99IHZhbHVlc1xuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gZGVidWdDaGVja05vQ2hhbmdlc05vZGUodmlldywgbm9kZURlZiwgYXJnU3R5bGUsIHZhbHVlcykge1xuICAgICgoY2hlY2tOb0NoYW5nZXNOb2RlKSkuYXBwbHkodm9pZCAwLCBbdmlldywgbm9kZURlZiwgYXJnU3R5bGVdLmNvbmNhdCh2YWx1ZXMpKTtcbn1cbi8qKlxuICogQHBhcmFtIHs/fSBuYW1lXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBub3JtYWxpemVEZWJ1Z0JpbmRpbmdOYW1lKG5hbWUpIHtcbiAgICAvLyBBdHRyaWJ1dGUgbmFtZXMgd2l0aCBgJGAgKGVnIGB4LXkkYCkgYXJlIHZhbGlkIHBlciBzcGVjLCBidXQgdW5zdXBwb3J0ZWQgYnkgc29tZSBicm93c2Vyc1xuICAgIG5hbWUgPSBjYW1lbENhc2VUb0Rhc2hDYXNlKG5hbWUucmVwbGFjZSgvWyRAXS9nLCAnXycpKTtcbiAgICByZXR1cm4gXCJuZy1yZWZsZWN0LVwiICsgbmFtZTtcbn1cbnZhciBDQU1FTF9DQVNFX1JFR0VYUCA9IC8oW0EtWl0pL2c7XG4vKipcbiAqIEBwYXJhbSB7P30gaW5wdXRcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGNhbWVsQ2FzZVRvRGFzaENhc2UoaW5wdXQpIHtcbiAgICByZXR1cm4gaW5wdXQucmVwbGFjZShDQU1FTF9DQVNFX1JFR0VYUCwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbSA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgbVtfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnLScgKyBtWzFdLnRvTG93ZXJDYXNlKCk7XG4gICAgfSk7XG59XG4vKipcbiAqIEBwYXJhbSB7P30gdmFsdWVcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIG5vcm1hbGl6ZURlYnVnQmluZGluZ1ZhbHVlKHZhbHVlKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gTGltaXQgdGhlIHNpemUgb2YgdGhlIHZhbHVlIGFzIG90aGVyd2lzZSB0aGUgRE9NIGp1c3QgZ2V0cyBwb2xsdXRlZC5cbiAgICAgICAgcmV0dXJuIHZhbHVlICE9IG51bGwgPyB2YWx1ZS50b1N0cmluZygpLnNsaWNlKDAsIDMwKSA6IHZhbHVlO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gJ1tFUlJPUl0gRXhjZXB0aW9uIHdoaWxlIHRyeWluZyB0byBzZXJpYWxpemUgdGhlIHZhbHVlJztcbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSB7P30gdmlld1xuICogQHBhcmFtIHs/fSBub2RlSW5kZXhcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIG5leHREaXJlY3RpdmVXaXRoQmluZGluZyh2aWV3LCBub2RlSW5kZXgpIHtcbiAgICBmb3IgKHZhciAvKiogQHR5cGUgez99ICovIGkgPSBub2RlSW5kZXg7IGkgPCB2aWV3LmRlZi5ub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBub2RlRGVmID0gdmlldy5kZWYubm9kZXNbaV07XG4gICAgICAgIGlmIChub2RlRGVmLmZsYWdzICYgMTYzODQgLyogVHlwZURpcmVjdGl2ZSAqLyAmJiBub2RlRGVmLmJpbmRpbmdzICYmIG5vZGVEZWYuYmluZGluZ3MubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbi8qKlxuICogQHBhcmFtIHs/fSB2aWV3XG4gKiBAcGFyYW0gez99IG5vZGVJbmRleFxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gbmV4dFJlbmRlck5vZGVXaXRoQmluZGluZyh2aWV3LCBub2RlSW5kZXgpIHtcbiAgICBmb3IgKHZhciAvKiogQHR5cGUgez99ICovIGkgPSBub2RlSW5kZXg7IGkgPCB2aWV3LmRlZi5ub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBub2RlRGVmID0gdmlldy5kZWYubm9kZXNbaV07XG4gICAgICAgIGlmICgobm9kZURlZi5mbGFncyAmIDMgLyogQ2F0UmVuZGVyTm9kZSAqLykgJiYgbm9kZURlZi5iaW5kaW5ncyAmJiBub2RlRGVmLmJpbmRpbmdzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG52YXIgRGVidWdDb250ZXh0XyA9IChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSB2aWV3XG4gICAgICogQHBhcmFtIHs/fSBub2RlSW5kZXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBEZWJ1Z0NvbnRleHRfKHZpZXcsIG5vZGVJbmRleCkge1xuICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgICAgICB0aGlzLm5vZGVJbmRleCA9IG5vZGVJbmRleDtcbiAgICAgICAgaWYgKG5vZGVJbmRleCA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLm5vZGVJbmRleCA9IG5vZGVJbmRleCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ub2RlRGVmID0gdmlldy5kZWYubm9kZXNbbm9kZUluZGV4XTtcbiAgICAgICAgdmFyIGVsRGVmID0gdGhpcy5ub2RlRGVmO1xuICAgICAgICB2YXIgZWxWaWV3ID0gdmlldztcbiAgICAgICAgd2hpbGUgKGVsRGVmICYmIChlbERlZi5mbGFncyAmIDEgLyogVHlwZUVsZW1lbnQgKi8pID09PSAwKSB7XG4gICAgICAgICAgICBlbERlZiA9IGVsRGVmLnBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWVsRGVmKSB7XG4gICAgICAgICAgICB3aGlsZSAoIWVsRGVmICYmIGVsVmlldykge1xuICAgICAgICAgICAgICAgIGVsRGVmID0gdmlld1BhcmVudEVsKGVsVmlldyk7XG4gICAgICAgICAgICAgICAgZWxWaWV3ID0gZWxWaWV3LnBhcmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVsRGVmID0gZWxEZWY7XG4gICAgICAgIHRoaXMuZWxWaWV3ID0gZWxWaWV3O1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVidWdDb250ZXh0Xy5wcm90b3R5cGUsIFwiZWxPckNvbXBWaWV3XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm4gez99XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIEhhcyB0byBiZSBkb25lIGxhemlseSBhcyB3ZSB1c2UgdGhlIERlYnVnQ29udGV4dCBhbHNvIGR1cmluZyBjcmVhdGlvbiBvZiBlbGVtZW50cy4uLlxuICAgICAgICAgICAgcmV0dXJuIGFzRWxlbWVudERhdGEodGhpcy5lbFZpZXcsIHRoaXMuZWxEZWYubm9kZUluZGV4KS5jb21wb25lbnRWaWV3IHx8IHRoaXMudmlldztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERlYnVnQ29udGV4dF8ucHJvdG90eXBlLCBcImluamVjdG9yXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm4gez99XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNyZWF0ZUluamVjdG9yKHRoaXMuZWxWaWV3LCB0aGlzLmVsRGVmKTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERlYnVnQ29udGV4dF8ucHJvdG90eXBlLCBcImNvbXBvbmVudFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmVsT3JDb21wVmlldy5jb21wb25lbnQ7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWJ1Z0NvbnRleHRfLnByb3RvdHlwZSwgXCJjb250ZXh0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm4gez99XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuZWxPckNvbXBWaWV3LmNvbnRleHQ7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWJ1Z0NvbnRleHRfLnByb3RvdHlwZSwgXCJwcm92aWRlclRva2Vuc1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyB0b2tlbnMgPSBbXTtcbiAgICAgICAgICAgIGlmICh0aGlzLmVsRGVmKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgLyoqIEB0eXBlIHs/fSAqLyBpID0gdGhpcy5lbERlZi5ub2RlSW5kZXggKyAxOyBpIDw9IHRoaXMuZWxEZWYubm9kZUluZGV4ICsgdGhpcy5lbERlZi5jaGlsZENvdW50OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gY2hpbGREZWYgPSB0aGlzLmVsVmlldy5kZWYubm9kZXNbaV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZERlZi5mbGFncyAmIDIwMjI0IC8qIENhdFByb3ZpZGVyICovKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCgvKiogQHR5cGUgez99ICovICgoY2hpbGREZWYucHJvdmlkZXIpKS50b2tlbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaSArPSBjaGlsZERlZi5jaGlsZENvdW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0b2tlbnM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWJ1Z0NvbnRleHRfLnByb3RvdHlwZSwgXCJyZWZlcmVuY2VzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm4gez99XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIHJlZmVyZW5jZXMgPSB7fTtcbiAgICAgICAgICAgIGlmICh0aGlzLmVsRGVmKSB7XG4gICAgICAgICAgICAgICAgY29sbGVjdFJlZmVyZW5jZXModGhpcy5lbFZpZXcsIHRoaXMuZWxEZWYsIHJlZmVyZW5jZXMpO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIC8qKiBAdHlwZSB7P30gKi8gaSA9IHRoaXMuZWxEZWYubm9kZUluZGV4ICsgMTsgaSA8PSB0aGlzLmVsRGVmLm5vZGVJbmRleCArIHRoaXMuZWxEZWYuY2hpbGRDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGNoaWxkRGVmID0gdGhpcy5lbFZpZXcuZGVmLm5vZGVzW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGREZWYuZmxhZ3MgJiAyMDIyNCAvKiBDYXRQcm92aWRlciAqLykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdFJlZmVyZW5jZXModGhpcy5lbFZpZXcsIGNoaWxkRGVmLCByZWZlcmVuY2VzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpICs9IGNoaWxkRGVmLmNoaWxkQ291bnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlZmVyZW5jZXM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWJ1Z0NvbnRleHRfLnByb3RvdHlwZSwgXCJjb21wb25lbnRSZW5kZXJFbGVtZW50XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm4gez99XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGVsRGF0YSA9IGZpbmRIb3N0RWxlbWVudCh0aGlzLmVsT3JDb21wVmlldyk7XG4gICAgICAgICAgICByZXR1cm4gZWxEYXRhID8gZWxEYXRhLnJlbmRlckVsZW1lbnQgOiB1bmRlZmluZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWJ1Z0NvbnRleHRfLnByb3RvdHlwZSwgXCJyZW5kZXJOb2RlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm4gez99XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm5vZGVEZWYuZmxhZ3MgJiAyIC8qIFR5cGVUZXh0ICovID8gcmVuZGVyTm9kZSh0aGlzLnZpZXcsIHRoaXMubm9kZURlZikgOlxuICAgICAgICAgICAgICAgIHJlbmRlck5vZGUodGhpcy5lbFZpZXcsIHRoaXMuZWxEZWYpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IGNvbnNvbGVcbiAgICAgKiBAcGFyYW0gey4uLj99IHZhbHVlc1xuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgRGVidWdDb250ZXh0Xy5wcm90b3R5cGUubG9nRXJyb3IgPSBmdW5jdGlvbiAoY29uc29sZSkge1xuICAgICAgICB2YXIgdmFsdWVzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YWx1ZXNbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gbG9nVmlld0RlZjtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gbG9nTm9kZUluZGV4O1xuICAgICAgICBpZiAodGhpcy5ub2RlRGVmLmZsYWdzICYgMiAvKiBUeXBlVGV4dCAqLykge1xuICAgICAgICAgICAgbG9nVmlld0RlZiA9IHRoaXMudmlldy5kZWY7XG4gICAgICAgICAgICBsb2dOb2RlSW5kZXggPSB0aGlzLm5vZGVEZWYubm9kZUluZGV4O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbG9nVmlld0RlZiA9IHRoaXMuZWxWaWV3LmRlZjtcbiAgICAgICAgICAgIGxvZ05vZGVJbmRleCA9IHRoaXMuZWxEZWYubm9kZUluZGV4O1xuICAgICAgICB9XG4gICAgICAgIC8vIE5vdGU6IHdlIG9ubHkgZ2VuZXJhdGUgYSBsb2cgZnVuY3Rpb24gZm9yIHRleHQgYW5kIGVsZW1lbnQgbm9kZXNcbiAgICAgICAgLy8gdG8gbWFrZSB0aGUgZ2VuZXJhdGVkIGNvZGUgYXMgc21hbGwgYXMgcG9zc2libGUuXG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIHJlbmRlck5vZGVJbmRleCA9IGdldFJlbmRlck5vZGVJbmRleChsb2dWaWV3RGVmLCBsb2dOb2RlSW5kZXgpO1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBjdXJyUmVuZGVyTm9kZUluZGV4ID0gLTE7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIG5vZGVMb2dnZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjdXJyUmVuZGVyTm9kZUluZGV4Kys7XG4gICAgICAgICAgICBpZiAoY3VyclJlbmRlck5vZGVJbmRleCA9PT0gcmVuZGVyTm9kZUluZGV4KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChfYSA9IGNvbnNvbGUuZXJyb3IpLmJpbmQuYXBwbHkoX2EsIFtjb25zb2xlXS5jb25jYXQodmFsdWVzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTk9PUDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgfTsgLyoqIEB0eXBlIHs/fSAqL1xuICAgICAgICAoKGxvZ1ZpZXdEZWYuZmFjdG9yeSkpKG5vZGVMb2dnZXIpO1xuICAgICAgICBpZiAoY3VyclJlbmRlck5vZGVJbmRleCA8IHJlbmRlck5vZGVJbmRleCkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignSWxsZWdhbCBzdGF0ZTogdGhlIFZpZXdEZWZpbml0aW9uRmFjdG9yeSBkaWQgbm90IGNhbGwgdGhlIGxvZ2dlciEnKTtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IuYXBwbHkoY29uc29sZSwgdmFsdWVzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIERlYnVnQ29udGV4dF87XG59KCkpO1xuLyoqXG4gKiBAcGFyYW0gez99IHZpZXdEZWZcbiAqIEBwYXJhbSB7P30gbm9kZUluZGV4XG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBnZXRSZW5kZXJOb2RlSW5kZXgodmlld0RlZiQkMSwgbm9kZUluZGV4KSB7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcmVuZGVyTm9kZUluZGV4ID0gLTE7XG4gICAgZm9yICh2YXIgLyoqIEB0eXBlIHs/fSAqLyBpID0gMDsgaSA8PSBub2RlSW5kZXg7IGkrKykge1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBub2RlRGVmID0gdmlld0RlZiQkMS5ub2Rlc1tpXTtcbiAgICAgICAgaWYgKG5vZGVEZWYuZmxhZ3MgJiAzIC8qIENhdFJlbmRlck5vZGUgKi8pIHtcbiAgICAgICAgICAgIHJlbmRlck5vZGVJbmRleCsrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZW5kZXJOb2RlSW5kZXg7XG59XG4vKipcbiAqIEBwYXJhbSB7P30gdmlld1xuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gZmluZEhvc3RFbGVtZW50KHZpZXcpIHtcbiAgICB3aGlsZSAodmlldyAmJiAhaXNDb21wb25lbnRWaWV3KHZpZXcpKSB7XG4gICAgICAgIHZpZXcgPSAoKHZpZXcucGFyZW50KSk7XG4gICAgfVxuICAgIGlmICh2aWV3LnBhcmVudCkge1xuICAgICAgICByZXR1cm4gYXNFbGVtZW50RGF0YSh2aWV3LnBhcmVudCwgLyoqIEB0eXBlIHs/fSAqLyAoKHZpZXdQYXJlbnRFbCh2aWV3KSkpLm5vZGVJbmRleCk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuLyoqXG4gKiBAcGFyYW0gez99IHZpZXdcbiAqIEBwYXJhbSB7P30gbm9kZURlZlxuICogQHBhcmFtIHs/fSByZWZlcmVuY2VzXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBjb2xsZWN0UmVmZXJlbmNlcyh2aWV3LCBub2RlRGVmLCByZWZlcmVuY2VzKSB7XG4gICAgZm9yICh2YXIgLyoqIEB0eXBlIHs/fSAqLyByZWZOYW1lIGluIG5vZGVEZWYucmVmZXJlbmNlcykge1xuICAgICAgICByZWZlcmVuY2VzW3JlZk5hbWVdID0gZ2V0UXVlcnlWYWx1ZSh2aWV3LCBub2RlRGVmLCBub2RlRGVmLnJlZmVyZW5jZXNbcmVmTmFtZV0pO1xuICAgIH1cbn1cbi8qKlxuICogQHBhcmFtIHs/fSBhY3Rpb25cbiAqIEBwYXJhbSB7P30gZm5cbiAqIEBwYXJhbSB7P30gc2VsZlxuICogQHBhcmFtIHs/fSBhcmdzXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBjYWxsV2l0aERlYnVnQ29udGV4dChhY3Rpb24sIGZuLCBzZWxmLCBhcmdzKSB7XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gb2xkQWN0aW9uID0gX2N1cnJlbnRBY3Rpb247XG4gICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gb2xkVmlldyA9IF9jdXJyZW50VmlldztcbiAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBvbGROb2RlSW5kZXggPSBfY3VycmVudE5vZGVJbmRleDtcbiAgICB0cnkge1xuICAgICAgICBfY3VycmVudEFjdGlvbiA9IGFjdGlvbjtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gcmVzdWx0ID0gZm4uYXBwbHkoc2VsZiwgYXJncyk7XG4gICAgICAgIF9jdXJyZW50VmlldyA9IG9sZFZpZXc7XG4gICAgICAgIF9jdXJyZW50Tm9kZUluZGV4ID0gb2xkTm9kZUluZGV4O1xuICAgICAgICBfY3VycmVudEFjdGlvbiA9IG9sZEFjdGlvbjtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgaWYgKGlzVmlld0RlYnVnRXJyb3IoZSkgfHwgIV9jdXJyZW50Vmlldykge1xuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyB2aWV3V3JhcHBlZERlYnVnRXJyb3IoZSwgLyoqIEB0eXBlIHs/fSAqLyAoKGdldEN1cnJlbnREZWJ1Z0NvbnRleHQoKSkpKTtcbiAgICB9XG59XG4vKipcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGdldEN1cnJlbnREZWJ1Z0NvbnRleHQoKSB7XG4gICAgcmV0dXJuIF9jdXJyZW50VmlldyA/IG5ldyBEZWJ1Z0NvbnRleHRfKF9jdXJyZW50VmlldywgX2N1cnJlbnROb2RlSW5kZXgpIDogbnVsbDtcbn1cbnZhciBEZWJ1Z1JlbmRlcmVyRmFjdG9yeTIgPSAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gZGVsZWdhdGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBEZWJ1Z1JlbmRlcmVyRmFjdG9yeTIoZGVsZWdhdGUpIHtcbiAgICAgICAgdGhpcy5kZWxlZ2F0ZSA9IGRlbGVnYXRlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IGVsZW1lbnRcbiAgICAgKiBAcGFyYW0gez99IHJlbmRlckRhdGFcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIERlYnVnUmVuZGVyZXJGYWN0b3J5Mi5wcm90b3R5cGUuY3JlYXRlUmVuZGVyZXIgPSBmdW5jdGlvbiAoZWxlbWVudCwgcmVuZGVyRGF0YSkge1xuICAgICAgICByZXR1cm4gbmV3IERlYnVnUmVuZGVyZXIyKHRoaXMuZGVsZWdhdGUuY3JlYXRlUmVuZGVyZXIoZWxlbWVudCwgcmVuZGVyRGF0YSkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBEZWJ1Z1JlbmRlcmVyRmFjdG9yeTIucHJvdG90eXBlLmJlZ2luID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5kZWxlZ2F0ZS5iZWdpbikge1xuICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5iZWdpbigpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIERlYnVnUmVuZGVyZXJGYWN0b3J5Mi5wcm90b3R5cGUuZW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5kZWxlZ2F0ZS5lbmQpIHtcbiAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUuZW5kKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgRGVidWdSZW5kZXJlckZhY3RvcnkyLnByb3RvdHlwZS53aGVuUmVuZGVyaW5nRG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuZGVsZWdhdGUud2hlblJlbmRlcmluZ0RvbmUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRlbGVnYXRlLndoZW5SZW5kZXJpbmdEb25lKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTtcbiAgICB9O1xuICAgIHJldHVybiBEZWJ1Z1JlbmRlcmVyRmFjdG9yeTI7XG59KCkpO1xudmFyIERlYnVnUmVuZGVyZXIyID0gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IGRlbGVnYXRlXG4gICAgICovXG4gICAgZnVuY3Rpb24gRGVidWdSZW5kZXJlcjIoZGVsZWdhdGUpIHtcbiAgICAgICAgdGhpcy5kZWxlZ2F0ZSA9IGRlbGVnYXRlO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVidWdSZW5kZXJlcjIucHJvdG90eXBlLCBcImRhdGFcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybiB7P31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5kZWxlZ2F0ZS5kYXRhOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IG5vZGVcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIERlYnVnUmVuZGVyZXIyLnByb3RvdHlwZS5kZXN0cm95Tm9kZSA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgIHJlbW92ZURlYnVnTm9kZUZyb21JbmRleCgvKiogQHR5cGUgez99ICovICgoZ2V0RGVidWdOb2RlKG5vZGUpKSkpO1xuICAgICAgICBpZiAodGhpcy5kZWxlZ2F0ZS5kZXN0cm95Tm9kZSkge1xuICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5kZXN0cm95Tm9kZShub2RlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBEZWJ1Z1JlbmRlcmVyMi5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHsgdGhpcy5kZWxlZ2F0ZS5kZXN0cm95KCk7IH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBuYW1lXG4gICAgICogQHBhcmFtIHs/PX0gbmFtZXNwYWNlXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBEZWJ1Z1JlbmRlcmVyMi5wcm90b3R5cGUuY3JlYXRlRWxlbWVudCA9IGZ1bmN0aW9uIChuYW1lLCBuYW1lc3BhY2UpIHtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gZWwgPSB0aGlzLmRlbGVnYXRlLmNyZWF0ZUVsZW1lbnQobmFtZSwgbmFtZXNwYWNlKTtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gZGVidWdDdHggPSBnZXRDdXJyZW50RGVidWdDb250ZXh0KCk7XG4gICAgICAgIGlmIChkZWJ1Z0N0eCkge1xuICAgICAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gZGVidWdFbCA9IG5ldyBEZWJ1Z0VsZW1lbnQoZWwsIG51bGwsIGRlYnVnQ3R4KTtcbiAgICAgICAgICAgIGRlYnVnRWwubmFtZSA9IG5hbWU7XG4gICAgICAgICAgICBpbmRleERlYnVnTm9kZShkZWJ1Z0VsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZWw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IHZhbHVlXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBEZWJ1Z1JlbmRlcmVyMi5wcm90b3R5cGUuY3JlYXRlQ29tbWVudCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBjb21tZW50ID0gdGhpcy5kZWxlZ2F0ZS5jcmVhdGVDb21tZW50KHZhbHVlKTtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gZGVidWdDdHggPSBnZXRDdXJyZW50RGVidWdDb250ZXh0KCk7XG4gICAgICAgIGlmIChkZWJ1Z0N0eCkge1xuICAgICAgICAgICAgaW5kZXhEZWJ1Z05vZGUobmV3IERlYnVnTm9kZShjb21tZW50LCBudWxsLCBkZWJ1Z0N0eCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb21tZW50O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSB2YWx1ZVxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgRGVidWdSZW5kZXJlcjIucHJvdG90eXBlLmNyZWF0ZVRleHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gdGV4dCA9IHRoaXMuZGVsZWdhdGUuY3JlYXRlVGV4dCh2YWx1ZSk7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGRlYnVnQ3R4ID0gZ2V0Q3VycmVudERlYnVnQ29udGV4dCgpO1xuICAgICAgICBpZiAoZGVidWdDdHgpIHtcbiAgICAgICAgICAgIGluZGV4RGVidWdOb2RlKG5ldyBEZWJ1Z05vZGUodGV4dCwgbnVsbCwgZGVidWdDdHgpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGV4dDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gcGFyZW50XG4gICAgICogQHBhcmFtIHs/fSBuZXdDaGlsZFxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgRGVidWdSZW5kZXJlcjIucHJvdG90eXBlLmFwcGVuZENoaWxkID0gZnVuY3Rpb24gKHBhcmVudCwgbmV3Q2hpbGQpIHtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gZGVidWdFbCA9IGdldERlYnVnTm9kZShwYXJlbnQpO1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBkZWJ1Z0NoaWxkRWwgPSBnZXREZWJ1Z05vZGUobmV3Q2hpbGQpO1xuICAgICAgICBpZiAoZGVidWdFbCAmJiBkZWJ1Z0NoaWxkRWwgJiYgZGVidWdFbCBpbnN0YW5jZW9mIERlYnVnRWxlbWVudCkge1xuICAgICAgICAgICAgZGVidWdFbC5hZGRDaGlsZChkZWJ1Z0NoaWxkRWwpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVsZWdhdGUuYXBwZW5kQ2hpbGQocGFyZW50LCBuZXdDaGlsZCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IHBhcmVudFxuICAgICAqIEBwYXJhbSB7P30gbmV3Q2hpbGRcbiAgICAgKiBAcGFyYW0gez99IHJlZkNoaWxkXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBEZWJ1Z1JlbmRlcmVyMi5wcm90b3R5cGUuaW5zZXJ0QmVmb3JlID0gZnVuY3Rpb24gKHBhcmVudCwgbmV3Q2hpbGQsIHJlZkNoaWxkKSB7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGRlYnVnRWwgPSBnZXREZWJ1Z05vZGUocGFyZW50KTtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gZGVidWdDaGlsZEVsID0gZ2V0RGVidWdOb2RlKG5ld0NoaWxkKTtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gZGVidWdSZWZFbCA9ICgoZ2V0RGVidWdOb2RlKHJlZkNoaWxkKSkpO1xuICAgICAgICBpZiAoZGVidWdFbCAmJiBkZWJ1Z0NoaWxkRWwgJiYgZGVidWdFbCBpbnN0YW5jZW9mIERlYnVnRWxlbWVudCkge1xuICAgICAgICAgICAgZGVidWdFbC5pbnNlcnRCZWZvcmUoZGVidWdSZWZFbCwgZGVidWdDaGlsZEVsKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlbGVnYXRlLmluc2VydEJlZm9yZShwYXJlbnQsIG5ld0NoaWxkLCByZWZDaGlsZCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IHBhcmVudFxuICAgICAqIEBwYXJhbSB7P30gb2xkQ2hpbGRcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIERlYnVnUmVuZGVyZXIyLnByb3RvdHlwZS5yZW1vdmVDaGlsZCA9IGZ1bmN0aW9uIChwYXJlbnQsIG9sZENoaWxkKSB7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGRlYnVnRWwgPSBnZXREZWJ1Z05vZGUocGFyZW50KTtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gZGVidWdDaGlsZEVsID0gZ2V0RGVidWdOb2RlKG9sZENoaWxkKTtcbiAgICAgICAgaWYgKGRlYnVnRWwgJiYgZGVidWdDaGlsZEVsICYmIGRlYnVnRWwgaW5zdGFuY2VvZiBEZWJ1Z0VsZW1lbnQpIHtcbiAgICAgICAgICAgIGRlYnVnRWwucmVtb3ZlQ2hpbGQoZGVidWdDaGlsZEVsKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlbGVnYXRlLnJlbW92ZUNoaWxkKHBhcmVudCwgb2xkQ2hpbGQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBzZWxlY3Rvck9yTm9kZVxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgRGVidWdSZW5kZXJlcjIucHJvdG90eXBlLnNlbGVjdFJvb3RFbGVtZW50ID0gZnVuY3Rpb24gKHNlbGVjdG9yT3JOb2RlKSB7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGVsID0gdGhpcy5kZWxlZ2F0ZS5zZWxlY3RSb290RWxlbWVudChzZWxlY3Rvck9yTm9kZSk7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGRlYnVnQ3R4ID0gZ2V0Q3VycmVudERlYnVnQ29udGV4dCgpO1xuICAgICAgICBpZiAoZGVidWdDdHgpIHtcbiAgICAgICAgICAgIGluZGV4RGVidWdOb2RlKG5ldyBEZWJ1Z0VsZW1lbnQoZWwsIG51bGwsIGRlYnVnQ3R4KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBlbFxuICAgICAqIEBwYXJhbSB7P30gbmFtZVxuICAgICAqIEBwYXJhbSB7P30gdmFsdWVcbiAgICAgKiBAcGFyYW0gez89fSBuYW1lc3BhY2VcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIERlYnVnUmVuZGVyZXIyLnByb3RvdHlwZS5zZXRBdHRyaWJ1dGUgPSBmdW5jdGlvbiAoZWwsIG5hbWUsIHZhbHVlLCBuYW1lc3BhY2UpIHtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gZGVidWdFbCA9IGdldERlYnVnTm9kZShlbCk7XG4gICAgICAgIGlmIChkZWJ1Z0VsICYmIGRlYnVnRWwgaW5zdGFuY2VvZiBEZWJ1Z0VsZW1lbnQpIHtcbiAgICAgICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGZ1bGxOYW1lID0gbmFtZXNwYWNlID8gbmFtZXNwYWNlICsgJzonICsgbmFtZSA6IG5hbWU7XG4gICAgICAgICAgICBkZWJ1Z0VsLmF0dHJpYnV0ZXNbZnVsbE5hbWVdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZWxlZ2F0ZS5zZXRBdHRyaWJ1dGUoZWwsIG5hbWUsIHZhbHVlLCBuYW1lc3BhY2UpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBlbFxuICAgICAqIEBwYXJhbSB7P30gbmFtZVxuICAgICAqIEBwYXJhbSB7Pz19IG5hbWVzcGFjZVxuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgRGVidWdSZW5kZXJlcjIucHJvdG90eXBlLnJlbW92ZUF0dHJpYnV0ZSA9IGZ1bmN0aW9uIChlbCwgbmFtZSwgbmFtZXNwYWNlKSB7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGRlYnVnRWwgPSBnZXREZWJ1Z05vZGUoZWwpO1xuICAgICAgICBpZiAoZGVidWdFbCAmJiBkZWJ1Z0VsIGluc3RhbmNlb2YgRGVidWdFbGVtZW50KSB7XG4gICAgICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBmdWxsTmFtZSA9IG5hbWVzcGFjZSA/IG5hbWVzcGFjZSArICc6JyArIG5hbWUgOiBuYW1lO1xuICAgICAgICAgICAgZGVidWdFbC5hdHRyaWJ1dGVzW2Z1bGxOYW1lXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZWxlZ2F0ZS5yZW1vdmVBdHRyaWJ1dGUoZWwsIG5hbWUsIG5hbWVzcGFjZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IGVsXG4gICAgICogQHBhcmFtIHs/fSBuYW1lXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBEZWJ1Z1JlbmRlcmVyMi5wcm90b3R5cGUuYWRkQ2xhc3MgPSBmdW5jdGlvbiAoZWwsIG5hbWUpIHtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gZGVidWdFbCA9IGdldERlYnVnTm9kZShlbCk7XG4gICAgICAgIGlmIChkZWJ1Z0VsICYmIGRlYnVnRWwgaW5zdGFuY2VvZiBEZWJ1Z0VsZW1lbnQpIHtcbiAgICAgICAgICAgIGRlYnVnRWwuY2xhc3Nlc1tuYW1lXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZWxlZ2F0ZS5hZGRDbGFzcyhlbCwgbmFtZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IGVsXG4gICAgICogQHBhcmFtIHs/fSBuYW1lXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBEZWJ1Z1JlbmRlcmVyMi5wcm90b3R5cGUucmVtb3ZlQ2xhc3MgPSBmdW5jdGlvbiAoZWwsIG5hbWUpIHtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gZGVidWdFbCA9IGdldERlYnVnTm9kZShlbCk7XG4gICAgICAgIGlmIChkZWJ1Z0VsICYmIGRlYnVnRWwgaW5zdGFuY2VvZiBEZWJ1Z0VsZW1lbnQpIHtcbiAgICAgICAgICAgIGRlYnVnRWwuY2xhc3Nlc1tuYW1lXSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVsZWdhdGUucmVtb3ZlQ2xhc3MoZWwsIG5hbWUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBlbFxuICAgICAqIEBwYXJhbSB7P30gc3R5bGVcbiAgICAgKiBAcGFyYW0gez99IHZhbHVlXG4gICAgICogQHBhcmFtIHs/fSBmbGFnc1xuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgRGVidWdSZW5kZXJlcjIucHJvdG90eXBlLnNldFN0eWxlID0gZnVuY3Rpb24gKGVsLCBzdHlsZSwgdmFsdWUsIGZsYWdzKSB7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGRlYnVnRWwgPSBnZXREZWJ1Z05vZGUoZWwpO1xuICAgICAgICBpZiAoZGVidWdFbCAmJiBkZWJ1Z0VsIGluc3RhbmNlb2YgRGVidWdFbGVtZW50KSB7XG4gICAgICAgICAgICBkZWJ1Z0VsLnN0eWxlc1tzdHlsZV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlbGVnYXRlLnNldFN0eWxlKGVsLCBzdHlsZSwgdmFsdWUsIGZsYWdzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gZWxcbiAgICAgKiBAcGFyYW0gez99IHN0eWxlXG4gICAgICogQHBhcmFtIHs/fSBmbGFnc1xuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgRGVidWdSZW5kZXJlcjIucHJvdG90eXBlLnJlbW92ZVN0eWxlID0gZnVuY3Rpb24gKGVsLCBzdHlsZSwgZmxhZ3MpIHtcbiAgICAgICAgdmFyIC8qKiBAdHlwZSB7P30gKi8gZGVidWdFbCA9IGdldERlYnVnTm9kZShlbCk7XG4gICAgICAgIGlmIChkZWJ1Z0VsICYmIGRlYnVnRWwgaW5zdGFuY2VvZiBEZWJ1Z0VsZW1lbnQpIHtcbiAgICAgICAgICAgIGRlYnVnRWwuc3R5bGVzW3N0eWxlXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZWxlZ2F0ZS5yZW1vdmVTdHlsZShlbCwgc3R5bGUsIGZsYWdzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gZWxcbiAgICAgKiBAcGFyYW0gez99IG5hbWVcbiAgICAgKiBAcGFyYW0gez99IHZhbHVlXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBEZWJ1Z1JlbmRlcmVyMi5wcm90b3R5cGUuc2V0UHJvcGVydHkgPSBmdW5jdGlvbiAoZWwsIG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIHZhciAvKiogQHR5cGUgez99ICovIGRlYnVnRWwgPSBnZXREZWJ1Z05vZGUoZWwpO1xuICAgICAgICBpZiAoZGVidWdFbCAmJiBkZWJ1Z0VsIGluc3RhbmNlb2YgRGVidWdFbGVtZW50KSB7XG4gICAgICAgICAgICBkZWJ1Z0VsLnByb3BlcnRpZXNbbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlbGVnYXRlLnNldFByb3BlcnR5KGVsLCBuYW1lLCB2YWx1ZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IHRhcmdldFxuICAgICAqIEBwYXJhbSB7P30gZXZlbnROYW1lXG4gICAgICogQHBhcmFtIHs/fSBjYWxsYmFja1xuICAgICAqIEByZXR1cm4gez99XG4gICAgICovXG4gICAgRGVidWdSZW5kZXJlcjIucHJvdG90eXBlLmxpc3RlbiA9IGZ1bmN0aW9uICh0YXJnZXQsIGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBkZWJ1Z0VsID0gZ2V0RGVidWdOb2RlKHRhcmdldCk7XG4gICAgICAgICAgICBpZiAoZGVidWdFbCkge1xuICAgICAgICAgICAgICAgIGRlYnVnRWwubGlzdGVuZXJzLnB1c2gobmV3IEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBjYWxsYmFjaykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmRlbGVnYXRlLmxpc3Rlbih0YXJnZXQsIGV2ZW50TmFtZSwgY2FsbGJhY2spO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBub2RlXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBEZWJ1Z1JlbmRlcmVyMi5wcm90b3R5cGUucGFyZW50Tm9kZSA9IGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiB0aGlzLmRlbGVnYXRlLnBhcmVudE5vZGUobm9kZSk7IH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/fSBub2RlXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBEZWJ1Z1JlbmRlcmVyMi5wcm90b3R5cGUubmV4dFNpYmxpbmcgPSBmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gdGhpcy5kZWxlZ2F0ZS5uZXh0U2libGluZyhub2RlKTsgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gez99IG5vZGVcbiAgICAgKiBAcGFyYW0gez99IHZhbHVlXG4gICAgICogQHJldHVybiB7P31cbiAgICAgKi9cbiAgICBEZWJ1Z1JlbmRlcmVyMi5wcm90b3R5cGUuc2V0VmFsdWUgPSBmdW5jdGlvbiAobm9kZSwgdmFsdWUpIHsgcmV0dXJuIHRoaXMuZGVsZWdhdGUuc2V0VmFsdWUobm9kZSwgdmFsdWUpOyB9O1xuICAgIHJldHVybiBEZWJ1Z1JlbmRlcmVyMjtcbn0oKSk7XG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEBwYXJhbSB7P30gb3ZlcnJpZGVcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIG92ZXJyaWRlUHJvdmlkZXIob3ZlcnJpZGUpIHtcbiAgICBpbml0U2VydmljZXNJZk5lZWRlZCgpO1xuICAgIHJldHVybiBTZXJ2aWNlcy5vdmVycmlkZVByb3ZpZGVyKG92ZXJyaWRlKTtcbn1cbi8qKlxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gY2xlYXJQcm92aWRlck92ZXJyaWRlcygpIHtcbiAgICBpbml0U2VydmljZXNJZk5lZWRlZCgpO1xuICAgIHJldHVybiBTZXJ2aWNlcy5jbGVhclByb3ZpZGVyT3ZlcnJpZGVzKCk7XG59XG4vKipcbiAqIEBwYXJhbSB7P30gbmdNb2R1bGVUeXBlXG4gKiBAcGFyYW0gez99IGJvb3RzdHJhcENvbXBvbmVudHNcbiAqIEBwYXJhbSB7P30gZGVmRmFjdG9yeVxuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gY3JlYXRlTmdNb2R1bGVGYWN0b3J5KG5nTW9kdWxlVHlwZSwgYm9vdHN0cmFwQ29tcG9uZW50cywgZGVmRmFjdG9yeSkge1xuICAgIHJldHVybiBuZXcgTmdNb2R1bGVGYWN0b3J5XyhuZ01vZHVsZVR5cGUsIGJvb3RzdHJhcENvbXBvbmVudHMsIGRlZkZhY3RvcnkpO1xufVxudmFyIE5nTW9kdWxlRmFjdG9yeV8gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhOZ01vZHVsZUZhY3RvcnlfLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gbW9kdWxlVHlwZVxuICAgICAqIEBwYXJhbSB7P30gX2Jvb3RzdHJhcENvbXBvbmVudHNcbiAgICAgKiBAcGFyYW0gez99IF9uZ01vZHVsZURlZkZhY3RvcnlcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBOZ01vZHVsZUZhY3RvcnlfKG1vZHVsZVR5cGUsIF9ib290c3RyYXBDb21wb25lbnRzLCBfbmdNb2R1bGVEZWZGYWN0b3J5KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IFxuICAgICAgICAvLyBBdHRlbnRpb246IHRoaXMgY3RvciBpcyBjYWxsZWQgYXMgdG9wIGxldmVsIGZ1bmN0aW9uLlxuICAgICAgICAvLyBQdXR0aW5nIGFueSBsb2dpYyBpbiBoZXJlIHdpbGwgZGVzdHJveSBjbG9zdXJlIHRyZWUgc2hha2luZyFcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMubW9kdWxlVHlwZSA9IG1vZHVsZVR5cGU7XG4gICAgICAgIF90aGlzLl9ib290c3RyYXBDb21wb25lbnRzID0gX2Jvb3RzdHJhcENvbXBvbmVudHM7XG4gICAgICAgIF90aGlzLl9uZ01vZHVsZURlZkZhY3RvcnkgPSBfbmdNb2R1bGVEZWZGYWN0b3J5O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7P30gcGFyZW50SW5qZWN0b3JcbiAgICAgKiBAcmV0dXJuIHs/fVxuICAgICAqL1xuICAgIE5nTW9kdWxlRmFjdG9yeV8ucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uIChwYXJlbnRJbmplY3Rvcikge1xuICAgICAgICBpbml0U2VydmljZXNJZk5lZWRlZCgpO1xuICAgICAgICB2YXIgLyoqIEB0eXBlIHs/fSAqLyBkZWYgPSByZXNvbHZlRGVmaW5pdGlvbih0aGlzLl9uZ01vZHVsZURlZkZhY3RvcnkpO1xuICAgICAgICByZXR1cm4gU2VydmljZXMuY3JlYXRlTmdNb2R1bGVSZWYodGhpcy5tb2R1bGVUeXBlLCBwYXJlbnRJbmplY3RvciB8fCBJbmplY3Rvci5OVUxMLCB0aGlzLl9ib290c3RyYXBDb21wb25lbnRzLCBkZWYpO1xuICAgIH07XG4gICAgcmV0dXJuIE5nTW9kdWxlRmFjdG9yeV87XG59KE5nTW9kdWxlRmFjdG9yeSkpO1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBcXEBleHBlcmltZW50YWwgQW5pbWF0aW9uIHN1cHBvcnQgaXMgZXhwZXJpbWVudGFsLlxuICovXG4vKipcbiAqIGB0cmlnZ2VyYCBpcyBhbiBhbmltYXRpb24tc3BlY2lmaWMgZnVuY3Rpb24gdGhhdCBpcyBkZXNpZ25lZCB0byBiZSB1c2VkIGluc2lkZSBvZiBBbmd1bGFyJ3NcbiAqIGFuaW1hdGlvbiBEU0wgbGFuZ3VhZ2UuIElmIHRoaXMgaW5mb3JtYXRpb24gaXMgbmV3LCBwbGVhc2UgbmF2aWdhdGUgdG8gdGhlXG4gKiB7XFxAbGluayBDb21wb25lbnQjYW5pbWF0aW9ucyBjb21wb25lbnQgYW5pbWF0aW9ucyBtZXRhZGF0YSBwYWdlfSB0byBnYWluIGEgYmV0dGVyXG4gKiB1bmRlcnN0YW5kaW5nIG9mIGhvdyBhbmltYXRpb25zIGluIEFuZ3VsYXIgYXJlIHVzZWQuXG4gKlxuICogYHRyaWdnZXJgIENyZWF0ZXMgYW4gYW5pbWF0aW9uIHRyaWdnZXIgd2hpY2ggd2lsbCBhIGxpc3Qgb2Yge1xcQGxpbmsgc3RhdGUgc3RhdGV9IGFuZFxuICoge1xcQGxpbmsgdHJhbnNpdGlvbiB0cmFuc2l0aW9ufSBlbnRyaWVzIHRoYXQgd2lsbCBiZSBldmFsdWF0ZWQgd2hlbiB0aGUgZXhwcmVzc2lvblxuICogYm91bmQgdG8gdGhlIHRyaWdnZXIgY2hhbmdlcy5cbiAqXG4gKiBUcmlnZ2VycyBhcmUgcmVnaXN0ZXJlZCB3aXRoaW4gdGhlIGNvbXBvbmVudCBhbm5vdGF0aW9uIGRhdGEgdW5kZXIgdGhlXG4gKiB7XFxAbGluayBDb21wb25lbnQjYW5pbWF0aW9ucyBhbmltYXRpb25zIHNlY3Rpb259LiBBbiBhbmltYXRpb24gdHJpZ2dlciBjYW4gYmUgcGxhY2VkIG9uIGFuIGVsZW1lbnRcbiAqIHdpdGhpbiBhIHRlbXBsYXRlIGJ5IHJlZmVyZW5jaW5nIHRoZSBuYW1lIG9mIHRoZSB0cmlnZ2VyIGZvbGxvd2VkIGJ5IHRoZSBleHByZXNzaW9uIHZhbHVlIHRoYXRcbiAqIHRoZVxuICogdHJpZ2dlciBpcyBib3VuZCB0byAoaW4gdGhlIGZvcm0gb2YgYFtcXEB0cmlnZ2VyTmFtZV09XCJleHByZXNzaW9uXCJgLlxuICpcbiAqIEFuaW1hdGlvbiB0cmlnZ2VyIGJpbmRpbmdzIHN0cmlnaWZ5IHZhbHVlcyBhbmQgdGhlbiBtYXRjaCB0aGUgcHJldmlvdXMgYW5kIGN1cnJlbnQgdmFsdWVzIGFnYWluc3RcbiAqIGFueSBsaW5rZWQgdHJhbnNpdGlvbnMuIElmIGEgYm9vbGVhbiB2YWx1ZSBpcyBwcm92aWRlZCBpbnRvIHRoZSB0cmlnZ2VyIGJpbmRpbmcgdGhlbiBpdCB3aWxsIGJvdGhcbiAqIGJlIHJlcHJlc2VudGVkIGFzIGAxYCBvciBgdHJ1ZWAgYW5kIGAwYCBvciBgZmFsc2VgIGZvciBhIHRydWUgYW5kIGZhbHNlIGJvb2xlYW4gdmFsdWVzXG4gKiByZXNwZWN0aXZlbHkuXG4gKlxuICogIyMjIFVzYWdlXG4gKlxuICogYHRyaWdnZXJgIHdpbGwgY3JlYXRlIGFuIGFuaW1hdGlvbiB0cmlnZ2VyIHJlZmVyZW5jZSBiYXNlZCBvbiB0aGUgcHJvdmlkZWQgYG5hbWVgIHZhbHVlLiBUaGVcbiAqIHByb3ZpZGVkIGBhbmltYXRpb25gIHZhbHVlIGlzIGV4cGVjdGVkIHRvIGJlIGFuIGFycmF5IGNvbnNpc3Rpbmcgb2Yge1xcQGxpbmsgc3RhdGUgc3RhdGV9IGFuZFxuICoge1xcQGxpbmsgdHJhbnNpdGlvbiB0cmFuc2l0aW9ufSBkZWNsYXJhdGlvbnMuXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogXFxAQ29tcG9uZW50KHtcbiAqICAgc2VsZWN0b3I6ICdteS1jb21wb25lbnQnLFxuICogICB0ZW1wbGF0ZVVybDogJ215LWNvbXBvbmVudC10cGwuaHRtbCcsXG4gKiAgIGFuaW1hdGlvbnM6IFtcbiAqICAgICB0cmlnZ2VyKFwibXlBbmltYXRpb25UcmlnZ2VyXCIsIFtcbiAqICAgICAgIHN0YXRlKC4uLiksXG4gKiAgICAgICBzdGF0ZSguLi4pLFxuICogICAgICAgdHJhbnNpdGlvbiguLi4pLFxuICogICAgICAgdHJhbnNpdGlvbiguLi4pXG4gKiAgICAgXSlcbiAqICAgXVxuICogfSlcbiAqIGNsYXNzIE15Q29tcG9uZW50IHtcbiAqICAgbXlTdGF0dXNFeHAgPSBcInNvbWV0aGluZ1wiO1xuICogfVxuICogYGBgXG4gKlxuICogVGhlIHRlbXBsYXRlIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGNvbXBvbmVudCB3aWxsIG1ha2UgdXNlIG9mIHRoZSBgbXlBbmltYXRpb25UcmlnZ2VyYCBhbmltYXRpb25cbiAqIHRyaWdnZXIgYnkgYmluZGluZyB0byBhbiBlbGVtZW50IHdpdGhpbiBpdHMgdGVtcGxhdGUgY29kZS5cbiAqXG4gKiBgYGBodG1sXG4gKiA8IS0tIHNvbWV3aGVyZSBpbnNpZGUgb2YgbXktY29tcG9uZW50LXRwbC5odG1sIC0tPlxuICogPGRpdiBbXFxAbXlBbmltYXRpb25UcmlnZ2VyXT1cIm15U3RhdHVzRXhwXCI+Li4uPC9kaXY+XG4gKiBgYGBcbiAqXG4gKiAjIyBEaXNhYmxlIEFuaW1hdGlvbnNcbiAqIEEgc3BlY2lhbCBhbmltYXRpb24gY29udHJvbCBiaW5kaW5nIGNhbGxlZCBgXFxALmRpc2FibGVkYCBjYW4gYmUgcGxhY2VkIG9uIGFuIGVsZW1lbnQgd2hpY2ggd2lsbFxuICogdGhlbiBkaXNhYmxlIGFuaW1hdGlvbnMgZm9yIGFueSBpbm5lciBhbmltYXRpb24gdHJpZ2dlcnMgc2l0dWF0ZWQgd2l0aGluIHRoZSBlbGVtZW50IGFzIHdlbGwgYXNcbiAqIGFueSBhbmltYXRpb25zIG9uIHRoZSBlbGVtZW50IGl0c2VsZi5cbiAqXG4gKiBXaGVuIHRydWUsIHRoZSBgXFxALmRpc2FibGVkYCBiaW5kaW5nIHdpbGwgcHJldmVudCBhbGwgYW5pbWF0aW9ucyBmcm9tIHJlbmRlcmluZy4gVGhlIGV4YW1wbGVcbiAqIGJlbG93IHNob3dzIGhvdyB0byB1c2UgdGhpcyBmZWF0dXJlOlxuICpcbiAqIGBgYHRzXG4gKiBcXEBDb21wb25lbnQoe1xuICogICBzZWxlY3RvcjogJ215LWNvbXBvbmVudCcsXG4gKiAgIHRlbXBsYXRlOiBgXG4gKiAgICAgPGRpdiBbXFxALmRpc2FibGVkXT1cImlzRGlzYWJsZWRcIj5cbiAqICAgICAgIDxkaXYgW1xcQGNoaWxkQW5pbWF0aW9uXT1cImV4cFwiPjwvZGl2PlxuICogICAgIDwvZGl2PlxuICogICBgLFxuICogICBhbmltYXRpb25zOiBbXG4gKiAgICAgdHJpZ2dlcihcImNoaWxkQW5pbWF0aW9uXCIsIFtcbiAqICAgICAgIC8vIC4uLlxuICogICAgIF0pXG4gKiAgIF1cbiAqIH0pXG4gKiBjbGFzcyBNeUNvbXBvbmVudCB7XG4gKiAgIGlzRGlzYWJsZWQgPSB0cnVlO1xuICogICBleHAgPSAnLi4uJztcbiAqIH1cbiAqIGBgYFxuICpcbiAqIFRoZSBgXFxAY2hpbGRBbmltYXRpb25gIHRyaWdnZXIgd2lsbCBub3QgYW5pbWF0ZSBiZWNhdXNlIGBcXEAuZGlzYWJsZWRgIHByZXZlbnRzIGl0IGZyb20gaGFwcGVuaW5nXG4gKiAod2hlbiB0cnVlKS5cbiAqXG4gKiBOb3RlIHRoYXQgYFxcQC5kaXNibGVkYCB3aWxsIG9ubHkgZGlzYWJsZSBhbGwgYW5pbWF0aW9ucyAodGhpcyBtZWFucyBhbnkgYW5pbWF0aW9ucyBydW5uaW5nIG9uXG4gKiB0aGUgc2FtZSBlbGVtZW50IHdpbGwgYWxzbyBiZSBkaXNhYmxlZCkuXG4gKlxuICogIyMjIERpc2FibGluZyBBbmltYXRpb25zIEFwcGxpY2F0aW9uLXdpZGVcbiAqIFdoZW4gYW4gYXJlYSBvZiB0aGUgdGVtcGxhdGUgaXMgc2V0IHRvIGhhdmUgYW5pbWF0aW9ucyBkaXNhYmxlZCwgKiphbGwqKiBpbm5lciBjb21wb25lbnRzIHdpbGxcbiAqIGFsc28gaGF2ZSB0aGVpciBhbmltYXRpb25zIGRpc2FibGVkIGFzIHdlbGwuIFRoaXMgbWVhbnMgdGhhdCBhbGwgYW5pbWF0aW9ucyBmb3IgYW4gYW5ndWxhclxuICogYXBwbGljYXRpb24gY2FuIGJlIGRpc2FibGVkIGJ5IHBsYWNpbmcgYSBob3N0IGJpbmRpbmcgc2V0IG9uIGBcXEAuZGlzYWJsZWRgIG9uIHRoZSB0b3Btb3N0IEFuZ3VsYXJcbiAqIGNvbXBvbmVudC5cbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHtDb21wb25lbnQsIEhvc3RCaW5kaW5nfSBmcm9tICdcXEBhbmd1bGFyL2NvcmUnO1xuICpcbiAqIFxcQENvbXBvbmVudCh7XG4gKiAgIHNlbGVjdG9yOiAnYXBwLWNvbXBvbmVudCcsXG4gKiAgIHRlbXBsYXRlVXJsOiAnYXBwLmNvbXBvbmVudC5odG1sJyxcbiAqIH0pXG4gKiBjbGFzcyBBcHBDb21wb25lbnQge1xuICogICBcXEBIb3N0QmluZGluZygnXFxALmRpc2FibGVkJylcbiAqICAgcHVibGljIGFuaW1hdGlvbnNEaXNhYmxlZCA9IHRydWU7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiAjIyMgV2hhdCBhYm91dCBhbmltYXRpb25zIHRoYXQgdXMgYHF1ZXJ5KClgIGFuZCBgYW5pbWF0ZUNoaWxkKClgP1xuICogRGVzcGl0ZSBpbm5lciBhbmltYXRpb25zIGJlaW5nIGRpc2FibGVkLCBhIHBhcmVudCBhbmltYXRpb24gY2FuIHtcXEBsaW5rIHF1ZXJ5IHF1ZXJ5fSBmb3IgaW5uZXJcbiAqIGVsZW1lbnRzIGxvY2F0ZWQgaW4gZGlzYWJsZWQgYXJlYXMgb2YgdGhlIHRlbXBsYXRlIGFuZCBzdGlsbCBhbmltYXRlIHRoZW0gYXMgaXQgc2VlcyBmaXQuIFRoaXMgaXNcbiAqIGFsc28gdGhlIGNhc2UgZm9yIHdoZW4gYSBzdWIgYW5pbWF0aW9uIGlzIHF1ZXJpZWQgYnkgYSBwYXJlbnQgYW5kIHRoZW4gbGF0ZXIgYW5pbWF0ZWQgdXNpbmcge1xcQGxpbmtcbiAqIGFuaW1hdGVDaGlsZCBhbmltYXRlQ2hpbGR9LlxuICpcbiAqIFxcQGV4cGVyaW1lbnRhbCBBbmltYXRpb24gc3VwcG9ydCBpcyBleHBlcmltZW50YWwuXG4gKiBAcGFyYW0gez99IG5hbWVcbiAqIEBwYXJhbSB7P30gZGVmaW5pdGlvbnNcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIHRyaWdnZXIkMShuYW1lLCBkZWZpbml0aW9ucykge1xuICAgIHJldHVybiB7IHR5cGU6IDcgLyogVHJpZ2dlciAqLywgbmFtZTogbmFtZSwgZGVmaW5pdGlvbnM6IGRlZmluaXRpb25zLCBvcHRpb25zOiB7fSB9O1xufVxuLyoqXG4gKiBgYW5pbWF0ZWAgaXMgYW4gYW5pbWF0aW9uLXNwZWNpZmljIGZ1bmN0aW9uIHRoYXQgaXMgZGVzaWduZWQgdG8gYmUgdXNlZCBpbnNpZGUgb2YgQW5ndWxhcidzXG4gKiBhbmltYXRpb24gRFNMIGxhbmd1YWdlLiBJZiB0aGlzIGluZm9ybWF0aW9uIGlzIG5ldywgcGxlYXNlIG5hdmlnYXRlIHRvIHRoZSB7XFxAbGlua1xuICogQ29tcG9uZW50I2FuaW1hdGlvbnMgY29tcG9uZW50IGFuaW1hdGlvbnMgbWV0YWRhdGEgcGFnZX0gdG8gZ2FpbiBhIGJldHRlciB1bmRlcnN0YW5kaW5nIG9mXG4gKiBob3cgYW5pbWF0aW9ucyBpbiBBbmd1bGFyIGFyZSB1c2VkLlxuICpcbiAqIGBhbmltYXRlYCBzcGVjaWZpZXMgYW4gYW5pbWF0aW9uIHN0ZXAgdGhhdCB3aWxsIGFwcGx5IHRoZSBwcm92aWRlZCBgc3R5bGVzYCBkYXRhIGZvciBhIGdpdmVuXG4gKiBhbW91bnQgb2YgdGltZSBiYXNlZCBvbiB0aGUgcHJvdmlkZWQgYHRpbWluZ2AgZXhwcmVzc2lvbiB2YWx1ZS4gQ2FsbHMgdG8gYGFuaW1hdGVgIGFyZSBleHBlY3RlZFxuICogdG8gYmUgdXNlZCB3aXRoaW4ge1xcQGxpbmsgc2VxdWVuY2UgYW4gYW5pbWF0aW9uIHNlcXVlbmNlfSwge1xcQGxpbmsgZ3JvdXAgZ3JvdXB9LCBvciB7XFxAbGlua1xuICogdHJhbnNpdGlvbiB0cmFuc2l0aW9ufS5cbiAqXG4gKiAjIyMgVXNhZ2VcbiAqXG4gKiBUaGUgYGFuaW1hdGVgIGZ1bmN0aW9uIGFjY2VwdHMgdHdvIGlucHV0IHBhcmFtZXRlcnM6IGB0aW1pbmdgIGFuZCBgc3R5bGVzYDpcbiAqXG4gKiAtIGB0aW1pbmdgIGlzIGEgc3RyaW5nIGJhc2VkIHZhbHVlIHRoYXQgY2FuIGJlIGEgY29tYmluYXRpb24gb2YgYSBkdXJhdGlvbiB3aXRoIG9wdGlvbmFsIGRlbGF5XG4gKiBhbmQgZWFzaW5nIHZhbHVlcy4gVGhlIGZvcm1hdCBmb3IgdGhlIGV4cHJlc3Npb24gYnJlYWtzIGRvd24gdG8gYGR1cmF0aW9uIGRlbGF5IGVhc2luZ2BcbiAqICh0aGVyZWZvcmUgYSB2YWx1ZSBzdWNoIGFzIGAxcyAxMDBtcyBlYXNlLW91dGAgd2lsbCBiZSBwYXJzZSBpdHNlbGYgaW50byBgZHVyYXRpb249MTAwMCxcbiAqIGRlbGF5PTEwMCwgZWFzaW5nPWVhc2Utb3V0YC4gSWYgYSBudW1lcmljIHZhbHVlIGlzIHByb3ZpZGVkIHRoZW4gdGhhdCB3aWxsIGJlIHVzZWQgYXMgdGhlXG4gKiBgZHVyYXRpb25gIHZhbHVlIGluIG1pbGxpc2Vjb25kIGZvcm0uXG4gKiAtIGBzdHlsZXNgIGlzIHRoZSBzdHlsZSBpbnB1dCBkYXRhIHdoaWNoIGNhbiBlaXRoZXIgYmUgYSBjYWxsIHRvIHtcXEBsaW5rIHN0eWxlIHN0eWxlfSBvciB7XFxAbGlua1xuICoga2V5ZnJhbWVzIGtleWZyYW1lc30uIElmIGxlZnQgZW1wdHkgdGhlbiB0aGUgc3R5bGVzIGZyb20gdGhlIGRlc3RpbmF0aW9uIHN0YXRlIHdpbGwgYmUgY29sbGVjdGVkXG4gKiBhbmQgdXNlZCAodGhpcyBpcyB1c2VmdWwgd2hlbiBkZXNjcmliaW5nIGFuIGFuaW1hdGlvbiBzdGVwIHRoYXQgd2lsbCBjb21wbGV0ZSBhbiBhbmltYXRpb24gYnlcbiAqIHtcXEBsaW5rIHRyYW5zaXRpb24jdGhlLWZpbmFsLWFuaW1hdGUtY2FsbCBhbmltYXRpbmcgdG8gdGhlIGZpbmFsIHN0YXRlfSkuXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogLy8gdmFyaW91cyBmdW5jdGlvbnMgZm9yIHNwZWNpZnlpbmcgdGltaW5nIGRhdGFcbiAqIGFuaW1hdGUoNTAwLCBzdHlsZSguLi4pKVxuICogYW5pbWF0ZShcIjFzXCIsIHN0eWxlKC4uLikpXG4gKiBhbmltYXRlKFwiMTAwbXMgMC41c1wiLCBzdHlsZSguLi4pKVxuICogYW5pbWF0ZShcIjVzIGVhc2VcIiwgc3R5bGUoLi4uKSlcbiAqIGFuaW1hdGUoXCI1cyAxMG1zIGN1YmljLWJlemllciguMTcsLjY3LC44OCwuMSlcIiwgc3R5bGUoLi4uKSlcbiAqXG4gKiAvLyBlaXRoZXIgc3R5bGUoKSBvZiBrZXlmcmFtZXMoKSBjYW4gYmUgdXNlZFxuICogYW5pbWF0ZSg1MDAsIHN0eWxlKHsgYmFja2dyb3VuZDogXCJyZWRcIiB9KSlcbiAqIGFuaW1hdGUoNTAwLCBrZXlmcmFtZXMoW1xuICogICBzdHlsZSh7IGJhY2tncm91bmQ6IFwiYmx1ZVwiIH0pKSxcbiAqICAgc3R5bGUoeyBiYWNrZ3JvdW5kOiBcInJlZFwiIH0pKVxuICogXSlcbiAqIGBgYFxuICpcbiAqIHtcXEBleGFtcGxlIGNvcmUvYW5pbWF0aW9uL3RzL2RzbC9hbmltYXRpb25fZXhhbXBsZS50cyByZWdpb249J0NvbXBvbmVudCd9XG4gKlxuICogXFxAZXhwZXJpbWVudGFsIEFuaW1hdGlvbiBzdXBwb3J0IGlzIGV4cGVyaW1lbnRhbC5cbiAqIEBwYXJhbSB7P30gdGltaW5nc1xuICogQHBhcmFtIHs/PX0gc3R5bGVzXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBhbmltYXRlJDEodGltaW5ncywgc3R5bGVzKSB7XG4gICAgaWYgKHN0eWxlcyA9PT0gdm9pZCAwKSB7IHN0eWxlcyA9IG51bGw7IH1cbiAgICByZXR1cm4geyB0eXBlOiA0IC8qIEFuaW1hdGUgKi8sIHN0eWxlczogc3R5bGVzLCB0aW1pbmdzOiB0aW1pbmdzIH07XG59XG4vKipcbiAqIGBncm91cGAgaXMgYW4gYW5pbWF0aW9uLXNwZWNpZmljIGZ1bmN0aW9uIHRoYXQgaXMgZGVzaWduZWQgdG8gYmUgdXNlZCBpbnNpZGUgb2YgQW5ndWxhcidzXG4gKiBhbmltYXRpb24gRFNMIGxhbmd1YWdlLiBJZiB0aGlzIGluZm9ybWF0aW9uIGlzIG5ldywgcGxlYXNlIG5hdmlnYXRlIHRvIHRoZSB7XFxAbGlua1xuICogQ29tcG9uZW50I2FuaW1hdGlvbnMgY29tcG9uZW50IGFuaW1hdGlvbnMgbWV0YWRhdGEgcGFnZX0gdG8gZ2FpbiBhIGJldHRlciB1bmRlcnN0YW5kaW5nIG9mXG4gKiBob3cgYW5pbWF0aW9ucyBpbiBBbmd1bGFyIGFyZSB1c2VkLlxuICpcbiAqIGBncm91cGAgc3BlY2lmaWVzIGEgbGlzdCBvZiBhbmltYXRpb24gc3RlcHMgdGhhdCBhcmUgYWxsIHJ1biBpbiBwYXJhbGxlbC4gR3JvdXBlZCBhbmltYXRpb25zIGFyZVxuICogdXNlZnVsIHdoZW4gYSBzZXJpZXMgb2Ygc3R5bGVzIG11c3QgYmUgYW5pbWF0ZWQvY2xvc2VkIG9mZiBhdCBkaWZmZXJlbnQgc3RhcnRpbmcvZW5kaW5nIHRpbWVzLlxuICpcbiAqIFRoZSBgZ3JvdXBgIGZ1bmN0aW9uIGNhbiBlaXRoZXIgYmUgdXNlZCB3aXRoaW4gYSB7XFxAbGluayBzZXF1ZW5jZSBzZXF1ZW5jZX0gb3IgYSB7XFxAbGluayB0cmFuc2l0aW9uXG4gKiB0cmFuc2l0aW9ufSBhbmQgaXQgd2lsbCBvbmx5IGNvbnRpbnVlIHRvIHRoZSBuZXh0IGluc3RydWN0aW9uIG9uY2UgYWxsIG9mIHRoZSBpbm5lciBhbmltYXRpb25cbiAqIHN0ZXBzIGhhdmUgY29tcGxldGVkLlxuICpcbiAqICMjIyBVc2FnZVxuICpcbiAqIFRoZSBgc3RlcHNgIGRhdGEgdGhhdCBpcyBwYXNzZWQgaW50byB0aGUgYGdyb3VwYCBhbmltYXRpb24gZnVuY3Rpb24gY2FuIGVpdGhlciBjb25zaXN0IG9mIHtcXEBsaW5rXG4gKiBzdHlsZSBzdHlsZX0gb3Ige1xcQGxpbmsgYW5pbWF0ZSBhbmltYXRlfSBmdW5jdGlvbiBjYWxscy4gRWFjaCBjYWxsIHRvIGBzdHlsZSgpYCBvciBgYW5pbWF0ZSgpYFxuICogd2l0aGluIGEgZ3JvdXAgd2lsbCBiZSBleGVjdXRlZCBpbnN0YW50bHkgKHVzZSB7XFxAbGluayBrZXlmcmFtZXMga2V5ZnJhbWVzfSBvciBhIHtcXEBsaW5rXG4gKiBhbmltYXRlI3VzYWdlIGFuaW1hdGUoKSB3aXRoIGEgZGVsYXkgdmFsdWV9IHRvIG9mZnNldCBzdHlsZXMgdG8gYmUgYXBwbGllZCBhdCBhIGxhdGVyIHRpbWUpLlxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGdyb3VwKFtcbiAqICAgYW5pbWF0ZShcIjFzXCIsIHsgYmFja2dyb3VuZDogXCJibGFja1wiIH0pKVxuICogICBhbmltYXRlKFwiMnNcIiwgeyBjb2xvcjogXCJ3aGl0ZVwiIH0pKVxuICogXSlcbiAqIGBgYFxuICpcbiAqIHtcXEBleGFtcGxlIGNvcmUvYW5pbWF0aW9uL3RzL2RzbC9hbmltYXRpb25fZXhhbXBsZS50cyByZWdpb249J0NvbXBvbmVudCd9XG4gKlxuICogXFxAZXhwZXJpbWVudGFsIEFuaW1hdGlvbiBzdXBwb3J0IGlzIGV4cGVyaW1lbnRhbC5cbiAqIEBwYXJhbSB7P30gc3RlcHNcbiAqIEBwYXJhbSB7Pz19IG9wdGlvbnNcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGdyb3VwJDEoc3RlcHMsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSBudWxsOyB9XG4gICAgcmV0dXJuIHsgdHlwZTogMyAvKiBHcm91cCAqLywgc3RlcHM6IHN0ZXBzLCBvcHRpb25zOiBvcHRpb25zIH07XG59XG4vKipcbiAqIGBzZXF1ZW5jZWAgaXMgYW4gYW5pbWF0aW9uLXNwZWNpZmljIGZ1bmN0aW9uIHRoYXQgaXMgZGVzaWduZWQgdG8gYmUgdXNlZCBpbnNpZGUgb2YgQW5ndWxhcidzXG4gKiBhbmltYXRpb24gRFNMIGxhbmd1YWdlLiBJZiB0aGlzIGluZm9ybWF0aW9uIGlzIG5ldywgcGxlYXNlIG5hdmlnYXRlIHRvIHRoZSB7XFxAbGlua1xuICogQ29tcG9uZW50I2FuaW1hdGlvbnMgY29tcG9uZW50IGFuaW1hdGlvbnMgbWV0YWRhdGEgcGFnZX0gdG8gZ2FpbiBhIGJldHRlciB1bmRlcnN0YW5kaW5nIG9mXG4gKiBob3cgYW5pbWF0aW9ucyBpbiBBbmd1bGFyIGFyZSB1c2VkLlxuICpcbiAqIGBzZXF1ZW5jZWAgU3BlY2lmaWVzIGEgbGlzdCBvZiBhbmltYXRpb24gc3RlcHMgdGhhdCBhcmUgcnVuIG9uZSBieSBvbmUuIChgc2VxdWVuY2VgIGlzIHVzZWQgYnlcbiAqIGRlZmF1bHQgd2hlbiBhbiBhcnJheSBpcyBwYXNzZWQgYXMgYW5pbWF0aW9uIGRhdGEgaW50byB7XFxAbGluayB0cmFuc2l0aW9uIHRyYW5zaXRpb259LilcbiAqXG4gKiBUaGUgYHNlcXVlbmNlYCBmdW5jdGlvbiBjYW4gZWl0aGVyIGJlIHVzZWQgd2l0aGluIGEge1xcQGxpbmsgZ3JvdXAgZ3JvdXB9IG9yIGEge1xcQGxpbmsgdHJhbnNpdGlvblxuICogdHJhbnNpdGlvbn0gYW5kIGl0IHdpbGwgb25seSBjb250aW51ZSB0byB0aGUgbmV4dCBpbnN0cnVjdGlvbiBvbmNlIGVhY2ggb2YgdGhlIGlubmVyIGFuaW1hdGlvblxuICogc3RlcHMgaGF2ZSBjb21wbGV0ZWQuXG4gKlxuICogVG8gcGVyZm9ybSBhbmltYXRpb24gc3R5bGluZyBpbiBwYXJhbGxlbCB3aXRoIG90aGVyIGFuaW1hdGlvbiBzdGVwcyB0aGVuIGhhdmUgYSBsb29rIGF0IHRoZVxuICoge1xcQGxpbmsgZ3JvdXAgZ3JvdXB9IGFuaW1hdGlvbiBmdW5jdGlvbi5cbiAqXG4gKiAjIyMgVXNhZ2VcbiAqXG4gKiBUaGUgYHN0ZXBzYCBkYXRhIHRoYXQgaXMgcGFzc2VkIGludG8gdGhlIGBzZXF1ZW5jZWAgYW5pbWF0aW9uIGZ1bmN0aW9uIGNhbiBlaXRoZXIgY29uc2lzdCBvZlxuICoge1xcQGxpbmsgc3R5bGUgc3R5bGV9IG9yIHtcXEBsaW5rIGFuaW1hdGUgYW5pbWF0ZX0gZnVuY3Rpb24gY2FsbHMuIEEgY2FsbCB0byBgc3R5bGUoKWAgd2lsbCBhcHBseSB0aGVcbiAqIHByb3ZpZGVkIHN0eWxpbmcgZGF0YSBpbW1lZGlhdGVseSB3aGlsZSBhIGNhbGwgdG8gYGFuaW1hdGUoKWAgd2lsbCBhcHBseSBpdHMgc3R5bGluZyBkYXRhIG92ZXIgYVxuICogZ2l2ZW4gdGltZSBkZXBlbmRpbmcgb24gaXRzIHRpbWluZyBkYXRhLlxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIHNlcXVlbmNlKFtcbiAqICAgc3R5bGUoeyBvcGFjaXR5OiAwIH0pKSxcbiAqICAgYW5pbWF0ZShcIjFzXCIsIHsgb3BhY2l0eTogMSB9KSlcbiAqIF0pXG4gKiBgYGBcbiAqXG4gKiB7XFxAZXhhbXBsZSBjb3JlL2FuaW1hdGlvbi90cy9kc2wvYW5pbWF0aW9uX2V4YW1wbGUudHMgcmVnaW9uPSdDb21wb25lbnQnfVxuICpcbiAqIFxcQGV4cGVyaW1lbnRhbCBBbmltYXRpb24gc3VwcG9ydCBpcyBleHBlcmltZW50YWwuXG4gKiBAcGFyYW0gez99IHN0ZXBzXG4gKiBAcGFyYW0gez89fSBvcHRpb25zXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBzZXF1ZW5jZSQxKHN0ZXBzLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0gbnVsbDsgfVxuICAgIHJldHVybiB7IHR5cGU6IDIgLyogU2VxdWVuY2UgKi8sIHN0ZXBzOiBzdGVwcywgb3B0aW9uczogb3B0aW9ucyB9O1xufVxuLyoqXG4gKiBgc3R5bGVgIGlzIGFuIGFuaW1hdGlvbi1zcGVjaWZpYyBmdW5jdGlvbiB0aGF0IGlzIGRlc2lnbmVkIHRvIGJlIHVzZWQgaW5zaWRlIG9mIEFuZ3VsYXInc1xuICogYW5pbWF0aW9uIERTTCBsYW5ndWFnZS4gSWYgdGhpcyBpbmZvcm1hdGlvbiBpcyBuZXcsIHBsZWFzZSBuYXZpZ2F0ZSB0byB0aGUge1xcQGxpbmtcbiAqIENvbXBvbmVudCNhbmltYXRpb25zIGNvbXBvbmVudCBhbmltYXRpb25zIG1ldGFkYXRhIHBhZ2V9IHRvIGdhaW4gYSBiZXR0ZXIgdW5kZXJzdGFuZGluZyBvZlxuICogaG93IGFuaW1hdGlvbnMgaW4gQW5ndWxhciBhcmUgdXNlZC5cbiAqXG4gKiBgc3R5bGVgIGRlY2xhcmVzIGEga2V5L3ZhbHVlIG9iamVjdCBjb250YWluaW5nIENTUyBwcm9wZXJ0aWVzL3N0eWxlcyB0aGF0IGNhbiB0aGVuIGJlIHVzZWQgZm9yXG4gKiB7XFxAbGluayBzdGF0ZSBhbmltYXRpb24gc3RhdGVzfSwgd2l0aGluIGFuIHtcXEBsaW5rIHNlcXVlbmNlIGFuaW1hdGlvbiBzZXF1ZW5jZX0sIG9yIGFzIHN0eWxpbmcgZGF0YVxuICogZm9yIGJvdGgge1xcQGxpbmsgYW5pbWF0ZSBhbmltYXRlfSBhbmQge1xcQGxpbmsga2V5ZnJhbWVzIGtleWZyYW1lc30uXG4gKlxuICogIyMjIFVzYWdlXG4gKlxuICogYHN0eWxlYCB0YWtlcyBpbiBhIGtleS92YWx1ZSBzdHJpbmcgbWFwIGFzIGRhdGEgYW5kIGV4cGVjdHMgb25lIG9yIG1vcmUgQ1NTIHByb3BlcnR5L3ZhbHVlIHBhaXJzXG4gKiB0byBiZSBkZWZpbmVkLlxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIC8vIHN0cmluZyB2YWx1ZXMgYXJlIHVzZWQgZm9yIGNzcyBwcm9wZXJ0aWVzXG4gKiBzdHlsZSh7IGJhY2tncm91bmQ6IFwicmVkXCIsIGNvbG9yOiBcImJsdWVcIiB9KVxuICpcbiAqIC8vIG51bWVyaWNhbCAocGl4ZWwpIHZhbHVlcyBhcmUgYWxzbyBzdXBwb3J0ZWRcbiAqIHN0eWxlKHsgd2lkdGg6IDEwMCwgaGVpZ2h0OiAwIH0pXG4gKiBgYGBcbiAqXG4gKiAjIyMjIEF1dG8tc3R5bGVzICh1c2luZyBgKmApXG4gKlxuICogV2hlbiBhbiBhc3Rlcml4IChgKmApIGNoYXJhY3RlciBpcyB1c2VkIGFzIGEgdmFsdWUgdGhlbiBpdCB3aWxsIGJlIGRldGVjdGVkIGZyb20gdGhlIGVsZW1lbnRcbiAqIGJlaW5nIGFuaW1hdGVkIGFuZCBhcHBsaWVkIGFzIGFuaW1hdGlvbiBkYXRhIHdoZW4gdGhlIGFuaW1hdGlvbiBzdGFydHMuXG4gKlxuICogVGhpcyBmZWF0dXJlIHByb3ZlcyB1c2VmdWwgZm9yIGEgc3RhdGUgZGVwZW5kaW5nIG9uIGxheW91dCBhbmQvb3IgZW52aXJvbm1lbnQgZmFjdG9yczsgaW4gc3VjaFxuICogY2FzZXMgdGhlIHN0eWxlcyBhcmUgY2FsY3VsYXRlZCBqdXN0IGJlZm9yZSB0aGUgYW5pbWF0aW9uIHN0YXJ0cy5cbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiAvLyB0aGUgc3RlcHMgYmVsb3cgd2lsbCBhbmltYXRlIGZyb20gMCB0byB0aGVcbiAqIC8vIGFjdHVhbCBoZWlnaHQgb2YgdGhlIGVsZW1lbnRcbiAqIHN0eWxlKHsgaGVpZ2h0OiAwIH0pLFxuICogYW5pbWF0ZShcIjFzXCIsIHN0eWxlKHsgaGVpZ2h0OiBcIipcIiB9KSlcbiAqIGBgYFxuICpcbiAqIHtcXEBleGFtcGxlIGNvcmUvYW5pbWF0aW9uL3RzL2RzbC9hbmltYXRpb25fZXhhbXBsZS50cyByZWdpb249J0NvbXBvbmVudCd9XG4gKlxuICogXFxAZXhwZXJpbWVudGFsIEFuaW1hdGlvbiBzdXBwb3J0IGlzIGV4cGVyaW1lbnRhbC5cbiAqIEBwYXJhbSB7P30gdG9rZW5zXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBzdHlsZSQxKHRva2Vucykge1xuICAgIHJldHVybiB7IHR5cGU6IDYgLyogU3R5bGUgKi8sIHN0eWxlczogdG9rZW5zLCBvZmZzZXQ6IG51bGwgfTtcbn1cbi8qKlxuICogYHN0YXRlYCBpcyBhbiBhbmltYXRpb24tc3BlY2lmaWMgZnVuY3Rpb24gdGhhdCBpcyBkZXNpZ25lZCB0byBiZSB1c2VkIGluc2lkZSBvZiBBbmd1bGFyJ3NcbiAqIGFuaW1hdGlvbiBEU0wgbGFuZ3VhZ2UuIElmIHRoaXMgaW5mb3JtYXRpb24gaXMgbmV3LCBwbGVhc2UgbmF2aWdhdGUgdG8gdGhlIHtcXEBsaW5rXG4gKiBDb21wb25lbnQjYW5pbWF0aW9ucyBjb21wb25lbnQgYW5pbWF0aW9ucyBtZXRhZGF0YSBwYWdlfSB0byBnYWluIGEgYmV0dGVyIHVuZGVyc3RhbmRpbmcgb2ZcbiAqIGhvdyBhbmltYXRpb25zIGluIEFuZ3VsYXIgYXJlIHVzZWQuXG4gKlxuICogYHN0YXRlYCBkZWNsYXJlcyBhbiBhbmltYXRpb24gc3RhdGUgd2l0aGluIHRoZSBnaXZlbiB0cmlnZ2VyLiBXaGVuIGEgc3RhdGUgaXMgYWN0aXZlIHdpdGhpbiBhXG4gKiBjb21wb25lbnQgdGhlbiBpdHMgYXNzb2NpYXRlZCBzdHlsZXMgd2lsbCBwZXJzaXN0IG9uIHRoZSBlbGVtZW50IHRoYXQgdGhlIHRyaWdnZXIgaXMgYXR0YWNoZWQgdG9cbiAqIChldmVuIHdoZW4gdGhlIGFuaW1hdGlvbiBlbmRzKS5cbiAqXG4gKiBUbyBhbmltYXRlIGJldHdlZW4gc3RhdGVzLCBoYXZlIGEgbG9vayBhdCB0aGUgYW5pbWF0aW9uIHtcXEBsaW5rIHRyYW5zaXRpb24gdHJhbnNpdGlvbn0gRFNMXG4gKiBmdW5jdGlvbi4gVG8gcmVnaXN0ZXIgc3RhdGVzIHRvIGFuIGFuaW1hdGlvbiB0cmlnZ2VyIHBsZWFzZSBoYXZlIGEgbG9vayBhdCB0aGUge1xcQGxpbmsgdHJpZ2dlclxuICogdHJpZ2dlcn0gZnVuY3Rpb24uXG4gKlxuICogIyMjIyBUaGUgYHZvaWRgIHN0YXRlXG4gKlxuICogVGhlIGB2b2lkYCBzdGF0ZSB2YWx1ZSBpcyBhIHJlc2VydmVkIHdvcmQgdGhhdCBhbmd1bGFyIHVzZXMgdG8gZGV0ZXJtaW5lIHdoZW4gdGhlIGVsZW1lbnQgaXMgbm90XG4gKiBhcGFydCBvZiB0aGUgYXBwbGljYXRpb24gYW55bW9yZSAoZS5nLiB3aGVuIGFuIGBuZ0lmYCBldmFsdWF0ZXMgdG8gZmFsc2UgdGhlbiB0aGUgc3RhdGUgb2YgdGhlXG4gKiBhc3NvY2lhdGVkIGVsZW1lbnQgaXMgdm9pZCkuXG4gKlxuICogIyMjIyBUaGUgYCpgIChkZWZhdWx0KSBzdGF0ZVxuICpcbiAqIFRoZSBgKmAgc3RhdGUgKHdoZW4gc3R5bGVkKSBpcyBhIGZhbGxiYWNrIHN0YXRlIHRoYXQgd2lsbCBiZSB1c2VkIGlmIHRoZSBzdGF0ZSB0aGF0IGlzIGJlaW5nXG4gKiBhbmltYXRlZCBpcyBub3QgZGVjbGFyZWQgd2l0aGluIHRoZSB0cmlnZ2VyLlxuICpcbiAqICMjIyBVc2FnZVxuICpcbiAqIGBzdGF0ZWAgd2lsbCBkZWNsYXJlIGFuIGFuaW1hdGlvbiBzdGF0ZSB3aXRoIGl0cyBhc3NvY2lhdGVkIHN0eWxlc1xuICogd2l0aGluIHRoZSBnaXZlbiB0cmlnZ2VyLlxuICpcbiAqIC0gYHN0YXRlTmFtZUV4cHJgIGNhbiBiZSBvbmUgb3IgbW9yZSBzdGF0ZSBuYW1lcyBzZXBhcmF0ZWQgYnkgY29tbWFzLlxuICogLSBgc3R5bGVzYCByZWZlcnMgdG8gdGhlIHtcXEBsaW5rIHN0eWxlIHN0eWxpbmcgZGF0YX0gdGhhdCB3aWxsIGJlIHBlcnNpc3RlZCBvbiB0aGUgZWxlbWVudCBvbmNlXG4gKiB0aGUgc3RhdGUgaGFzIGJlZW4gcmVhY2hlZC5cbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiAvLyBcInZvaWRcIiBpcyBhIHJlc2VydmVkIG5hbWUgZm9yIGEgc3RhdGUgYW5kIGlzIHVzZWQgdG8gcmVwcmVzZW50XG4gKiAvLyB0aGUgc3RhdGUgaW4gd2hpY2ggYW4gZWxlbWVudCBpcyBkZXRhY2hlZCBmcm9tIGZyb20gdGhlIGFwcGxpY2F0aW9uLlxuICogc3RhdGUoXCJ2b2lkXCIsIHN0eWxlKHsgaGVpZ2h0OiAwIH0pKVxuICpcbiAqIC8vIHVzZXItZGVmaW5lZCBzdGF0ZXNcbiAqIHN0YXRlKFwiY2xvc2VkXCIsIHN0eWxlKHsgaGVpZ2h0OiAwIH0pKVxuICogc3RhdGUoXCJvcGVuLCB2aXNpYmxlXCIsIHN0eWxlKHsgaGVpZ2h0OiBcIipcIiB9KSlcbiAqIGBgYFxuICpcbiAqIHtcXEBleGFtcGxlIGNvcmUvYW5pbWF0aW9uL3RzL2RzbC9hbmltYXRpb25fZXhhbXBsZS50cyByZWdpb249J0NvbXBvbmVudCd9XG4gKlxuICogXFxAZXhwZXJpbWVudGFsIEFuaW1hdGlvbiBzdXBwb3J0IGlzIGV4cGVyaW1lbnRhbC5cbiAqIEBwYXJhbSB7P30gbmFtZVxuICogQHBhcmFtIHs/fSBzdHlsZXNcbiAqIEBwYXJhbSB7Pz19IG9wdGlvbnNcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIHN0YXRlJDEobmFtZSwgc3R5bGVzLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogMCAvKiBTdGF0ZSAqLywgbmFtZTogbmFtZSwgc3R5bGVzOiBzdHlsZXMsIG9wdGlvbnM6IG9wdGlvbnMgfTtcbn1cbi8qKlxuICogYGtleWZyYW1lc2AgaXMgYW4gYW5pbWF0aW9uLXNwZWNpZmljIGZ1bmN0aW9uIHRoYXQgaXMgZGVzaWduZWQgdG8gYmUgdXNlZCBpbnNpZGUgb2YgQW5ndWxhcidzXG4gKiBhbmltYXRpb24gRFNMIGxhbmd1YWdlLiBJZiB0aGlzIGluZm9ybWF0aW9uIGlzIG5ldywgcGxlYXNlIG5hdmlnYXRlIHRvIHRoZSB7XFxAbGlua1xuICogQ29tcG9uZW50I2FuaW1hdGlvbnMgY29tcG9uZW50IGFuaW1hdGlvbnMgbWV0YWRhdGEgcGFnZX0gdG8gZ2FpbiBhIGJldHRlciB1bmRlcnN0YW5kaW5nIG9mXG4gKiBob3cgYW5pbWF0aW9ucyBpbiBBbmd1bGFyIGFyZSB1c2VkLlxuICpcbiAqIGBrZXlmcmFtZXNgIHNwZWNpZmllcyBhIGNvbGxlY3Rpb24gb2Yge1xcQGxpbmsgc3R5bGUgc3R5bGV9IGVudHJpZXMgZWFjaCBvcHRpb25hbGx5IGNoYXJhY3Rlcml6ZWRcbiAqIGJ5IGFuIGBvZmZzZXRgIHZhbHVlLlxuICpcbiAqICMjIyBVc2FnZVxuICpcbiAqIFRoZSBga2V5ZnJhbWVzYCBhbmltYXRpb24gZnVuY3Rpb24gaXMgZGVzaWduZWQgdG8gYmUgdXNlZCBhbG9uZ3NpZGUgdGhlIHtcXEBsaW5rIGFuaW1hdGUgYW5pbWF0ZX1cbiAqIGFuaW1hdGlvbiBmdW5jdGlvbi4gSW5zdGVhZCBvZiBhcHBseWluZyBhbmltYXRpb25zIGZyb20gd2hlcmUgdGhleSBhcmUgY3VycmVudGx5IHRvIHRoZWlyXG4gKiBkZXN0aW5hdGlvbiwga2V5ZnJhbWVzIGNhbiBkZXNjcmliZSBob3cgZWFjaCBzdHlsZSBlbnRyeSBpcyBhcHBsaWVkIGFuZCBhdCB3aGF0IHBvaW50IHdpdGhpbiB0aGVcbiAqIGFuaW1hdGlvbiBhcmMgKG11Y2ggbGlrZSBDU1MgS2V5ZnJhbWUgQW5pbWF0aW9ucyBkbykuXG4gKlxuICogRm9yIGVhY2ggYHN0eWxlKClgIGVudHJ5IGFuIGBvZmZzZXRgIHZhbHVlIGNhbiBiZSBzZXQuIERvaW5nIHNvIGFsbG93cyB0byBzcGVjaWZpeSBhdCB3aGF0XG4gKiBwZXJjZW50YWdlIG9mIHRoZSBhbmltYXRlIHRpbWUgdGhlIHN0eWxlcyB3aWxsIGJlIGFwcGxpZWQuXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogLy8gdGhlIHByb3ZpZGVkIG9mZnNldCB2YWx1ZXMgZGVzY3JpYmUgd2hlbiBlYWNoIGJhY2tncm91bmRDb2xvciB2YWx1ZSBpcyBhcHBsaWVkLlxuICogYW5pbWF0ZShcIjVzXCIsIGtleWZyYW1lcyhbXG4gKiAgIHN0eWxlKHsgYmFja2dyb3VuZENvbG9yOiBcInJlZFwiLCBvZmZzZXQ6IDAgfSksXG4gKiAgIHN0eWxlKHsgYmFja2dyb3VuZENvbG9yOiBcImJsdWVcIiwgb2Zmc2V0OiAwLjIgfSksXG4gKiAgIHN0eWxlKHsgYmFja2dyb3VuZENvbG9yOiBcIm9yYW5nZVwiLCBvZmZzZXQ6IDAuMyB9KSxcbiAqICAgc3R5bGUoeyBiYWNrZ3JvdW5kQ29sb3I6IFwiYmxhY2tcIiwgb2Zmc2V0OiAxIH0pXG4gKiBdKSlcbiAqIGBgYFxuICpcbiAqIEFsdGVybmF0aXZlbHksIGlmIHRoZXJlIGFyZSBubyBgb2Zmc2V0YCB2YWx1ZXMgdXNlZCB3aXRoaW4gdGhlIHN0eWxlIGVudHJpZXMgdGhlbiB0aGUgb2Zmc2V0c1xuICogd2lsbCBiZSBjYWxjdWxhdGVkIGF1dG9tYXRpY2FsbHkuXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogYW5pbWF0ZShcIjVzXCIsIGtleWZyYW1lcyhbXG4gKiAgIHN0eWxlKHsgYmFja2dyb3VuZENvbG9yOiBcInJlZFwiIH0pIC8vIG9mZnNldCA9IDBcbiAqICAgc3R5bGUoeyBiYWNrZ3JvdW5kQ29sb3I6IFwiYmx1ZVwiIH0pIC8vIG9mZnNldCA9IDAuMzNcbiAqICAgc3R5bGUoeyBiYWNrZ3JvdW5kQ29sb3I6IFwib3JhbmdlXCIgfSkgLy8gb2Zmc2V0ID0gMC42NlxuICogICBzdHlsZSh7IGJhY2tncm91bmRDb2xvcjogXCJibGFja1wiIH0pIC8vIG9mZnNldCA9IDFcbiAqIF0pKVxuICogYGBgXG4gKlxuICoge1xcQGV4YW1wbGUgY29yZS9hbmltYXRpb24vdHMvZHNsL2FuaW1hdGlvbl9leGFtcGxlLnRzIHJlZ2lvbj0nQ29tcG9uZW50J31cbiAqXG4gKiBcXEBleHBlcmltZW50YWwgQW5pbWF0aW9uIHN1cHBvcnQgaXMgZXhwZXJpbWVudGFsLlxuICogQHBhcmFtIHs/fSBzdGVwc1xuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24ga2V5ZnJhbWVzJDEoc3RlcHMpIHtcbiAgICByZXR1cm4geyB0eXBlOiA1IC8qIEtleWZyYW1lcyAqLywgc3RlcHM6IHN0ZXBzIH07XG59XG4vKipcbiAqIGB0cmFuc2l0aW9uYCBpcyBhbiBhbmltYXRpb24tc3BlY2lmaWMgZnVuY3Rpb24gdGhhdCBpcyBkZXNpZ25lZCB0byBiZSB1c2VkIGluc2lkZSBvZiBBbmd1bGFyJ3NcbiAqIGFuaW1hdGlvbiBEU0wgbGFuZ3VhZ2UuIElmIHRoaXMgaW5mb3JtYXRpb24gaXMgbmV3LCBwbGVhc2UgbmF2aWdhdGUgdG8gdGhlIHtcXEBsaW5rXG4gKiBDb21wb25lbnQjYW5pbWF0aW9ucyBjb21wb25lbnQgYW5pbWF0aW9ucyBtZXRhZGF0YSBwYWdlfSB0byBnYWluIGEgYmV0dGVyIHVuZGVyc3RhbmRpbmcgb2ZcbiAqIGhvdyBhbmltYXRpb25zIGluIEFuZ3VsYXIgYXJlIHVzZWQuXG4gKlxuICogYHRyYW5zaXRpb25gIGRlY2xhcmVzIHRoZSB7XFxAbGluayBzZXF1ZW5jZSBzZXF1ZW5jZSBvZiBhbmltYXRpb24gc3RlcHN9IHRoYXQgd2lsbCBiZSBydW4gd2hlbiB0aGVcbiAqIHByb3ZpZGVkIGBzdGF0ZUNoYW5nZUV4cHJgIHZhbHVlIGlzIHNhdGlzZmllZC4gVGhlIGBzdGF0ZUNoYW5nZUV4cHJgIGNvbnNpc3RzIG9mIGEgYHN0YXRlMSA9PlxuICogc3RhdGUyYCB3aGljaCBjb25zaXN0cyBvZiB0d28ga25vd24gc3RhdGVzICh1c2UgYW4gYXN0ZXJpeCAoYCpgKSB0byByZWZlciB0byBhIGR5bmFtaWMgc3RhcnRpbmdcbiAqIGFuZC9vciBlbmRpbmcgc3RhdGUpLlxuICpcbiAqIEEgZnVuY3Rpb24gY2FuIGFsc28gYmUgcHJvdmlkZWQgYXMgdGhlIGBzdGF0ZUNoYW5nZUV4cHJgIGFyZ3VtZW50IGZvciBhIHRyYW5zaXRpb24gYW5kIHRoaXNcbiAqIGZ1bmN0aW9uIHdpbGwgYmUgZXhlY3V0ZWQgZWFjaCB0aW1lIGEgc3RhdGUgY2hhbmdlIG9jY3Vycy4gSWYgdGhlIHZhbHVlIHJldHVybmVkIHdpdGhpbiB0aGVcbiAqIGZ1bmN0aW9uIGlzIHRydWUgdGhlbiB0aGUgYXNzb2NpYXRlZCBhbmltYXRpb24gd2lsbCBiZSBydW4uXG4gKlxuICogQW5pbWF0aW9uIHRyYW5zaXRpb25zIGFyZSBwbGFjZWQgd2l0aGluIGFuIHtcXEBsaW5rIHRyaWdnZXIgYW5pbWF0aW9uIHRyaWdnZXJ9LiBGb3IgYW4gdHJhbnNpdGlvblxuICogdG8gYW5pbWF0ZSB0byBhIHN0YXRlIHZhbHVlIGFuZCBwZXJzaXN0IGl0cyBzdHlsZXMgdGhlbiBvbmUgb3IgbW9yZSB7XFxAbGluayBzdGF0ZSBhbmltYXRpb25cbiAqIHN0YXRlc30gaXMgZXhwZWN0ZWQgdG8gYmUgZGVmaW5lZC5cbiAqXG4gKiAjIyMgVXNhZ2VcbiAqXG4gKiBBbiBhbmltYXRpb24gdHJhbnNpdGlvbiBpcyBraWNrZWQgb2ZmIHRoZSBgc3RhdGVDaGFuZ2VFeHByYCBwcmVkaWNhdGUgZXZhbHVhdGVzIHRvIHRydWUgYmFzZWQgb25cbiAqIHdoYXQgdGhlIHByZXZpb3VzIHN0YXRlIGlzIGFuZCB3aGF0IHRoZSBjdXJyZW50IHN0YXRlIGhhcyBiZWNvbWUuIEluIG90aGVyIHdvcmRzLCBpZiBhIHRyYW5zaXRpb25cbiAqIGlzIGRlZmluZWQgdGhhdCBtYXRjaGVzIHRoZSBvbGQvY3VycmVudCBzdGF0ZSBjcml0ZXJpYSB0aGVuIHRoZSBhc3NvY2lhdGVkIGFuaW1hdGlvbiB3aWxsIGJlXG4gKiB0cmlnZ2VyZWQuXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogLy8gYWxsIHRyYW5zaXRpb24vc3RhdGUgY2hhbmdlcyBhcmUgZGVmaW5lZCB3aXRoaW4gYW4gYW5pbWF0aW9uIHRyaWdnZXJcbiAqIHRyaWdnZXIoXCJteUFuaW1hdGlvblRyaWdnZXJcIiwgW1xuICogICAvLyBpZiBhIHN0YXRlIGlzIGRlZmluZWQgdGhlbiBpdHMgc3R5bGVzIHdpbGwgYmUgcGVyc2lzdGVkIHdoZW4gdGhlXG4gKiAgIC8vIGFuaW1hdGlvbiBoYXMgZnVsbHkgY29tcGxldGVkIGl0c2VsZlxuICogICBzdGF0ZShcIm9uXCIsIHN0eWxlKHsgYmFja2dyb3VuZDogXCJncmVlblwiIH0pKSxcbiAqICAgc3RhdGUoXCJvZmZcIiwgc3R5bGUoeyBiYWNrZ3JvdW5kOiBcImdyZXlcIiB9KSksXG4gKlxuICogICAvLyBhIHRyYW5zaXRpb24gYW5pbWF0aW9uIHRoYXQgd2lsbCBiZSBraWNrZWQgb2ZmIHdoZW4gdGhlIHN0YXRlIHZhbHVlXG4gKiAgIC8vIGJvdW5kIHRvIFwibXlBbmltYXRpb25UcmlnZ2VyXCIgY2hhbmdlcyBmcm9tIFwib25cIiB0byBcIm9mZlwiXG4gKiAgIHRyYW5zaXRpb24oXCJvbiA9PiBvZmZcIiwgYW5pbWF0ZSg1MDApKSxcbiAqXG4gKiAgIC8vIGl0IGlzIGFsc28gcG9zc2libGUgdG8gZG8gcnVuIHRoZSBzYW1lIGFuaW1hdGlvbiBmb3IgYm90aCBkaXJlY3Rpb25zXG4gKiAgIHRyYW5zaXRpb24oXCJvbiA8PT4gb2ZmXCIsIGFuaW1hdGUoNTAwKSksXG4gKlxuICogICAvLyBvciB0byBkZWZpbmUgbXVsdGlwbGUgc3RhdGVzIHBhaXJzIHNlcGFyYXRlZCBieSBjb21tYXNcbiAqICAgdHJhbnNpdGlvbihcIm9uID0+IG9mZiwgb2ZmID0+IHZvaWRcIiwgYW5pbWF0ZSg1MDApKSxcbiAqXG4gKiAgIC8vIHRoaXMgaXMgYSBjYXRjaC1hbGwgc3RhdGUgY2hhbmdlIGZvciB3aGVuIGFuIGVsZW1lbnQgaXMgaW5zZXJ0ZWQgaW50b1xuICogICAvLyB0aGUgcGFnZSBhbmQgdGhlIGRlc3RpbmF0aW9uIHN0YXRlIGlzIHVua25vd25cbiAqICAgdHJhbnNpdGlvbihcInZvaWQgPT4gKlwiLCBbXG4gKiAgICAgc3R5bGUoeyBvcGFjaXR5OiAwIH0pLFxuICogICAgIGFuaW1hdGUoNTAwKVxuICogICBdKSxcbiAqXG4gKiAgIC8vIHRoaXMgd2lsbCBjYXB0dXJlIGEgc3RhdGUgY2hhbmdlIGJldHdlZW4gYW55IHN0YXRlc1xuICogICB0cmFuc2l0aW9uKFwiKiA9PiAqXCIsIGFuaW1hdGUoXCIxcyAwc1wiKSksXG4gKlxuICogICAvLyB5b3UgY2FuIGFsc28gZ28gZnVsbCBvdXQgYW5kIGluY2x1ZGUgYSBmdW5jdGlvblxuICogICB0cmFuc2l0aW9uKChmcm9tU3RhdGUsIHRvU3RhdGUpID0+IHtcbiAqICAgICAvLyB3aGVuIGB0cnVlYCB0aGVuIGl0IHdpbGwgYWxsb3cgdGhlIGFuaW1hdGlvbiBiZWxvdyB0byBiZSBpbnZva2VkXG4gKiAgICAgcmV0dXJuIGZyb21TdGF0ZSA9PSBcIm9mZlwiICYmIHRvU3RhdGUgPT0gXCJvblwiO1xuICogICB9LCBhbmltYXRlKFwiMXMgMHNcIikpXG4gKiBdKVxuICogYGBgXG4gKlxuICogVGhlIHRlbXBsYXRlIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGNvbXBvbmVudCB3aWxsIG1ha2UgdXNlIG9mIHRoZSBgbXlBbmltYXRpb25UcmlnZ2VyYCBhbmltYXRpb25cbiAqIHRyaWdnZXIgYnkgYmluZGluZyB0byBhbiBlbGVtZW50IHdpdGhpbiBpdHMgdGVtcGxhdGUgY29kZS5cbiAqXG4gKiBgYGBodG1sXG4gKiA8IS0tIHNvbWV3aGVyZSBpbnNpZGUgb2YgbXktY29tcG9uZW50LXRwbC5odG1sIC0tPlxuICogPGRpdiBbXFxAbXlBbmltYXRpb25UcmlnZ2VyXT1cIm15U3RhdHVzRXhwXCI+Li4uPC9kaXY+XG4gKiBgYGBcbiAqXG4gKiAjIyMjIFRoZSBmaW5hbCBgYW5pbWF0ZWAgY2FsbFxuICpcbiAqIElmIHRoZSBmaW5hbCBzdGVwIHdpdGhpbiB0aGUgdHJhbnNpdGlvbiBzdGVwcyBpcyBhIGNhbGwgdG8gYGFuaW1hdGUoKWAgdGhhdCAqKm9ubHkqKiB1c2VzIGFcbiAqIHRpbWluZyB2YWx1ZSB3aXRoICoqbm8gc3R5bGUgZGF0YSoqIHRoZW4gaXQgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IHVzZWQgYXMgdGhlIGZpbmFsIGFuaW1hdGlvbiBhcmNcbiAqIGZvciB0aGUgZWxlbWVudCB0byBhbmltYXRlIGl0c2VsZiB0byB0aGUgZmluYWwgc3RhdGUuIFRoaXMgaW52b2x2ZXMgYW4gYXV0b21hdGljIG1peCBvZlxuICogYWRkaW5nL3JlbW92aW5nIENTUyBzdHlsZXMgc28gdGhhdCB0aGUgZWxlbWVudCB3aWxsIGJlIGluIHRoZSBleGFjdCBzdGF0ZSBpdCBzaG91bGQgYmUgZm9yIHRoZVxuICogYXBwbGllZCBzdGF0ZSB0byBiZSBwcmVzZW50ZWQgY29ycmVjdGx5LlxuICpcbiAqIGBgYFxuICogLy8gc3RhcnQgb2ZmIGJ5IGhpZGluZyB0aGUgZWxlbWVudCwgYnV0IG1ha2Ugc3VyZSB0aGF0IGl0IGFuaW1hdGVzIHByb3Blcmx5IHRvIHdoYXRldmVyIHN0YXRlXG4gKiAvLyBpcyBjdXJyZW50bHkgYWN0aXZlIGZvciBcIm15QW5pbWF0aW9uVHJpZ2dlclwiXG4gKiB0cmFuc2l0aW9uKFwidm9pZCA9PiAqXCIsIFtcbiAqICAgc3R5bGUoeyBvcGFjaXR5OiAwIH0pLFxuICogICBhbmltYXRlKDUwMClcbiAqIF0pXG4gKiBgYGBcbiAqXG4gKiAjIyMgVHJhbnNpdGlvbiBBbGlhc2VzIChgOmVudGVyYCBhbmQgYDpsZWF2ZWApXG4gKlxuICogR2l2ZW4gdGhhdCBlbnRlciAoaW5zZXJ0aW9uKSBhbmQgbGVhdmUgKHJlbW92YWwpIGFuaW1hdGlvbnMgYXJlIHNvIGNvbW1vbiwgdGhlIGB0cmFuc2l0aW9uYFxuICogZnVuY3Rpb24gYWNjZXB0cyBib3RoIGA6ZW50ZXJgIGFuZCBgOmxlYXZlYCB2YWx1ZXMgd2hpY2ggYXJlIGFsaWFzZXMgZm9yIHRoZSBgdm9pZCA9PiAqYCBhbmQgYCpcbiAqID0+IHZvaWRgIHN0YXRlIGNoYW5nZXMuXG4gKlxuICogYGBgXG4gKiB0cmFuc2l0aW9uKFwiOmVudGVyXCIsIFtcbiAqICAgc3R5bGUoeyBvcGFjaXR5OiAwIH0pLFxuICogICBhbmltYXRlKDUwMCwgc3R5bGUoeyBvcGFjaXR5OiAxIH0pKVxuICogXSlcbiAqIHRyYW5zaXRpb24oXCI6bGVhdmVcIiwgW1xuICogICBhbmltYXRlKDUwMCwgc3R5bGUoeyBvcGFjaXR5OiAwIH0pKVxuICogXSlcbiAqIGBgYFxuICpcbiAqICMjIyBCb29sZWFuIHZhbHVlc1xuICogaWYgYSB0cmlnZ2VyIGJpbmRpbmcgdmFsdWUgaXMgYSBib29sZWFuIHZhbHVlIHRoZW4gaXQgY2FuIGJlIG1hdGNoZWQgdXNpbmcgYSB0cmFuc2l0aW9uXG4gKiBleHByZXNzaW9uIHRoYXQgY29tcGFyZXMgYHRydWVgIGFuZCBgZmFsc2VgIG9yIGAxYCBhbmQgYDBgLlxuICpcbiAqIGBgYFxuICogLy8gaW4gdGhlIHRlbXBsYXRlXG4gKiA8ZGl2IFtcXEBvcGVuQ2xvc2VdPVwib3BlbiA/IHRydWUgOiBmYWxzZVwiPi4uLjwvZGl2PlxuICpcbiAqIC8vIGluIHRoZSBjb21wb25lbnQgbWV0YWRhdGFcbiAqIHRyaWdnZXIoJ29wZW5DbG9zZScsIFtcbiAqICAgc3RhdGUoJ3RydWUnLCBzdHlsZSh7IGhlaWdodDogJyonIH0pKSxcbiAqICAgc3RhdGUoJ2ZhbHNlJywgc3R5bGUoeyBoZWlnaHQ6ICcwcHgnIH0pKSxcbiAqICAgdHJhbnNpdGlvbignZmFsc2UgPD0+IHRydWUnLCBhbmltYXRlKDUwMCkpXG4gKiBdKVxuICogYGBgXG4gKiB7XFxAZXhhbXBsZSBjb3JlL2FuaW1hdGlvbi90cy9kc2wvYW5pbWF0aW9uX2V4YW1wbGUudHMgcmVnaW9uPSdDb21wb25lbnQnfVxuICpcbiAqIFxcQGV4cGVyaW1lbnRhbCBBbmltYXRpb24gc3VwcG9ydCBpcyBleHBlcmltZW50YWwuXG4gKiBAcGFyYW0gez99IHN0YXRlQ2hhbmdlRXhwclxuICogQHBhcmFtIHs/fSBzdGVwc1xuICogQHBhcmFtIHs/PX0gb3B0aW9uc1xuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gdHJhbnNpdGlvbiQxKHN0YXRlQ2hhbmdlRXhwciwgc3RlcHMsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSBudWxsOyB9XG4gICAgcmV0dXJuIHsgdHlwZTogMSAvKiBUcmFuc2l0aW9uICovLCBleHByOiBzdGF0ZUNoYW5nZUV4cHIsIGFuaW1hdGlvbjogc3RlcHMsIG9wdGlvbnM6IG9wdGlvbnMgfTtcbn1cbi8qKlxuICogYGFuaW1hdGlvbmAgaXMgYW4gYW5pbWF0aW9uLXNwZWNpZmljIGZ1bmN0aW9uIHRoYXQgaXMgZGVzaWduZWQgdG8gYmUgdXNlZCBpbnNpZGUgb2YgQW5ndWxhcidzXG4gKiBhbmltYXRpb24gRFNMIGxhbmd1YWdlLlxuICpcbiAqIGB2YXIgbXlBbmltYXRpb24gPSBhbmltYXRpb24oLi4uKWAgaXMgZGVzaWduZWQgdG8gcHJvZHVjZSBhIHJldXNhYmxlIGFuaW1hdGlvbiB0aGF0IGNhbiBiZSBsYXRlclxuICogaW52b2tlZCBpbiBhbm90aGVyIGFuaW1hdGlvbiBvciBzZXF1ZW5jZS4gUmV1c2FibGUgYW5pbWF0aW9ucyBhcmUgZGVzaWduZWQgdG8gbWFrZSB1c2Ugb2ZcbiAqIGFuaW1hdGlvbiBwYXJhbWV0ZXJzIGFuZCB0aGUgcHJvZHVjZWQgYW5pbWF0aW9uIGNhbiBiZSB1c2VkIHZpYSB0aGUgYHVzZUFuaW1hdGlvbmAgbWV0aG9kLlxuICpcbiAqIGBgYFxuICogdmFyIGZhZGVBbmltYXRpb24gPSBhbmltYXRpb24oW1xuICogICBzdHlsZSh7IG9wYWNpdHk6ICd7eyBzdGFydCB9fScgfSksXG4gKiAgIGFuaW1hdGUoJ3t7IHRpbWUgfX0nLFxuICogICAgIHN0eWxlKHsgb3BhY2l0eTogJ3t7IGVuZCB9fSd9KSlcbiAqIF0sIHsgcGFyYW1zOiB7IHRpbWU6ICcxMDAwbXMnLCBzdGFydDogMCwgZW5kOiAxIH19KTtcbiAqIGBgYFxuICpcbiAqIElmIHBhcmFtZXRlcnMgYXJlIGF0dGFjaGVkIHRvIGFuIGFuaW1hdGlvbiB0aGVuIHRoZXkgYWN0IGFzICoqZGVmYXVsdCBwYXJhbWV0ZXIgdmFsdWVzKiouIFdoZW4gYW5cbiAqIGFuaW1hdGlvbiBpcyBpbnZva2VkIHZpYSBgdXNlQW5pbWF0aW9uYCB0aGVuIHBhcmFtZXRlciB2YWx1ZXMgYXJlIGFsbG93ZWQgdG8gYmUgcGFzc2VkIGluXG4gKiBkaXJlY3RseS4gSWYgYW55IG9mIHRoZSBwYXNzZWQgaW4gcGFyYW1ldGVyIHZhbHVlcyBhcmUgbWlzc2luZyB0aGVuIHRoZSBkZWZhdWx0IHZhbHVlcyB3aWxsIGJlXG4gKiB1c2VkLlxuICpcbiAqIGBgYFxuICogdXNlQW5pbWF0aW9uKGZhZGVBbmltYXRpb24sIHtcbiAqICAgcGFyYW1zOiB7XG4gKiAgICAgdGltZTogJzJzJyxcbiAqICAgICBzdGFydDogMSxcbiAqICAgICBlbmQ6IDBcbiAqICAgfVxuICogfSlcbiAqIGBgYFxuICpcbiAqIElmIG9uZSBvciBtb3JlIHBhcmFtZXRlciB2YWx1ZXMgYXJlIG1pc3NpbmcgYmVmb3JlIGFuaW1hdGVkIHRoZW4gYW4gZXJyb3Igd2lsbCBiZSB0aHJvd24uXG4gKlxuICogXFxAZXhwZXJpbWVudGFsIEFuaW1hdGlvbiBzdXBwb3J0IGlzIGV4cGVyaW1lbnRhbC5cbiAqIEBwYXJhbSB7P30gc3RlcHNcbiAqIEBwYXJhbSB7Pz19IG9wdGlvbnNcbiAqIEByZXR1cm4gez99XG4gKi9cbi8qKlxuICogYGFuaW1hdGVDaGlsZGAgaXMgYW4gYW5pbWF0aW9uLXNwZWNpZmljIGZ1bmN0aW9uIHRoYXQgaXMgZGVzaWduZWQgdG8gYmUgdXNlZCBpbnNpZGUgb2YgQW5ndWxhcidzXG4gKiBhbmltYXRpb24gRFNMIGxhbmd1YWdlLiBJdCB3b3JrcyBieSBhbGxvd2luZyBhIHF1ZXJpZWQgZWxlbWVudCB0byBleGVjdXRlIGl0cyBvd25cbiAqIGFuaW1hdGlvbiB3aXRoaW4gdGhlIGFuaW1hdGlvbiBzZXF1ZW5jZS5cbiAqXG4gKiBFYWNoIHRpbWUgYW4gYW5pbWF0aW9uIGlzIHRyaWdnZXJlZCBpbiBhbmd1bGFyLCB0aGUgcGFyZW50IGFuaW1hdGlvblxuICogd2lsbCBhbHdheXMgZ2V0IHByaW9yaXR5IGFuZCBhbnkgY2hpbGQgYW5pbWF0aW9ucyB3aWxsIGJlIGJsb2NrZWQuIEluIG9yZGVyXG4gKiBmb3IgYSBjaGlsZCBhbmltYXRpb24gdG8gcnVuLCB0aGUgcGFyZW50IGFuaW1hdGlvbiBtdXN0IHF1ZXJ5IGVhY2ggb2YgdGhlIGVsZW1lbnRzXG4gKiBjb250YWluaW5nIGNoaWxkIGFuaW1hdGlvbnMgYW5kIHRoZW4gYWxsb3cgdGhlIGFuaW1hdGlvbnMgdG8gcnVuIHVzaW5nIGBhbmltYXRlQ2hpbGRgLlxuICpcbiAqIFRoZSBleGFtcGxlIEhUTUwgY29kZSBiZWxvdyBzaG93cyBib3RoIHBhcmVudCBhbmQgY2hpbGQgZWxlbWVudHMgdGhhdCBoYXZlIGFuaW1hdGlvblxuICogdHJpZ2dlcnMgdGhhdCB3aWxsIGV4ZWN1dGUgYXQgdGhlIHNhbWUgdGltZS5cbiAqXG4gKiBgYGBodG1sXG4gKiA8IS0tIHBhcmVudC1jaGlsZC5jb21wb25lbnQuaHRtbCAtLT5cbiAqIDxidXR0b24gKGNsaWNrKT1cImV4cCA9ISBleHBcIj5Ub2dnbGU8L2J1dHRvbj5cbiAqIDxocj5cbiAqXG4gKiA8ZGl2IFtcXEBwYXJlbnRBbmltYXRpb25dPVwiZXhwXCI+XG4gKiAgIDxoZWFkZXI+SGVsbG88L2hlYWRlcj5cbiAqICAgPGRpdiBbXFxAY2hpbGRBbmltYXRpb25dPVwiZXhwXCI+XG4gKiAgICAgICBvbmVcbiAqICAgPC9kaXY+XG4gKiAgIDxkaXYgW1xcQGNoaWxkQW5pbWF0aW9uXT1cImV4cFwiPlxuICogICAgICAgdHdvXG4gKiAgIDwvZGl2PlxuICogICA8ZGl2IFtcXEBjaGlsZEFuaW1hdGlvbl09XCJleHBcIj5cbiAqICAgICAgIHRocmVlXG4gKiAgIDwvZGl2PlxuICogPC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBOb3cgd2hlbiB0aGUgYGV4cGAgdmFsdWUgY2hhbmdlcyB0byB0cnVlLCBvbmx5IHRoZSBgcGFyZW50QW5pbWF0aW9uYCBhbmltYXRpb24gd2lsbCBhbmltYXRlXG4gKiBiZWNhdXNlIGl0IGhhcyBwcmlvcml0eS4gSG93ZXZlciwgdXNpbmcgYHF1ZXJ5YCBhbmQgYGFuaW1hdGVDaGlsZGAgZWFjaCBvZiB0aGUgaW5uZXIgYW5pbWF0aW9uc1xuICogY2FuIGFsc28gZmlyZTpcbiAqXG4gKiBgYGB0c1xuICogLy8gcGFyZW50LWNoaWxkLmNvbXBvbmVudC50c1xuICogaW1wb3J0IHt0cmlnZ2VyLCB0cmFuc2l0aW9uLCBhbmltYXRlLCBzdHlsZSwgcXVlcnksIGFuaW1hdGVDaGlsZH0gZnJvbSAnXFxAYW5ndWxhci9hbmltYXRpb25zJztcbiAqIFxcQENvbXBvbmVudCh7XG4gKiAgIHNlbGVjdG9yOiAncGFyZW50LWNoaWxkLWNvbXBvbmVudCcsXG4gKiAgIGFuaW1hdGlvbnM6IFtcbiAqICAgICB0cmlnZ2VyKCdwYXJlbnRBbmltYXRpb24nLCBbXG4gKiAgICAgICB0cmFuc2l0aW9uKCdmYWxzZSA9PiB0cnVlJywgW1xuICogICAgICAgICBxdWVyeSgnaGVhZGVyJywgW1xuICogICAgICAgICAgIHN0eWxlKHsgb3BhY2l0eTogMCB9KSxcbiAqICAgICAgICAgICBhbmltYXRlKDUwMCwgc3R5bGUoeyBvcGFjaXR5OiAxIH0pKVxuICogICAgICAgICBdKSxcbiAqICAgICAgICAgcXVlcnkoJ1xcQGNoaWxkQW5pbWF0aW9uJywgW1xuICogICAgICAgICAgIGFuaW1hdGVDaGlsZCgpXG4gKiAgICAgICAgIF0pXG4gKiAgICAgICBdKVxuICogICAgIF0pLFxuICogICAgIHRyaWdnZXIoJ2NoaWxkQW5pbWF0aW9uJywgW1xuICogICAgICAgdHJhbnNpdGlvbignZmFsc2UgPT4gdHJ1ZScsIFtcbiAqICAgICAgICAgc3R5bGUoeyBvcGFjaXR5OiAwIH0pLFxuICogICAgICAgICBhbmltYXRlKDUwMCwgc3R5bGUoeyBvcGFjaXR5OiAxIH0pKVxuICogICAgICAgXSlcbiAqICAgICBdKVxuICogICBdXG4gKiB9KVxuICogY2xhc3MgUGFyZW50Q2hpbGRDbXAge1xuICogICBleHA6IGJvb2xlYW4gPSBmYWxzZTtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIEluIHRoZSBhbmltYXRpb24gY29kZSBhYm92ZSwgd2hlbiB0aGUgYHBhcmVudEFuaW1hdGlvbmAgdHJhbnNpdGlvbiBraWNrcyBvZmYgaXQgZmlyc3QgcXVlcmllcyB0b1xuICogZmluZCB0aGUgaGVhZGVyIGVsZW1lbnQgYW5kIGZhZGVzIGl0IGluLiBJdCB0aGVuIGZpbmRzIGVhY2ggb2YgdGhlIHN1YiBlbGVtZW50cyB0aGF0IGNvbnRhaW4gdGhlXG4gKiBgXFxAY2hpbGRBbmltYXRpb25gIHRyaWdnZXIgYW5kIHRoZW4gYWxsb3dzIGZvciB0aGVpciBhbmltYXRpb25zIHRvIGZpcmUuXG4gKlxuICogVGhpcyBleGFtcGxlIGNhbiBiZSBmdXJ0aGVyIGV4dGVuZGVkIGJ5IHVzaW5nIHN0YWdnZXI6XG4gKlxuICogYGBgdHNcbiAqIHF1ZXJ5KCdcXEBjaGlsZEFuaW1hdGlvbicsIHN0YWdnZXIoMTAwLCBbXG4gKiAgIGFuaW1hdGVDaGlsZCgpXG4gKiBdKSlcbiAqIGBgYFxuICpcbiAqIE5vdyBlYWNoIG9mIHRoZSBzdWIgYW5pbWF0aW9ucyBzdGFydCBvZmYgd2l0aCByZXNwZWN0IHRvIHRoZSBgMTAwbXNgIHN0YWdnZXJpbmcgc3RlcC5cbiAqXG4gKiAjIyBUaGUgZmlyc3QgZnJhbWUgb2YgY2hpbGQgYW5pbWF0aW9uc1xuICogV2hlbiBzdWIgYW5pbWF0aW9ucyBhcmUgZXhlY3V0ZWQgdXNpbmcgYGFuaW1hdGVDaGlsZGAgdGhlIGFuaW1hdGlvbiBlbmdpbmUgd2lsbCBhbHdheXMgYXBwbHkgdGhlXG4gKiBmaXJzdCBmcmFtZSBvZiBldmVyeSBzdWIgYW5pbWF0aW9uIGltbWVkaWF0ZWx5IGF0IHRoZSBzdGFydCBvZiB0aGUgYW5pbWF0aW9uIHNlcXVlbmNlLiBUaGlzIHdheVxuICogdGhlIHBhcmVudCBhbmltYXRpb24gZG9lcyBub3QgbmVlZCB0byBzZXQgYW55IGluaXRpYWwgc3R5bGluZyBkYXRhIG9uIHRoZSBzdWIgZWxlbWVudHMgYmVmb3JlIHRoZVxuICogc3ViIGFuaW1hdGlvbnMga2ljayBvZmYuXG4gKlxuICogSW4gdGhlIGV4YW1wbGUgYWJvdmUgdGhlIGZpcnN0IGZyYW1lIG9mIHRoZSBgY2hpbGRBbmltYXRpb25gJ3MgYGZhbHNlID0+IHRydWVgIHRyYW5zaXRpb25cbiAqIGNvbnNpc3RzIG9mIGEgc3R5bGUgb2YgYG9wYWNpdHk6IDBgLiBUaGlzIGlzIGFwcGxpZWQgaW1tZWRpYXRlbHkgd2hlbiB0aGUgYHBhcmVudEFuaW1hdGlvbmBcbiAqIGFuaW1hdGlvbiB0cmFuc2l0aW9uIHNlcXVlbmNlIHN0YXJ0cy4gT25seSB0aGVuIHdoZW4gdGhlIGBcXEBjaGlsZEFuaW1hdGlvbmAgaXMgcXVlcmllZCBhbmQgY2FsbGVkXG4gKiB3aXRoIGBhbmltYXRlQ2hpbGRgIHdpbGwgaXQgdGhlbiBhbmltYXRlIHRvIGl0cyBkZXN0aW5hdGlvbiBvZiBgb3BhY2l0eTogMWAuXG4gKlxuICogTm90ZSB0aGF0IHRoaXMgZmVhdHVyZSBkZXNpZ25lZCB0byBiZSB1c2VkIGFsb25nc2lkZSB7XFxAbGluayBxdWVyeSBxdWVyeSgpfSBhbmQgaXQgd2lsbCBvbmx5IHdvcmtcbiAqIHdpdGggYW5pbWF0aW9ucyB0aGF0IGFyZSBhc3NpZ25lZCB1c2luZyB0aGUgQW5ndWxhciBhbmltYXRpb24gRFNMICh0aGlzIG1lYW5zIHRoYXQgQ1NTIGtleWZyYW1lc1xuICogYW5kIHRyYW5zaXRpb25zIGFyZSBub3QgaGFuZGxlZCBieSB0aGlzIEFQSSkuXG4gKlxuICogXFxAZXhwZXJpbWVudGFsIEFuaW1hdGlvbiBzdXBwb3J0IGlzIGV4cGVyaW1lbnRhbC5cbiAqIEBwYXJhbSB7Pz19IG9wdGlvbnNcbiAqIEByZXR1cm4gez99XG4gKi9cbi8qKlxuICogYHVzZUFuaW1hdGlvbmAgaXMgYW4gYW5pbWF0aW9uLXNwZWNpZmljIGZ1bmN0aW9uIHRoYXQgaXMgZGVzaWduZWQgdG8gYmUgdXNlZCBpbnNpZGUgb2YgQW5ndWxhcidzXG4gKiBhbmltYXRpb24gRFNMIGxhbmd1YWdlLiBJdCBpcyB1c2VkIHRvIGtpY2sgb2ZmIGEgcmV1c2FibGUgYW5pbWF0aW9uIHRoYXQgaXMgY3JlYXRlZCB1c2luZyB7XFxAbGlua1xuICogYW5pbWF0aW9uIGFuaW1hdGlvbigpfS5cbiAqXG4gKiBcXEBleHBlcmltZW50YWwgQW5pbWF0aW9uIHN1cHBvcnQgaXMgZXhwZXJpbWVudGFsLlxuICogQHBhcmFtIHs/fSBhbmltYXRpb25cbiAqIEBwYXJhbSB7Pz19IG9wdGlvbnNcbiAqIEByZXR1cm4gez99XG4gKi9cbi8qKlxuICogYHF1ZXJ5YCBpcyBhbiBhbmltYXRpb24tc3BlY2lmaWMgZnVuY3Rpb24gdGhhdCBpcyBkZXNpZ25lZCB0byBiZSB1c2VkIGluc2lkZSBvZiBBbmd1bGFyJ3NcbiAqIGFuaW1hdGlvbiBEU0wgbGFuZ3VhZ2UuXG4gKlxuICogcXVlcnkoKSBpcyB1c2VkIHRvIGZpbmQgb25lIG9yIG1vcmUgaW5uZXIgZWxlbWVudHMgd2l0aGluIHRoZSBjdXJyZW50IGVsZW1lbnQgdGhhdCBpc1xuICogYmVpbmcgYW5pbWF0ZWQgd2l0aGluIHRoZSBzZXF1ZW5jZS4gVGhlIHByb3ZpZGVkIGFuaW1hdGlvbiBzdGVwcyBhcmUgYXBwbGllZFxuICogdG8gdGhlIHF1ZXJpZWQgZWxlbWVudCAoYnkgZGVmYXVsdCwgYW4gYXJyYXkgaXMgcHJvdmlkZWQsIHRoZW4gdGhpcyB3aWxsIGJlXG4gKiB0cmVhdGVkIGFzIGFuIGFuaW1hdGlvbiBzZXF1ZW5jZSkuXG4gKlxuICogIyMjIFVzYWdlXG4gKlxuICogcXVlcnkoKSBpcyBkZXNpZ25lZCB0byBjb2xsZWN0IG11dGlwbGUgZWxlbWVudHMgYW5kIHdvcmtzIGludGVybmFsbHkgYnkgdXNpbmdcbiAqIGBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGxgLiBBbiBhZGRpdGlvbmFsIG9wdGlvbnMgb2JqZWN0IGNhbiBiZSBwcm92aWRlZCB3aGljaFxuICogY2FuIGJlIHVzZWQgdG8gbGltaXQgdGhlIHRvdGFsIGFtb3VudCBvZiBpdGVtcyB0byBiZSBjb2xsZWN0ZWQuXG4gKlxuICogYGBganNcbiAqIHF1ZXJ5KCdkaXYnLCBbXG4gKiAgIGFuaW1hdGUoLi4uKSxcbiAqICAgYW5pbWF0ZSguLi4pXG4gKiBdLCB7IGxpbWl0OiAxIH0pXG4gKiBgYGBcbiAqXG4gKiBxdWVyeSgpLCBieSBkZWZhdWx0LCB3aWxsIHRocm93IGFuIGVycm9yIHdoZW4gemVybyBpdGVtcyBhcmUgZm91bmQuIElmIGEgcXVlcnlcbiAqIGhhcyB0aGUgYG9wdGlvbmFsYCBmbGFnIHNldCB0byB0cnVlIHRoZW4gdGhpcyBlcnJvciB3aWxsIGJlIGlnbm9yZWQuXG4gKlxuICogYGBganNcbiAqIHF1ZXJ5KCcuc29tZS1lbGVtZW50LXRoYXQtbWF5LW5vdC1iZS10aGVyZScsIFtcbiAqICAgYW5pbWF0ZSguLi4pLFxuICogICBhbmltYXRlKC4uLilcbiAqIF0sIHsgb3B0aW9uYWw6IHRydWUgfSlcbiAqIGBgYFxuICpcbiAqICMjIyBTcGVjaWFsIFNlbGVjdG9yIFZhbHVlc1xuICpcbiAqIFRoZSBzZWxlY3RvciB2YWx1ZSB3aXRoaW4gYSBxdWVyeSBjYW4gY29sbGVjdCBlbGVtZW50cyB0aGF0IGNvbnRhaW4gYW5ndWxhci1zcGVjaWZpY1xuICogY2hhcmFjdGVyaXN0aWNzXG4gKiB1c2luZyBzcGVjaWFsIHBzZXVkby1zZWxlY3RvcnMgdG9rZW5zLlxuICpcbiAqIFRoZXNlIGluY2x1ZGU6XG4gKlxuICogIC0gUXVlcnlpbmcgZm9yIG5ld2x5IGluc2VydGVkL3JlbW92ZWQgZWxlbWVudHMgdXNpbmcgYHF1ZXJ5KFwiOmVudGVyXCIpYC9gcXVlcnkoXCI6bGVhdmVcIilgXG4gKiAgLSBRdWVyeWluZyBhbGwgY3VycmVudGx5IGFuaW1hdGluZyBlbGVtZW50cyB1c2luZyBgcXVlcnkoXCI6YW5pbWF0aW5nXCIpYFxuICogIC0gUXVlcnlpbmcgZWxlbWVudHMgdGhhdCBjb250YWluIGFuIGFuaW1hdGlvbiB0cmlnZ2VyIHVzaW5nIGBxdWVyeShcIlxcQHRyaWdnZXJOYW1lXCIpYFxuICogIC0gUXVlcnlpbmcgYWxsIGVsZW1lbnRzIHRoYXQgY29udGFpbiBhbiBhbmltYXRpb24gdHJpZ2dlcnMgdXNpbmcgYHF1ZXJ5KFwiXFxAKlwiKWBcbiAqICAtIEluY2x1ZGluZyB0aGUgY3VycmVudCBlbGVtZW50IGludG8gdGhlIGFuaW1hdGlvbiBzZXF1ZW5jZSB1c2luZyBgcXVlcnkoXCI6c2VsZlwiKWBcbiAqXG4gKlxuICogIEVhY2ggb2YgdGhlc2UgcHNldWRvLXNlbGVjdG9yIHRva2VucyBjYW4gYmUgbWVyZ2VkIHRvZ2V0aGVyIGludG8gYSBjb21iaW5lZCBxdWVyeSBzZWxlY3RvclxuICogc3RyaW5nOlxuICpcbiAqICBgYGBcbiAqICBxdWVyeSgnOnNlbGYsIC5yZWNvcmQ6ZW50ZXIsIC5yZWNvcmQ6bGVhdmUsIFxcQHN1YlRyaWdnZXInLCBbLi4uXSlcbiAqICBgYGBcbiAqXG4gKiAjIyMgRGVtb1xuICpcbiAqIGBgYFxuICogXFxAQ29tcG9uZW50KHtcbiAqICAgc2VsZWN0b3I6ICdpbm5lcicsXG4gKiAgIHRlbXBsYXRlOiBgXG4gKiAgICAgPGRpdiBbXFxAcXVlcnlBbmltYXRpb25dPVwiZXhwXCI+XG4gKiAgICAgICA8aDE+VGl0bGU8L2gxPlxuICogICAgICAgPGRpdiBjbGFzcz1cImNvbnRlbnRcIj5cbiAqICAgICAgICAgQmxhaCBibGFoIGJsYWhcbiAqICAgICAgIDwvZGl2PlxuICogICAgIDwvZGl2PlxuICogICBgLFxuICogICBhbmltYXRpb25zOiBbXG4gKiAgICB0cmlnZ2VyKCdxdWVyeUFuaW1hdGlvbicsIFtcbiAqICAgICAgdHJhbnNpdGlvbignKiA9PiBnb0FuaW1hdGUnLCBbXG4gKiAgICAgICAgLy8gaGlkZSB0aGUgaW5uZXIgZWxlbWVudHNcbiAqICAgICAgICBxdWVyeSgnaDEnLCBzdHlsZSh7IG9wYWNpdHk6IDAgfSkpLFxuICogICAgICAgIHF1ZXJ5KCcuY29udGVudCcsIHN0eWxlKHsgb3BhY2l0eTogMCB9KSksXG4gKlxuICogICAgICAgIC8vIGFuaW1hdGUgdGhlIGlubmVyIGVsZW1lbnRzIGluLCBvbmUgYnkgb25lXG4gKiAgICAgICAgcXVlcnkoJ2gxJywgYW5pbWF0ZSgxMDAwLCBzdHlsZSh7IG9wYWNpdHk6IDEgfSkpLFxuICogICAgICAgIHF1ZXJ5KCcuY29udGVudCcsIGFuaW1hdGUoMTAwMCwgc3R5bGUoeyBvcGFjaXR5OiAxIH0pKSxcbiAqICAgICAgXSlcbiAqICAgIF0pXG4gKiAgXVxuICogfSlcbiAqIGNsYXNzIENtcCB7XG4gKiAgIGV4cCA9ICcnO1xuICpcbiAqICAgZ29BbmltYXRlKCkge1xuICogICAgIHRoaXMuZXhwID0gJ2dvQW5pbWF0ZSc7XG4gKiAgIH1cbiAqIH1cbiAqIGBgYFxuICpcbiAqIFxcQGV4cGVyaW1lbnRhbCBBbmltYXRpb24gc3VwcG9ydCBpcyBleHBlcmltZW50YWwuXG4gKiBAcGFyYW0gez99IHNlbGVjdG9yXG4gKiBAcGFyYW0gez99IGFuaW1hdGlvblxuICogQHBhcmFtIHs/PX0gb3B0aW9uc1xuICogQHJldHVybiB7P31cbiAqL1xuLyoqXG4gKiBgc3RhZ2dlcmAgaXMgYW4gYW5pbWF0aW9uLXNwZWNpZmljIGZ1bmN0aW9uIHRoYXQgaXMgZGVzaWduZWQgdG8gYmUgdXNlZCBpbnNpZGUgb2YgQW5ndWxhcidzXG4gKiBhbmltYXRpb24gRFNMIGxhbmd1YWdlLiBJdCBpcyBkZXNpZ25lZCB0byBiZSB1c2VkIGluc2lkZSBvZiBhbiBhbmltYXRpb24ge1xcQGxpbmsgcXVlcnkgcXVlcnkoKX1cbiAqIGFuZCB3b3JrcyBieSBpc3N1aW5nIGEgdGltaW5nIGdhcCBiZXR3ZWVuIGFmdGVyIGVhY2ggcXVlcmllZCBpdGVtIGlzIGFuaW1hdGVkLlxuICpcbiAqICMjIyBVc2FnZVxuICpcbiAqIEluIHRoZSBleGFtcGxlIGJlbG93IHRoZXJlIGlzIGEgY29udGFpbmVyIGVsZW1lbnQgdGhhdCB3cmFwcyBhIGxpc3Qgb2YgaXRlbXMgc3RhbXBlZCBvdXRcbiAqIGJ5IGFuIG5nRm9yLiBUaGUgY29udGFpbmVyIGVsZW1lbnQgY29udGFpbnMgYW4gYW5pbWF0aW9uIHRyaWdnZXIgdGhhdCB3aWxsIGxhdGVyIGJlIHNldFxuICogdG8gcXVlcnkgZm9yIGVhY2ggb2YgdGhlIGlubmVyIGl0ZW1zLlxuICpcbiAqIGBgYGh0bWxcbiAqIDwhLS0gbGlzdC5jb21wb25lbnQuaHRtbCAtLT5cbiAqIDxidXR0b24gKGNsaWNrKT1cInRvZ2dsZSgpXCI+U2hvdyAvIEhpZGUgSXRlbXM8L2J1dHRvbj5cbiAqIDxociAvPlxuICogPGRpdiBbXFxAbGlzdEFuaW1hdGlvbl09XCJpdGVtcy5sZW5ndGhcIj5cbiAqICAgPGRpdiAqbmdGb3I9XCJsZXQgaXRlbSBvZiBpdGVtc1wiPlxuICogICAgIHt7IGl0ZW0gfX1cbiAqICAgPC9kaXY+XG4gKiA8L2Rpdj5cbiAqIGBgYFxuICpcbiAqIFRoZSBjb21wb25lbnQgY29kZSBmb3IgdGhpcyBsb29rcyBhcyBzdWNoOlxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQge3RyaWdnZXIsIHRyYW5zaXRpb24sIHN0eWxlLCBhbmltYXRlLCBxdWVyeSwgc3RhZ2dlcn0gZnJvbSAnXFxAYW5ndWxhci9hbmltYXRpb25zJztcbiAqIFxcQENvbXBvbmVudCh7XG4gKiAgIHRlbXBsYXRlVXJsOiAnbGlzdC5jb21wb25lbnQuaHRtbCcsXG4gKiAgIGFuaW1hdGlvbnM6IFtcbiAqICAgICB0cmlnZ2VyKCdsaXN0QW5pbWF0aW9uJywgW1xuICogICAgICAgIC8vLi4uXG4gKiAgICAgXSlcbiAqICAgXVxuICogfSlcbiAqIGNsYXNzIExpc3RDb21wb25lbnQge1xuICogICBpdGVtcyA9IFtdO1xuICpcbiAqICAgc2hvd0l0ZW1zKCkge1xuICogICAgIHRoaXMuaXRlbXMgPSBbMCwxLDIsMyw0XTtcbiAqICAgfVxuICpcbiAqICAgaGlkZUl0ZW1zKCkge1xuICogICAgIHRoaXMuaXRlbXMgPSBbXTtcbiAqICAgfVxuICpcbiAqICAgdG9nZ2xlKCkge1xuICogICAgIHRoaXMuaXRlbXMubGVuZ3RoID8gdGhpcy5oaWRlSXRlbXMoKSA6IHRoaXMuc2hvd0l0ZW1zKCk7XG4gKiAgIH1cbiAqIH1cbiAqIGBgYFxuICpcbiAqIEFuZCBub3cgZm9yIHRoZSBhbmltYXRpb24gdHJpZ2dlciBjb2RlOlxuICpcbiAqIGBgYHRzXG4gKiB0cmlnZ2VyKCdsaXN0QW5pbWF0aW9uJywgW1xuICogICB0cmFuc2l0aW9uKCcqID0+IConLCBbIC8vIGVhY2ggdGltZSB0aGUgYmluZGluZyB2YWx1ZSBjaGFuZ2VzXG4gKiAgICAgcXVlcnkoJzpsZWF2ZScsIFtcbiAqICAgICAgIHN0YWdnZXIoMTAwLCBbXG4gKiAgICAgICAgIGFuaW1hdGUoJzAuNXMnLCBzdHlsZSh7IG9wYWNpdHk6IDAgfSkpXG4gKiAgICAgICBdKVxuICogICAgIF0pLFxuICogICAgIHF1ZXJ5KCc6ZW50ZXInLCBbXG4gKiAgICAgICBzdHlsZSh7IG9wYWNpdHk6IDAgfSksXG4gKiAgICAgICBzdGFnZ2VyKDEwMCwgW1xuICogICAgICAgICBhbmltYXRlKCcwLjVzJywgc3R5bGUoeyBvcGFjaXR5OiAxIH0pKVxuICogICAgICAgXSlcbiAqICAgICBdKVxuICogICBdKVxuICogXSlcbiAqIGBgYFxuICpcbiAqIE5vdyBlYWNoIHRpbWUgdGhlIGl0ZW1zIGFyZSBhZGRlZC9yZW1vdmVkIHRoZW4gZWl0aGVyIHRoZSBvcGFjaXR5XG4gKiBmYWRlLWluIGFuaW1hdGlvbiB3aWxsIHJ1biBvciBlYWNoIHJlbW92ZWQgaXRlbSB3aWxsIGJlIGZhZGVkIG91dC5cbiAqIFdoZW4gZWl0aGVyIG9mIHRoZXNlIGFuaW1hdGlvbnMgb2NjdXIgdGhlbiBhIHN0YWdnZXIgZWZmZWN0IHdpbGwgYmVcbiAqIGFwcGxpZWQgYWZ0ZXIgZWFjaCBpdGVtJ3MgYW5pbWF0aW9uIGlzIHN0YXJ0ZWQuXG4gKlxuICogXFxAZXhwZXJpbWVudGFsIEFuaW1hdGlvbiBzdXBwb3J0IGlzIGV4cGVyaW1lbnRhbC5cbiAqIEBwYXJhbSB7P30gdGltaW5nc1xuICogQHBhcmFtIHs/fSBhbmltYXRpb25cbiAqIEByZXR1cm4gez99XG4gKi9cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQGRlcHJlY2F0ZWQgVGhpcyBzeW1ib2wgaGFzIG1vdmVkLiBQbGVhc2UgSW1wb3J0IGZyb20gXFxAYW5ndWxhci9hbmltYXRpb25zIGluc3RlYWQhXG4gKi9cbnZhciBBVVRPX1NUWUxFJCQxID0gJyonO1xuLyoqXG4gKiBAZGVwcmVjYXRlZCBUaGlzIHN5bWJvbCBoYXMgbW92ZWQuIFBsZWFzZSBJbXBvcnQgZnJvbSBcXEBhbmd1bGFyL2FuaW1hdGlvbnMgaW5zdGVhZCFcbiAqIEBwYXJhbSB7P30gbmFtZVxuICogQHBhcmFtIHs/fSBkZWZpbml0aW9uc1xuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gdHJpZ2dlciQkMShuYW1lLCBkZWZpbml0aW9ucykge1xuICAgIHJldHVybiB0cmlnZ2VyJDEobmFtZSwgZGVmaW5pdGlvbnMpO1xufVxuLyoqXG4gKiBAZGVwcmVjYXRlZCBUaGlzIHN5bWJvbCBoYXMgbW92ZWQuIFBsZWFzZSBJbXBvcnQgZnJvbSBcXEBhbmd1bGFyL2FuaW1hdGlvbnMgaW5zdGVhZCFcbiAqIEBwYXJhbSB7P30gdGltaW5nc1xuICogQHBhcmFtIHs/PX0gc3R5bGVzXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBhbmltYXRlJCQxKHRpbWluZ3MsIHN0eWxlcykge1xuICAgIHJldHVybiBhbmltYXRlJDEodGltaW5ncywgc3R5bGVzKTtcbn1cbi8qKlxuICogQGRlcHJlY2F0ZWQgVGhpcyBzeW1ib2wgaGFzIG1vdmVkLiBQbGVhc2UgSW1wb3J0IGZyb20gXFxAYW5ndWxhci9hbmltYXRpb25zIGluc3RlYWQhXG4gKiBAcGFyYW0gez99IHN0ZXBzXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBncm91cCQkMShzdGVwcykge1xuICAgIHJldHVybiBncm91cCQxKHN0ZXBzKTtcbn1cbi8qKlxuICogQGRlcHJlY2F0ZWQgVGhpcyBzeW1ib2wgaGFzIG1vdmVkLiBQbGVhc2UgSW1wb3J0IGZyb20gXFxAYW5ndWxhci9hbmltYXRpb25zIGluc3RlYWQhXG4gKiBAcGFyYW0gez99IHN0ZXBzXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBzZXF1ZW5jZSQkMShzdGVwcykge1xuICAgIHJldHVybiBzZXF1ZW5jZSQxKHN0ZXBzKTtcbn1cbi8qKlxuICogQGRlcHJlY2F0ZWQgVGhpcyBzeW1ib2wgaGFzIG1vdmVkLiBQbGVhc2UgSW1wb3J0IGZyb20gXFxAYW5ndWxhci9hbmltYXRpb25zIGluc3RlYWQhXG4gKiBAcGFyYW0gez99IHRva2Vuc1xuICogQHJldHVybiB7P31cbiAqL1xuZnVuY3Rpb24gc3R5bGUkJDEodG9rZW5zKSB7XG4gICAgcmV0dXJuIHN0eWxlJDEodG9rZW5zKTtcbn1cbi8qKlxuICogQGRlcHJlY2F0ZWQgVGhpcyBzeW1ib2wgaGFzIG1vdmVkLiBQbGVhc2UgSW1wb3J0IGZyb20gXFxAYW5ndWxhci9hbmltYXRpb25zIGluc3RlYWQhXG4gKiBAcGFyYW0gez99IG5hbWVcbiAqIEBwYXJhbSB7P30gc3R5bGVzXG4gKiBAcmV0dXJuIHs/fVxuICovXG5mdW5jdGlvbiBzdGF0ZSQkMShuYW1lLCBzdHlsZXMpIHtcbiAgICByZXR1cm4gc3RhdGUkMShuYW1lLCBzdHlsZXMpO1xufVxuLyoqXG4gKiBAZGVwcmVjYXRlZCBUaGlzIHN5bWJvbCBoYXMgbW92ZWQuIFBsZWFzZSBJbXBvcnQgZnJvbSBcXEBhbmd1bGFyL2FuaW1hdGlvbnMgaW5zdGVhZCFcbiAqIEBwYXJhbSB7P30gc3RlcHNcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIGtleWZyYW1lcyQkMShzdGVwcykge1xuICAgIHJldHVybiBrZXlmcmFtZXMkMShzdGVwcyk7XG59XG4vKipcbiAqIEBkZXByZWNhdGVkIFRoaXMgc3ltYm9sIGhhcyBtb3ZlZC4gUGxlYXNlIEltcG9ydCBmcm9tIFxcQGFuZ3VsYXIvYW5pbWF0aW9ucyBpbnN0ZWFkIVxuICogQHBhcmFtIHs/fSBzdGF0ZUNoYW5nZUV4cHJcbiAqIEBwYXJhbSB7P30gc3RlcHNcbiAqIEByZXR1cm4gez99XG4gKi9cbmZ1bmN0aW9uIHRyYW5zaXRpb24kJDEoc3RhdGVDaGFuZ2VFeHByLCBzdGVwcykge1xuICAgIHJldHVybiB0cmFuc2l0aW9uJDEoc3RhdGVDaGFuZ2VFeHByLCBzdGVwcyk7XG59XG5cbmV4cG9ydHMuQ2xhc3MgPSBDbGFzcztcbmV4cG9ydHMuY3JlYXRlUGxhdGZvcm0gPSBjcmVhdGVQbGF0Zm9ybTtcbmV4cG9ydHMuYXNzZXJ0UGxhdGZvcm0gPSBhc3NlcnRQbGF0Zm9ybTtcbmV4cG9ydHMuZGVzdHJveVBsYXRmb3JtID0gZGVzdHJveVBsYXRmb3JtO1xuZXhwb3J0cy5nZXRQbGF0Zm9ybSA9IGdldFBsYXRmb3JtO1xuZXhwb3J0cy5QbGF0Zm9ybVJlZiA9IFBsYXRmb3JtUmVmO1xuZXhwb3J0cy5BcHBsaWNhdGlvblJlZiA9IEFwcGxpY2F0aW9uUmVmO1xuZXhwb3J0cy5lbmFibGVQcm9kTW9kZSA9IGVuYWJsZVByb2RNb2RlO1xuZXhwb3J0cy5pc0Rldk1vZGUgPSBpc0Rldk1vZGU7XG5leHBvcnRzLmNyZWF0ZVBsYXRmb3JtRmFjdG9yeSA9IGNyZWF0ZVBsYXRmb3JtRmFjdG9yeTtcbmV4cG9ydHMuTmdQcm9iZVRva2VuID0gTmdQcm9iZVRva2VuO1xuZXhwb3J0cy5BUFBfSUQgPSBBUFBfSUQ7XG5leHBvcnRzLlBBQ0tBR0VfUk9PVF9VUkwgPSBQQUNLQUdFX1JPT1RfVVJMO1xuZXhwb3J0cy5QTEFURk9STV9JTklUSUFMSVpFUiA9IFBMQVRGT1JNX0lOSVRJQUxJWkVSO1xuZXhwb3J0cy5QTEFURk9STV9JRCA9IFBMQVRGT1JNX0lEO1xuZXhwb3J0cy5BUFBfQk9PVFNUUkFQX0xJU1RFTkVSID0gQVBQX0JPT1RTVFJBUF9MSVNURU5FUjtcbmV4cG9ydHMuQVBQX0lOSVRJQUxJWkVSID0gQVBQX0lOSVRJQUxJWkVSO1xuZXhwb3J0cy5BcHBsaWNhdGlvbkluaXRTdGF0dXMgPSBBcHBsaWNhdGlvbkluaXRTdGF0dXM7XG5leHBvcnRzLkRlYnVnRWxlbWVudCA9IERlYnVnRWxlbWVudDtcbmV4cG9ydHMuRGVidWdOb2RlID0gRGVidWdOb2RlO1xuZXhwb3J0cy5hc05hdGl2ZUVsZW1lbnRzID0gYXNOYXRpdmVFbGVtZW50cztcbmV4cG9ydHMuZ2V0RGVidWdOb2RlID0gZ2V0RGVidWdOb2RlO1xuZXhwb3J0cy5UZXN0YWJpbGl0eSA9IFRlc3RhYmlsaXR5O1xuZXhwb3J0cy5UZXN0YWJpbGl0eVJlZ2lzdHJ5ID0gVGVzdGFiaWxpdHlSZWdpc3RyeTtcbmV4cG9ydHMuc2V0VGVzdGFiaWxpdHlHZXR0ZXIgPSBzZXRUZXN0YWJpbGl0eUdldHRlcjtcbmV4cG9ydHMuVFJBTlNMQVRJT05TID0gVFJBTlNMQVRJT05TO1xuZXhwb3J0cy5UUkFOU0xBVElPTlNfRk9STUFUID0gVFJBTlNMQVRJT05TX0ZPUk1BVDtcbmV4cG9ydHMuTE9DQUxFX0lEID0gTE9DQUxFX0lEO1xuZXhwb3J0cy5NaXNzaW5nVHJhbnNsYXRpb25TdHJhdGVneSA9IE1pc3NpbmdUcmFuc2xhdGlvblN0cmF0ZWd5O1xuZXhwb3J0cy5BcHBsaWNhdGlvbk1vZHVsZSA9IEFwcGxpY2F0aW9uTW9kdWxlO1xuZXhwb3J0cy53dGZDcmVhdGVTY29wZSA9IHd0ZkNyZWF0ZVNjb3BlO1xuZXhwb3J0cy53dGZMZWF2ZSA9IHd0ZkxlYXZlO1xuZXhwb3J0cy53dGZTdGFydFRpbWVSYW5nZSA9IHd0ZlN0YXJ0VGltZVJhbmdlO1xuZXhwb3J0cy53dGZFbmRUaW1lUmFuZ2UgPSB3dGZFbmRUaW1lUmFuZ2U7XG5leHBvcnRzLlR5cGUgPSBUeXBlO1xuZXhwb3J0cy5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5leHBvcnRzLkVycm9ySGFuZGxlciA9IEVycm9ySGFuZGxlcjtcbmV4cG9ydHMuU2FuaXRpemVyID0gU2FuaXRpemVyO1xuZXhwb3J0cy5TZWN1cml0eUNvbnRleHQgPSBTZWN1cml0eUNvbnRleHQ7XG5leHBvcnRzLkFOQUxZWkVfRk9SX0VOVFJZX0NPTVBPTkVOVFMgPSBBTkFMWVpFX0ZPUl9FTlRSWV9DT01QT05FTlRTO1xuZXhwb3J0cy5BdHRyaWJ1dGUgPSBBdHRyaWJ1dGU7XG5leHBvcnRzLkNvbnRlbnRDaGlsZCA9IENvbnRlbnRDaGlsZDtcbmV4cG9ydHMuQ29udGVudENoaWxkcmVuID0gQ29udGVudENoaWxkcmVuO1xuZXhwb3J0cy5RdWVyeSA9IFF1ZXJ5O1xuZXhwb3J0cy5WaWV3Q2hpbGQgPSBWaWV3Q2hpbGQ7XG5leHBvcnRzLlZpZXdDaGlsZHJlbiA9IFZpZXdDaGlsZHJlbjtcbmV4cG9ydHMuQ29tcG9uZW50ID0gQ29tcG9uZW50O1xuZXhwb3J0cy5EaXJlY3RpdmUgPSBEaXJlY3RpdmU7XG5leHBvcnRzLkhvc3RCaW5kaW5nID0gSG9zdEJpbmRpbmc7XG5leHBvcnRzLkhvc3RMaXN0ZW5lciA9IEhvc3RMaXN0ZW5lcjtcbmV4cG9ydHMuSW5wdXQgPSBJbnB1dDtcbmV4cG9ydHMuT3V0cHV0ID0gT3V0cHV0O1xuZXhwb3J0cy5QaXBlID0gUGlwZTtcbmV4cG9ydHMuQ1VTVE9NX0VMRU1FTlRTX1NDSEVNQSA9IENVU1RPTV9FTEVNRU5UU19TQ0hFTUE7XG5leHBvcnRzLk5PX0VSUk9SU19TQ0hFTUEgPSBOT19FUlJPUlNfU0NIRU1BO1xuZXhwb3J0cy5OZ01vZHVsZSA9IE5nTW9kdWxlO1xuZXhwb3J0cy5WaWV3RW5jYXBzdWxhdGlvbiA9IFZpZXdFbmNhcHN1bGF0aW9uO1xuZXhwb3J0cy5WZXJzaW9uID0gVmVyc2lvbjtcbmV4cG9ydHMuVkVSU0lPTiA9IFZFUlNJT047XG5leHBvcnRzLmZvcndhcmRSZWYgPSBmb3J3YXJkUmVmO1xuZXhwb3J0cy5yZXNvbHZlRm9yd2FyZFJlZiA9IHJlc29sdmVGb3J3YXJkUmVmO1xuZXhwb3J0cy5JbmplY3RvciA9IEluamVjdG9yO1xuZXhwb3J0cy5SZWZsZWN0aXZlSW5qZWN0b3IgPSBSZWZsZWN0aXZlSW5qZWN0b3I7XG5leHBvcnRzLlJlc29sdmVkUmVmbGVjdGl2ZUZhY3RvcnkgPSBSZXNvbHZlZFJlZmxlY3RpdmVGYWN0b3J5O1xuZXhwb3J0cy5SZWZsZWN0aXZlS2V5ID0gUmVmbGVjdGl2ZUtleTtcbmV4cG9ydHMuSW5qZWN0aW9uVG9rZW4gPSBJbmplY3Rpb25Ub2tlbjtcbmV4cG9ydHMuT3BhcXVlVG9rZW4gPSBPcGFxdWVUb2tlbjtcbmV4cG9ydHMuSW5qZWN0ID0gSW5qZWN0O1xuZXhwb3J0cy5PcHRpb25hbCA9IE9wdGlvbmFsO1xuZXhwb3J0cy5JbmplY3RhYmxlID0gSW5qZWN0YWJsZTtcbmV4cG9ydHMuU2VsZiA9IFNlbGY7XG5leHBvcnRzLlNraXBTZWxmID0gU2tpcFNlbGY7XG5leHBvcnRzLkhvc3QgPSBIb3N0O1xuZXhwb3J0cy5OZ1pvbmUgPSBOZ1pvbmU7XG5leHBvcnRzLlJlbmRlckNvbXBvbmVudFR5cGUgPSBSZW5kZXJDb21wb25lbnRUeXBlO1xuZXhwb3J0cy5SZW5kZXJlciA9IFJlbmRlcmVyO1xuZXhwb3J0cy5SZW5kZXJlcjIgPSBSZW5kZXJlcjI7XG5leHBvcnRzLlJlbmRlcmVyRmFjdG9yeTIgPSBSZW5kZXJlckZhY3RvcnkyO1xuZXhwb3J0cy5SZW5kZXJlclN0eWxlRmxhZ3MyID0gUmVuZGVyZXJTdHlsZUZsYWdzMjtcbmV4cG9ydHMuUm9vdFJlbmRlcmVyID0gUm9vdFJlbmRlcmVyO1xuZXhwb3J0cy5DT01QSUxFUl9PUFRJT05TID0gQ09NUElMRVJfT1BUSU9OUztcbmV4cG9ydHMuQ29tcGlsZXIgPSBDb21waWxlcjtcbmV4cG9ydHMuQ29tcGlsZXJGYWN0b3J5ID0gQ29tcGlsZXJGYWN0b3J5O1xuZXhwb3J0cy5Nb2R1bGVXaXRoQ29tcG9uZW50RmFjdG9yaWVzID0gTW9kdWxlV2l0aENvbXBvbmVudEZhY3RvcmllcztcbmV4cG9ydHMuQ29tcG9uZW50RmFjdG9yeSA9IENvbXBvbmVudEZhY3Rvcnk7XG5leHBvcnRzLkNvbXBvbmVudFJlZiA9IENvbXBvbmVudFJlZjtcbmV4cG9ydHMuQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyID0gQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyO1xuZXhwb3J0cy5FbGVtZW50UmVmID0gRWxlbWVudFJlZjtcbmV4cG9ydHMuTmdNb2R1bGVGYWN0b3J5ID0gTmdNb2R1bGVGYWN0b3J5O1xuZXhwb3J0cy5OZ01vZHVsZVJlZiA9IE5nTW9kdWxlUmVmO1xuZXhwb3J0cy5OZ01vZHVsZUZhY3RvcnlMb2FkZXIgPSBOZ01vZHVsZUZhY3RvcnlMb2FkZXI7XG5leHBvcnRzLmdldE1vZHVsZUZhY3RvcnkgPSBnZXRNb2R1bGVGYWN0b3J5O1xuZXhwb3J0cy5RdWVyeUxpc3QgPSBRdWVyeUxpc3Q7XG5leHBvcnRzLlN5c3RlbUpzTmdNb2R1bGVMb2FkZXIgPSBTeXN0ZW1Kc05nTW9kdWxlTG9hZGVyO1xuZXhwb3J0cy5TeXN0ZW1Kc05nTW9kdWxlTG9hZGVyQ29uZmlnID0gU3lzdGVtSnNOZ01vZHVsZUxvYWRlckNvbmZpZztcbmV4cG9ydHMuVGVtcGxhdGVSZWYgPSBUZW1wbGF0ZVJlZjtcbmV4cG9ydHMuVmlld0NvbnRhaW5lclJlZiA9IFZpZXdDb250YWluZXJSZWY7XG5leHBvcnRzLkVtYmVkZGVkVmlld1JlZiA9IEVtYmVkZGVkVmlld1JlZjtcbmV4cG9ydHMuVmlld1JlZiA9IFZpZXdSZWY7XG5leHBvcnRzLkNoYW5nZURldGVjdGlvblN0cmF0ZWd5ID0gQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3k7XG5leHBvcnRzLkNoYW5nZURldGVjdG9yUmVmID0gQ2hhbmdlRGV0ZWN0b3JSZWY7XG5leHBvcnRzLkRlZmF1bHRJdGVyYWJsZURpZmZlciA9IERlZmF1bHRJdGVyYWJsZURpZmZlcjtcbmV4cG9ydHMuSXRlcmFibGVEaWZmZXJzID0gSXRlcmFibGVEaWZmZXJzO1xuZXhwb3J0cy5LZXlWYWx1ZURpZmZlcnMgPSBLZXlWYWx1ZURpZmZlcnM7XG5leHBvcnRzLlNpbXBsZUNoYW5nZSA9IFNpbXBsZUNoYW5nZTtcbmV4cG9ydHMuV3JhcHBlZFZhbHVlID0gV3JhcHBlZFZhbHVlO1xuZXhwb3J0cy5wbGF0Zm9ybUNvcmUgPSBwbGF0Zm9ybUNvcmU7XG5leHBvcnRzLsm1QUxMT1dfTVVMVElQTEVfUExBVEZPUk1TID0gQUxMT1dfTVVMVElQTEVfUExBVEZPUk1TO1xuZXhwb3J0cy7JtUFQUF9JRF9SQU5ET01fUFJPVklERVIgPSBBUFBfSURfUkFORE9NX1BST1ZJREVSO1xuZXhwb3J0cy7JtVZhbHVlVW53cmFwcGVyID0gVmFsdWVVbndyYXBwZXI7XG5leHBvcnRzLsm1ZGV2TW9kZUVxdWFsID0gZGV2TW9kZUVxdWFsO1xuZXhwb3J0cy7JtWlzTGlzdExpa2VJdGVyYWJsZSA9IGlzTGlzdExpa2VJdGVyYWJsZTtcbmV4cG9ydHMuybVDaGFuZ2VEZXRlY3RvclN0YXR1cyA9IENoYW5nZURldGVjdG9yU3RhdHVzO1xuZXhwb3J0cy7JtWlzRGVmYXVsdENoYW5nZURldGVjdGlvblN0cmF0ZWd5ID0gaXNEZWZhdWx0Q2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3k7XG5leHBvcnRzLsm1Q29uc29sZSA9IENvbnNvbGU7XG5leHBvcnRzLsm1RVJST1JfQ09NUE9ORU5UX1RZUEUgPSBFUlJPUl9DT01QT05FTlRfVFlQRTtcbmV4cG9ydHMuybVDb21wb25lbnRGYWN0b3J5ID0gQ29tcG9uZW50RmFjdG9yeTtcbmV4cG9ydHMuybVDb2RlZ2VuQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyID0gQ29kZWdlbkNvbXBvbmVudEZhY3RvcnlSZXNvbHZlcjtcbmV4cG9ydHMuybVWaWV3TWV0YWRhdGEgPSBWaWV3TWV0YWRhdGE7XG5leHBvcnRzLsm1UmVmbGVjdGlvbkNhcGFiaWxpdGllcyA9IFJlZmxlY3Rpb25DYXBhYmlsaXRpZXM7XG5leHBvcnRzLsm1UmVuZGVyRGVidWdJbmZvID0gUmVuZGVyRGVidWdJbmZvO1xuZXhwb3J0cy7JtWdsb2JhbCA9IF9nbG9iYWw7XG5leHBvcnRzLsm1bG9vc2VJZGVudGljYWwgPSBsb29zZUlkZW50aWNhbDtcbmV4cG9ydHMuybVzdHJpbmdpZnkgPSBzdHJpbmdpZnk7XG5leHBvcnRzLsm1bWFrZURlY29yYXRvciA9IG1ha2VEZWNvcmF0b3I7XG5leHBvcnRzLsm1aXNPYnNlcnZhYmxlID0gaXNPYnNlcnZhYmxlO1xuZXhwb3J0cy7JtWlzUHJvbWlzZSA9IGlzUHJvbWlzZTtcbmV4cG9ydHMuybVjbGVhclByb3ZpZGVyT3ZlcnJpZGVzID0gY2xlYXJQcm92aWRlck92ZXJyaWRlcztcbmV4cG9ydHMuybVvdmVycmlkZVByb3ZpZGVyID0gb3ZlcnJpZGVQcm92aWRlcjtcbmV4cG9ydHMuybVOT1RfRk9VTkRfQ0hFQ0tfT05MWV9FTEVNRU5UX0lOSkVDVE9SID0gTk9UX0ZPVU5EX0NIRUNLX09OTFlfRUxFTUVOVF9JTkpFQ1RPUjtcbmV4cG9ydHMuybVyZWdpc3Rlck1vZHVsZUZhY3RvcnkgPSByZWdpc3Rlck1vZHVsZUZhY3Rvcnk7XG5leHBvcnRzLsm1RU1QVFlfQVJSQVkgPSBFTVBUWV9BUlJBWTtcbmV4cG9ydHMuybVFTVBUWV9NQVAgPSBFTVBUWV9NQVA7XG5leHBvcnRzLsm1YW5kID0gYW5jaG9yRGVmO1xuZXhwb3J0cy7JtWNjZiA9IGNyZWF0ZUNvbXBvbmVudEZhY3Rvcnk7XG5leHBvcnRzLsm1Y21mID0gY3JlYXRlTmdNb2R1bGVGYWN0b3J5O1xuZXhwb3J0cy7JtWNydCA9IGNyZWF0ZVJlbmRlcmVyVHlwZTI7XG5leHBvcnRzLsm1ZGlkID0gZGlyZWN0aXZlRGVmO1xuZXhwb3J0cy7JtWVsZCA9IGVsZW1lbnREZWY7XG5leHBvcnRzLsm1ZWxlbWVudEV2ZW50RnVsbE5hbWUgPSBlbGVtZW50RXZlbnRGdWxsTmFtZTtcbmV4cG9ydHMuybVnZXRDb21wb25lbnRWaWV3RGVmaW5pdGlvbkZhY3RvcnkgPSBnZXRDb21wb25lbnRWaWV3RGVmaW5pdGlvbkZhY3Rvcnk7XG5leHBvcnRzLsm1aW5saW5lSW50ZXJwb2xhdGUgPSBpbmxpbmVJbnRlcnBvbGF0ZTtcbmV4cG9ydHMuybVpbnRlcnBvbGF0ZSA9IGludGVycG9sYXRlO1xuZXhwb3J0cy7JtW1vZCA9IG1vZHVsZURlZjtcbmV4cG9ydHMuybVtcGQgPSBtb2R1bGVQcm92aWRlRGVmO1xuZXhwb3J0cy7JtW5jZCA9IG5nQ29udGVudERlZjtcbmV4cG9ydHMuybVub3YgPSBub2RlVmFsdWU7XG5leHBvcnRzLsm1cGlkID0gcGlwZURlZjtcbmV4cG9ydHMuybVwcmQgPSBwcm92aWRlckRlZjtcbmV4cG9ydHMuybVwYWQgPSBwdXJlQXJyYXlEZWY7XG5leHBvcnRzLsm1cG9kID0gcHVyZU9iamVjdERlZjtcbmV4cG9ydHMuybVwcGQgPSBwdXJlUGlwZURlZjtcbmV4cG9ydHMuybVxdWQgPSBxdWVyeURlZjtcbmV4cG9ydHMuybV0ZWQgPSB0ZXh0RGVmO1xuZXhwb3J0cy7JtXVudiA9IHVud3JhcFZhbHVlO1xuZXhwb3J0cy7JtXZpZCA9IHZpZXdEZWY7XG5leHBvcnRzLkFVVE9fU1RZTEUgPSBBVVRPX1NUWUxFJCQxO1xuZXhwb3J0cy50cmlnZ2VyID0gdHJpZ2dlciQkMTtcbmV4cG9ydHMuYW5pbWF0ZSA9IGFuaW1hdGUkJDE7XG5leHBvcnRzLmdyb3VwID0gZ3JvdXAkJDE7XG5leHBvcnRzLnNlcXVlbmNlID0gc2VxdWVuY2UkJDE7XG5leHBvcnRzLnN0eWxlID0gc3R5bGUkJDE7XG5leHBvcnRzLnN0YXRlID0gc3RhdGUkJDE7XG5leHBvcnRzLmtleWZyYW1lcyA9IGtleWZyYW1lcyQkMTtcbmV4cG9ydHMudHJhbnNpdGlvbiA9IHRyYW5zaXRpb24kJDE7XG5leHBvcnRzLsm1eCA9IGFuaW1hdGUkMTtcbmV4cG9ydHMuybV5ID0gZ3JvdXAkMTtcbmV4cG9ydHMuybViYyA9IGtleWZyYW1lcyQxO1xuZXhwb3J0cy7JtXogPSBzZXF1ZW5jZSQxO1xuZXhwb3J0cy7JtWJiID0gc3RhdGUkMTtcbmV4cG9ydHMuybViYSA9IHN0eWxlJDE7XG5leHBvcnRzLsm1YmQgPSB0cmFuc2l0aW9uJDE7XG5leHBvcnRzLsm1dyA9IHRyaWdnZXIkMTtcbmV4cG9ydHMuybVrID0gX2l0ZXJhYmxlRGlmZmVyc0ZhY3Rvcnk7XG5leHBvcnRzLsm1bCA9IF9rZXlWYWx1ZURpZmZlcnNGYWN0b3J5O1xuZXhwb3J0cy7JtW0gPSBfbG9jYWxlRmFjdG9yeTtcbmV4cG9ydHMuybVlID0gQXBwbGljYXRpb25SZWZfO1xuZXhwb3J0cy7JtWYgPSBfYXBwSWRSYW5kb21Qcm92aWRlckZhY3Rvcnk7XG5leHBvcnRzLsm1ZyA9IGRlZmF1bHRJdGVyYWJsZURpZmZlcnM7XG5leHBvcnRzLsm1aCA9IGRlZmF1bHRLZXlWYWx1ZURpZmZlcnM7XG5leHBvcnRzLsm1aSA9IERlZmF1bHRJdGVyYWJsZURpZmZlckZhY3Rvcnk7XG5leHBvcnRzLsm1aiA9IERlZmF1bHRLZXlWYWx1ZURpZmZlckZhY3Rvcnk7XG5leHBvcnRzLsm1YiA9IFJlZmxlY3RpdmVJbmplY3Rvcl87XG5leHBvcnRzLsm1YyA9IFJlZmxlY3RpdmVEZXBlbmRlbmN5O1xuZXhwb3J0cy7JtWQgPSByZXNvbHZlUmVmbGVjdGl2ZVByb3ZpZGVycztcbmV4cG9ydHMuybVuID0gd3RmRW5hYmxlZDtcbmV4cG9ydHMuybVwID0gY3JlYXRlU2NvcGUkMTtcbmV4cG9ydHMuybVvID0gZGV0ZWN0V1RGO1xuZXhwb3J0cy7JtXMgPSBlbmRUaW1lUmFuZ2U7XG5leHBvcnRzLsm1cSA9IGxlYXZlO1xuZXhwb3J0cy7JtXIgPSBzdGFydFRpbWVSYW5nZTtcbmV4cG9ydHMuybVhID0gbWFrZVBhcmFtRGVjb3JhdG9yO1xuZXhwb3J0cy7JtXQgPSBfZGVmO1xuZXhwb3J0cy7JtXUgPSBEZWJ1Z0NvbnRleHQ7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cbn0pKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb3JlLnVtZC5qcy5tYXBcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9AYW5ndWxhci9jb3JlL2J1bmRsZXMvY29yZS51bWQuanNcbi8vIG1vZHVsZSBpZCA9IDVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgcm9vdF8xID0gcmVxdWlyZSgnLi91dGlsL3Jvb3QnKTtcbnZhciB0b1N1YnNjcmliZXJfMSA9IHJlcXVpcmUoJy4vdXRpbC90b1N1YnNjcmliZXInKTtcbnZhciBvYnNlcnZhYmxlXzEgPSByZXF1aXJlKCcuL3N5bWJvbC9vYnNlcnZhYmxlJyk7XG52YXIgcGlwZV8xID0gcmVxdWlyZSgnLi91dGlsL3BpcGUnKTtcbi8qKlxuICogQSByZXByZXNlbnRhdGlvbiBvZiBhbnkgc2V0IG9mIHZhbHVlcyBvdmVyIGFueSBhbW91bnQgb2YgdGltZS4gVGhpcyBpcyB0aGUgbW9zdCBiYXNpYyBidWlsZGluZyBibG9ja1xuICogb2YgUnhKUy5cbiAqXG4gKiBAY2xhc3MgT2JzZXJ2YWJsZTxUPlxuICovXG52YXIgT2JzZXJ2YWJsZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc3Vic2NyaWJlIHRoZSBmdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCB3aGVuIHRoZSBPYnNlcnZhYmxlIGlzXG4gICAgICogaW5pdGlhbGx5IHN1YnNjcmliZWQgdG8uIFRoaXMgZnVuY3Rpb24gaXMgZ2l2ZW4gYSBTdWJzY3JpYmVyLCB0byB3aGljaCBuZXcgdmFsdWVzXG4gICAgICogY2FuIGJlIGBuZXh0YGVkLCBvciBhbiBgZXJyb3JgIG1ldGhvZCBjYW4gYmUgY2FsbGVkIHRvIHJhaXNlIGFuIGVycm9yLCBvclxuICAgICAqIGBjb21wbGV0ZWAgY2FuIGJlIGNhbGxlZCB0byBub3RpZnkgb2YgYSBzdWNjZXNzZnVsIGNvbXBsZXRpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gT2JzZXJ2YWJsZShzdWJzY3JpYmUpIHtcbiAgICAgICAgdGhpcy5faXNTY2FsYXIgPSBmYWxzZTtcbiAgICAgICAgaWYgKHN1YnNjcmliZSkge1xuICAgICAgICAgICAgdGhpcy5fc3Vic2NyaWJlID0gc3Vic2NyaWJlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgT2JzZXJ2YWJsZSwgd2l0aCB0aGlzIE9ic2VydmFibGUgYXMgdGhlIHNvdXJjZSwgYW5kIHRoZSBwYXNzZWRcbiAgICAgKiBvcGVyYXRvciBkZWZpbmVkIGFzIHRoZSBuZXcgb2JzZXJ2YWJsZSdzIG9wZXJhdG9yLlxuICAgICAqIEBtZXRob2QgbGlmdFxuICAgICAqIEBwYXJhbSB7T3BlcmF0b3J9IG9wZXJhdG9yIHRoZSBvcGVyYXRvciBkZWZpbmluZyB0aGUgb3BlcmF0aW9uIHRvIHRha2Ugb24gdGhlIG9ic2VydmFibGVcbiAgICAgKiBAcmV0dXJuIHtPYnNlcnZhYmxlfSBhIG5ldyBvYnNlcnZhYmxlIHdpdGggdGhlIE9wZXJhdG9yIGFwcGxpZWRcbiAgICAgKi9cbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5saWZ0ID0gZnVuY3Rpb24gKG9wZXJhdG9yKSB7XG4gICAgICAgIHZhciBvYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGUoKTtcbiAgICAgICAgb2JzZXJ2YWJsZS5zb3VyY2UgPSB0aGlzO1xuICAgICAgICBvYnNlcnZhYmxlLm9wZXJhdG9yID0gb3BlcmF0b3I7XG4gICAgICAgIHJldHVybiBvYnNlcnZhYmxlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSW52b2tlcyBhbiBleGVjdXRpb24gb2YgYW4gT2JzZXJ2YWJsZSBhbmQgcmVnaXN0ZXJzIE9ic2VydmVyIGhhbmRsZXJzIGZvciBub3RpZmljYXRpb25zIGl0IHdpbGwgZW1pdC5cbiAgICAgKlxuICAgICAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5Vc2UgaXQgd2hlbiB5b3UgaGF2ZSBhbGwgdGhlc2UgT2JzZXJ2YWJsZXMsIGJ1dCBzdGlsbCBub3RoaW5nIGlzIGhhcHBlbmluZy48L3NwYW4+XG4gICAgICpcbiAgICAgKiBgc3Vic2NyaWJlYCBpcyBub3QgYSByZWd1bGFyIG9wZXJhdG9yLCBidXQgYSBtZXRob2QgdGhhdCBjYWxscyBPYnNlcnZhYmxlJ3MgaW50ZXJuYWwgYHN1YnNjcmliZWAgZnVuY3Rpb24uIEl0XG4gICAgICogbWlnaHQgYmUgZm9yIGV4YW1wbGUgYSBmdW5jdGlvbiB0aGF0IHlvdSBwYXNzZWQgdG8gYSB7QGxpbmsgY3JlYXRlfSBzdGF0aWMgZmFjdG9yeSwgYnV0IG1vc3Qgb2YgdGhlIHRpbWUgaXQgaXNcbiAgICAgKiBhIGxpYnJhcnkgaW1wbGVtZW50YXRpb24sIHdoaWNoIGRlZmluZXMgd2hhdCBhbmQgd2hlbiB3aWxsIGJlIGVtaXR0ZWQgYnkgYW4gT2JzZXJ2YWJsZS4gVGhpcyBtZWFucyB0aGF0IGNhbGxpbmdcbiAgICAgKiBgc3Vic2NyaWJlYCBpcyBhY3R1YWxseSB0aGUgbW9tZW50IHdoZW4gT2JzZXJ2YWJsZSBzdGFydHMgaXRzIHdvcmssIG5vdCB3aGVuIGl0IGlzIGNyZWF0ZWQsIGFzIGl0IGlzIG9mdGVuXG4gICAgICogdGhvdWdodC5cbiAgICAgKlxuICAgICAqIEFwYXJ0IGZyb20gc3RhcnRpbmcgdGhlIGV4ZWN1dGlvbiBvZiBhbiBPYnNlcnZhYmxlLCB0aGlzIG1ldGhvZCBhbGxvd3MgeW91IHRvIGxpc3RlbiBmb3IgdmFsdWVzXG4gICAgICogdGhhdCBhbiBPYnNlcnZhYmxlIGVtaXRzLCBhcyB3ZWxsIGFzIGZvciB3aGVuIGl0IGNvbXBsZXRlcyBvciBlcnJvcnMuIFlvdSBjYW4gYWNoaWV2ZSB0aGlzIGluIHR3b1xuICAgICAqIGZvbGxvd2luZyB3YXlzLlxuICAgICAqXG4gICAgICogVGhlIGZpcnN0IHdheSBpcyBjcmVhdGluZyBhbiBvYmplY3QgdGhhdCBpbXBsZW1lbnRzIHtAbGluayBPYnNlcnZlcn0gaW50ZXJmYWNlLiBJdCBzaG91bGQgaGF2ZSBtZXRob2RzXG4gICAgICogZGVmaW5lZCBieSB0aGF0IGludGVyZmFjZSwgYnV0IG5vdGUgdGhhdCBpdCBzaG91bGQgYmUganVzdCBhIHJlZ3VsYXIgSmF2YVNjcmlwdCBvYmplY3QsIHdoaWNoIHlvdSBjYW4gY3JlYXRlXG4gICAgICogeW91cnNlbGYgaW4gYW55IHdheSB5b3Ugd2FudCAoRVM2IGNsYXNzLCBjbGFzc2ljIGZ1bmN0aW9uIGNvbnN0cnVjdG9yLCBvYmplY3QgbGl0ZXJhbCBldGMuKS4gSW4gcGFydGljdWxhciBkb1xuICAgICAqIG5vdCBhdHRlbXB0IHRvIHVzZSBhbnkgUnhKUyBpbXBsZW1lbnRhdGlvbiBkZXRhaWxzIHRvIGNyZWF0ZSBPYnNlcnZlcnMgLSB5b3UgZG9uJ3QgbmVlZCB0aGVtLiBSZW1lbWJlciBhbHNvXG4gICAgICogdGhhdCB5b3VyIG9iamVjdCBkb2VzIG5vdCBoYXZlIHRvIGltcGxlbWVudCBhbGwgbWV0aG9kcy4gSWYgeW91IGZpbmQgeW91cnNlbGYgY3JlYXRpbmcgYSBtZXRob2QgdGhhdCBkb2Vzbid0XG4gICAgICogZG8gYW55dGhpbmcsIHlvdSBjYW4gc2ltcGx5IG9taXQgaXQuIE5vdGUgaG93ZXZlciwgdGhhdCBpZiBgZXJyb3JgIG1ldGhvZCBpcyBub3QgcHJvdmlkZWQsIGFsbCBlcnJvcnMgd2lsbFxuICAgICAqIGJlIGxlZnQgdW5jYXVnaHQuXG4gICAgICpcbiAgICAgKiBUaGUgc2Vjb25kIHdheSBpcyB0byBnaXZlIHVwIG9uIE9ic2VydmVyIG9iamVjdCBhbHRvZ2V0aGVyIGFuZCBzaW1wbHkgcHJvdmlkZSBjYWxsYmFjayBmdW5jdGlvbnMgaW4gcGxhY2Ugb2YgaXRzIG1ldGhvZHMuXG4gICAgICogVGhpcyBtZWFucyB5b3UgY2FuIHByb3ZpZGUgdGhyZWUgZnVuY3Rpb25zIGFzIGFyZ3VtZW50cyB0byBgc3Vic2NyaWJlYCwgd2hlcmUgZmlyc3QgZnVuY3Rpb24gaXMgZXF1aXZhbGVudFxuICAgICAqIG9mIGEgYG5leHRgIG1ldGhvZCwgc2Vjb25kIG9mIGFuIGBlcnJvcmAgbWV0aG9kIGFuZCB0aGlyZCBvZiBhIGBjb21wbGV0ZWAgbWV0aG9kLiBKdXN0IGFzIGluIGNhc2Ugb2YgT2JzZXJ2ZXIsXG4gICAgICogaWYgeW91IGRvIG5vdCBuZWVkIHRvIGxpc3RlbiBmb3Igc29tZXRoaW5nLCB5b3UgY2FuIG9taXQgYSBmdW5jdGlvbiwgcHJlZmVyYWJseSBieSBwYXNzaW5nIGB1bmRlZmluZWRgIG9yIGBudWxsYCxcbiAgICAgKiBzaW5jZSBgc3Vic2NyaWJlYCByZWNvZ25pemVzIHRoZXNlIGZ1bmN0aW9ucyBieSB3aGVyZSB0aGV5IHdlcmUgcGxhY2VkIGluIGZ1bmN0aW9uIGNhbGwuIFdoZW4gaXQgY29tZXNcbiAgICAgKiB0byBgZXJyb3JgIGZ1bmN0aW9uLCBqdXN0IGFzIGJlZm9yZSwgaWYgbm90IHByb3ZpZGVkLCBlcnJvcnMgZW1pdHRlZCBieSBhbiBPYnNlcnZhYmxlIHdpbGwgYmUgdGhyb3duLlxuICAgICAqXG4gICAgICogV2hhdGV2ZXIgc3R5bGUgb2YgY2FsbGluZyBgc3Vic2NyaWJlYCB5b3UgdXNlLCBpbiBib3RoIGNhc2VzIGl0IHJldHVybnMgYSBTdWJzY3JpcHRpb24gb2JqZWN0LlxuICAgICAqIFRoaXMgb2JqZWN0IGFsbG93cyB5b3UgdG8gY2FsbCBgdW5zdWJzY3JpYmVgIG9uIGl0LCB3aGljaCBpbiB0dXJuIHdpbGwgc3RvcCB3b3JrIHRoYXQgYW4gT2JzZXJ2YWJsZSBkb2VzIGFuZCB3aWxsIGNsZWFuXG4gICAgICogdXAgYWxsIHJlc291cmNlcyB0aGF0IGFuIE9ic2VydmFibGUgdXNlZC4gTm90ZSB0aGF0IGNhbmNlbGxpbmcgYSBzdWJzY3JpcHRpb24gd2lsbCBub3QgY2FsbCBgY29tcGxldGVgIGNhbGxiYWNrXG4gICAgICogcHJvdmlkZWQgdG8gYHN1YnNjcmliZWAgZnVuY3Rpb24sIHdoaWNoIGlzIHJlc2VydmVkIGZvciBhIHJlZ3VsYXIgY29tcGxldGlvbiBzaWduYWwgdGhhdCBjb21lcyBmcm9tIGFuIE9ic2VydmFibGUuXG4gICAgICpcbiAgICAgKiBSZW1lbWJlciB0aGF0IGNhbGxiYWNrcyBwcm92aWRlZCB0byBgc3Vic2NyaWJlYCBhcmUgbm90IGd1YXJhbnRlZWQgdG8gYmUgY2FsbGVkIGFzeW5jaHJvbm91c2x5LlxuICAgICAqIEl0IGlzIGFuIE9ic2VydmFibGUgaXRzZWxmIHRoYXQgZGVjaWRlcyB3aGVuIHRoZXNlIGZ1bmN0aW9ucyB3aWxsIGJlIGNhbGxlZC4gRm9yIGV4YW1wbGUge0BsaW5rIG9mfVxuICAgICAqIGJ5IGRlZmF1bHQgZW1pdHMgYWxsIGl0cyB2YWx1ZXMgc3luY2hyb25vdXNseS4gQWx3YXlzIGNoZWNrIGRvY3VtZW50YXRpb24gZm9yIGhvdyBnaXZlbiBPYnNlcnZhYmxlXG4gICAgICogd2lsbCBiZWhhdmUgd2hlbiBzdWJzY3JpYmVkIGFuZCBpZiBpdHMgZGVmYXVsdCBiZWhhdmlvciBjYW4gYmUgbW9kaWZpZWQgd2l0aCBhIHtAbGluayBTY2hlZHVsZXJ9LlxuICAgICAqXG4gICAgICogQGV4YW1wbGUgPGNhcHRpb24+U3Vic2NyaWJlIHdpdGggYW4gT2JzZXJ2ZXI8L2NhcHRpb24+XG4gICAgICogY29uc3Qgc3VtT2JzZXJ2ZXIgPSB7XG4gICAgICogICBzdW06IDAsXG4gICAgICogICBuZXh0KHZhbHVlKSB7XG4gICAgICogICAgIGNvbnNvbGUubG9nKCdBZGRpbmc6ICcgKyB2YWx1ZSk7XG4gICAgICogICAgIHRoaXMuc3VtID0gdGhpcy5zdW0gKyB2YWx1ZTtcbiAgICAgKiAgIH0sXG4gICAgICogICBlcnJvcigpIHsgLy8gV2UgYWN0dWFsbHkgY291bGQganVzdCByZW1vdmUgdGhpcyBtZXRob2QsXG4gICAgICogICB9LCAgICAgICAgLy8gc2luY2Ugd2UgZG8gbm90IHJlYWxseSBjYXJlIGFib3V0IGVycm9ycyByaWdodCBub3cuXG4gICAgICogICBjb21wbGV0ZSgpIHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ1N1bSBlcXVhbHM6ICcgKyB0aGlzLnN1bSk7XG4gICAgICogICB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIFJ4Lk9ic2VydmFibGUub2YoMSwgMiwgMykgLy8gU3luY2hyb25vdXNseSBlbWl0cyAxLCAyLCAzIGFuZCB0aGVuIGNvbXBsZXRlcy5cbiAgICAgKiAuc3Vic2NyaWJlKHN1bU9ic2VydmVyKTtcbiAgICAgKlxuICAgICAqIC8vIExvZ3M6XG4gICAgICogLy8gXCJBZGRpbmc6IDFcIlxuICAgICAqIC8vIFwiQWRkaW5nOiAyXCJcbiAgICAgKiAvLyBcIkFkZGluZzogM1wiXG4gICAgICogLy8gXCJTdW0gZXF1YWxzOiA2XCJcbiAgICAgKlxuICAgICAqXG4gICAgICogQGV4YW1wbGUgPGNhcHRpb24+U3Vic2NyaWJlIHdpdGggZnVuY3Rpb25zPC9jYXB0aW9uPlxuICAgICAqIGxldCBzdW0gPSAwO1xuICAgICAqXG4gICAgICogUnguT2JzZXJ2YWJsZS5vZigxLCAyLCAzKVxuICAgICAqIC5zdWJzY3JpYmUoXG4gICAgICogICBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgICBjb25zb2xlLmxvZygnQWRkaW5nOiAnICsgdmFsdWUpO1xuICAgICAqICAgICBzdW0gPSBzdW0gKyB2YWx1ZTtcbiAgICAgKiAgIH0sXG4gICAgICogICB1bmRlZmluZWQsXG4gICAgICogICBmdW5jdGlvbigpIHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ1N1bSBlcXVhbHM6ICcgKyBzdW0pO1xuICAgICAqICAgfVxuICAgICAqICk7XG4gICAgICpcbiAgICAgKiAvLyBMb2dzOlxuICAgICAqIC8vIFwiQWRkaW5nOiAxXCJcbiAgICAgKiAvLyBcIkFkZGluZzogMlwiXG4gICAgICogLy8gXCJBZGRpbmc6IDNcIlxuICAgICAqIC8vIFwiU3VtIGVxdWFsczogNlwiXG4gICAgICpcbiAgICAgKlxuICAgICAqIEBleGFtcGxlIDxjYXB0aW9uPkNhbmNlbCBhIHN1YnNjcmlwdGlvbjwvY2FwdGlvbj5cbiAgICAgKiBjb25zdCBzdWJzY3JpcHRpb24gPSBSeC5PYnNlcnZhYmxlLmludGVydmFsKDEwMDApLnN1YnNjcmliZShcbiAgICAgKiAgIG51bSA9PiBjb25zb2xlLmxvZyhudW0pLFxuICAgICAqICAgdW5kZWZpbmVkLFxuICAgICAqICAgKCkgPT4gY29uc29sZS5sb2coJ2NvbXBsZXRlZCEnKSAvLyBXaWxsIG5vdCBiZSBjYWxsZWQsIGV2ZW5cbiAgICAgKiApOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2hlbiBjYW5jZWxsaW5nIHN1YnNjcmlwdGlvblxuICAgICAqXG4gICAgICpcbiAgICAgKiBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgKiAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAqICAgY29uc29sZS5sb2coJ3Vuc3Vic2NyaWJlZCEnKTtcbiAgICAgKiB9LCAyNTAwKTtcbiAgICAgKlxuICAgICAqIC8vIExvZ3M6XG4gICAgICogLy8gMCBhZnRlciAxc1xuICAgICAqIC8vIDEgYWZ0ZXIgMnNcbiAgICAgKiAvLyBcInVuc3Vic2NyaWJlZCFcIiBhZnRlciAyLjVzXG4gICAgICpcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JzZXJ2ZXJ8RnVuY3Rpb259IG9ic2VydmVyT3JOZXh0IChvcHRpb25hbCkgRWl0aGVyIGFuIG9ic2VydmVyIHdpdGggbWV0aG9kcyB0byBiZSBjYWxsZWQsXG4gICAgICogIG9yIHRoZSBmaXJzdCBvZiB0aHJlZSBwb3NzaWJsZSBoYW5kbGVycywgd2hpY2ggaXMgdGhlIGhhbmRsZXIgZm9yIGVhY2ggdmFsdWUgZW1pdHRlZCBmcm9tIHRoZSBzdWJzY3JpYmVkXG4gICAgICogIE9ic2VydmFibGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZXJyb3IgKG9wdGlvbmFsKSBBIGhhbmRsZXIgZm9yIGEgdGVybWluYWwgZXZlbnQgcmVzdWx0aW5nIGZyb20gYW4gZXJyb3IuIElmIG5vIGVycm9yIGhhbmRsZXIgaXMgcHJvdmlkZWQsXG4gICAgICogIHRoZSBlcnJvciB3aWxsIGJlIHRocm93biBhcyB1bmhhbmRsZWQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29tcGxldGUgKG9wdGlvbmFsKSBBIGhhbmRsZXIgZm9yIGEgdGVybWluYWwgZXZlbnQgcmVzdWx0aW5nIGZyb20gc3VjY2Vzc2Z1bCBjb21wbGV0aW9uLlxuICAgICAqIEByZXR1cm4ge0lTdWJzY3JpcHRpb259IGEgc3Vic2NyaXB0aW9uIHJlZmVyZW5jZSB0byB0aGUgcmVnaXN0ZXJlZCBoYW5kbGVyc1xuICAgICAqIEBtZXRob2Qgc3Vic2NyaWJlXG4gICAgICovXG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuc3Vic2NyaWJlID0gZnVuY3Rpb24gKG9ic2VydmVyT3JOZXh0LCBlcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgdmFyIG9wZXJhdG9yID0gdGhpcy5vcGVyYXRvcjtcbiAgICAgICAgdmFyIHNpbmsgPSB0b1N1YnNjcmliZXJfMS50b1N1YnNjcmliZXIob2JzZXJ2ZXJPck5leHQsIGVycm9yLCBjb21wbGV0ZSk7XG4gICAgICAgIGlmIChvcGVyYXRvcikge1xuICAgICAgICAgICAgb3BlcmF0b3IuY2FsbChzaW5rLCB0aGlzLnNvdXJjZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzaW5rLmFkZCh0aGlzLnNvdXJjZSA/IHRoaXMuX3N1YnNjcmliZShzaW5rKSA6IHRoaXMuX3RyeVN1YnNjcmliZShzaW5rKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNpbmsuc3luY0Vycm9yVGhyb3dhYmxlKSB7XG4gICAgICAgICAgICBzaW5rLnN5bmNFcnJvclRocm93YWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHNpbmsuc3luY0Vycm9yVGhyb3duKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgc2luay5zeW5jRXJyb3JWYWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2luaztcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLl90cnlTdWJzY3JpYmUgPSBmdW5jdGlvbiAoc2luaykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N1YnNjcmliZShzaW5rKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBzaW5rLnN5bmNFcnJvclRocm93biA9IHRydWU7XG4gICAgICAgICAgICBzaW5rLnN5bmNFcnJvclZhbHVlID0gZXJyO1xuICAgICAgICAgICAgc2luay5lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIGZvckVhY2hcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBuZXh0IGEgaGFuZGxlciBmb3IgZWFjaCB2YWx1ZSBlbWl0dGVkIGJ5IHRoZSBvYnNlcnZhYmxlXG4gICAgICogQHBhcmFtIHtQcm9taXNlQ29uc3RydWN0b3J9IFtQcm9taXNlQ3Rvcl0gYSBjb25zdHJ1Y3RvciBmdW5jdGlvbiB1c2VkIHRvIGluc3RhbnRpYXRlIHRoZSBQcm9taXNlXG4gICAgICogQHJldHVybiB7UHJvbWlzZX0gYSBwcm9taXNlIHRoYXQgZWl0aGVyIHJlc29sdmVzIG9uIG9ic2VydmFibGUgY29tcGxldGlvbiBvclxuICAgICAqICByZWplY3RzIHdpdGggdGhlIGhhbmRsZWQgZXJyb3JcbiAgICAgKi9cbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKG5leHQsIFByb21pc2VDdG9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghUHJvbWlzZUN0b3IpIHtcbiAgICAgICAgICAgIGlmIChyb290XzEucm9vdC5SeCAmJiByb290XzEucm9vdC5SeC5jb25maWcgJiYgcm9vdF8xLnJvb3QuUnguY29uZmlnLlByb21pc2UpIHtcbiAgICAgICAgICAgICAgICBQcm9taXNlQ3RvciA9IHJvb3RfMS5yb290LlJ4LmNvbmZpZy5Qcm9taXNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocm9vdF8xLnJvb3QuUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIFByb21pc2VDdG9yID0gcm9vdF8xLnJvb3QuUHJvbWlzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIVByb21pc2VDdG9yKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vIFByb21pc2UgaW1wbCBmb3VuZCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZUN0b3IoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgLy8gTXVzdCBiZSBkZWNsYXJlZCBpbiBhIHNlcGFyYXRlIHN0YXRlbWVudCB0byBhdm9pZCBhIFJlZmVybmNlRXJyb3Igd2hlblxuICAgICAgICAgICAgLy8gYWNjZXNzaW5nIHN1YnNjcmlwdGlvbiBiZWxvdyBpbiB0aGUgY2xvc3VyZSBkdWUgdG8gVGVtcG9yYWwgRGVhZCBab25lLlxuICAgICAgICAgICAgdmFyIHN1YnNjcmlwdGlvbjtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IF90aGlzLnN1YnNjcmliZShmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIGEgc3Vic2NyaXB0aW9uLCB0aGVuIHdlIGNhbiBzdXJtaXNlXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZSBuZXh0IGhhbmRsaW5nIGlzIGFzeW5jaHJvbm91cy4gQW55IGVycm9ycyB0aHJvd25cbiAgICAgICAgICAgICAgICAgICAgLy8gbmVlZCB0byBiZSByZWplY3RlZCBleHBsaWNpdGx5IGFuZCB1bnN1YnNjcmliZSBtdXN0IGJlXG4gICAgICAgICAgICAgICAgICAgIC8vIGNhbGxlZCBtYW51YWxseVxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlcmUgaXMgTk8gc3Vic2NyaXB0aW9uLCB0aGVuIHdlJ3JlIGdldHRpbmcgYSBuZXh0ZWRcbiAgICAgICAgICAgICAgICAgICAgLy8gdmFsdWUgc3luY2hyb25vdXNseSBkdXJpbmcgc3Vic2NyaXB0aW9uLiBXZSBjYW4ganVzdCBjYWxsIGl0LlxuICAgICAgICAgICAgICAgICAgICAvLyBJZiBpdCBlcnJvcnMsIE9ic2VydmFibGUncyBgc3Vic2NyaWJlYCB3aWxsIGVuc3VyZSB0aGVcbiAgICAgICAgICAgICAgICAgICAgLy8gdW5zdWJzY3JpcHRpb24gbG9naWMgaXMgY2FsbGVkLCB0aGVuIHN5bmNocm9ub3VzbHkgcmV0aHJvdyB0aGUgZXJyb3IuXG4gICAgICAgICAgICAgICAgICAgIC8vIEFmdGVyIHRoYXQsIFByb21pc2Ugd2lsbCB0cmFwIHRoZSBlcnJvciBhbmQgc2VuZCBpdFxuICAgICAgICAgICAgICAgICAgICAvLyBkb3duIHRoZSByZWplY3Rpb24gcGF0aC5cbiAgICAgICAgICAgICAgICAgICAgbmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgcmVqZWN0LCByZXNvbHZlKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5fc3Vic2NyaWJlID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFuIGludGVyb3AgcG9pbnQgZGVmaW5lZCBieSB0aGUgZXM3LW9ic2VydmFibGUgc3BlYyBodHRwczovL2dpdGh1Yi5jb20vemVucGFyc2luZy9lcy1vYnNlcnZhYmxlXG4gICAgICogQG1ldGhvZCBTeW1ib2wub2JzZXJ2YWJsZVxuICAgICAqIEByZXR1cm4ge09ic2VydmFibGV9IHRoaXMgaW5zdGFuY2Ugb2YgdGhlIG9ic2VydmFibGVcbiAgICAgKi9cbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZVtvYnNlcnZhYmxlXzEub2JzZXJ2YWJsZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyogdHNsaW50OmVuYWJsZTptYXgtbGluZS1sZW5ndGggKi9cbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIHN0aXRjaCB0b2dldGhlciBmdW5jdGlvbmFsIG9wZXJhdG9ycyBpbnRvIGEgY2hhaW4uXG4gICAgICogQG1ldGhvZCBwaXBlXG4gICAgICogQHJldHVybiB7T2JzZXJ2YWJsZX0gdGhlIE9ic2VydmFibGUgcmVzdWx0IG9mIGFsbCBvZiB0aGUgb3BlcmF0b3JzIGhhdmluZ1xuICAgICAqIGJlZW4gY2FsbGVkIGluIHRoZSBvcmRlciB0aGV5IHdlcmUgcGFzc2VkIGluLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGltcG9ydCB7IG1hcCwgZmlsdGVyLCBzY2FuIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuICAgICAqXG4gICAgICogUnguT2JzZXJ2YWJsZS5pbnRlcnZhbCgxMDAwKVxuICAgICAqICAgLnBpcGUoXG4gICAgICogICAgIGZpbHRlcih4ID0+IHggJSAyID09PSAwKSxcbiAgICAgKiAgICAgbWFwKHggPT4geCArIHgpLFxuICAgICAqICAgICBzY2FuKChhY2MsIHgpID0+IGFjYyArIHgpXG4gICAgICogICApXG4gICAgICogICAuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpXG4gICAgICovXG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUucGlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9wZXJhdGlvbnMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIG9wZXJhdGlvbnNbX2kgLSAwXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wZXJhdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGlwZV8xLnBpcGVGcm9tQXJyYXkob3BlcmF0aW9ucykodGhpcyk7XG4gICAgfTtcbiAgICAvKiB0c2xpbnQ6ZW5hYmxlOm1heC1saW5lLWxlbmd0aCAqL1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLnRvUHJvbWlzZSA9IGZ1bmN0aW9uIChQcm9taXNlQ3Rvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoIVByb21pc2VDdG9yKSB7XG4gICAgICAgICAgICBpZiAocm9vdF8xLnJvb3QuUnggJiYgcm9vdF8xLnJvb3QuUnguY29uZmlnICYmIHJvb3RfMS5yb290LlJ4LmNvbmZpZy5Qcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgUHJvbWlzZUN0b3IgPSByb290XzEucm9vdC5SeC5jb25maWcuUHJvbWlzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHJvb3RfMS5yb290LlByb21pc2UpIHtcbiAgICAgICAgICAgICAgICBQcm9taXNlQ3RvciA9IHJvb3RfMS5yb290LlByb21pc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFQcm9taXNlQ3Rvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdubyBQcm9taXNlIGltcGwgZm91bmQnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2VDdG9yKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZTtcbiAgICAgICAgICAgIF90aGlzLnN1YnNjcmliZShmdW5jdGlvbiAoeCkgeyByZXR1cm4gdmFsdWUgPSB4OyB9LCBmdW5jdGlvbiAoZXJyKSB7IHJldHVybiByZWplY3QoZXJyKTsgfSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVzb2x2ZSh2YWx1ZSk7IH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8vIEhBQ0s6IFNpbmNlIFR5cGVTY3JpcHQgaW5oZXJpdHMgc3RhdGljIHByb3BlcnRpZXMgdG9vLCB3ZSBoYXZlIHRvXG4gICAgLy8gZmlnaHQgYWdhaW5zdCBUeXBlU2NyaXB0IGhlcmUgc28gU3ViamVjdCBjYW4gaGF2ZSBhIGRpZmZlcmVudCBzdGF0aWMgY3JlYXRlIHNpZ25hdHVyZVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgY29sZCBPYnNlcnZhYmxlIGJ5IGNhbGxpbmcgdGhlIE9ic2VydmFibGUgY29uc3RydWN0b3JcbiAgICAgKiBAc3RhdGljIHRydWVcbiAgICAgKiBAb3duZXIgT2JzZXJ2YWJsZVxuICAgICAqIEBtZXRob2QgY3JlYXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc3Vic2NyaWJlPyB0aGUgc3Vic2NyaWJlciBmdW5jdGlvbiB0byBiZSBwYXNzZWQgdG8gdGhlIE9ic2VydmFibGUgY29uc3RydWN0b3JcbiAgICAgKiBAcmV0dXJuIHtPYnNlcnZhYmxlfSBhIG5ldyBjb2xkIG9ic2VydmFibGVcbiAgICAgKi9cbiAgICBPYnNlcnZhYmxlLmNyZWF0ZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKHN1YnNjcmliZSk7XG4gICAgfTtcbiAgICByZXR1cm4gT2JzZXJ2YWJsZTtcbn0oKSk7XG5leHBvcnRzLk9ic2VydmFibGUgPSBPYnNlcnZhYmxlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T2JzZXJ2YWJsZS5qcy5tYXBcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcnhqcy9PYnNlcnZhYmxlLmpzXG4vLyBtb2R1bGUgaWQgPSA2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xuLy8gQ29tbW9uSlMgLyBOb2RlIGhhdmUgZ2xvYmFsIGNvbnRleHQgZXhwb3NlZCBhcyBcImdsb2JhbFwiIHZhcmlhYmxlLlxuLy8gV2UgZG9uJ3Qgd2FudCB0byBpbmNsdWRlIHRoZSB3aG9sZSBub2RlLmQudHMgdGhpcyB0aGlzIGNvbXBpbGF0aW9uIHVuaXQgc28gd2UnbGwganVzdCBmYWtlXG4vLyB0aGUgZ2xvYmFsIFwiZ2xvYmFsXCIgdmFyIGZvciBub3cuXG52YXIgX193aW5kb3cgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3c7XG52YXIgX19zZWxmID0gdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICBzZWxmIGluc3RhbmNlb2YgV29ya2VyR2xvYmFsU2NvcGUgJiYgc2VsZjtcbnZhciBfX2dsb2JhbCA9IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnICYmIGdsb2JhbDtcbnZhciBfcm9vdCA9IF9fd2luZG93IHx8IF9fZ2xvYmFsIHx8IF9fc2VsZjtcbmV4cG9ydHMucm9vdCA9IF9yb290O1xuLy8gV29ya2Fyb3VuZCBDbG9zdXJlIENvbXBpbGVyIHJlc3RyaWN0aW9uOiBUaGUgYm9keSBvZiBhIGdvb2cubW9kdWxlIGNhbm5vdCB1c2UgdGhyb3cuXG4vLyBUaGlzIGlzIG5lZWRlZCB3aGVuIHVzZWQgd2l0aCBhbmd1bGFyL3RzaWNrbGUgd2hpY2ggaW5zZXJ0cyBhIGdvb2cubW9kdWxlIHN0YXRlbWVudC5cbi8vIFdyYXAgaW4gSUlGRVxuKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIV9yb290KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUnhKUyBjb3VsZCBub3QgZmluZCBhbnkgZ2xvYmFsIGNvbnRleHQgKHdpbmRvdywgc2VsZiwgZ2xvYmFsKScpO1xuICAgIH1cbn0pKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yb290LmpzLm1hcFxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9yeGpzL3V0aWwvcm9vdC5qc1xuLy8gbW9kdWxlIGlkID0gN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBTdWJzY3JpYmVyXzEgPSByZXF1aXJlKCcuLi9TdWJzY3JpYmVyJyk7XG52YXIgcnhTdWJzY3JpYmVyXzEgPSByZXF1aXJlKCcuLi9zeW1ib2wvcnhTdWJzY3JpYmVyJyk7XG52YXIgT2JzZXJ2ZXJfMSA9IHJlcXVpcmUoJy4uL09ic2VydmVyJyk7XG5mdW5jdGlvbiB0b1N1YnNjcmliZXIobmV4dE9yT2JzZXJ2ZXIsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgIGlmIChuZXh0T3JPYnNlcnZlcikge1xuICAgICAgICBpZiAobmV4dE9yT2JzZXJ2ZXIgaW5zdGFuY2VvZiBTdWJzY3JpYmVyXzEuU3Vic2NyaWJlcikge1xuICAgICAgICAgICAgcmV0dXJuIG5leHRPck9ic2VydmVyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZXh0T3JPYnNlcnZlcltyeFN1YnNjcmliZXJfMS5yeFN1YnNjcmliZXJdKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV4dE9yT2JzZXJ2ZXJbcnhTdWJzY3JpYmVyXzEucnhTdWJzY3JpYmVyXSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICghbmV4dE9yT2JzZXJ2ZXIgJiYgIWVycm9yICYmICFjb21wbGV0ZSkge1xuICAgICAgICByZXR1cm4gbmV3IFN1YnNjcmliZXJfMS5TdWJzY3JpYmVyKE9ic2VydmVyXzEuZW1wdHkpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFN1YnNjcmliZXJfMS5TdWJzY3JpYmVyKG5leHRPck9ic2VydmVyLCBlcnJvciwgY29tcGxldGUpO1xufVxuZXhwb3J0cy50b1N1YnNjcmliZXIgPSB0b1N1YnNjcmliZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10b1N1YnNjcmliZXIuanMubWFwXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3J4anMvdXRpbC90b1N1YnNjcmliZXIuanNcbi8vIG1vZHVsZSBpZCA9IDhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xufTtcbnZhciBpc0Z1bmN0aW9uXzEgPSByZXF1aXJlKCcuL3V0aWwvaXNGdW5jdGlvbicpO1xudmFyIFN1YnNjcmlwdGlvbl8xID0gcmVxdWlyZSgnLi9TdWJzY3JpcHRpb24nKTtcbnZhciBPYnNlcnZlcl8xID0gcmVxdWlyZSgnLi9PYnNlcnZlcicpO1xudmFyIHJ4U3Vic2NyaWJlcl8xID0gcmVxdWlyZSgnLi9zeW1ib2wvcnhTdWJzY3JpYmVyJyk7XG4vKipcbiAqIEltcGxlbWVudHMgdGhlIHtAbGluayBPYnNlcnZlcn0gaW50ZXJmYWNlIGFuZCBleHRlbmRzIHRoZVxuICoge0BsaW5rIFN1YnNjcmlwdGlvbn0gY2xhc3MuIFdoaWxlIHRoZSB7QGxpbmsgT2JzZXJ2ZXJ9IGlzIHRoZSBwdWJsaWMgQVBJIGZvclxuICogY29uc3VtaW5nIHRoZSB2YWx1ZXMgb2YgYW4ge0BsaW5rIE9ic2VydmFibGV9LCBhbGwgT2JzZXJ2ZXJzIGdldCBjb252ZXJ0ZWQgdG9cbiAqIGEgU3Vic2NyaWJlciwgaW4gb3JkZXIgdG8gcHJvdmlkZSBTdWJzY3JpcHRpb24tbGlrZSBjYXBhYmlsaXRpZXMgc3VjaCBhc1xuICogYHVuc3Vic2NyaWJlYC4gU3Vic2NyaWJlciBpcyBhIGNvbW1vbiB0eXBlIGluIFJ4SlMsIGFuZCBjcnVjaWFsIGZvclxuICogaW1wbGVtZW50aW5nIG9wZXJhdG9ycywgYnV0IGl0IGlzIHJhcmVseSB1c2VkIGFzIGEgcHVibGljIEFQSS5cbiAqXG4gKiBAY2xhc3MgU3Vic2NyaWJlcjxUPlxuICovXG52YXIgU3Vic2NyaWJlciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtPYnNlcnZlcnxmdW5jdGlvbih2YWx1ZTogVCk6IHZvaWR9IFtkZXN0aW5hdGlvbk9yTmV4dF0gQSBwYXJ0aWFsbHlcbiAgICAgKiBkZWZpbmVkIE9ic2VydmVyIG9yIGEgYG5leHRgIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oZTogP2FueSk6IHZvaWR9IFtlcnJvcl0gVGhlIGBlcnJvcmAgY2FsbGJhY2sgb2YgYW5cbiAgICAgKiBPYnNlcnZlci5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCk6IHZvaWR9IFtjb21wbGV0ZV0gVGhlIGBjb21wbGV0ZWAgY2FsbGJhY2sgb2YgYW5cbiAgICAgKiBPYnNlcnZlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTdWJzY3JpYmVyKGRlc3RpbmF0aW9uT3JOZXh0LCBlcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuc3luY0Vycm9yVmFsdWUgPSBudWxsO1xuICAgICAgICB0aGlzLnN5bmNFcnJvclRocm93biA9IGZhbHNlO1xuICAgICAgICB0aGlzLnN5bmNFcnJvclRocm93YWJsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IGZhbHNlO1xuICAgICAgICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uID0gT2JzZXJ2ZXJfMS5lbXB0eTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBpZiAoIWRlc3RpbmF0aW9uT3JOZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24gPSBPYnNlcnZlcl8xLmVtcHR5O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkZXN0aW5hdGlvbk9yTmV4dCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlc3RpbmF0aW9uT3JOZXh0IGluc3RhbmNlb2YgU3Vic2NyaWJlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbiA9IGRlc3RpbmF0aW9uT3JOZXh0O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5hZGQodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN5bmNFcnJvclRocm93YWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uID0gbmV3IFNhZmVTdWJzY3JpYmVyKHRoaXMsIGRlc3RpbmF0aW9uT3JOZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRoaXMuc3luY0Vycm9yVGhyb3dhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uID0gbmV3IFNhZmVTdWJzY3JpYmVyKHRoaXMsIGRlc3RpbmF0aW9uT3JOZXh0LCBlcnJvciwgY29tcGxldGUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIFN1YnNjcmliZXIucHJvdG90eXBlW3J4U3Vic2NyaWJlcl8xLnJ4U3Vic2NyaWJlcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9O1xuICAgIC8qKlxuICAgICAqIEEgc3RhdGljIGZhY3RvcnkgZm9yIGEgU3Vic2NyaWJlciwgZ2l2ZW4gYSAocG90ZW50aWFsbHkgcGFydGlhbCkgZGVmaW5pdGlvblxuICAgICAqIG9mIGFuIE9ic2VydmVyLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oeDogP1QpOiB2b2lkfSBbbmV4dF0gVGhlIGBuZXh0YCBjYWxsYmFjayBvZiBhbiBPYnNlcnZlci5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGU6ID9hbnkpOiB2b2lkfSBbZXJyb3JdIFRoZSBgZXJyb3JgIGNhbGxiYWNrIG9mIGFuXG4gICAgICogT2JzZXJ2ZXIuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbigpOiB2b2lkfSBbY29tcGxldGVdIFRoZSBgY29tcGxldGVgIGNhbGxiYWNrIG9mIGFuXG4gICAgICogT2JzZXJ2ZXIuXG4gICAgICogQHJldHVybiB7U3Vic2NyaWJlcjxUPn0gQSBTdWJzY3JpYmVyIHdyYXBwaW5nIHRoZSAocGFydGlhbGx5IGRlZmluZWQpXG4gICAgICogT2JzZXJ2ZXIgcmVwcmVzZW50ZWQgYnkgdGhlIGdpdmVuIGFyZ3VtZW50cy5cbiAgICAgKi9cbiAgICBTdWJzY3JpYmVyLmNyZWF0ZSA9IGZ1bmN0aW9uIChuZXh0LCBlcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgdmFyIHN1YnNjcmliZXIgPSBuZXcgU3Vic2NyaWJlcihuZXh0LCBlcnJvciwgY29tcGxldGUpO1xuICAgICAgICBzdWJzY3JpYmVyLnN5bmNFcnJvclRocm93YWJsZSA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gc3Vic2NyaWJlcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoZSB7QGxpbmsgT2JzZXJ2ZXJ9IGNhbGxiYWNrIHRvIHJlY2VpdmUgbm90aWZpY2F0aW9ucyBvZiB0eXBlIGBuZXh0YCBmcm9tXG4gICAgICogdGhlIE9ic2VydmFibGUsIHdpdGggYSB2YWx1ZS4gVGhlIE9ic2VydmFibGUgbWF5IGNhbGwgdGhpcyBtZXRob2QgMCBvciBtb3JlXG4gICAgICogdGltZXMuXG4gICAgICogQHBhcmFtIHtUfSBbdmFsdWVdIFRoZSBgbmV4dGAgdmFsdWUuXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX25leHQodmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGUge0BsaW5rIE9ic2VydmVyfSBjYWxsYmFjayB0byByZWNlaXZlIG5vdGlmaWNhdGlvbnMgb2YgdHlwZSBgZXJyb3JgIGZyb21cbiAgICAgKiB0aGUgT2JzZXJ2YWJsZSwgd2l0aCBhbiBhdHRhY2hlZCB7QGxpbmsgRXJyb3J9LiBOb3RpZmllcyB0aGUgT2JzZXJ2ZXIgdGhhdFxuICAgICAqIHRoZSBPYnNlcnZhYmxlIGhhcyBleHBlcmllbmNlZCBhbiBlcnJvciBjb25kaXRpb24uXG4gICAgICogQHBhcmFtIHthbnl9IFtlcnJdIFRoZSBgZXJyb3JgIGV4Y2VwdGlvbi5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGUge0BsaW5rIE9ic2VydmVyfSBjYWxsYmFjayB0byByZWNlaXZlIGEgdmFsdWVsZXNzIG5vdGlmaWNhdGlvbiBvZiB0eXBlXG4gICAgICogYGNvbXBsZXRlYCBmcm9tIHRoZSBPYnNlcnZhYmxlLiBOb3RpZmllcyB0aGUgT2JzZXJ2ZXIgdGhhdCB0aGUgT2JzZXJ2YWJsZVxuICAgICAqIGhhcyBmaW5pc2hlZCBzZW5kaW5nIHB1c2gtYmFzZWQgbm90aWZpY2F0aW9ucy5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnVuc3Vic2NyaWJlLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQodmFsdWUpO1xuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuX2Vycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5fdW5zdWJzY3JpYmVBbmRSZWN5Y2xlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBfcGFyZW50ID0gX2EuX3BhcmVudCwgX3BhcmVudHMgPSBfYS5fcGFyZW50cztcbiAgICAgICAgdGhpcy5fcGFyZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcGFyZW50cyA9IG51bGw7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgdGhpcy5jbG9zZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcGFyZW50ID0gX3BhcmVudDtcbiAgICAgICAgdGhpcy5fcGFyZW50cyA9IF9wYXJlbnRzO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIHJldHVybiBTdWJzY3JpYmVyO1xufShTdWJzY3JpcHRpb25fMS5TdWJzY3JpcHRpb24pKTtcbmV4cG9ydHMuU3Vic2NyaWJlciA9IFN1YnNjcmliZXI7XG4vKipcbiAqIFdlIG5lZWQgdGhpcyBKU0RvYyBjb21tZW50IGZvciBhZmZlY3RpbmcgRVNEb2MuXG4gKiBAaWdub3JlXG4gKiBAZXh0ZW5kcyB7SWdub3JlZH1cbiAqL1xudmFyIFNhZmVTdWJzY3JpYmVyID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU2FmZVN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU2FmZVN1YnNjcmliZXIoX3BhcmVudFN1YnNjcmliZXIsIG9ic2VydmVyT3JOZXh0LCBlcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuX3BhcmVudFN1YnNjcmliZXIgPSBfcGFyZW50U3Vic2NyaWJlcjtcbiAgICAgICAgdmFyIG5leHQ7XG4gICAgICAgIHZhciBjb250ZXh0ID0gdGhpcztcbiAgICAgICAgaWYgKGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKG9ic2VydmVyT3JOZXh0KSkge1xuICAgICAgICAgICAgbmV4dCA9IG9ic2VydmVyT3JOZXh0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9ic2VydmVyT3JOZXh0KSB7XG4gICAgICAgICAgICBuZXh0ID0gb2JzZXJ2ZXJPck5leHQubmV4dDtcbiAgICAgICAgICAgIGVycm9yID0gb2JzZXJ2ZXJPck5leHQuZXJyb3I7XG4gICAgICAgICAgICBjb21wbGV0ZSA9IG9ic2VydmVyT3JOZXh0LmNvbXBsZXRlO1xuICAgICAgICAgICAgaWYgKG9ic2VydmVyT3JOZXh0ICE9PSBPYnNlcnZlcl8xLmVtcHR5KSB7XG4gICAgICAgICAgICAgICAgY29udGV4dCA9IE9iamVjdC5jcmVhdGUob2JzZXJ2ZXJPck5leHQpO1xuICAgICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uXzEuaXNGdW5jdGlvbihjb250ZXh0LnVuc3Vic2NyaWJlKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZChjb250ZXh0LnVuc3Vic2NyaWJlLmJpbmQoY29udGV4dCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250ZXh0LnVuc3Vic2NyaWJlID0gdGhpcy51bnN1YnNjcmliZS5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLl9uZXh0ID0gbmV4dDtcbiAgICAgICAgdGhpcy5fZXJyb3IgPSBlcnJvcjtcbiAgICAgICAgdGhpcy5fY29tcGxldGUgPSBjb21wbGV0ZTtcbiAgICB9XG4gICAgU2FmZVN1YnNjcmliZXIucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCAmJiB0aGlzLl9uZXh0KSB7XG4gICAgICAgICAgICB2YXIgX3BhcmVudFN1YnNjcmliZXIgPSB0aGlzLl9wYXJlbnRTdWJzY3JpYmVyO1xuICAgICAgICAgICAgaWYgKCFfcGFyZW50U3Vic2NyaWJlci5zeW5jRXJyb3JUaHJvd2FibGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9fdHJ5T3JVbnN1Yih0aGlzLl9uZXh0LCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLl9fdHJ5T3JTZXRFcnJvcihfcGFyZW50U3Vic2NyaWJlciwgdGhpcy5fbmV4dCwgdmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTYWZlU3Vic2NyaWJlci5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHZhciBfcGFyZW50U3Vic2NyaWJlciA9IHRoaXMuX3BhcmVudFN1YnNjcmliZXI7XG4gICAgICAgICAgICBpZiAodGhpcy5fZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoIV9wYXJlbnRTdWJzY3JpYmVyLnN5bmNFcnJvclRocm93YWJsZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9fdHJ5T3JVbnN1Yih0aGlzLl9lcnJvciwgZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fX3RyeU9yU2V0RXJyb3IoX3BhcmVudFN1YnNjcmliZXIsIHRoaXMuX2Vycm9yLCBlcnIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIV9wYXJlbnRTdWJzY3JpYmVyLnN5bmNFcnJvclRocm93YWJsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBfcGFyZW50U3Vic2NyaWJlci5zeW5jRXJyb3JWYWx1ZSA9IGVycjtcbiAgICAgICAgICAgICAgICBfcGFyZW50U3Vic2NyaWJlci5zeW5jRXJyb3JUaHJvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU2FmZVN1YnNjcmliZXIucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB2YXIgX3BhcmVudFN1YnNjcmliZXIgPSB0aGlzLl9wYXJlbnRTdWJzY3JpYmVyO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2NvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHdyYXBwZWRDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLl9jb21wbGV0ZS5jYWxsKF90aGlzLl9jb250ZXh0KTsgfTtcbiAgICAgICAgICAgICAgICBpZiAoIV9wYXJlbnRTdWJzY3JpYmVyLnN5bmNFcnJvclRocm93YWJsZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9fdHJ5T3JVbnN1Yih3cmFwcGVkQ29tcGxldGUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9fdHJ5T3JTZXRFcnJvcihfcGFyZW50U3Vic2NyaWJlciwgd3JhcHBlZENvbXBsZXRlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU2FmZVN1YnNjcmliZXIucHJvdG90eXBlLl9fdHJ5T3JVbnN1YiA9IGZ1bmN0aW9uIChmbiwgdmFsdWUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZuLmNhbGwodGhpcy5fY29udGV4dCwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU2FmZVN1YnNjcmliZXIucHJvdG90eXBlLl9fdHJ5T3JTZXRFcnJvciA9IGZ1bmN0aW9uIChwYXJlbnQsIGZuLCB2YWx1ZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm4uY2FsbCh0aGlzLl9jb250ZXh0LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgcGFyZW50LnN5bmNFcnJvclZhbHVlID0gZXJyO1xuICAgICAgICAgICAgcGFyZW50LnN5bmNFcnJvclRocm93biA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBTYWZlU3Vic2NyaWJlci5wcm90b3R5cGUuX3Vuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3BhcmVudFN1YnNjcmliZXIgPSB0aGlzLl9wYXJlbnRTdWJzY3JpYmVyO1xuICAgICAgICB0aGlzLl9jb250ZXh0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcGFyZW50U3Vic2NyaWJlciA9IG51bGw7XG4gICAgICAgIF9wYXJlbnRTdWJzY3JpYmVyLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gU2FmZVN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN1YnNjcmliZXIuanMubWFwXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3J4anMvU3Vic2NyaWJlci5qc1xuLy8gbW9kdWxlIGlkID0gOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGlzRnVuY3Rpb24oeCkge1xuICAgIHJldHVybiB0eXBlb2YgeCA9PT0gJ2Z1bmN0aW9uJztcbn1cbmV4cG9ydHMuaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc0Z1bmN0aW9uLmpzLm1hcFxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9yeGpzL3V0aWwvaXNGdW5jdGlvbi5qc1xuLy8gbW9kdWxlIGlkID0gMTBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgaXNBcnJheV8xID0gcmVxdWlyZSgnLi91dGlsL2lzQXJyYXknKTtcbnZhciBpc09iamVjdF8xID0gcmVxdWlyZSgnLi91dGlsL2lzT2JqZWN0Jyk7XG52YXIgaXNGdW5jdGlvbl8xID0gcmVxdWlyZSgnLi91dGlsL2lzRnVuY3Rpb24nKTtcbnZhciB0cnlDYXRjaF8xID0gcmVxdWlyZSgnLi91dGlsL3RyeUNhdGNoJyk7XG52YXIgZXJyb3JPYmplY3RfMSA9IHJlcXVpcmUoJy4vdXRpbC9lcnJvck9iamVjdCcpO1xudmFyIFVuc3Vic2NyaXB0aW9uRXJyb3JfMSA9IHJlcXVpcmUoJy4vdXRpbC9VbnN1YnNjcmlwdGlvbkVycm9yJyk7XG4vKipcbiAqIFJlcHJlc2VudHMgYSBkaXNwb3NhYmxlIHJlc291cmNlLCBzdWNoIGFzIHRoZSBleGVjdXRpb24gb2YgYW4gT2JzZXJ2YWJsZS4gQVxuICogU3Vic2NyaXB0aW9uIGhhcyBvbmUgaW1wb3J0YW50IG1ldGhvZCwgYHVuc3Vic2NyaWJlYCwgdGhhdCB0YWtlcyBubyBhcmd1bWVudFxuICogYW5kIGp1c3QgZGlzcG9zZXMgdGhlIHJlc291cmNlIGhlbGQgYnkgdGhlIHN1YnNjcmlwdGlvbi5cbiAqXG4gKiBBZGRpdGlvbmFsbHksIHN1YnNjcmlwdGlvbnMgbWF5IGJlIGdyb3VwZWQgdG9nZXRoZXIgdGhyb3VnaCB0aGUgYGFkZCgpYFxuICogbWV0aG9kLCB3aGljaCB3aWxsIGF0dGFjaCBhIGNoaWxkIFN1YnNjcmlwdGlvbiB0byB0aGUgY3VycmVudCBTdWJzY3JpcHRpb24uXG4gKiBXaGVuIGEgU3Vic2NyaXB0aW9uIGlzIHVuc3Vic2NyaWJlZCwgYWxsIGl0cyBjaGlsZHJlbiAoYW5kIGl0cyBncmFuZGNoaWxkcmVuKVxuICogd2lsbCBiZSB1bnN1YnNjcmliZWQgYXMgd2VsbC5cbiAqXG4gKiBAY2xhc3MgU3Vic2NyaXB0aW9uXG4gKi9cbnZhciBTdWJzY3JpcHRpb24gPSAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oKTogdm9pZH0gW3Vuc3Vic2NyaWJlXSBBIGZ1bmN0aW9uIGRlc2NyaWJpbmcgaG93IHRvXG4gICAgICogcGVyZm9ybSB0aGUgZGlzcG9zYWwgb2YgcmVzb3VyY2VzIHdoZW4gdGhlIGB1bnN1YnNjcmliZWAgbWV0aG9kIGlzIGNhbGxlZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTdWJzY3JpcHRpb24odW5zdWJzY3JpYmUpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgZmxhZyB0byBpbmRpY2F0ZSB3aGV0aGVyIHRoaXMgU3Vic2NyaXB0aW9uIGhhcyBhbHJlYWR5IGJlZW4gdW5zdWJzY3JpYmVkLlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2xvc2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3BhcmVudCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3BhcmVudHMgPSBudWxsO1xuICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25zID0gbnVsbDtcbiAgICAgICAgaWYgKHVuc3Vic2NyaWJlKSB7XG4gICAgICAgICAgICB0aGlzLl91bnN1YnNjcmliZSA9IHVuc3Vic2NyaWJlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc3Bvc2VzIHRoZSByZXNvdXJjZXMgaGVsZCBieSB0aGUgc3Vic2NyaXB0aW9uLiBNYXksIGZvciBpbnN0YW5jZSwgY2FuY2VsXG4gICAgICogYW4gb25nb2luZyBPYnNlcnZhYmxlIGV4ZWN1dGlvbiBvciBjYW5jZWwgYW55IG90aGVyIHR5cGUgb2Ygd29yayB0aGF0XG4gICAgICogc3RhcnRlZCB3aGVuIHRoZSBTdWJzY3JpcHRpb24gd2FzIGNyZWF0ZWQuXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaGFzRXJyb3JzID0gZmFsc2U7XG4gICAgICAgIHZhciBlcnJvcnM7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIF9wYXJlbnQgPSBfYS5fcGFyZW50LCBfcGFyZW50cyA9IF9hLl9wYXJlbnRzLCBfdW5zdWJzY3JpYmUgPSBfYS5fdW5zdWJzY3JpYmUsIF9zdWJzY3JpcHRpb25zID0gX2EuX3N1YnNjcmlwdGlvbnM7XG4gICAgICAgIHRoaXMuY2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fcGFyZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcGFyZW50cyA9IG51bGw7XG4gICAgICAgIC8vIG51bGwgb3V0IF9zdWJzY3JpcHRpb25zIGZpcnN0IHNvIGFueSBjaGlsZCBzdWJzY3JpcHRpb25zIHRoYXQgYXR0ZW1wdFxuICAgICAgICAvLyB0byByZW1vdmUgdGhlbXNlbHZlcyBmcm9tIHRoaXMgc3Vic2NyaXB0aW9uIHdpbGwgbm9vcFxuICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25zID0gbnVsbDtcbiAgICAgICAgdmFyIGluZGV4ID0gLTE7XG4gICAgICAgIHZhciBsZW4gPSBfcGFyZW50cyA/IF9wYXJlbnRzLmxlbmd0aCA6IDA7XG4gICAgICAgIC8vIGlmIHRoaXMuX3BhcmVudCBpcyBudWxsLCB0aGVuIHNvIGlzIHRoaXMuX3BhcmVudHMsIGFuZCB3ZVxuICAgICAgICAvLyBkb24ndCBoYXZlIHRvIHJlbW92ZSBvdXJzZWx2ZXMgZnJvbSBhbnkgcGFyZW50IHN1YnNjcmlwdGlvbnMuXG4gICAgICAgIHdoaWxlIChfcGFyZW50KSB7XG4gICAgICAgICAgICBfcGFyZW50LnJlbW92ZSh0aGlzKTtcbiAgICAgICAgICAgIC8vIGlmIHRoaXMuX3BhcmVudHMgaXMgbnVsbCBvciBpbmRleCA+PSBsZW4sXG4gICAgICAgICAgICAvLyB0aGVuIF9wYXJlbnQgaXMgc2V0IHRvIG51bGwsIGFuZCB0aGUgbG9vcCBleGl0c1xuICAgICAgICAgICAgX3BhcmVudCA9ICsraW5kZXggPCBsZW4gJiYgX3BhcmVudHNbaW5kZXhdIHx8IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzRnVuY3Rpb25fMS5pc0Z1bmN0aW9uKF91bnN1YnNjcmliZSkpIHtcbiAgICAgICAgICAgIHZhciB0cmlhbCA9IHRyeUNhdGNoXzEudHJ5Q2F0Y2goX3Vuc3Vic2NyaWJlKS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgaWYgKHRyaWFsID09PSBlcnJvck9iamVjdF8xLmVycm9yT2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgaGFzRXJyb3JzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgfHwgKGVycm9yT2JqZWN0XzEuZXJyb3JPYmplY3QuZSBpbnN0YW5jZW9mIFVuc3Vic2NyaXB0aW9uRXJyb3JfMS5VbnN1YnNjcmlwdGlvbkVycm9yID9cbiAgICAgICAgICAgICAgICAgICAgZmxhdHRlblVuc3Vic2NyaXB0aW9uRXJyb3JzKGVycm9yT2JqZWN0XzEuZXJyb3JPYmplY3QuZS5lcnJvcnMpIDogW2Vycm9yT2JqZWN0XzEuZXJyb3JPYmplY3QuZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpc0FycmF5XzEuaXNBcnJheShfc3Vic2NyaXB0aW9ucykpIHtcbiAgICAgICAgICAgIGluZGV4ID0gLTE7XG4gICAgICAgICAgICBsZW4gPSBfc3Vic2NyaXB0aW9ucy5sZW5ndGg7XG4gICAgICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbikge1xuICAgICAgICAgICAgICAgIHZhciBzdWIgPSBfc3Vic2NyaXB0aW9uc1tpbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKGlzT2JqZWN0XzEuaXNPYmplY3Qoc3ViKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdHJpYWwgPSB0cnlDYXRjaF8xLnRyeUNhdGNoKHN1Yi51bnN1YnNjcmliZSkuY2FsbChzdWIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHJpYWwgPT09IGVycm9yT2JqZWN0XzEuZXJyb3JPYmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc0Vycm9ycyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgfHwgW107XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyID0gZXJyb3JPYmplY3RfMS5lcnJvck9iamVjdC5lO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVyciBpbnN0YW5jZW9mIFVuc3Vic2NyaXB0aW9uRXJyb3JfMS5VbnN1YnNjcmlwdGlvbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzLmNvbmNhdChmbGF0dGVuVW5zdWJzY3JpcHRpb25FcnJvcnMoZXJyLmVycm9ycykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFzRXJyb3JzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVW5zdWJzY3JpcHRpb25FcnJvcl8xLlVuc3Vic2NyaXB0aW9uRXJyb3IoZXJyb3JzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBhIHRlYXIgZG93biB0byBiZSBjYWxsZWQgZHVyaW5nIHRoZSB1bnN1YnNjcmliZSgpIG9mIHRoaXNcbiAgICAgKiBTdWJzY3JpcHRpb24uXG4gICAgICpcbiAgICAgKiBJZiB0aGUgdGVhciBkb3duIGJlaW5nIGFkZGVkIGlzIGEgc3Vic2NyaXB0aW9uIHRoYXQgaXMgYWxyZWFkeVxuICAgICAqIHVuc3Vic2NyaWJlZCwgaXMgdGhlIHNhbWUgcmVmZXJlbmNlIGBhZGRgIGlzIGJlaW5nIGNhbGxlZCBvbiwgb3IgaXNcbiAgICAgKiBgU3Vic2NyaXB0aW9uLkVNUFRZYCwgaXQgd2lsbCBub3QgYmUgYWRkZWQuXG4gICAgICpcbiAgICAgKiBJZiB0aGlzIHN1YnNjcmlwdGlvbiBpcyBhbHJlYWR5IGluIGFuIGBjbG9zZWRgIHN0YXRlLCB0aGUgcGFzc2VkXG4gICAgICogdGVhciBkb3duIGxvZ2ljIHdpbGwgYmUgZXhlY3V0ZWQgaW1tZWRpYXRlbHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1RlYXJkb3duTG9naWN9IHRlYXJkb3duIFRoZSBhZGRpdGlvbmFsIGxvZ2ljIHRvIGV4ZWN1dGUgb25cbiAgICAgKiB0ZWFyZG93bi5cbiAgICAgKiBAcmV0dXJuIHtTdWJzY3JpcHRpb259IFJldHVybnMgdGhlIFN1YnNjcmlwdGlvbiB1c2VkIG9yIGNyZWF0ZWQgdG8gYmVcbiAgICAgKiBhZGRlZCB0byB0aGUgaW5uZXIgc3Vic2NyaXB0aW9ucyBsaXN0LiBUaGlzIFN1YnNjcmlwdGlvbiBjYW4gYmUgdXNlZCB3aXRoXG4gICAgICogYHJlbW92ZSgpYCB0byByZW1vdmUgdGhlIHBhc3NlZCB0ZWFyZG93biBsb2dpYyBmcm9tIHRoZSBpbm5lciBzdWJzY3JpcHRpb25zXG4gICAgICogbGlzdC5cbiAgICAgKi9cbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uICh0ZWFyZG93bikge1xuICAgICAgICBpZiAoIXRlYXJkb3duIHx8ICh0ZWFyZG93biA9PT0gU3Vic2NyaXB0aW9uLkVNUFRZKSkge1xuICAgICAgICAgICAgcmV0dXJuIFN1YnNjcmlwdGlvbi5FTVBUWTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGVhcmRvd24gPT09IHRoaXMpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb24gPSB0ZWFyZG93bjtcbiAgICAgICAgc3dpdGNoICh0eXBlb2YgdGVhcmRvd24pIHtcbiAgICAgICAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24gPSBuZXcgU3Vic2NyaXB0aW9uKHRlYXJkb3duKTtcbiAgICAgICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgICAgICAgICAgaWYgKHN1YnNjcmlwdGlvbi5jbG9zZWQgfHwgdHlwZW9mIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHN1YnNjcmlwdGlvbi5fYWRkUGFyZW50ICE9PSAnZnVuY3Rpb24nIC8qIHF1YWNrIHF1YWNrICovKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0bXAgPSBzdWJzY3JpcHRpb247XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IG5ldyBTdWJzY3JpcHRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uLl9zdWJzY3JpcHRpb25zID0gW3RtcF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3VucmVjb2duaXplZCB0ZWFyZG93biAnICsgdGVhcmRvd24gKyAnIGFkZGVkIHRvIFN1YnNjcmlwdGlvbi4nKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3Vic2NyaXB0aW9ucyA9IHRoaXMuX3N1YnNjcmlwdGlvbnMgfHwgKHRoaXMuX3N1YnNjcmlwdGlvbnMgPSBbXSk7XG4gICAgICAgIHN1YnNjcmlwdGlvbnMucHVzaChzdWJzY3JpcHRpb24pO1xuICAgICAgICBzdWJzY3JpcHRpb24uX2FkZFBhcmVudCh0aGlzKTtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSBTdWJzY3JpcHRpb24gZnJvbSB0aGUgaW50ZXJuYWwgbGlzdCBvZiBzdWJzY3JpcHRpb25zIHRoYXQgd2lsbFxuICAgICAqIHVuc3Vic2NyaWJlIGR1cmluZyB0aGUgdW5zdWJzY3JpYmUgcHJvY2VzcyBvZiB0aGlzIFN1YnNjcmlwdGlvbi5cbiAgICAgKiBAcGFyYW0ge1N1YnNjcmlwdGlvbn0gc3Vic2NyaXB0aW9uIFRoZSBzdWJzY3JpcHRpb24gdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb25zID0gdGhpcy5fc3Vic2NyaXB0aW9ucztcbiAgICAgICAgaWYgKHN1YnNjcmlwdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciBzdWJzY3JpcHRpb25JbmRleCA9IHN1YnNjcmlwdGlvbnMuaW5kZXhPZihzdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgaWYgKHN1YnNjcmlwdGlvbkluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbnMuc3BsaWNlKHN1YnNjcmlwdGlvbkluZGV4LCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5fYWRkUGFyZW50ID0gZnVuY3Rpb24gKHBhcmVudCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBfcGFyZW50ID0gX2EuX3BhcmVudCwgX3BhcmVudHMgPSBfYS5fcGFyZW50cztcbiAgICAgICAgaWYgKCFfcGFyZW50IHx8IF9wYXJlbnQgPT09IHBhcmVudCkge1xuICAgICAgICAgICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhIHBhcmVudCwgb3IgdGhlIG5ldyBwYXJlbnQgaXMgdGhlIHNhbWUgYXMgdGhlXG4gICAgICAgICAgICAvLyBjdXJyZW50IHBhcmVudCwgdGhlbiBzZXQgdGhpcy5fcGFyZW50IHRvIHRoZSBuZXcgcGFyZW50LlxuICAgICAgICAgICAgdGhpcy5fcGFyZW50ID0gcGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFfcGFyZW50cykge1xuICAgICAgICAgICAgLy8gSWYgdGhlcmUncyBhbHJlYWR5IG9uZSBwYXJlbnQsIGJ1dCBub3QgbXVsdGlwbGUsIGFsbG9jYXRlIGFuIEFycmF5IHRvXG4gICAgICAgICAgICAvLyBzdG9yZSB0aGUgcmVzdCBvZiB0aGUgcGFyZW50IFN1YnNjcmlwdGlvbnMuXG4gICAgICAgICAgICB0aGlzLl9wYXJlbnRzID0gW3BhcmVudF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoX3BhcmVudHMuaW5kZXhPZihwYXJlbnQpID09PSAtMSkge1xuICAgICAgICAgICAgLy8gT25seSBhZGQgdGhlIG5ldyBwYXJlbnQgdG8gdGhlIF9wYXJlbnRzIGxpc3QgaWYgaXQncyBub3QgYWxyZWFkeSB0aGVyZS5cbiAgICAgICAgICAgIF9wYXJlbnRzLnB1c2gocGFyZW50KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLkVNUFRZID0gKGZ1bmN0aW9uIChlbXB0eSkge1xuICAgICAgICBlbXB0eS5jbG9zZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gZW1wdHk7XG4gICAgfShuZXcgU3Vic2NyaXB0aW9uKCkpKTtcbiAgICByZXR1cm4gU3Vic2NyaXB0aW9uO1xufSgpKTtcbmV4cG9ydHMuU3Vic2NyaXB0aW9uID0gU3Vic2NyaXB0aW9uO1xuZnVuY3Rpb24gZmxhdHRlblVuc3Vic2NyaXB0aW9uRXJyb3JzKGVycm9ycykge1xuICAgIHJldHVybiBlcnJvcnMucmVkdWNlKGZ1bmN0aW9uIChlcnJzLCBlcnIpIHsgcmV0dXJuIGVycnMuY29uY2F0KChlcnIgaW5zdGFuY2VvZiBVbnN1YnNjcmlwdGlvbkVycm9yXzEuVW5zdWJzY3JpcHRpb25FcnJvcikgPyBlcnIuZXJyb3JzIDogZXJyKTsgfSwgW10pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3Vic2NyaXB0aW9uLmpzLm1hcFxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9yeGpzL1N1YnNjcmlwdGlvbi5qc1xuLy8gbW9kdWxlIGlkID0gMTFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5leHBvcnRzLmlzQXJyYXkgPSBBcnJheS5pc0FycmF5IHx8IChmdW5jdGlvbiAoeCkgeyByZXR1cm4geCAmJiB0eXBlb2YgeC5sZW5ndGggPT09ICdudW1iZXInOyB9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzQXJyYXkuanMubWFwXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3J4anMvdXRpbC9pc0FycmF5LmpzXG4vLyBtb2R1bGUgaWQgPSAxMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGlzT2JqZWN0KHgpIHtcbiAgICByZXR1cm4geCAhPSBudWxsICYmIHR5cGVvZiB4ID09PSAnb2JqZWN0Jztcbn1cbmV4cG9ydHMuaXNPYmplY3QgPSBpc09iamVjdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzT2JqZWN0LmpzLm1hcFxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9yeGpzL3V0aWwvaXNPYmplY3QuanNcbi8vIG1vZHVsZSBpZCA9IDEzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xudmFyIGVycm9yT2JqZWN0XzEgPSByZXF1aXJlKCcuL2Vycm9yT2JqZWN0Jyk7XG52YXIgdHJ5Q2F0Y2hUYXJnZXQ7XG5mdW5jdGlvbiB0cnlDYXRjaGVyKCkge1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiB0cnlDYXRjaFRhcmdldC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICBlcnJvck9iamVjdF8xLmVycm9yT2JqZWN0LmUgPSBlO1xuICAgICAgICByZXR1cm4gZXJyb3JPYmplY3RfMS5lcnJvck9iamVjdDtcbiAgICB9XG59XG5mdW5jdGlvbiB0cnlDYXRjaChmbikge1xuICAgIHRyeUNhdGNoVGFyZ2V0ID0gZm47XG4gICAgcmV0dXJuIHRyeUNhdGNoZXI7XG59XG5leHBvcnRzLnRyeUNhdGNoID0gdHJ5Q2F0Y2g7XG47XG4vLyMgc291cmNlTWFwcGluZ1VSTD10cnlDYXRjaC5qcy5tYXBcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcnhqcy91dGlsL3RyeUNhdGNoLmpzXG4vLyBtb2R1bGUgaWQgPSAxNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcbi8vIHR5cGVvZiBhbnkgc28gdGhhdCBpdCB3ZSBkb24ndCBoYXZlIHRvIGNhc3Qgd2hlbiBjb21wYXJpbmcgYSByZXN1bHQgdG8gdGhlIGVycm9yIG9iamVjdFxuZXhwb3J0cy5lcnJvck9iamVjdCA9IHsgZToge30gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVycm9yT2JqZWN0LmpzLm1hcFxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9yeGpzL3V0aWwvZXJyb3JPYmplY3QuanNcbi8vIG1vZHVsZSBpZCA9IDE1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCBmdW5jdGlvbiAoZCwgYikge1xuICAgIGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbn07XG4vKipcbiAqIEFuIGVycm9yIHRocm93biB3aGVuIG9uZSBvciBtb3JlIGVycm9ycyBoYXZlIG9jY3VycmVkIGR1cmluZyB0aGVcbiAqIGB1bnN1YnNjcmliZWAgb2YgYSB7QGxpbmsgU3Vic2NyaXB0aW9ufS5cbiAqL1xudmFyIFVuc3Vic2NyaXB0aW9uRXJyb3IgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhVbnN1YnNjcmlwdGlvbkVycm9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFVuc3Vic2NyaXB0aW9uRXJyb3IoZXJyb3JzKSB7XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLmVycm9ycyA9IGVycm9ycztcbiAgICAgICAgdmFyIGVyciA9IEVycm9yLmNhbGwodGhpcywgZXJyb3JzID9cbiAgICAgICAgICAgIGVycm9ycy5sZW5ndGggKyBcIiBlcnJvcnMgb2NjdXJyZWQgZHVyaW5nIHVuc3Vic2NyaXB0aW9uOlxcbiAgXCIgKyBlcnJvcnMubWFwKGZ1bmN0aW9uIChlcnIsIGkpIHsgcmV0dXJuICgoaSArIDEpICsgXCIpIFwiICsgZXJyLnRvU3RyaW5nKCkpOyB9KS5qb2luKCdcXG4gICcpIDogJycpO1xuICAgICAgICB0aGlzLm5hbWUgPSBlcnIubmFtZSA9ICdVbnN1YnNjcmlwdGlvbkVycm9yJztcbiAgICAgICAgdGhpcy5zdGFjayA9IGVyci5zdGFjaztcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gZXJyLm1lc3NhZ2U7XG4gICAgfVxuICAgIHJldHVybiBVbnN1YnNjcmlwdGlvbkVycm9yO1xufShFcnJvcikpO1xuZXhwb3J0cy5VbnN1YnNjcmlwdGlvbkVycm9yID0gVW5zdWJzY3JpcHRpb25FcnJvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVVuc3Vic2NyaXB0aW9uRXJyb3IuanMubWFwXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3J4anMvdXRpbC9VbnN1YnNjcmlwdGlvbkVycm9yLmpzXG4vLyBtb2R1bGUgaWQgPSAxNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcbmV4cG9ydHMuZW1wdHkgPSB7XG4gICAgY2xvc2VkOiB0cnVlLFxuICAgIG5leHQ6IGZ1bmN0aW9uICh2YWx1ZSkgeyB9LFxuICAgIGVycm9yOiBmdW5jdGlvbiAoZXJyKSB7IHRocm93IGVycjsgfSxcbiAgICBjb21wbGV0ZTogZnVuY3Rpb24gKCkgeyB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T2JzZXJ2ZXIuanMubWFwXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3J4anMvT2JzZXJ2ZXIuanNcbi8vIG1vZHVsZSBpZCA9IDE3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xudmFyIHJvb3RfMSA9IHJlcXVpcmUoJy4uL3V0aWwvcm9vdCcpO1xudmFyIFN5bWJvbCA9IHJvb3RfMS5yb290LlN5bWJvbDtcbmV4cG9ydHMucnhTdWJzY3JpYmVyID0gKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIFN5bWJvbC5mb3IgPT09ICdmdW5jdGlvbicpID9cbiAgICBTeW1ib2wuZm9yKCdyeFN1YnNjcmliZXInKSA6ICdAQHJ4U3Vic2NyaWJlcic7XG4vKipcbiAqIEBkZXByZWNhdGVkIHVzZSByeFN1YnNjcmliZXIgaW5zdGVhZFxuICovXG5leHBvcnRzLiQkcnhTdWJzY3JpYmVyID0gZXhwb3J0cy5yeFN1YnNjcmliZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yeFN1YnNjcmliZXIuanMubWFwXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3J4anMvc3ltYm9sL3J4U3Vic2NyaWJlci5qc1xuLy8gbW9kdWxlIGlkID0gMThcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgcm9vdF8xID0gcmVxdWlyZSgnLi4vdXRpbC9yb290Jyk7XG5mdW5jdGlvbiBnZXRTeW1ib2xPYnNlcnZhYmxlKGNvbnRleHQpIHtcbiAgICB2YXIgJCRvYnNlcnZhYmxlO1xuICAgIHZhciBTeW1ib2wgPSBjb250ZXh0LlN5bWJvbDtcbiAgICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBpZiAoU3ltYm9sLm9ic2VydmFibGUpIHtcbiAgICAgICAgICAgICQkb2JzZXJ2YWJsZSA9IFN5bWJvbC5vYnNlcnZhYmxlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgJCRvYnNlcnZhYmxlID0gU3ltYm9sKCdvYnNlcnZhYmxlJyk7XG4gICAgICAgICAgICBTeW1ib2wub2JzZXJ2YWJsZSA9ICQkb2JzZXJ2YWJsZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgJCRvYnNlcnZhYmxlID0gJ0BAb2JzZXJ2YWJsZSc7XG4gICAgfVxuICAgIHJldHVybiAkJG9ic2VydmFibGU7XG59XG5leHBvcnRzLmdldFN5bWJvbE9ic2VydmFibGUgPSBnZXRTeW1ib2xPYnNlcnZhYmxlO1xuZXhwb3J0cy5vYnNlcnZhYmxlID0gZ2V0U3ltYm9sT2JzZXJ2YWJsZShyb290XzEucm9vdCk7XG4vKipcbiAqIEBkZXByZWNhdGVkIHVzZSBvYnNlcnZhYmxlIGluc3RlYWRcbiAqL1xuZXhwb3J0cy4kJG9ic2VydmFibGUgPSBleHBvcnRzLm9ic2VydmFibGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vYnNlcnZhYmxlLmpzLm1hcFxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9yeGpzL3N5bWJvbC9vYnNlcnZhYmxlLmpzXG4vLyBtb2R1bGUgaWQgPSAxOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBub29wXzEgPSByZXF1aXJlKCcuL25vb3AnKTtcbi8qIHRzbGludDplbmFibGU6bWF4LWxpbmUtbGVuZ3RoICovXG5mdW5jdGlvbiBwaXBlKCkge1xuICAgIHZhciBmbnMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBmbnNbX2kgLSAwXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHJldHVybiBwaXBlRnJvbUFycmF5KGZucyk7XG59XG5leHBvcnRzLnBpcGUgPSBwaXBlO1xuLyogQGludGVybmFsICovXG5mdW5jdGlvbiBwaXBlRnJvbUFycmF5KGZucykge1xuICAgIGlmICghZm5zKSB7XG4gICAgICAgIHJldHVybiBub29wXzEubm9vcDtcbiAgICB9XG4gICAgaWYgKGZucy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIGZuc1swXTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHBpcGVkKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBmbnMucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBmbikgeyByZXR1cm4gZm4ocHJldik7IH0sIGlucHV0KTtcbiAgICB9O1xufVxuZXhwb3J0cy5waXBlRnJvbUFycmF5ID0gcGlwZUZyb21BcnJheTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBpcGUuanMubWFwXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3J4anMvdXRpbC9waXBlLmpzXG4vLyBtb2R1bGUgaWQgPSAyMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcbi8qIHRzbGludDpkaXNhYmxlOm5vLWVtcHR5ICovXG5mdW5jdGlvbiBub29wKCkgeyB9XG5leHBvcnRzLm5vb3AgPSBub29wO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bm9vcC5qcy5tYXBcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcnhqcy91dGlsL25vb3AuanNcbi8vIG1vZHVsZSBpZCA9IDIxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xudmFyIG1lcmdlXzEgPSByZXF1aXJlKCcuLi9vcGVyYXRvci9tZXJnZScpO1xuZXhwb3J0cy5tZXJnZSA9IG1lcmdlXzEubWVyZ2VTdGF0aWM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXJnZS5qcy5tYXBcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcnhqcy9vYnNlcnZhYmxlL21lcmdlLmpzXG4vLyBtb2R1bGUgaWQgPSAyMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBtZXJnZV8xID0gcmVxdWlyZSgnLi4vb3BlcmF0b3JzL21lcmdlJyk7XG52YXIgbWVyZ2VfMiA9IHJlcXVpcmUoJy4uL29wZXJhdG9ycy9tZXJnZScpO1xuZXhwb3J0cy5tZXJnZVN0YXRpYyA9IG1lcmdlXzIubWVyZ2VTdGF0aWM7XG4vKiB0c2xpbnQ6ZW5hYmxlOm1heC1saW5lLWxlbmd0aCAqL1xuLyoqXG4gKiBDcmVhdGVzIGFuIG91dHB1dCBPYnNlcnZhYmxlIHdoaWNoIGNvbmN1cnJlbnRseSBlbWl0cyBhbGwgdmFsdWVzIGZyb20gZXZlcnlcbiAqIGdpdmVuIGlucHV0IE9ic2VydmFibGUuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPkZsYXR0ZW5zIG11bHRpcGxlIE9ic2VydmFibGVzIHRvZ2V0aGVyIGJ5IGJsZW5kaW5nXG4gKiB0aGVpciB2YWx1ZXMgaW50byBvbmUgT2JzZXJ2YWJsZS48L3NwYW4+XG4gKlxuICogPGltZyBzcmM9XCIuL2ltZy9tZXJnZS5wbmdcIiB3aWR0aD1cIjEwMCVcIj5cbiAqXG4gKiBgbWVyZ2VgIHN1YnNjcmliZXMgdG8gZWFjaCBnaXZlbiBpbnB1dCBPYnNlcnZhYmxlIChlaXRoZXIgdGhlIHNvdXJjZSBvciBhblxuICogT2JzZXJ2YWJsZSBnaXZlbiBhcyBhcmd1bWVudCksIGFuZCBzaW1wbHkgZm9yd2FyZHMgKHdpdGhvdXQgZG9pbmcgYW55XG4gKiB0cmFuc2Zvcm1hdGlvbikgYWxsIHRoZSB2YWx1ZXMgZnJvbSBhbGwgdGhlIGlucHV0IE9ic2VydmFibGVzIHRvIHRoZSBvdXRwdXRcbiAqIE9ic2VydmFibGUuIFRoZSBvdXRwdXQgT2JzZXJ2YWJsZSBvbmx5IGNvbXBsZXRlcyBvbmNlIGFsbCBpbnB1dCBPYnNlcnZhYmxlc1xuICogaGF2ZSBjb21wbGV0ZWQuIEFueSBlcnJvciBkZWxpdmVyZWQgYnkgYW4gaW5wdXQgT2JzZXJ2YWJsZSB3aWxsIGJlIGltbWVkaWF0ZWx5XG4gKiBlbWl0dGVkIG9uIHRoZSBvdXRwdXQgT2JzZXJ2YWJsZS5cbiAqXG4gKiBAZXhhbXBsZSA8Y2FwdGlvbj5NZXJnZSB0b2dldGhlciB0d28gT2JzZXJ2YWJsZXM6IDFzIGludGVydmFsIGFuZCBjbGlja3M8L2NhcHRpb24+XG4gKiB2YXIgY2xpY2tzID0gUnguT2JzZXJ2YWJsZS5mcm9tRXZlbnQoZG9jdW1lbnQsICdjbGljaycpO1xuICogdmFyIHRpbWVyID0gUnguT2JzZXJ2YWJsZS5pbnRlcnZhbCgxMDAwKTtcbiAqIHZhciBjbGlja3NPclRpbWVyID0gY2xpY2tzLm1lcmdlKHRpbWVyKTtcbiAqIGNsaWNrc09yVGltZXIuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICpcbiAqIEBleGFtcGxlIDxjYXB0aW9uPk1lcmdlIHRvZ2V0aGVyIDMgT2JzZXJ2YWJsZXMsIGJ1dCBvbmx5IDIgcnVuIGNvbmN1cnJlbnRseTwvY2FwdGlvbj5cbiAqIHZhciB0aW1lcjEgPSBSeC5PYnNlcnZhYmxlLmludGVydmFsKDEwMDApLnRha2UoMTApO1xuICogdmFyIHRpbWVyMiA9IFJ4Lk9ic2VydmFibGUuaW50ZXJ2YWwoMjAwMCkudGFrZSg2KTtcbiAqIHZhciB0aW1lcjMgPSBSeC5PYnNlcnZhYmxlLmludGVydmFsKDUwMCkudGFrZSgxMCk7XG4gKiB2YXIgY29uY3VycmVudCA9IDI7IC8vIHRoZSBhcmd1bWVudFxuICogdmFyIG1lcmdlZCA9IHRpbWVyMS5tZXJnZSh0aW1lcjIsIHRpbWVyMywgY29uY3VycmVudCk7XG4gKiBtZXJnZWQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICpcbiAqIEBzZWUge0BsaW5rIG1lcmdlQWxsfVxuICogQHNlZSB7QGxpbmsgbWVyZ2VNYXB9XG4gKiBAc2VlIHtAbGluayBtZXJnZU1hcFRvfVxuICogQHNlZSB7QGxpbmsgbWVyZ2VTY2FufVxuICpcbiAqIEBwYXJhbSB7T2JzZXJ2YWJsZUlucHV0fSBvdGhlciBBbiBpbnB1dCBPYnNlcnZhYmxlIHRvIG1lcmdlIHdpdGggdGhlIHNvdXJjZVxuICogT2JzZXJ2YWJsZS4gTW9yZSB0aGFuIG9uZSBpbnB1dCBPYnNlcnZhYmxlcyBtYXkgYmUgZ2l2ZW4gYXMgYXJndW1lbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gW2NvbmN1cnJlbnQ9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZXSBNYXhpbXVtIG51bWJlciBvZiBpbnB1dFxuICogT2JzZXJ2YWJsZXMgYmVpbmcgc3Vic2NyaWJlZCB0byBjb25jdXJyZW50bHkuXG4gKiBAcGFyYW0ge1NjaGVkdWxlcn0gW3NjaGVkdWxlcj1udWxsXSBUaGUgSVNjaGVkdWxlciB0byB1c2UgZm9yIG1hbmFnaW5nXG4gKiBjb25jdXJyZW5jeSBvZiBpbnB1dCBPYnNlcnZhYmxlcy5cbiAqIEByZXR1cm4ge09ic2VydmFibGV9IEFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyBpdGVtcyB0aGF0IGFyZSB0aGUgcmVzdWx0IG9mXG4gKiBldmVyeSBpbnB1dCBPYnNlcnZhYmxlLlxuICogQG1ldGhvZCBtZXJnZVxuICogQG93bmVyIE9ic2VydmFibGVcbiAqL1xuZnVuY3Rpb24gbWVyZ2UoKSB7XG4gICAgdmFyIG9ic2VydmFibGVzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgb2JzZXJ2YWJsZXNbX2kgLSAwXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHJldHVybiBtZXJnZV8xLm1lcmdlLmFwcGx5KHZvaWQgMCwgb2JzZXJ2YWJsZXMpKHRoaXMpO1xufVxuZXhwb3J0cy5tZXJnZSA9IG1lcmdlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVyZ2UuanMubWFwXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3J4anMvb3BlcmF0b3IvbWVyZ2UuanNcbi8vIG1vZHVsZSBpZCA9IDIzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xudmFyIE9ic2VydmFibGVfMSA9IHJlcXVpcmUoJy4uL09ic2VydmFibGUnKTtcbnZhciBBcnJheU9ic2VydmFibGVfMSA9IHJlcXVpcmUoJy4uL29ic2VydmFibGUvQXJyYXlPYnNlcnZhYmxlJyk7XG52YXIgbWVyZ2VBbGxfMSA9IHJlcXVpcmUoJy4vbWVyZ2VBbGwnKTtcbnZhciBpc1NjaGVkdWxlcl8xID0gcmVxdWlyZSgnLi4vdXRpbC9pc1NjaGVkdWxlcicpO1xuLyogdHNsaW50OmVuYWJsZTptYXgtbGluZS1sZW5ndGggKi9cbmZ1bmN0aW9uIG1lcmdlKCkge1xuICAgIHZhciBvYnNlcnZhYmxlcyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIG9ic2VydmFibGVzW19pIC0gMF0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gc291cmNlLmxpZnQuY2FsbChtZXJnZVN0YXRpYy5hcHBseSh2b2lkIDAsIFtzb3VyY2VdLmNvbmNhdChvYnNlcnZhYmxlcykpKTsgfTtcbn1cbmV4cG9ydHMubWVyZ2UgPSBtZXJnZTtcbi8qIHRzbGludDplbmFibGU6bWF4LWxpbmUtbGVuZ3RoICovXG4vKipcbiAqIENyZWF0ZXMgYW4gb3V0cHV0IE9ic2VydmFibGUgd2hpY2ggY29uY3VycmVudGx5IGVtaXRzIGFsbCB2YWx1ZXMgZnJvbSBldmVyeVxuICogZ2l2ZW4gaW5wdXQgT2JzZXJ2YWJsZS5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+RmxhdHRlbnMgbXVsdGlwbGUgT2JzZXJ2YWJsZXMgdG9nZXRoZXIgYnkgYmxlbmRpbmdcbiAqIHRoZWlyIHZhbHVlcyBpbnRvIG9uZSBPYnNlcnZhYmxlLjwvc3Bhbj5cbiAqXG4gKiA8aW1nIHNyYz1cIi4vaW1nL21lcmdlLnBuZ1wiIHdpZHRoPVwiMTAwJVwiPlxuICpcbiAqIGBtZXJnZWAgc3Vic2NyaWJlcyB0byBlYWNoIGdpdmVuIGlucHV0IE9ic2VydmFibGUgKGFzIGFyZ3VtZW50cyksIGFuZCBzaW1wbHlcbiAqIGZvcndhcmRzICh3aXRob3V0IGRvaW5nIGFueSB0cmFuc2Zvcm1hdGlvbikgYWxsIHRoZSB2YWx1ZXMgZnJvbSBhbGwgdGhlIGlucHV0XG4gKiBPYnNlcnZhYmxlcyB0byB0aGUgb3V0cHV0IE9ic2VydmFibGUuIFRoZSBvdXRwdXQgT2JzZXJ2YWJsZSBvbmx5IGNvbXBsZXRlc1xuICogb25jZSBhbGwgaW5wdXQgT2JzZXJ2YWJsZXMgaGF2ZSBjb21wbGV0ZWQuIEFueSBlcnJvciBkZWxpdmVyZWQgYnkgYW4gaW5wdXRcbiAqIE9ic2VydmFibGUgd2lsbCBiZSBpbW1lZGlhdGVseSBlbWl0dGVkIG9uIHRoZSBvdXRwdXQgT2JzZXJ2YWJsZS5cbiAqXG4gKiBAZXhhbXBsZSA8Y2FwdGlvbj5NZXJnZSB0b2dldGhlciB0d28gT2JzZXJ2YWJsZXM6IDFzIGludGVydmFsIGFuZCBjbGlja3M8L2NhcHRpb24+XG4gKiB2YXIgY2xpY2tzID0gUnguT2JzZXJ2YWJsZS5mcm9tRXZlbnQoZG9jdW1lbnQsICdjbGljaycpO1xuICogdmFyIHRpbWVyID0gUnguT2JzZXJ2YWJsZS5pbnRlcnZhbCgxMDAwKTtcbiAqIHZhciBjbGlja3NPclRpbWVyID0gUnguT2JzZXJ2YWJsZS5tZXJnZShjbGlja3MsIHRpbWVyKTtcbiAqIGNsaWNrc09yVGltZXIuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICpcbiAqIC8vIFJlc3VsdHMgaW4gdGhlIGZvbGxvd2luZzpcbiAqIC8vIHRpbWVyIHdpbGwgZW1pdCBhc2NlbmRpbmcgdmFsdWVzLCBvbmUgZXZlcnkgc2Vjb25kKDEwMDBtcykgdG8gY29uc29sZVxuICogLy8gY2xpY2tzIGxvZ3MgTW91c2VFdmVudHMgdG8gY29uc29sZSBldmVyeXRpbWUgdGhlIFwiZG9jdW1lbnRcIiBpcyBjbGlja2VkXG4gKiAvLyBTaW5jZSB0aGUgdHdvIHN0cmVhbXMgYXJlIG1lcmdlZCB5b3Ugc2VlIHRoZXNlIGhhcHBlbmluZ1xuICogLy8gYXMgdGhleSBvY2N1ci5cbiAqXG4gKiBAZXhhbXBsZSA8Y2FwdGlvbj5NZXJnZSB0b2dldGhlciAzIE9ic2VydmFibGVzLCBidXQgb25seSAyIHJ1biBjb25jdXJyZW50bHk8L2NhcHRpb24+XG4gKiB2YXIgdGltZXIxID0gUnguT2JzZXJ2YWJsZS5pbnRlcnZhbCgxMDAwKS50YWtlKDEwKTtcbiAqIHZhciB0aW1lcjIgPSBSeC5PYnNlcnZhYmxlLmludGVydmFsKDIwMDApLnRha2UoNik7XG4gKiB2YXIgdGltZXIzID0gUnguT2JzZXJ2YWJsZS5pbnRlcnZhbCg1MDApLnRha2UoMTApO1xuICogdmFyIGNvbmN1cnJlbnQgPSAyOyAvLyB0aGUgYXJndW1lbnRcbiAqIHZhciBtZXJnZWQgPSBSeC5PYnNlcnZhYmxlLm1lcmdlKHRpbWVyMSwgdGltZXIyLCB0aW1lcjMsIGNvbmN1cnJlbnQpO1xuICogbWVyZ2VkLnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqXG4gKiAvLyBSZXN1bHRzIGluIHRoZSBmb2xsb3dpbmc6XG4gKiAvLyAtIEZpcnN0IHRpbWVyMSBhbmQgdGltZXIyIHdpbGwgcnVuIGNvbmN1cnJlbnRseVxuICogLy8gLSB0aW1lcjEgd2lsbCBlbWl0IGEgdmFsdWUgZXZlcnkgMTAwMG1zIGZvciAxMCBpdGVyYXRpb25zXG4gKiAvLyAtIHRpbWVyMiB3aWxsIGVtaXQgYSB2YWx1ZSBldmVyeSAyMDAwbXMgZm9yIDYgaXRlcmF0aW9uc1xuICogLy8gLSBhZnRlciB0aW1lcjEgaGl0cyBpdCdzIG1heCBpdGVyYXRpb24sIHRpbWVyMiB3aWxsXG4gKiAvLyAgIGNvbnRpbnVlLCBhbmQgdGltZXIzIHdpbGwgc3RhcnQgdG8gcnVuIGNvbmN1cnJlbnRseSB3aXRoIHRpbWVyMlxuICogLy8gLSB3aGVuIHRpbWVyMiBoaXRzIGl0J3MgbWF4IGl0ZXJhdGlvbiBpdCB0ZXJtaW5hdGVzLCBhbmRcbiAqIC8vICAgdGltZXIzIHdpbGwgY29udGludWUgdG8gZW1pdCBhIHZhbHVlIGV2ZXJ5IDUwMG1zIHVudGlsIGl0IGlzIGNvbXBsZXRlXG4gKlxuICogQHNlZSB7QGxpbmsgbWVyZ2VBbGx9XG4gKiBAc2VlIHtAbGluayBtZXJnZU1hcH1cbiAqIEBzZWUge0BsaW5rIG1lcmdlTWFwVG99XG4gKiBAc2VlIHtAbGluayBtZXJnZVNjYW59XG4gKlxuICogQHBhcmFtIHsuLi5PYnNlcnZhYmxlSW5wdXR9IG9ic2VydmFibGVzIElucHV0IE9ic2VydmFibGVzIHRvIG1lcmdlIHRvZ2V0aGVyLlxuICogQHBhcmFtIHtudW1iZXJ9IFtjb25jdXJyZW50PU51bWJlci5QT1NJVElWRV9JTkZJTklUWV0gTWF4aW11bSBudW1iZXIgb2YgaW5wdXRcbiAqIE9ic2VydmFibGVzIGJlaW5nIHN1YnNjcmliZWQgdG8gY29uY3VycmVudGx5LlxuICogQHBhcmFtIHtTY2hlZHVsZXJ9IFtzY2hlZHVsZXI9bnVsbF0gVGhlIElTY2hlZHVsZXIgdG8gdXNlIGZvciBtYW5hZ2luZ1xuICogY29uY3VycmVuY3kgb2YgaW5wdXQgT2JzZXJ2YWJsZXMuXG4gKiBAcmV0dXJuIHtPYnNlcnZhYmxlfSBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgaXRlbXMgdGhhdCBhcmUgdGhlIHJlc3VsdCBvZlxuICogZXZlcnkgaW5wdXQgT2JzZXJ2YWJsZS5cbiAqIEBzdGF0aWMgdHJ1ZVxuICogQG5hbWUgbWVyZ2VcbiAqIEBvd25lciBPYnNlcnZhYmxlXG4gKi9cbmZ1bmN0aW9uIG1lcmdlU3RhdGljKCkge1xuICAgIHZhciBvYnNlcnZhYmxlcyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIG9ic2VydmFibGVzW19pIC0gMF0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICB2YXIgY29uY3VycmVudCA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICB2YXIgc2NoZWR1bGVyID0gbnVsbDtcbiAgICB2YXIgbGFzdCA9IG9ic2VydmFibGVzW29ic2VydmFibGVzLmxlbmd0aCAtIDFdO1xuICAgIGlmIChpc1NjaGVkdWxlcl8xLmlzU2NoZWR1bGVyKGxhc3QpKSB7XG4gICAgICAgIHNjaGVkdWxlciA9IG9ic2VydmFibGVzLnBvcCgpO1xuICAgICAgICBpZiAob2JzZXJ2YWJsZXMubGVuZ3RoID4gMSAmJiB0eXBlb2Ygb2JzZXJ2YWJsZXNbb2JzZXJ2YWJsZXMubGVuZ3RoIC0gMV0gPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBjb25jdXJyZW50ID0gb2JzZXJ2YWJsZXMucG9wKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGxhc3QgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGNvbmN1cnJlbnQgPSBvYnNlcnZhYmxlcy5wb3AoKTtcbiAgICB9XG4gICAgaWYgKHNjaGVkdWxlciA9PT0gbnVsbCAmJiBvYnNlcnZhYmxlcy5sZW5ndGggPT09IDEgJiYgb2JzZXJ2YWJsZXNbMF0gaW5zdGFuY2VvZiBPYnNlcnZhYmxlXzEuT2JzZXJ2YWJsZSkge1xuICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZXNbMF07XG4gICAgfVxuICAgIHJldHVybiBtZXJnZUFsbF8xLm1lcmdlQWxsKGNvbmN1cnJlbnQpKG5ldyBBcnJheU9ic2VydmFibGVfMS5BcnJheU9ic2VydmFibGUob2JzZXJ2YWJsZXMsIHNjaGVkdWxlcikpO1xufVxuZXhwb3J0cy5tZXJnZVN0YXRpYyA9IG1lcmdlU3RhdGljO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVyZ2UuanMubWFwXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3J4anMvb3BlcmF0b3JzL21lcmdlLmpzXG4vLyBtb2R1bGUgaWQgPSAyNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG59O1xudmFyIE9ic2VydmFibGVfMSA9IHJlcXVpcmUoJy4uL09ic2VydmFibGUnKTtcbnZhciBTY2FsYXJPYnNlcnZhYmxlXzEgPSByZXF1aXJlKCcuL1NjYWxhck9ic2VydmFibGUnKTtcbnZhciBFbXB0eU9ic2VydmFibGVfMSA9IHJlcXVpcmUoJy4vRW1wdHlPYnNlcnZhYmxlJyk7XG52YXIgaXNTY2hlZHVsZXJfMSA9IHJlcXVpcmUoJy4uL3V0aWwvaXNTY2hlZHVsZXInKTtcbi8qKlxuICogV2UgbmVlZCB0aGlzIEpTRG9jIGNvbW1lbnQgZm9yIGFmZmVjdGluZyBFU0RvYy5cbiAqIEBleHRlbmRzIHtJZ25vcmVkfVxuICogQGhpZGUgdHJ1ZVxuICovXG52YXIgQXJyYXlPYnNlcnZhYmxlID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQXJyYXlPYnNlcnZhYmxlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFycmF5T2JzZXJ2YWJsZShhcnJheSwgc2NoZWR1bGVyKSB7XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVyID0gc2NoZWR1bGVyO1xuICAgICAgICBpZiAoIXNjaGVkdWxlciAmJiBhcnJheS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMuX2lzU2NhbGFyID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBhcnJheVswXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBBcnJheU9ic2VydmFibGUuY3JlYXRlID0gZnVuY3Rpb24gKGFycmF5LCBzY2hlZHVsZXIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBcnJheU9ic2VydmFibGUoYXJyYXksIHNjaGVkdWxlcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyBzb21lIHZhbHVlcyB5b3Ugc3BlY2lmeSBhcyBhcmd1bWVudHMsXG4gICAgICogaW1tZWRpYXRlbHkgb25lIGFmdGVyIHRoZSBvdGhlciwgYW5kIHRoZW4gZW1pdHMgYSBjb21wbGV0ZSBub3RpZmljYXRpb24uXG4gICAgICpcbiAgICAgKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+RW1pdHMgdGhlIGFyZ3VtZW50cyB5b3UgcHJvdmlkZSwgdGhlbiBjb21wbGV0ZXMuXG4gICAgICogPC9zcGFuPlxuICAgICAqXG4gICAgICogPGltZyBzcmM9XCIuL2ltZy9vZi5wbmdcIiB3aWR0aD1cIjEwMCVcIj5cbiAgICAgKlxuICAgICAqIFRoaXMgc3RhdGljIG9wZXJhdG9yIGlzIHVzZWZ1bCBmb3IgY3JlYXRpbmcgYSBzaW1wbGUgT2JzZXJ2YWJsZSB0aGF0IG9ubHlcbiAgICAgKiBlbWl0cyB0aGUgYXJndW1lbnRzIGdpdmVuLCBhbmQgdGhlIGNvbXBsZXRlIG5vdGlmaWNhdGlvbiB0aGVyZWFmdGVyLiBJdCBjYW5cbiAgICAgKiBiZSB1c2VkIGZvciBjb21wb3Npbmcgd2l0aCBvdGhlciBPYnNlcnZhYmxlcywgc3VjaCBhcyB3aXRoIHtAbGluayBjb25jYXR9LlxuICAgICAqIEJ5IGRlZmF1bHQsIGl0IHVzZXMgYSBgbnVsbGAgSVNjaGVkdWxlciwgd2hpY2ggbWVhbnMgdGhlIGBuZXh0YFxuICAgICAqIG5vdGlmaWNhdGlvbnMgYXJlIHNlbnQgc3luY2hyb25vdXNseSwgYWx0aG91Z2ggd2l0aCBhIGRpZmZlcmVudCBJU2NoZWR1bGVyXG4gICAgICogaXQgaXMgcG9zc2libGUgdG8gZGV0ZXJtaW5lIHdoZW4gdGhvc2Ugbm90aWZpY2F0aW9ucyB3aWxsIGJlIGRlbGl2ZXJlZC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlIDxjYXB0aW9uPkVtaXQgMTAsIDIwLCAzMCwgdGhlbiAnYScsICdiJywgJ2MnLCB0aGVuIHN0YXJ0IHRpY2tpbmcgZXZlcnkgc2Vjb25kLjwvY2FwdGlvbj5cbiAgICAgKiB2YXIgbnVtYmVycyA9IFJ4Lk9ic2VydmFibGUub2YoMTAsIDIwLCAzMCk7XG4gICAgICogdmFyIGxldHRlcnMgPSBSeC5PYnNlcnZhYmxlLm9mKCdhJywgJ2InLCAnYycpO1xuICAgICAqIHZhciBpbnRlcnZhbCA9IFJ4Lk9ic2VydmFibGUuaW50ZXJ2YWwoMTAwMCk7XG4gICAgICogdmFyIHJlc3VsdCA9IG51bWJlcnMuY29uY2F0KGxldHRlcnMpLmNvbmNhdChpbnRlcnZhbCk7XG4gICAgICogcmVzdWx0LnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAgICAgKlxuICAgICAqIEBzZWUge0BsaW5rIGNyZWF0ZX1cbiAgICAgKiBAc2VlIHtAbGluayBlbXB0eX1cbiAgICAgKiBAc2VlIHtAbGluayBuZXZlcn1cbiAgICAgKiBAc2VlIHtAbGluayB0aHJvd31cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Li4uVH0gdmFsdWVzIEFyZ3VtZW50cyB0aGF0IHJlcHJlc2VudCBgbmV4dGAgdmFsdWVzIHRvIGJlIGVtaXR0ZWQuXG4gICAgICogQHBhcmFtIHtTY2hlZHVsZXJ9IFtzY2hlZHVsZXJdIEEge0BsaW5rIElTY2hlZHVsZXJ9IHRvIHVzZSBmb3Igc2NoZWR1bGluZ1xuICAgICAqIHRoZSBlbWlzc2lvbnMgb2YgdGhlIGBuZXh0YCBub3RpZmljYXRpb25zLlxuICAgICAqIEByZXR1cm4ge09ic2VydmFibGU8VD59IEFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyBlYWNoIGdpdmVuIGlucHV0IHZhbHVlLlxuICAgICAqIEBzdGF0aWMgdHJ1ZVxuICAgICAqIEBuYW1lIG9mXG4gICAgICogQG93bmVyIE9ic2VydmFibGVcbiAgICAgKi9cbiAgICBBcnJheU9ic2VydmFibGUub2YgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcnJheSA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJyYXlbX2kgLSAwXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNjaGVkdWxlciA9IGFycmF5W2FycmF5Lmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAoaXNTY2hlZHVsZXJfMS5pc1NjaGVkdWxlcihzY2hlZHVsZXIpKSB7XG4gICAgICAgICAgICBhcnJheS5wb3AoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNjaGVkdWxlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxlbiA9IGFycmF5Lmxlbmd0aDtcbiAgICAgICAgaWYgKGxlbiA+IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQXJyYXlPYnNlcnZhYmxlKGFycmF5LCBzY2hlZHVsZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGxlbiA9PT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTY2FsYXJPYnNlcnZhYmxlXzEuU2NhbGFyT2JzZXJ2YWJsZShhcnJheVswXSwgc2NoZWR1bGVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRW1wdHlPYnNlcnZhYmxlXzEuRW1wdHlPYnNlcnZhYmxlKHNjaGVkdWxlcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFycmF5T2JzZXJ2YWJsZS5kaXNwYXRjaCA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICB2YXIgYXJyYXkgPSBzdGF0ZS5hcnJheSwgaW5kZXggPSBzdGF0ZS5pbmRleCwgY291bnQgPSBzdGF0ZS5jb3VudCwgc3Vic2NyaWJlciA9IHN0YXRlLnN1YnNjcmliZXI7XG4gICAgICAgIGlmIChpbmRleCA+PSBjb3VudCkge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHN1YnNjcmliZXIubmV4dChhcnJheVtpbmRleF0pO1xuICAgICAgICBpZiAoc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5pbmRleCA9IGluZGV4ICsgMTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZShzdGF0ZSk7XG4gICAgfTtcbiAgICBBcnJheU9ic2VydmFibGUucHJvdG90eXBlLl9zdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgICB2YXIgYXJyYXkgPSB0aGlzLmFycmF5O1xuICAgICAgICB2YXIgY291bnQgPSBhcnJheS5sZW5ndGg7XG4gICAgICAgIHZhciBzY2hlZHVsZXIgPSB0aGlzLnNjaGVkdWxlcjtcbiAgICAgICAgaWYgKHNjaGVkdWxlcikge1xuICAgICAgICAgICAgcmV0dXJuIHNjaGVkdWxlci5zY2hlZHVsZShBcnJheU9ic2VydmFibGUuZGlzcGF0Y2gsIDAsIHtcbiAgICAgICAgICAgICAgICBhcnJheTogYXJyYXksIGluZGV4OiBpbmRleCwgY291bnQ6IGNvdW50LCBzdWJzY3JpYmVyOiBzdWJzY3JpYmVyXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY291bnQgJiYgIXN1YnNjcmliZXIuY2xvc2VkOyBpKyspIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoYXJyYXlbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQXJyYXlPYnNlcnZhYmxlO1xufShPYnNlcnZhYmxlXzEuT2JzZXJ2YWJsZSkpO1xuZXhwb3J0cy5BcnJheU9ic2VydmFibGUgPSBBcnJheU9ic2VydmFibGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BcnJheU9ic2VydmFibGUuanMubWFwXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3J4anMvb2JzZXJ2YWJsZS9BcnJheU9ic2VydmFibGUuanNcbi8vIG1vZHVsZSBpZCA9IDI1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCBmdW5jdGlvbiAoZCwgYikge1xuICAgIGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbn07XG52YXIgT2JzZXJ2YWJsZV8xID0gcmVxdWlyZSgnLi4vT2JzZXJ2YWJsZScpO1xuLyoqXG4gKiBXZSBuZWVkIHRoaXMgSlNEb2MgY29tbWVudCBmb3IgYWZmZWN0aW5nIEVTRG9jLlxuICogQGV4dGVuZHMge0lnbm9yZWR9XG4gKiBAaGlkZSB0cnVlXG4gKi9cbnZhciBTY2FsYXJPYnNlcnZhYmxlID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU2NhbGFyT2JzZXJ2YWJsZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTY2FsYXJPYnNlcnZhYmxlKHZhbHVlLCBzY2hlZHVsZXIpIHtcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZXIgPSBzY2hlZHVsZXI7XG4gICAgICAgIHRoaXMuX2lzU2NhbGFyID0gdHJ1ZTtcbiAgICAgICAgaWYgKHNjaGVkdWxlcikge1xuICAgICAgICAgICAgdGhpcy5faXNTY2FsYXIgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBTY2FsYXJPYnNlcnZhYmxlLmNyZWF0ZSA9IGZ1bmN0aW9uICh2YWx1ZSwgc2NoZWR1bGVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgU2NhbGFyT2JzZXJ2YWJsZSh2YWx1ZSwgc2NoZWR1bGVyKTtcbiAgICB9O1xuICAgIFNjYWxhck9ic2VydmFibGUuZGlzcGF0Y2ggPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgdmFyIGRvbmUgPSBzdGF0ZS5kb25lLCB2YWx1ZSA9IHN0YXRlLnZhbHVlLCBzdWJzY3JpYmVyID0gc3RhdGUuc3Vic2NyaWJlcjtcbiAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICBpZiAoc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5kb25lID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZShzdGF0ZSk7XG4gICAgfTtcbiAgICBTY2FsYXJPYnNlcnZhYmxlLnByb3RvdHlwZS5fc3Vic2NyaWJlID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy52YWx1ZTtcbiAgICAgICAgdmFyIHNjaGVkdWxlciA9IHRoaXMuc2NoZWR1bGVyO1xuICAgICAgICBpZiAoc2NoZWR1bGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gc2NoZWR1bGVyLnNjaGVkdWxlKFNjYWxhck9ic2VydmFibGUuZGlzcGF0Y2gsIDAsIHtcbiAgICAgICAgICAgICAgICBkb25lOiBmYWxzZSwgdmFsdWU6IHZhbHVlLCBzdWJzY3JpYmVyOiBzdWJzY3JpYmVyXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICBpZiAoIXN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gU2NhbGFyT2JzZXJ2YWJsZTtcbn0oT2JzZXJ2YWJsZV8xLk9ic2VydmFibGUpKTtcbmV4cG9ydHMuU2NhbGFyT2JzZXJ2YWJsZSA9IFNjYWxhck9ic2VydmFibGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TY2FsYXJPYnNlcnZhYmxlLmpzLm1hcFxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9yeGpzL29ic2VydmFibGUvU2NhbGFyT2JzZXJ2YWJsZS5qc1xuLy8gbW9kdWxlIGlkID0gMjZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xufTtcbnZhciBPYnNlcnZhYmxlXzEgPSByZXF1aXJlKCcuLi9PYnNlcnZhYmxlJyk7XG4vKipcbiAqIFdlIG5lZWQgdGhpcyBKU0RvYyBjb21tZW50IGZvciBhZmZlY3RpbmcgRVNEb2MuXG4gKiBAZXh0ZW5kcyB7SWdub3JlZH1cbiAqIEBoaWRlIHRydWVcbiAqL1xudmFyIEVtcHR5T2JzZXJ2YWJsZSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEVtcHR5T2JzZXJ2YWJsZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBFbXB0eU9ic2VydmFibGUoc2NoZWR1bGVyKSB7XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLnNjaGVkdWxlciA9IHNjaGVkdWxlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgbm8gaXRlbXMgdG8gdGhlIE9ic2VydmVyIGFuZCBpbW1lZGlhdGVseVxuICAgICAqIGVtaXRzIGEgY29tcGxldGUgbm90aWZpY2F0aW9uLlxuICAgICAqXG4gICAgICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPkp1c3QgZW1pdHMgJ2NvbXBsZXRlJywgYW5kIG5vdGhpbmcgZWxzZS5cbiAgICAgKiA8L3NwYW4+XG4gICAgICpcbiAgICAgKiA8aW1nIHNyYz1cIi4vaW1nL2VtcHR5LnBuZ1wiIHdpZHRoPVwiMTAwJVwiPlxuICAgICAqXG4gICAgICogVGhpcyBzdGF0aWMgb3BlcmF0b3IgaXMgdXNlZnVsIGZvciBjcmVhdGluZyBhIHNpbXBsZSBPYnNlcnZhYmxlIHRoYXQgb25seVxuICAgICAqIGVtaXRzIHRoZSBjb21wbGV0ZSBub3RpZmljYXRpb24uIEl0IGNhbiBiZSB1c2VkIGZvciBjb21wb3Npbmcgd2l0aCBvdGhlclxuICAgICAqIE9ic2VydmFibGVzLCBzdWNoIGFzIGluIGEge0BsaW5rIG1lcmdlTWFwfS5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlIDxjYXB0aW9uPkVtaXQgdGhlIG51bWJlciA3LCB0aGVuIGNvbXBsZXRlLjwvY2FwdGlvbj5cbiAgICAgKiB2YXIgcmVzdWx0ID0gUnguT2JzZXJ2YWJsZS5lbXB0eSgpLnN0YXJ0V2l0aCg3KTtcbiAgICAgKiByZXN1bHQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICAgICAqXG4gICAgICogQGV4YW1wbGUgPGNhcHRpb24+TWFwIGFuZCBmbGF0dGVuIG9ubHkgb2RkIG51bWJlcnMgdG8gdGhlIHNlcXVlbmNlICdhJywgJ2InLCAnYyc8L2NhcHRpb24+XG4gICAgICogdmFyIGludGVydmFsID0gUnguT2JzZXJ2YWJsZS5pbnRlcnZhbCgxMDAwKTtcbiAgICAgKiB2YXIgcmVzdWx0ID0gaW50ZXJ2YWwubWVyZ2VNYXAoeCA9PlxuICAgICAqICAgeCAlIDIgPT09IDEgPyBSeC5PYnNlcnZhYmxlLm9mKCdhJywgJ2InLCAnYycpIDogUnguT2JzZXJ2YWJsZS5lbXB0eSgpXG4gICAgICogKTtcbiAgICAgKiByZXN1bHQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICAgICAqXG4gICAgICogLy8gUmVzdWx0cyBpbiB0aGUgZm9sbG93aW5nIHRvIHRoZSBjb25zb2xlOlxuICAgICAqIC8vIHggaXMgZXF1YWwgdG8gdGhlIGNvdW50IG9uIHRoZSBpbnRlcnZhbCBlZygwLDEsMiwzLC4uLilcbiAgICAgKiAvLyB4IHdpbGwgb2NjdXIgZXZlcnkgMTAwMG1zXG4gICAgICogLy8gaWYgeCAlIDIgaXMgZXF1YWwgdG8gMSBwcmludCBhYmNcbiAgICAgKiAvLyBpZiB4ICUgMiBpcyBub3QgZXF1YWwgdG8gMSBub3RoaW5nIHdpbGwgYmUgb3V0cHV0XG4gICAgICpcbiAgICAgKiBAc2VlIHtAbGluayBjcmVhdGV9XG4gICAgICogQHNlZSB7QGxpbmsgbmV2ZXJ9XG4gICAgICogQHNlZSB7QGxpbmsgb2Z9XG4gICAgICogQHNlZSB7QGxpbmsgdGhyb3d9XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1NjaGVkdWxlcn0gW3NjaGVkdWxlcl0gQSB7QGxpbmsgSVNjaGVkdWxlcn0gdG8gdXNlIGZvciBzY2hlZHVsaW5nXG4gICAgICogdGhlIGVtaXNzaW9uIG9mIHRoZSBjb21wbGV0ZSBub3RpZmljYXRpb24uXG4gICAgICogQHJldHVybiB7T2JzZXJ2YWJsZX0gQW4gXCJlbXB0eVwiIE9ic2VydmFibGU6IGVtaXRzIG9ubHkgdGhlIGNvbXBsZXRlXG4gICAgICogbm90aWZpY2F0aW9uLlxuICAgICAqIEBzdGF0aWMgdHJ1ZVxuICAgICAqIEBuYW1lIGVtcHR5XG4gICAgICogQG93bmVyIE9ic2VydmFibGVcbiAgICAgKi9cbiAgICBFbXB0eU9ic2VydmFibGUuY3JlYXRlID0gZnVuY3Rpb24gKHNjaGVkdWxlcikge1xuICAgICAgICByZXR1cm4gbmV3IEVtcHR5T2JzZXJ2YWJsZShzY2hlZHVsZXIpO1xuICAgIH07XG4gICAgRW1wdHlPYnNlcnZhYmxlLmRpc3BhdGNoID0gZnVuY3Rpb24gKGFyZykge1xuICAgICAgICB2YXIgc3Vic2NyaWJlciA9IGFyZy5zdWJzY3JpYmVyO1xuICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgfTtcbiAgICBFbXB0eU9ic2VydmFibGUucHJvdG90eXBlLl9zdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgc2NoZWR1bGVyID0gdGhpcy5zY2hlZHVsZXI7XG4gICAgICAgIGlmIChzY2hlZHVsZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZXIuc2NoZWR1bGUoRW1wdHlPYnNlcnZhYmxlLmRpc3BhdGNoLCAwLCB7IHN1YnNjcmliZXI6IHN1YnNjcmliZXIgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBFbXB0eU9ic2VydmFibGU7XG59KE9ic2VydmFibGVfMS5PYnNlcnZhYmxlKSk7XG5leHBvcnRzLkVtcHR5T2JzZXJ2YWJsZSA9IEVtcHR5T2JzZXJ2YWJsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUVtcHR5T2JzZXJ2YWJsZS5qcy5tYXBcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcnhqcy9vYnNlcnZhYmxlL0VtcHR5T2JzZXJ2YWJsZS5qc1xuLy8gbW9kdWxlIGlkID0gMjdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBpc1NjaGVkdWxlcih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUuc2NoZWR1bGUgPT09ICdmdW5jdGlvbic7XG59XG5leHBvcnRzLmlzU2NoZWR1bGVyID0gaXNTY2hlZHVsZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc1NjaGVkdWxlci5qcy5tYXBcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcnhqcy91dGlsL2lzU2NoZWR1bGVyLmpzXG4vLyBtb2R1bGUgaWQgPSAyOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBtZXJnZU1hcF8xID0gcmVxdWlyZSgnLi9tZXJnZU1hcCcpO1xudmFyIGlkZW50aXR5XzEgPSByZXF1aXJlKCcuLi91dGlsL2lkZW50aXR5Jyk7XG4vKipcbiAqIENvbnZlcnRzIGEgaGlnaGVyLW9yZGVyIE9ic2VydmFibGUgaW50byBhIGZpcnN0LW9yZGVyIE9ic2VydmFibGUgd2hpY2hcbiAqIGNvbmN1cnJlbnRseSBkZWxpdmVycyBhbGwgdmFsdWVzIHRoYXQgYXJlIGVtaXR0ZWQgb24gdGhlIGlubmVyIE9ic2VydmFibGVzLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5GbGF0dGVucyBhbiBPYnNlcnZhYmxlLW9mLU9ic2VydmFibGVzLjwvc3Bhbj5cbiAqXG4gKiA8aW1nIHNyYz1cIi4vaW1nL21lcmdlQWxsLnBuZ1wiIHdpZHRoPVwiMTAwJVwiPlxuICpcbiAqIGBtZXJnZUFsbGAgc3Vic2NyaWJlcyB0byBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgT2JzZXJ2YWJsZXMsIGFsc28ga25vd24gYXNcbiAqIGEgaGlnaGVyLW9yZGVyIE9ic2VydmFibGUuIEVhY2ggdGltZSBpdCBvYnNlcnZlcyBvbmUgb2YgdGhlc2UgZW1pdHRlZCBpbm5lclxuICogT2JzZXJ2YWJsZXMsIGl0IHN1YnNjcmliZXMgdG8gdGhhdCBhbmQgZGVsaXZlcnMgYWxsIHRoZSB2YWx1ZXMgZnJvbSB0aGVcbiAqIGlubmVyIE9ic2VydmFibGUgb24gdGhlIG91dHB1dCBPYnNlcnZhYmxlLiBUaGUgb3V0cHV0IE9ic2VydmFibGUgb25seVxuICogY29tcGxldGVzIG9uY2UgYWxsIGlubmVyIE9ic2VydmFibGVzIGhhdmUgY29tcGxldGVkLiBBbnkgZXJyb3IgZGVsaXZlcmVkIGJ5XG4gKiBhIGlubmVyIE9ic2VydmFibGUgd2lsbCBiZSBpbW1lZGlhdGVseSBlbWl0dGVkIG9uIHRoZSBvdXRwdXQgT2JzZXJ2YWJsZS5cbiAqXG4gKiBAZXhhbXBsZSA8Y2FwdGlvbj5TcGF3biBhIG5ldyBpbnRlcnZhbCBPYnNlcnZhYmxlIGZvciBlYWNoIGNsaWNrIGV2ZW50LCBhbmQgYmxlbmQgdGhlaXIgb3V0cHV0cyBhcyBvbmUgT2JzZXJ2YWJsZTwvY2FwdGlvbj5cbiAqIHZhciBjbGlja3MgPSBSeC5PYnNlcnZhYmxlLmZyb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJyk7XG4gKiB2YXIgaGlnaGVyT3JkZXIgPSBjbGlja3MubWFwKChldikgPT4gUnguT2JzZXJ2YWJsZS5pbnRlcnZhbCgxMDAwKSk7XG4gKiB2YXIgZmlyc3RPcmRlciA9IGhpZ2hlck9yZGVyLm1lcmdlQWxsKCk7XG4gKiBmaXJzdE9yZGVyLnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqXG4gKiBAZXhhbXBsZSA8Y2FwdGlvbj5Db3VudCBmcm9tIDAgdG8gOSBldmVyeSBzZWNvbmQgZm9yIGVhY2ggY2xpY2ssIGJ1dCBvbmx5IGFsbG93IDIgY29uY3VycmVudCB0aW1lcnM8L2NhcHRpb24+XG4gKiB2YXIgY2xpY2tzID0gUnguT2JzZXJ2YWJsZS5mcm9tRXZlbnQoZG9jdW1lbnQsICdjbGljaycpO1xuICogdmFyIGhpZ2hlck9yZGVyID0gY2xpY2tzLm1hcCgoZXYpID0+IFJ4Lk9ic2VydmFibGUuaW50ZXJ2YWwoMTAwMCkudGFrZSgxMCkpO1xuICogdmFyIGZpcnN0T3JkZXIgPSBoaWdoZXJPcmRlci5tZXJnZUFsbCgyKTtcbiAqIGZpcnN0T3JkZXIuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICpcbiAqIEBzZWUge0BsaW5rIGNvbWJpbmVBbGx9XG4gKiBAc2VlIHtAbGluayBjb25jYXRBbGx9XG4gKiBAc2VlIHtAbGluayBleGhhdXN0fVxuICogQHNlZSB7QGxpbmsgbWVyZ2V9XG4gKiBAc2VlIHtAbGluayBtZXJnZU1hcH1cbiAqIEBzZWUge0BsaW5rIG1lcmdlTWFwVG99XG4gKiBAc2VlIHtAbGluayBtZXJnZVNjYW59XG4gKiBAc2VlIHtAbGluayBzd2l0Y2h9XG4gKiBAc2VlIHtAbGluayB6aXBBbGx9XG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IFtjb25jdXJyZW50PU51bWJlci5QT1NJVElWRV9JTkZJTklUWV0gTWF4aW11bSBudW1iZXIgb2YgaW5uZXJcbiAqIE9ic2VydmFibGVzIGJlaW5nIHN1YnNjcmliZWQgdG8gY29uY3VycmVudGx5LlxuICogQHJldHVybiB7T2JzZXJ2YWJsZX0gQW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIHZhbHVlcyBjb21pbmcgZnJvbSBhbGwgdGhlXG4gKiBpbm5lciBPYnNlcnZhYmxlcyBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZS5cbiAqIEBtZXRob2QgbWVyZ2VBbGxcbiAqIEBvd25lciBPYnNlcnZhYmxlXG4gKi9cbmZ1bmN0aW9uIG1lcmdlQWxsKGNvbmN1cnJlbnQpIHtcbiAgICBpZiAoY29uY3VycmVudCA9PT0gdm9pZCAwKSB7IGNvbmN1cnJlbnQgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7IH1cbiAgICByZXR1cm4gbWVyZ2VNYXBfMS5tZXJnZU1hcChpZGVudGl0eV8xLmlkZW50aXR5LCBudWxsLCBjb25jdXJyZW50KTtcbn1cbmV4cG9ydHMubWVyZ2VBbGwgPSBtZXJnZUFsbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lcmdlQWxsLmpzLm1hcFxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9yeGpzL29wZXJhdG9ycy9tZXJnZUFsbC5qc1xuLy8gbW9kdWxlIGlkID0gMjlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xufTtcbnZhciBzdWJzY3JpYmVUb1Jlc3VsdF8xID0gcmVxdWlyZSgnLi4vdXRpbC9zdWJzY3JpYmVUb1Jlc3VsdCcpO1xudmFyIE91dGVyU3Vic2NyaWJlcl8xID0gcmVxdWlyZSgnLi4vT3V0ZXJTdWJzY3JpYmVyJyk7XG4vKiB0c2xpbnQ6ZW5hYmxlOm1heC1saW5lLWxlbmd0aCAqL1xuLyoqXG4gKiBQcm9qZWN0cyBlYWNoIHNvdXJjZSB2YWx1ZSB0byBhbiBPYnNlcnZhYmxlIHdoaWNoIGlzIG1lcmdlZCBpbiB0aGUgb3V0cHV0XG4gKiBPYnNlcnZhYmxlLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5NYXBzIGVhY2ggdmFsdWUgdG8gYW4gT2JzZXJ2YWJsZSwgdGhlbiBmbGF0dGVucyBhbGwgb2ZcbiAqIHRoZXNlIGlubmVyIE9ic2VydmFibGVzIHVzaW5nIHtAbGluayBtZXJnZUFsbH0uPC9zcGFuPlxuICpcbiAqIDxpbWcgc3JjPVwiLi9pbWcvbWVyZ2VNYXAucG5nXCIgd2lkdGg9XCIxMDAlXCI+XG4gKlxuICogUmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgaXRlbXMgYmFzZWQgb24gYXBwbHlpbmcgYSBmdW5jdGlvbiB0aGF0IHlvdVxuICogc3VwcGx5IHRvIGVhY2ggaXRlbSBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSwgd2hlcmUgdGhhdCBmdW5jdGlvblxuICogcmV0dXJucyBhbiBPYnNlcnZhYmxlLCBhbmQgdGhlbiBtZXJnaW5nIHRob3NlIHJlc3VsdGluZyBPYnNlcnZhYmxlcyBhbmRcbiAqIGVtaXR0aW5nIHRoZSByZXN1bHRzIG9mIHRoaXMgbWVyZ2VyLlxuICpcbiAqIEBleGFtcGxlIDxjYXB0aW9uPk1hcCBhbmQgZmxhdHRlbiBlYWNoIGxldHRlciB0byBhbiBPYnNlcnZhYmxlIHRpY2tpbmcgZXZlcnkgMSBzZWNvbmQ8L2NhcHRpb24+XG4gKiB2YXIgbGV0dGVycyA9IFJ4Lk9ic2VydmFibGUub2YoJ2EnLCAnYicsICdjJyk7XG4gKiB2YXIgcmVzdWx0ID0gbGV0dGVycy5tZXJnZU1hcCh4ID0+XG4gKiAgIFJ4Lk9ic2VydmFibGUuaW50ZXJ2YWwoMTAwMCkubWFwKGkgPT4geCtpKVxuICogKTtcbiAqIHJlc3VsdC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKlxuICogLy8gUmVzdWx0cyBpbiB0aGUgZm9sbG93aW5nOlxuICogLy8gYTBcbiAqIC8vIGIwXG4gKiAvLyBjMFxuICogLy8gYTFcbiAqIC8vIGIxXG4gKiAvLyBjMVxuICogLy8gY29udGludWVzIHRvIGxpc3QgYSxiLGMgd2l0aCByZXNwZWN0aXZlIGFzY2VuZGluZyBpbnRlZ2Vyc1xuICpcbiAqIEBzZWUge0BsaW5rIGNvbmNhdE1hcH1cbiAqIEBzZWUge0BsaW5rIGV4aGF1c3RNYXB9XG4gKiBAc2VlIHtAbGluayBtZXJnZX1cbiAqIEBzZWUge0BsaW5rIG1lcmdlQWxsfVxuICogQHNlZSB7QGxpbmsgbWVyZ2VNYXBUb31cbiAqIEBzZWUge0BsaW5rIG1lcmdlU2Nhbn1cbiAqIEBzZWUge0BsaW5rIHN3aXRjaE1hcH1cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKHZhbHVlOiBULCA/aW5kZXg6IG51bWJlcik6IE9ic2VydmFibGVJbnB1dH0gcHJvamVjdCBBIGZ1bmN0aW9uXG4gKiB0aGF0LCB3aGVuIGFwcGxpZWQgdG8gYW4gaXRlbSBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSwgcmV0dXJucyBhblxuICogT2JzZXJ2YWJsZS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24ob3V0ZXJWYWx1ZTogVCwgaW5uZXJWYWx1ZTogSSwgb3V0ZXJJbmRleDogbnVtYmVyLCBpbm5lckluZGV4OiBudW1iZXIpOiBhbnl9IFtyZXN1bHRTZWxlY3Rvcl1cbiAqIEEgZnVuY3Rpb24gdG8gcHJvZHVjZSB0aGUgdmFsdWUgb24gdGhlIG91dHB1dCBPYnNlcnZhYmxlIGJhc2VkIG9uIHRoZSB2YWx1ZXNcbiAqIGFuZCB0aGUgaW5kaWNlcyBvZiB0aGUgc291cmNlIChvdXRlcikgZW1pc3Npb24gYW5kIHRoZSBpbm5lciBPYnNlcnZhYmxlXG4gKiBlbWlzc2lvbi4gVGhlIGFyZ3VtZW50cyBwYXNzZWQgdG8gdGhpcyBmdW5jdGlvbiBhcmU6XG4gKiAtIGBvdXRlclZhbHVlYDogdGhlIHZhbHVlIHRoYXQgY2FtZSBmcm9tIHRoZSBzb3VyY2VcbiAqIC0gYGlubmVyVmFsdWVgOiB0aGUgdmFsdWUgdGhhdCBjYW1lIGZyb20gdGhlIHByb2plY3RlZCBPYnNlcnZhYmxlXG4gKiAtIGBvdXRlckluZGV4YDogdGhlIFwiaW5kZXhcIiBvZiB0aGUgdmFsdWUgdGhhdCBjYW1lIGZyb20gdGhlIHNvdXJjZVxuICogLSBgaW5uZXJJbmRleGA6IHRoZSBcImluZGV4XCIgb2YgdGhlIHZhbHVlIGZyb20gdGhlIHByb2plY3RlZCBPYnNlcnZhYmxlXG4gKiBAcGFyYW0ge251bWJlcn0gW2NvbmN1cnJlbnQ9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZXSBNYXhpbXVtIG51bWJlciBvZiBpbnB1dFxuICogT2JzZXJ2YWJsZXMgYmVpbmcgc3Vic2NyaWJlZCB0byBjb25jdXJyZW50bHkuXG4gKiBAcmV0dXJuIHtPYnNlcnZhYmxlfSBBbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgdGhlIHJlc3VsdCBvZiBhcHBseWluZyB0aGVcbiAqIHByb2plY3Rpb24gZnVuY3Rpb24gKGFuZCB0aGUgb3B0aW9uYWwgYHJlc3VsdFNlbGVjdG9yYCkgdG8gZWFjaCBpdGVtIGVtaXR0ZWRcbiAqIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSBhbmQgbWVyZ2luZyB0aGUgcmVzdWx0cyBvZiB0aGUgT2JzZXJ2YWJsZXMgb2J0YWluZWRcbiAqIGZyb20gdGhpcyB0cmFuc2Zvcm1hdGlvbi5cbiAqIEBtZXRob2QgbWVyZ2VNYXBcbiAqIEBvd25lciBPYnNlcnZhYmxlXG4gKi9cbmZ1bmN0aW9uIG1lcmdlTWFwKHByb2plY3QsIHJlc3VsdFNlbGVjdG9yLCBjb25jdXJyZW50KSB7XG4gICAgaWYgKGNvbmN1cnJlbnQgPT09IHZvaWQgMCkgeyBjb25jdXJyZW50ID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZOyB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIG1lcmdlTWFwT3BlcmF0b3JGdW5jdGlvbihzb3VyY2UpIHtcbiAgICAgICAgaWYgKHR5cGVvZiByZXN1bHRTZWxlY3RvciA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIGNvbmN1cnJlbnQgPSByZXN1bHRTZWxlY3RvcjtcbiAgICAgICAgICAgIHJlc3VsdFNlbGVjdG9yID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc291cmNlLmxpZnQobmV3IE1lcmdlTWFwT3BlcmF0b3IocHJvamVjdCwgcmVzdWx0U2VsZWN0b3IsIGNvbmN1cnJlbnQpKTtcbiAgICB9O1xufVxuZXhwb3J0cy5tZXJnZU1hcCA9IG1lcmdlTWFwO1xudmFyIE1lcmdlTWFwT3BlcmF0b3IgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1lcmdlTWFwT3BlcmF0b3IocHJvamVjdCwgcmVzdWx0U2VsZWN0b3IsIGNvbmN1cnJlbnQpIHtcbiAgICAgICAgaWYgKGNvbmN1cnJlbnQgPT09IHZvaWQgMCkgeyBjb25jdXJyZW50ID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZOyB9XG4gICAgICAgIHRoaXMucHJvamVjdCA9IHByb2plY3Q7XG4gICAgICAgIHRoaXMucmVzdWx0U2VsZWN0b3IgPSByZXN1bHRTZWxlY3RvcjtcbiAgICAgICAgdGhpcy5jb25jdXJyZW50ID0gY29uY3VycmVudDtcbiAgICB9XG4gICAgTWVyZ2VNYXBPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChvYnNlcnZlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBNZXJnZU1hcFN1YnNjcmliZXIob2JzZXJ2ZXIsIHRoaXMucHJvamVjdCwgdGhpcy5yZXN1bHRTZWxlY3RvciwgdGhpcy5jb25jdXJyZW50KSk7XG4gICAgfTtcbiAgICByZXR1cm4gTWVyZ2VNYXBPcGVyYXRvcjtcbn0oKSk7XG5leHBvcnRzLk1lcmdlTWFwT3BlcmF0b3IgPSBNZXJnZU1hcE9wZXJhdG9yO1xuLyoqXG4gKiBXZSBuZWVkIHRoaXMgSlNEb2MgY29tbWVudCBmb3IgYWZmZWN0aW5nIEVTRG9jLlxuICogQGlnbm9yZVxuICogQGV4dGVuZHMge0lnbm9yZWR9XG4gKi9cbnZhciBNZXJnZU1hcFN1YnNjcmliZXIgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhNZXJnZU1hcFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTWVyZ2VNYXBTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBwcm9qZWN0LCByZXN1bHRTZWxlY3RvciwgY29uY3VycmVudCkge1xuICAgICAgICBpZiAoY29uY3VycmVudCA9PT0gdm9pZCAwKSB7IGNvbmN1cnJlbnQgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7IH1cbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pO1xuICAgICAgICB0aGlzLnByb2plY3QgPSBwcm9qZWN0O1xuICAgICAgICB0aGlzLnJlc3VsdFNlbGVjdG9yID0gcmVzdWx0U2VsZWN0b3I7XG4gICAgICAgIHRoaXMuY29uY3VycmVudCA9IGNvbmN1cnJlbnQ7XG4gICAgICAgIHRoaXMuaGFzQ29tcGxldGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYnVmZmVyID0gW107XG4gICAgICAgIHRoaXMuYWN0aXZlID0gMDtcbiAgICAgICAgdGhpcy5pbmRleCA9IDA7XG4gICAgfVxuICAgIE1lcmdlTWFwU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlIDwgdGhpcy5jb25jdXJyZW50KSB7XG4gICAgICAgICAgICB0aGlzLl90cnlOZXh0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyLnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNZXJnZU1hcFN1YnNjcmliZXIucHJvdG90eXBlLl90cnlOZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuaW5kZXgrKztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMucHJvamVjdCh2YWx1ZSwgaW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFjdGl2ZSsrO1xuICAgICAgICB0aGlzLl9pbm5lclN1YihyZXN1bHQsIHZhbHVlLCBpbmRleCk7XG4gICAgfTtcbiAgICBNZXJnZU1hcFN1YnNjcmliZXIucHJvdG90eXBlLl9pbm5lclN1YiA9IGZ1bmN0aW9uIChpc2gsIHZhbHVlLCBpbmRleCkge1xuICAgICAgICB0aGlzLmFkZChzdWJzY3JpYmVUb1Jlc3VsdF8xLnN1YnNjcmliZVRvUmVzdWx0KHRoaXMsIGlzaCwgdmFsdWUsIGluZGV4KSk7XG4gICAgfTtcbiAgICBNZXJnZU1hcFN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5oYXNDb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5hY3RpdmUgPT09IDAgJiYgdGhpcy5idWZmZXIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1lcmdlTWFwU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5TmV4dCA9IGZ1bmN0aW9uIChvdXRlclZhbHVlLCBpbm5lclZhbHVlLCBvdXRlckluZGV4LCBpbm5lckluZGV4LCBpbm5lclN1Yikge1xuICAgICAgICBpZiAodGhpcy5yZXN1bHRTZWxlY3Rvcikge1xuICAgICAgICAgICAgdGhpcy5fbm90aWZ5UmVzdWx0U2VsZWN0b3Iob3V0ZXJWYWx1ZSwgaW5uZXJWYWx1ZSwgb3V0ZXJJbmRleCwgaW5uZXJJbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQoaW5uZXJWYWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1lcmdlTWFwU3Vic2NyaWJlci5wcm90b3R5cGUuX25vdGlmeVJlc3VsdFNlbGVjdG9yID0gZnVuY3Rpb24gKG91dGVyVmFsdWUsIGlubmVyVmFsdWUsIG91dGVySW5kZXgsIGlubmVySW5kZXgpIHtcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMucmVzdWx0U2VsZWN0b3Iob3V0ZXJWYWx1ZSwgaW5uZXJWYWx1ZSwgb3V0ZXJJbmRleCwgaW5uZXJJbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dChyZXN1bHQpO1xuICAgIH07XG4gICAgTWVyZ2VNYXBTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlDb21wbGV0ZSA9IGZ1bmN0aW9uIChpbm5lclN1Yikge1xuICAgICAgICB2YXIgYnVmZmVyID0gdGhpcy5idWZmZXI7XG4gICAgICAgIHRoaXMucmVtb3ZlKGlubmVyU3ViKTtcbiAgICAgICAgdGhpcy5hY3RpdmUtLTtcbiAgICAgICAgaWYgKGJ1ZmZlci5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLl9uZXh0KGJ1ZmZlci5zaGlmdCgpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmFjdGl2ZSA9PT0gMCAmJiB0aGlzLmhhc0NvbXBsZXRlZCkge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gTWVyZ2VNYXBTdWJzY3JpYmVyO1xufShPdXRlclN1YnNjcmliZXJfMS5PdXRlclN1YnNjcmliZXIpKTtcbmV4cG9ydHMuTWVyZ2VNYXBTdWJzY3JpYmVyID0gTWVyZ2VNYXBTdWJzY3JpYmVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVyZ2VNYXAuanMubWFwXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3J4anMvb3BlcmF0b3JzL21lcmdlTWFwLmpzXG4vLyBtb2R1bGUgaWQgPSAzMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciByb290XzEgPSByZXF1aXJlKCcuL3Jvb3QnKTtcbnZhciBpc0FycmF5TGlrZV8xID0gcmVxdWlyZSgnLi9pc0FycmF5TGlrZScpO1xudmFyIGlzUHJvbWlzZV8xID0gcmVxdWlyZSgnLi9pc1Byb21pc2UnKTtcbnZhciBpc09iamVjdF8xID0gcmVxdWlyZSgnLi9pc09iamVjdCcpO1xudmFyIE9ic2VydmFibGVfMSA9IHJlcXVpcmUoJy4uL09ic2VydmFibGUnKTtcbnZhciBpdGVyYXRvcl8xID0gcmVxdWlyZSgnLi4vc3ltYm9sL2l0ZXJhdG9yJyk7XG52YXIgSW5uZXJTdWJzY3JpYmVyXzEgPSByZXF1aXJlKCcuLi9Jbm5lclN1YnNjcmliZXInKTtcbnZhciBvYnNlcnZhYmxlXzEgPSByZXF1aXJlKCcuLi9zeW1ib2wvb2JzZXJ2YWJsZScpO1xuZnVuY3Rpb24gc3Vic2NyaWJlVG9SZXN1bHQob3V0ZXJTdWJzY3JpYmVyLCByZXN1bHQsIG91dGVyVmFsdWUsIG91dGVySW5kZXgpIHtcbiAgICB2YXIgZGVzdGluYXRpb24gPSBuZXcgSW5uZXJTdWJzY3JpYmVyXzEuSW5uZXJTdWJzY3JpYmVyKG91dGVyU3Vic2NyaWJlciwgb3V0ZXJWYWx1ZSwgb3V0ZXJJbmRleCk7XG4gICAgaWYgKGRlc3RpbmF0aW9uLmNsb3NlZCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIE9ic2VydmFibGVfMS5PYnNlcnZhYmxlKSB7XG4gICAgICAgIGlmIChyZXN1bHQuX2lzU2NhbGFyKSB7XG4gICAgICAgICAgICBkZXN0aW5hdGlvbi5uZXh0KHJlc3VsdC52YWx1ZSk7XG4gICAgICAgICAgICBkZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkZXN0aW5hdGlvbi5zeW5jRXJyb3JUaHJvd2FibGUgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5zdWJzY3JpYmUoZGVzdGluYXRpb24pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzQXJyYXlMaWtlXzEuaXNBcnJheUxpa2UocmVzdWx0KSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gcmVzdWx0Lmxlbmd0aDsgaSA8IGxlbiAmJiAhZGVzdGluYXRpb24uY2xvc2VkOyBpKyspIHtcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uLm5leHQocmVzdWx0W2ldKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWRlc3RpbmF0aW9uLmNsb3NlZCkge1xuICAgICAgICAgICAgZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChpc1Byb21pc2VfMS5pc1Byb21pc2UocmVzdWx0KSkge1xuICAgICAgICByZXN1bHQudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghZGVzdGluYXRpb24uY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgZGVzdGluYXRpb24ubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycikgeyByZXR1cm4gZGVzdGluYXRpb24uZXJyb3IoZXJyKTsgfSlcbiAgICAgICAgICAgIC50aGVuKG51bGwsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIC8vIEVzY2FwaW5nIHRoZSBQcm9taXNlIHRyYXA6IGdsb2JhbGx5IHRocm93IHVuaGFuZGxlZCBlcnJvcnNcbiAgICAgICAgICAgIHJvb3RfMS5yb290LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyB0aHJvdyBlcnI7IH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGRlc3RpbmF0aW9uO1xuICAgIH1cbiAgICBlbHNlIGlmIChyZXN1bHQgJiYgdHlwZW9mIHJlc3VsdFtpdGVyYXRvcl8xLml0ZXJhdG9yXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB2YXIgaXRlcmF0b3IgPSByZXN1bHRbaXRlcmF0b3JfMS5pdGVyYXRvcl0oKTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgdmFyIGl0ZW0gPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgICBpZiAoaXRlbS5kb25lKSB7XG4gICAgICAgICAgICAgICAgZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlc3RpbmF0aW9uLm5leHQoaXRlbS52YWx1ZSk7XG4gICAgICAgICAgICBpZiAoZGVzdGluYXRpb24uY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKHRydWUpO1xuICAgIH1cbiAgICBlbHNlIGlmIChyZXN1bHQgJiYgdHlwZW9mIHJlc3VsdFtvYnNlcnZhYmxlXzEub2JzZXJ2YWJsZV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFyIG9icyA9IHJlc3VsdFtvYnNlcnZhYmxlXzEub2JzZXJ2YWJsZV0oKTtcbiAgICAgICAgaWYgKHR5cGVvZiBvYnMuc3Vic2NyaWJlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBkZXN0aW5hdGlvbi5lcnJvcihuZXcgVHlwZUVycm9yKCdQcm92aWRlZCBvYmplY3QgZG9lcyBub3QgY29ycmVjdGx5IGltcGxlbWVudCBTeW1ib2wub2JzZXJ2YWJsZScpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBvYnMuc3Vic2NyaWJlKG5ldyBJbm5lclN1YnNjcmliZXJfMS5Jbm5lclN1YnNjcmliZXIob3V0ZXJTdWJzY3JpYmVyLCBvdXRlclZhbHVlLCBvdXRlckluZGV4KSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGlzT2JqZWN0XzEuaXNPYmplY3QocmVzdWx0KSA/ICdhbiBpbnZhbGlkIG9iamVjdCcgOiBcIidcIiArIHJlc3VsdCArIFwiJ1wiO1xuICAgICAgICB2YXIgbXNnID0gKFwiWW91IHByb3ZpZGVkIFwiICsgdmFsdWUgKyBcIiB3aGVyZSBhIHN0cmVhbSB3YXMgZXhwZWN0ZWQuXCIpXG4gICAgICAgICAgICArICcgWW91IGNhbiBwcm92aWRlIGFuIE9ic2VydmFibGUsIFByb21pc2UsIEFycmF5LCBvciBJdGVyYWJsZS4nO1xuICAgICAgICBkZXN0aW5hdGlvbi5lcnJvcihuZXcgVHlwZUVycm9yKG1zZykpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmV4cG9ydHMuc3Vic2NyaWJlVG9SZXN1bHQgPSBzdWJzY3JpYmVUb1Jlc3VsdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN1YnNjcmliZVRvUmVzdWx0LmpzLm1hcFxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9yeGpzL3V0aWwvc3Vic2NyaWJlVG9SZXN1bHQuanNcbi8vIG1vZHVsZSBpZCA9IDMxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xuZXhwb3J0cy5pc0FycmF5TGlrZSA9IChmdW5jdGlvbiAoeCkgeyByZXR1cm4geCAmJiB0eXBlb2YgeC5sZW5ndGggPT09ICdudW1iZXInOyB9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzQXJyYXlMaWtlLmpzLm1hcFxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9yeGpzL3V0aWwvaXNBcnJheUxpa2UuanNcbi8vIG1vZHVsZSBpZCA9IDMyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gaXNQcm9taXNlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICYmIHR5cGVvZiB2YWx1ZS5zdWJzY3JpYmUgIT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHZhbHVlLnRoZW4gPT09ICdmdW5jdGlvbic7XG59XG5leHBvcnRzLmlzUHJvbWlzZSA9IGlzUHJvbWlzZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzUHJvbWlzZS5qcy5tYXBcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcnhqcy91dGlsL2lzUHJvbWlzZS5qc1xuLy8gbW9kdWxlIGlkID0gMzNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgcm9vdF8xID0gcmVxdWlyZSgnLi4vdXRpbC9yb290Jyk7XG5mdW5jdGlvbiBzeW1ib2xJdGVyYXRvclBvbnlmaWxsKHJvb3QpIHtcbiAgICB2YXIgU3ltYm9sID0gcm9vdC5TeW1ib2w7XG4gICAgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgaWYgKCFTeW1ib2wuaXRlcmF0b3IpIHtcbiAgICAgICAgICAgIFN5bWJvbC5pdGVyYXRvciA9IFN5bWJvbCgnaXRlcmF0b3IgcG9seWZpbGwnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gU3ltYm9sLml0ZXJhdG9yO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gW2ZvciBNb3ppbGxhIEdlY2tvIDI3LTM1Ol0oaHR0cHM6Ly9temwubGEvMmV3RTF6QylcbiAgICAgICAgdmFyIFNldF8xID0gcm9vdC5TZXQ7XG4gICAgICAgIGlmIChTZXRfMSAmJiB0eXBlb2YgbmV3IFNldF8xKClbJ0BAaXRlcmF0b3InXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuICdAQGl0ZXJhdG9yJztcbiAgICAgICAgfVxuICAgICAgICB2YXIgTWFwXzEgPSByb290Lk1hcDtcbiAgICAgICAgLy8gcmVxdWlyZWQgZm9yIGNvbXBhdGFiaWxpdHkgd2l0aCBlczYtc2hpbVxuICAgICAgICBpZiAoTWFwXzEpIHtcbiAgICAgICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoTWFwXzEucHJvdG90eXBlKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAgICAgICAgIC8vIGFjY29yZGluZyB0byBzcGVjLCBNYXAucHJvdG90eXBlW0BAaXRlcmF0b3JdIGFuZCBNYXAub3JvdG90eXBlLmVudHJpZXMgbXVzdCBiZSBlcXVhbC5cbiAgICAgICAgICAgICAgICBpZiAoa2V5ICE9PSAnZW50cmllcycgJiYga2V5ICE9PSAnc2l6ZScgJiYgTWFwXzEucHJvdG90eXBlW2tleV0gPT09IE1hcF8xLnByb3RvdHlwZVsnZW50cmllcyddKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBrZXk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnQEBpdGVyYXRvcic7XG4gICAgfVxufVxuZXhwb3J0cy5zeW1ib2xJdGVyYXRvclBvbnlmaWxsID0gc3ltYm9sSXRlcmF0b3JQb255ZmlsbDtcbmV4cG9ydHMuaXRlcmF0b3IgPSBzeW1ib2xJdGVyYXRvclBvbnlmaWxsKHJvb3RfMS5yb290KTtcbi8qKlxuICogQGRlcHJlY2F0ZWQgdXNlIGl0ZXJhdG9yIGluc3RlYWRcbiAqL1xuZXhwb3J0cy4kJGl0ZXJhdG9yID0gZXhwb3J0cy5pdGVyYXRvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWl0ZXJhdG9yLmpzLm1hcFxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9yeGpzL3N5bWJvbC9pdGVyYXRvci5qc1xuLy8gbW9kdWxlIGlkID0gMzRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xufTtcbnZhciBTdWJzY3JpYmVyXzEgPSByZXF1aXJlKCcuL1N1YnNjcmliZXInKTtcbi8qKlxuICogV2UgbmVlZCB0aGlzIEpTRG9jIGNvbW1lbnQgZm9yIGFmZmVjdGluZyBFU0RvYy5cbiAqIEBpZ25vcmVcbiAqIEBleHRlbmRzIHtJZ25vcmVkfVxuICovXG52YXIgSW5uZXJTdWJzY3JpYmVyID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoSW5uZXJTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIElubmVyU3Vic2NyaWJlcihwYXJlbnQsIG91dGVyVmFsdWUsIG91dGVySW5kZXgpIHtcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICB0aGlzLm91dGVyVmFsdWUgPSBvdXRlclZhbHVlO1xuICAgICAgICB0aGlzLm91dGVySW5kZXggPSBvdXRlckluZGV4O1xuICAgICAgICB0aGlzLmluZGV4ID0gMDtcbiAgICB9XG4gICAgSW5uZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLnBhcmVudC5ub3RpZnlOZXh0KHRoaXMub3V0ZXJWYWx1ZSwgdmFsdWUsIHRoaXMub3V0ZXJJbmRleCwgdGhpcy5pbmRleCsrLCB0aGlzKTtcbiAgICB9O1xuICAgIElubmVyU3Vic2NyaWJlci5wcm90b3R5cGUuX2Vycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIHRoaXMucGFyZW50Lm5vdGlmeUVycm9yKGVycm9yLCB0aGlzKTtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgSW5uZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucGFyZW50Lm5vdGlmeUNvbXBsZXRlKHRoaXMpO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gSW5uZXJTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyXzEuU3Vic2NyaWJlcikpO1xuZXhwb3J0cy5Jbm5lclN1YnNjcmliZXIgPSBJbm5lclN1YnNjcmliZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Jbm5lclN1YnNjcmliZXIuanMubWFwXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3J4anMvSW5uZXJTdWJzY3JpYmVyLmpzXG4vLyBtb2R1bGUgaWQgPSAzNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG59O1xudmFyIFN1YnNjcmliZXJfMSA9IHJlcXVpcmUoJy4vU3Vic2NyaWJlcicpO1xuLyoqXG4gKiBXZSBuZWVkIHRoaXMgSlNEb2MgY29tbWVudCBmb3IgYWZmZWN0aW5nIEVTRG9jLlxuICogQGlnbm9yZVxuICogQGV4dGVuZHMge0lnbm9yZWR9XG4gKi9cbnZhciBPdXRlclN1YnNjcmliZXIgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhPdXRlclN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gT3V0ZXJTdWJzY3JpYmVyKCkge1xuICAgICAgICBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gICAgT3V0ZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlOZXh0ID0gZnVuY3Rpb24gKG91dGVyVmFsdWUsIGlubmVyVmFsdWUsIG91dGVySW5kZXgsIGlubmVySW5kZXgsIGlubmVyU3ViKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dChpbm5lclZhbHVlKTtcbiAgICB9O1xuICAgIE91dGVyU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5RXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IsIGlubmVyU3ViKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyb3IpO1xuICAgIH07XG4gICAgT3V0ZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlDb21wbGV0ZSA9IGZ1bmN0aW9uIChpbm5lclN1Yikge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gT3V0ZXJTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyXzEuU3Vic2NyaWJlcikpO1xuZXhwb3J0cy5PdXRlclN1YnNjcmliZXIgPSBPdXRlclN1YnNjcmliZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PdXRlclN1YnNjcmliZXIuanMubWFwXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3J4anMvT3V0ZXJTdWJzY3JpYmVyLmpzXG4vLyBtb2R1bGUgaWQgPSAzNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGlkZW50aXR5KHgpIHtcbiAgICByZXR1cm4geDtcbn1cbmV4cG9ydHMuaWRlbnRpdHkgPSBpZGVudGl0eTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlkZW50aXR5LmpzLm1hcFxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9yeGpzL3V0aWwvaWRlbnRpdHkuanNcbi8vIG1vZHVsZSBpZCA9IDM3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xudmFyIHNoYXJlXzEgPSByZXF1aXJlKCcuLi9vcGVyYXRvcnMvc2hhcmUnKTtcbi8qKlxuICogUmV0dXJucyBhIG5ldyBPYnNlcnZhYmxlIHRoYXQgbXVsdGljYXN0cyAoc2hhcmVzKSB0aGUgb3JpZ2luYWwgT2JzZXJ2YWJsZS4gQXMgbG9uZyBhcyB0aGVyZSBpcyBhdCBsZWFzdCBvbmVcbiAqIFN1YnNjcmliZXIgdGhpcyBPYnNlcnZhYmxlIHdpbGwgYmUgc3Vic2NyaWJlZCBhbmQgZW1pdHRpbmcgZGF0YS4gV2hlbiBhbGwgc3Vic2NyaWJlcnMgaGF2ZSB1bnN1YnNjcmliZWQgaXQgd2lsbFxuICogdW5zdWJzY3JpYmUgZnJvbSB0aGUgc291cmNlIE9ic2VydmFibGUuIEJlY2F1c2UgdGhlIE9ic2VydmFibGUgaXMgbXVsdGljYXN0aW5nIGl0IG1ha2VzIHRoZSBzdHJlYW0gYGhvdGAuXG4gKlxuICogVGhpcyBiZWhhdmVzIHNpbWlsYXJseSB0byAucHVibGlzaCgpLnJlZkNvdW50KCksIHdpdGggYSBiZWhhdmlvciBkaWZmZXJlbmNlIHdoZW4gdGhlIHNvdXJjZSBvYnNlcnZhYmxlIGVtaXRzIGNvbXBsZXRlLlxuICogLnB1Ymxpc2goKS5yZWZDb3VudCgpIHdpbGwgbm90IHJlc3Vic2NyaWJlIHRvIHRoZSBvcmlnaW5hbCBzb3VyY2UsIGhvd2V2ZXIgLnNoYXJlKCkgd2lsbCByZXN1YnNjcmliZSB0byB0aGUgb3JpZ2luYWwgc291cmNlLlxuICogT2JzZXJ2YWJsZS5vZihcInRlc3RcIikucHVibGlzaCgpLnJlZkNvdW50KCkgd2lsbCBub3QgcmUtZW1pdCBcInRlc3RcIiBvbiBuZXcgc3Vic2NyaXB0aW9ucywgT2JzZXJ2YWJsZS5vZihcInRlc3RcIikuc2hhcmUoKSB3aWxsXG4gKiByZS1lbWl0IFwidGVzdFwiIHRvIG5ldyBzdWJzY3JpcHRpb25zLlxuICpcbiAqIDxpbWcgc3JjPVwiLi9pbWcvc2hhcmUucG5nXCIgd2lkdGg9XCIxMDAlXCI+XG4gKlxuICogQHJldHVybiB7T2JzZXJ2YWJsZTxUPn0gQW4gT2JzZXJ2YWJsZSB0aGF0IHVwb24gY29ubmVjdGlvbiBjYXVzZXMgdGhlIHNvdXJjZSBPYnNlcnZhYmxlIHRvIGVtaXQgaXRlbXMgdG8gaXRzIE9ic2VydmVycy5cbiAqIEBtZXRob2Qgc2hhcmVcbiAqIEBvd25lciBPYnNlcnZhYmxlXG4gKi9cbmZ1bmN0aW9uIHNoYXJlKCkge1xuICAgIHJldHVybiBzaGFyZV8xLnNoYXJlKCkodGhpcyk7XG59XG5leHBvcnRzLnNoYXJlID0gc2hhcmU7XG47XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zaGFyZS5qcy5tYXBcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcnhqcy9vcGVyYXRvci9zaGFyZS5qc1xuLy8gbW9kdWxlIGlkID0gMzhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgbXVsdGljYXN0XzEgPSByZXF1aXJlKCcuL211bHRpY2FzdCcpO1xudmFyIHJlZkNvdW50XzEgPSByZXF1aXJlKCcuL3JlZkNvdW50Jyk7XG52YXIgU3ViamVjdF8xID0gcmVxdWlyZSgnLi4vU3ViamVjdCcpO1xuZnVuY3Rpb24gc2hhcmVTdWJqZWN0RmFjdG9yeSgpIHtcbiAgICByZXR1cm4gbmV3IFN1YmplY3RfMS5TdWJqZWN0KCk7XG59XG4vKipcbiAqIFJldHVybnMgYSBuZXcgT2JzZXJ2YWJsZSB0aGF0IG11bHRpY2FzdHMgKHNoYXJlcykgdGhlIG9yaWdpbmFsIE9ic2VydmFibGUuIEFzIGxvbmcgYXMgdGhlcmUgaXMgYXQgbGVhc3Qgb25lXG4gKiBTdWJzY3JpYmVyIHRoaXMgT2JzZXJ2YWJsZSB3aWxsIGJlIHN1YnNjcmliZWQgYW5kIGVtaXR0aW5nIGRhdGEuIFdoZW4gYWxsIHN1YnNjcmliZXJzIGhhdmUgdW5zdWJzY3JpYmVkIGl0IHdpbGxcbiAqIHVuc3Vic2NyaWJlIGZyb20gdGhlIHNvdXJjZSBPYnNlcnZhYmxlLiBCZWNhdXNlIHRoZSBPYnNlcnZhYmxlIGlzIG11bHRpY2FzdGluZyBpdCBtYWtlcyB0aGUgc3RyZWFtIGBob3RgLlxuICogVGhpcyBpcyBhbiBhbGlhcyBmb3IgLm11bHRpY2FzdCgoKSA9PiBuZXcgU3ViamVjdCgpKS5yZWZDb3VudCgpLlxuICpcbiAqIDxpbWcgc3JjPVwiLi9pbWcvc2hhcmUucG5nXCIgd2lkdGg9XCIxMDAlXCI+XG4gKlxuICogQHJldHVybiB7T2JzZXJ2YWJsZTxUPn0gQW4gT2JzZXJ2YWJsZSB0aGF0IHVwb24gY29ubmVjdGlvbiBjYXVzZXMgdGhlIHNvdXJjZSBPYnNlcnZhYmxlIHRvIGVtaXQgaXRlbXMgdG8gaXRzIE9ic2VydmVycy5cbiAqIEBtZXRob2Qgc2hhcmVcbiAqIEBvd25lciBPYnNlcnZhYmxlXG4gKi9cbmZ1bmN0aW9uIHNoYXJlKCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiByZWZDb3VudF8xLnJlZkNvdW50KCkobXVsdGljYXN0XzEubXVsdGljYXN0KHNoYXJlU3ViamVjdEZhY3RvcnkpKHNvdXJjZSkpOyB9O1xufVxuZXhwb3J0cy5zaGFyZSA9IHNoYXJlO1xuO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2hhcmUuanMubWFwXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3J4anMvb3BlcmF0b3JzL3NoYXJlLmpzXG4vLyBtb2R1bGUgaWQgPSAzOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBDb25uZWN0YWJsZU9ic2VydmFibGVfMSA9IHJlcXVpcmUoJy4uL29ic2VydmFibGUvQ29ubmVjdGFibGVPYnNlcnZhYmxlJyk7XG4vKiB0c2xpbnQ6ZW5hYmxlOm1heC1saW5lLWxlbmd0aCAqL1xuLyoqXG4gKiBSZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyB0aGUgcmVzdWx0cyBvZiBpbnZva2luZyBhIHNwZWNpZmllZCBzZWxlY3RvciBvbiBpdGVtc1xuICogZW1pdHRlZCBieSBhIENvbm5lY3RhYmxlT2JzZXJ2YWJsZSB0aGF0IHNoYXJlcyBhIHNpbmdsZSBzdWJzY3JpcHRpb24gdG8gdGhlIHVuZGVybHlpbmcgc3RyZWFtLlxuICpcbiAqIDxpbWcgc3JjPVwiLi9pbWcvbXVsdGljYXN0LnBuZ1wiIHdpZHRoPVwiMTAwJVwiPlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb258U3ViamVjdH0gc3ViamVjdE9yU3ViamVjdEZhY3RvcnkgLSBGYWN0b3J5IGZ1bmN0aW9uIHRvIGNyZWF0ZSBhbiBpbnRlcm1lZGlhdGUgc3ViamVjdCB0aHJvdWdoXG4gKiB3aGljaCB0aGUgc291cmNlIHNlcXVlbmNlJ3MgZWxlbWVudHMgd2lsbCBiZSBtdWx0aWNhc3QgdG8gdGhlIHNlbGVjdG9yIGZ1bmN0aW9uXG4gKiBvciBTdWJqZWN0IHRvIHB1c2ggc291cmNlIGVsZW1lbnRzIGludG8uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbc2VsZWN0b3JdIC0gT3B0aW9uYWwgc2VsZWN0b3IgZnVuY3Rpb24gdGhhdCBjYW4gdXNlIHRoZSBtdWx0aWNhc3RlZCBzb3VyY2Ugc3RyZWFtXG4gKiBhcyBtYW55IHRpbWVzIGFzIG5lZWRlZCwgd2l0aG91dCBjYXVzaW5nIG11bHRpcGxlIHN1YnNjcmlwdGlvbnMgdG8gdGhlIHNvdXJjZSBzdHJlYW0uXG4gKiBTdWJzY3JpYmVycyB0byB0aGUgZ2l2ZW4gc291cmNlIHdpbGwgcmVjZWl2ZSBhbGwgbm90aWZpY2F0aW9ucyBvZiB0aGUgc291cmNlIGZyb20gdGhlXG4gKiB0aW1lIG9mIHRoZSBzdWJzY3JpcHRpb24gZm9yd2FyZC5cbiAqIEByZXR1cm4ge09ic2VydmFibGV9IEFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyB0aGUgcmVzdWx0cyBvZiBpbnZva2luZyB0aGUgc2VsZWN0b3JcbiAqIG9uIHRoZSBpdGVtcyBlbWl0dGVkIGJ5IGEgYENvbm5lY3RhYmxlT2JzZXJ2YWJsZWAgdGhhdCBzaGFyZXMgYSBzaW5nbGUgc3Vic2NyaXB0aW9uIHRvXG4gKiB0aGUgdW5kZXJseWluZyBzdHJlYW0uXG4gKiBAbWV0aG9kIG11bHRpY2FzdFxuICogQG93bmVyIE9ic2VydmFibGVcbiAqL1xuZnVuY3Rpb24gbXVsdGljYXN0KHN1YmplY3RPclN1YmplY3RGYWN0b3J5LCBzZWxlY3Rvcikge1xuICAgIHJldHVybiBmdW5jdGlvbiBtdWx0aWNhc3RPcGVyYXRvckZ1bmN0aW9uKHNvdXJjZSkge1xuICAgICAgICB2YXIgc3ViamVjdEZhY3Rvcnk7XG4gICAgICAgIGlmICh0eXBlb2Ygc3ViamVjdE9yU3ViamVjdEZhY3RvcnkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHN1YmplY3RGYWN0b3J5ID0gc3ViamVjdE9yU3ViamVjdEZhY3Rvcnk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdWJqZWN0RmFjdG9yeSA9IGZ1bmN0aW9uIHN1YmplY3RGYWN0b3J5KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdWJqZWN0T3JTdWJqZWN0RmFjdG9yeTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBzZWxlY3RvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBNdWx0aWNhc3RPcGVyYXRvcihzdWJqZWN0RmFjdG9yeSwgc2VsZWN0b3IpKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29ubmVjdGFibGUgPSBPYmplY3QuY3JlYXRlKHNvdXJjZSwgQ29ubmVjdGFibGVPYnNlcnZhYmxlXzEuY29ubmVjdGFibGVPYnNlcnZhYmxlRGVzY3JpcHRvcik7XG4gICAgICAgIGNvbm5lY3RhYmxlLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgY29ubmVjdGFibGUuc3ViamVjdEZhY3RvcnkgPSBzdWJqZWN0RmFjdG9yeTtcbiAgICAgICAgcmV0dXJuIGNvbm5lY3RhYmxlO1xuICAgIH07XG59XG5leHBvcnRzLm11bHRpY2FzdCA9IG11bHRpY2FzdDtcbnZhciBNdWx0aWNhc3RPcGVyYXRvciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTXVsdGljYXN0T3BlcmF0b3Ioc3ViamVjdEZhY3RvcnksIHNlbGVjdG9yKSB7XG4gICAgICAgIHRoaXMuc3ViamVjdEZhY3RvcnkgPSBzdWJqZWN0RmFjdG9yeTtcbiAgICAgICAgdGhpcy5zZWxlY3RvciA9IHNlbGVjdG9yO1xuICAgIH1cbiAgICBNdWx0aWNhc3RPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgdmFyIHNlbGVjdG9yID0gdGhpcy5zZWxlY3RvcjtcbiAgICAgICAgdmFyIHN1YmplY3QgPSB0aGlzLnN1YmplY3RGYWN0b3J5KCk7XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb24gPSBzZWxlY3RvcihzdWJqZWN0KS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgICAgIHN1YnNjcmlwdGlvbi5hZGQoc291cmNlLnN1YnNjcmliZShzdWJqZWN0KSk7XG4gICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgfTtcbiAgICByZXR1cm4gTXVsdGljYXN0T3BlcmF0b3I7XG59KCkpO1xuZXhwb3J0cy5NdWx0aWNhc3RPcGVyYXRvciA9IE11bHRpY2FzdE9wZXJhdG9yO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bXVsdGljYXN0LmpzLm1hcFxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9yeGpzL29wZXJhdG9ycy9tdWx0aWNhc3QuanNcbi8vIG1vZHVsZSBpZCA9IDQwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCBmdW5jdGlvbiAoZCwgYikge1xuICAgIGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbn07XG52YXIgU3ViamVjdF8xID0gcmVxdWlyZSgnLi4vU3ViamVjdCcpO1xudmFyIE9ic2VydmFibGVfMSA9IHJlcXVpcmUoJy4uL09ic2VydmFibGUnKTtcbnZhciBTdWJzY3JpYmVyXzEgPSByZXF1aXJlKCcuLi9TdWJzY3JpYmVyJyk7XG52YXIgU3Vic2NyaXB0aW9uXzEgPSByZXF1aXJlKCcuLi9TdWJzY3JpcHRpb24nKTtcbnZhciByZWZDb3VudF8xID0gcmVxdWlyZSgnLi4vb3BlcmF0b3JzL3JlZkNvdW50Jyk7XG4vKipcbiAqIEBjbGFzcyBDb25uZWN0YWJsZU9ic2VydmFibGU8VD5cbiAqL1xudmFyIENvbm5lY3RhYmxlT2JzZXJ2YWJsZSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENvbm5lY3RhYmxlT2JzZXJ2YWJsZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDb25uZWN0YWJsZU9ic2VydmFibGUoc291cmNlLCBzdWJqZWN0RmFjdG9yeSkge1xuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgIHRoaXMuc3ViamVjdEZhY3RvcnkgPSBzdWJqZWN0RmFjdG9yeTtcbiAgICAgICAgdGhpcy5fcmVmQ291bnQgPSAwO1xuICAgICAgICB0aGlzLl9pc0NvbXBsZXRlID0gZmFsc2U7XG4gICAgfVxuICAgIENvbm5lY3RhYmxlT2JzZXJ2YWJsZS5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFN1YmplY3QoKS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgfTtcbiAgICBDb25uZWN0YWJsZU9ic2VydmFibGUucHJvdG90eXBlLmdldFN1YmplY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzdWJqZWN0ID0gdGhpcy5fc3ViamVjdDtcbiAgICAgICAgaWYgKCFzdWJqZWN0IHx8IHN1YmplY3QuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB0aGlzLl9zdWJqZWN0ID0gdGhpcy5zdWJqZWN0RmFjdG9yeSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9zdWJqZWN0O1xuICAgIH07XG4gICAgQ29ubmVjdGFibGVPYnNlcnZhYmxlLnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29ubmVjdGlvbiA9IHRoaXMuX2Nvbm5lY3Rpb247XG4gICAgICAgIGlmICghY29ubmVjdGlvbikge1xuICAgICAgICAgICAgdGhpcy5faXNDb21wbGV0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgY29ubmVjdGlvbiA9IHRoaXMuX2Nvbm5lY3Rpb24gPSBuZXcgU3Vic2NyaXB0aW9uXzEuU3Vic2NyaXB0aW9uKCk7XG4gICAgICAgICAgICBjb25uZWN0aW9uLmFkZCh0aGlzLnNvdXJjZVxuICAgICAgICAgICAgICAgIC5zdWJzY3JpYmUobmV3IENvbm5lY3RhYmxlU3Vic2NyaWJlcih0aGlzLmdldFN1YmplY3QoKSwgdGhpcykpKTtcbiAgICAgICAgICAgIGlmIChjb25uZWN0aW9uLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Nvbm5lY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24gPSBTdWJzY3JpcHRpb25fMS5TdWJzY3JpcHRpb24uRU1QVFk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jb25uZWN0aW9uID0gY29ubmVjdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29ubmVjdGlvbjtcbiAgICB9O1xuICAgIENvbm5lY3RhYmxlT2JzZXJ2YWJsZS5wcm90b3R5cGUucmVmQ291bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiByZWZDb3VudF8xLnJlZkNvdW50KCkodGhpcyk7XG4gICAgfTtcbiAgICByZXR1cm4gQ29ubmVjdGFibGVPYnNlcnZhYmxlO1xufShPYnNlcnZhYmxlXzEuT2JzZXJ2YWJsZSkpO1xuZXhwb3J0cy5Db25uZWN0YWJsZU9ic2VydmFibGUgPSBDb25uZWN0YWJsZU9ic2VydmFibGU7XG52YXIgY29ubmVjdGFibGVQcm90byA9IENvbm5lY3RhYmxlT2JzZXJ2YWJsZS5wcm90b3R5cGU7XG5leHBvcnRzLmNvbm5lY3RhYmxlT2JzZXJ2YWJsZURlc2NyaXB0b3IgPSB7XG4gICAgb3BlcmF0b3I6IHsgdmFsdWU6IG51bGwgfSxcbiAgICBfcmVmQ291bnQ6IHsgdmFsdWU6IDAsIHdyaXRhYmxlOiB0cnVlIH0sXG4gICAgX3N1YmplY3Q6IHsgdmFsdWU6IG51bGwsIHdyaXRhYmxlOiB0cnVlIH0sXG4gICAgX2Nvbm5lY3Rpb246IHsgdmFsdWU6IG51bGwsIHdyaXRhYmxlOiB0cnVlIH0sXG4gICAgX3N1YnNjcmliZTogeyB2YWx1ZTogY29ubmVjdGFibGVQcm90by5fc3Vic2NyaWJlIH0sXG4gICAgX2lzQ29tcGxldGU6IHsgdmFsdWU6IGNvbm5lY3RhYmxlUHJvdG8uX2lzQ29tcGxldGUsIHdyaXRhYmxlOiB0cnVlIH0sXG4gICAgZ2V0U3ViamVjdDogeyB2YWx1ZTogY29ubmVjdGFibGVQcm90by5nZXRTdWJqZWN0IH0sXG4gICAgY29ubmVjdDogeyB2YWx1ZTogY29ubmVjdGFibGVQcm90by5jb25uZWN0IH0sXG4gICAgcmVmQ291bnQ6IHsgdmFsdWU6IGNvbm5lY3RhYmxlUHJvdG8ucmVmQ291bnQgfVxufTtcbnZhciBDb25uZWN0YWJsZVN1YnNjcmliZXIgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDb25uZWN0YWJsZVN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ29ubmVjdGFibGVTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBjb25uZWN0YWJsZSkge1xuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbik7XG4gICAgICAgIHRoaXMuY29ubmVjdGFibGUgPSBjb25uZWN0YWJsZTtcbiAgICB9XG4gICAgQ29ubmVjdGFibGVTdWJzY3JpYmVyLnByb3RvdHlwZS5fZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHRoaXMuX3Vuc3Vic2NyaWJlKCk7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuX2Vycm9yLmNhbGwodGhpcywgZXJyKTtcbiAgICB9O1xuICAgIENvbm5lY3RhYmxlU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNvbm5lY3RhYmxlLl9pc0NvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fdW5zdWJzY3JpYmUoKTtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5fY29tcGxldGUuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIENvbm5lY3RhYmxlU3Vic2NyaWJlci5wcm90b3R5cGUuX3Vuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29ubmVjdGFibGUgPSB0aGlzLmNvbm5lY3RhYmxlO1xuICAgICAgICBpZiAoY29ubmVjdGFibGUpIHtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGFibGUgPSBudWxsO1xuICAgICAgICAgICAgdmFyIGNvbm5lY3Rpb24gPSBjb25uZWN0YWJsZS5fY29ubmVjdGlvbjtcbiAgICAgICAgICAgIGNvbm5lY3RhYmxlLl9yZWZDb3VudCA9IDA7XG4gICAgICAgICAgICBjb25uZWN0YWJsZS5fc3ViamVjdCA9IG51bGw7XG4gICAgICAgICAgICBjb25uZWN0YWJsZS5fY29ubmVjdGlvbiA9IG51bGw7XG4gICAgICAgICAgICBpZiAoY29ubmVjdGlvbikge1xuICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIENvbm5lY3RhYmxlU3Vic2NyaWJlcjtcbn0oU3ViamVjdF8xLlN1YmplY3RTdWJzY3JpYmVyKSk7XG52YXIgUmVmQ291bnRPcGVyYXRvciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVmQ291bnRPcGVyYXRvcihjb25uZWN0YWJsZSkge1xuICAgICAgICB0aGlzLmNvbm5lY3RhYmxlID0gY29ubmVjdGFibGU7XG4gICAgfVxuICAgIFJlZkNvdW50T3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHZhciBjb25uZWN0YWJsZSA9IHRoaXMuY29ubmVjdGFibGU7XG4gICAgICAgIGNvbm5lY3RhYmxlLl9yZWZDb3VudCsrO1xuICAgICAgICB2YXIgcmVmQ291bnRlciA9IG5ldyBSZWZDb3VudFN1YnNjcmliZXIoc3Vic2NyaWJlciwgY29ubmVjdGFibGUpO1xuICAgICAgICB2YXIgc3Vic2NyaXB0aW9uID0gc291cmNlLnN1YnNjcmliZShyZWZDb3VudGVyKTtcbiAgICAgICAgaWYgKCFyZWZDb3VudGVyLmNsb3NlZCkge1xuICAgICAgICAgICAgcmVmQ291bnRlci5jb25uZWN0aW9uID0gY29ubmVjdGFibGUuY29ubmVjdCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgfTtcbiAgICByZXR1cm4gUmVmQ291bnRPcGVyYXRvcjtcbn0oKSk7XG52YXIgUmVmQ291bnRTdWJzY3JpYmVyID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUmVmQ291bnRTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFJlZkNvdW50U3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgY29ubmVjdGFibGUpIHtcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pO1xuICAgICAgICB0aGlzLmNvbm5lY3RhYmxlID0gY29ubmVjdGFibGU7XG4gICAgfVxuICAgIFJlZkNvdW50U3Vic2NyaWJlci5wcm90b3R5cGUuX3Vuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29ubmVjdGFibGUgPSB0aGlzLmNvbm5lY3RhYmxlO1xuICAgICAgICBpZiAoIWNvbm5lY3RhYmxlKSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29ubmVjdGFibGUgPSBudWxsO1xuICAgICAgICB2YXIgcmVmQ291bnQgPSBjb25uZWN0YWJsZS5fcmVmQ291bnQ7XG4gICAgICAgIGlmIChyZWZDb3VudCA8PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbm5lY3RhYmxlLl9yZWZDb3VudCA9IHJlZkNvdW50IC0gMTtcbiAgICAgICAgaWYgKHJlZkNvdW50ID4gMSkge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLy9cbiAgICAgICAgLy8gQ29tcGFyZSB0aGUgbG9jYWwgUmVmQ291bnRTdWJzY3JpYmVyJ3MgY29ubmVjdGlvbiBTdWJzY3JpcHRpb24gdG8gdGhlXG4gICAgICAgIC8vIGNvbm5lY3Rpb24gU3Vic2NyaXB0aW9uIG9uIHRoZSBzaGFyZWQgQ29ubmVjdGFibGVPYnNlcnZhYmxlLiBJbiBjYXNlc1xuICAgICAgICAvLyB3aGVyZSB0aGUgQ29ubmVjdGFibGVPYnNlcnZhYmxlIHNvdXJjZSBzeW5jaHJvbm91c2x5IGVtaXRzIHZhbHVlcywgYW5kXG4gICAgICAgIC8vIHRoZSBSZWZDb3VudFN1YnNjcmliZXIncyBkb3duc3RyZWFtIE9ic2VydmVycyBzeW5jaHJvbm91c2x5IHVuc3Vic2NyaWJlLFxuICAgICAgICAvLyBleGVjdXRpb24gY29udGludWVzIHRvIGhlcmUgYmVmb3JlIHRoZSBSZWZDb3VudE9wZXJhdG9yIGhhcyBhIGNoYW5jZSB0b1xuICAgICAgICAvLyBzdXBwbHkgdGhlIFJlZkNvdW50U3Vic2NyaWJlciB3aXRoIHRoZSBzaGFyZWQgY29ubmVjdGlvbiBTdWJzY3JpcHRpb24uXG4gICAgICAgIC8vIEZvciBleGFtcGxlOlxuICAgICAgICAvLyBgYGBcbiAgICAgICAgLy8gT2JzZXJ2YWJsZS5yYW5nZSgwLCAxMClcbiAgICAgICAgLy8gICAucHVibGlzaCgpXG4gICAgICAgIC8vICAgLnJlZkNvdW50KClcbiAgICAgICAgLy8gICAudGFrZSg1KVxuICAgICAgICAvLyAgIC5zdWJzY3JpYmUoKTtcbiAgICAgICAgLy8gYGBgXG4gICAgICAgIC8vIEluIG9yZGVyIHRvIGFjY291bnQgZm9yIHRoaXMgY2FzZSwgUmVmQ291bnRTdWJzY3JpYmVyIHNob3VsZCBvbmx5IGRpc3Bvc2VcbiAgICAgICAgLy8gdGhlIENvbm5lY3RhYmxlT2JzZXJ2YWJsZSdzIHNoYXJlZCBjb25uZWN0aW9uIFN1YnNjcmlwdGlvbiBpZiB0aGVcbiAgICAgICAgLy8gY29ubmVjdGlvbiBTdWJzY3JpcHRpb24gZXhpc3RzLCAqYW5kKiBlaXRoZXI6XG4gICAgICAgIC8vICAgYS4gUmVmQ291bnRTdWJzY3JpYmVyIGRvZXNuJ3QgaGF2ZSBhIHJlZmVyZW5jZSB0byB0aGUgc2hhcmVkIGNvbm5lY3Rpb25cbiAgICAgICAgLy8gICAgICBTdWJzY3JpcHRpb24geWV0LCBvcixcbiAgICAgICAgLy8gICBiLiBSZWZDb3VudFN1YnNjcmliZXIncyBjb25uZWN0aW9uIFN1YnNjcmlwdGlvbiByZWZlcmVuY2UgaXMgaWRlbnRpY2FsXG4gICAgICAgIC8vICAgICAgdG8gdGhlIHNoYXJlZCBjb25uZWN0aW9uIFN1YnNjcmlwdGlvblxuICAgICAgICAvLy9cbiAgICAgICAgdmFyIGNvbm5lY3Rpb24gPSB0aGlzLmNvbm5lY3Rpb247XG4gICAgICAgIHZhciBzaGFyZWRDb25uZWN0aW9uID0gY29ubmVjdGFibGUuX2Nvbm5lY3Rpb247XG4gICAgICAgIHRoaXMuY29ubmVjdGlvbiA9IG51bGw7XG4gICAgICAgIGlmIChzaGFyZWRDb25uZWN0aW9uICYmICghY29ubmVjdGlvbiB8fCBzaGFyZWRDb25uZWN0aW9uID09PSBjb25uZWN0aW9uKSkge1xuICAgICAgICAgICAgc2hhcmVkQ29ubmVjdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gUmVmQ291bnRTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyXzEuU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29ubmVjdGFibGVPYnNlcnZhYmxlLmpzLm1hcFxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9yeGpzL29ic2VydmFibGUvQ29ubmVjdGFibGVPYnNlcnZhYmxlLmpzXG4vLyBtb2R1bGUgaWQgPSA0MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG59O1xudmFyIE9ic2VydmFibGVfMSA9IHJlcXVpcmUoJy4vT2JzZXJ2YWJsZScpO1xudmFyIFN1YnNjcmliZXJfMSA9IHJlcXVpcmUoJy4vU3Vic2NyaWJlcicpO1xudmFyIFN1YnNjcmlwdGlvbl8xID0gcmVxdWlyZSgnLi9TdWJzY3JpcHRpb24nKTtcbnZhciBPYmplY3RVbnN1YnNjcmliZWRFcnJvcl8xID0gcmVxdWlyZSgnLi91dGlsL09iamVjdFVuc3Vic2NyaWJlZEVycm9yJyk7XG52YXIgU3ViamVjdFN1YnNjcmlwdGlvbl8xID0gcmVxdWlyZSgnLi9TdWJqZWN0U3Vic2NyaXB0aW9uJyk7XG52YXIgcnhTdWJzY3JpYmVyXzEgPSByZXF1aXJlKCcuL3N5bWJvbC9yeFN1YnNjcmliZXInKTtcbi8qKlxuICogQGNsYXNzIFN1YmplY3RTdWJzY3JpYmVyPFQ+XG4gKi9cbnZhciBTdWJqZWN0U3Vic2NyaWJlciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFN1YmplY3RTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN1YmplY3RTdWJzY3JpYmVyKGRlc3RpbmF0aW9uKSB7XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKTtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbiA9IGRlc3RpbmF0aW9uO1xuICAgIH1cbiAgICByZXR1cm4gU3ViamVjdFN1YnNjcmliZXI7XG59KFN1YnNjcmliZXJfMS5TdWJzY3JpYmVyKSk7XG5leHBvcnRzLlN1YmplY3RTdWJzY3JpYmVyID0gU3ViamVjdFN1YnNjcmliZXI7XG4vKipcbiAqIEBjbGFzcyBTdWJqZWN0PFQ+XG4gKi9cbnZhciBTdWJqZWN0ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU3ViamVjdCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTdWJqZWN0KCkge1xuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5vYnNlcnZlcnMgPSBbXTtcbiAgICAgICAgdGhpcy5jbG9zZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5oYXNFcnJvciA9IGZhbHNlO1xuICAgICAgICB0aGlzLnRocm93bkVycm9yID0gbnVsbDtcbiAgICB9XG4gICAgU3ViamVjdC5wcm90b3R5cGVbcnhTdWJzY3JpYmVyXzEucnhTdWJzY3JpYmVyXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTdWJqZWN0U3Vic2NyaWJlcih0aGlzKTtcbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLmxpZnQgPSBmdW5jdGlvbiAob3BlcmF0b3IpIHtcbiAgICAgICAgdmFyIHN1YmplY3QgPSBuZXcgQW5vbnltb3VzU3ViamVjdCh0aGlzLCB0aGlzKTtcbiAgICAgICAgc3ViamVjdC5vcGVyYXRvciA9IG9wZXJhdG9yO1xuICAgICAgICByZXR1cm4gc3ViamVjdDtcbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3JfMS5PYmplY3RVbnN1YnNjcmliZWRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHZhciBvYnNlcnZlcnMgPSB0aGlzLm9ic2VydmVycztcbiAgICAgICAgICAgIHZhciBsZW4gPSBvYnNlcnZlcnMubGVuZ3RoO1xuICAgICAgICAgICAgdmFyIGNvcHkgPSBvYnNlcnZlcnMuc2xpY2UoKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb3B5W2ldLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJqZWN0LnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3JfMS5PYmplY3RVbnN1YnNjcmliZWRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaGFzRXJyb3IgPSB0cnVlO1xuICAgICAgICB0aGlzLnRocm93bkVycm9yID0gZXJyO1xuICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgIHZhciBvYnNlcnZlcnMgPSB0aGlzLm9ic2VydmVycztcbiAgICAgICAgdmFyIGxlbiA9IG9ic2VydmVycy5sZW5ndGg7XG4gICAgICAgIHZhciBjb3B5ID0gb2JzZXJ2ZXJzLnNsaWNlKCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGNvcHlbaV0uZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9ic2VydmVycy5sZW5ndGggPSAwO1xuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yXzEuT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgIHZhciBvYnNlcnZlcnMgPSB0aGlzLm9ic2VydmVycztcbiAgICAgICAgdmFyIGxlbiA9IG9ic2VydmVycy5sZW5ndGg7XG4gICAgICAgIHZhciBjb3B5ID0gb2JzZXJ2ZXJzLnNsaWNlKCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGNvcHlbaV0uY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9ic2VydmVycy5sZW5ndGggPSAwO1xuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5jbG9zZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLm9ic2VydmVycyA9IG51bGw7XG4gICAgfTtcbiAgICBTdWJqZWN0LnByb3RvdHlwZS5fdHJ5U3Vic2NyaWJlID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3JfMS5PYmplY3RVbnN1YnNjcmliZWRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuX3RyeVN1YnNjcmliZS5jYWxsKHRoaXMsIHN1YnNjcmliZXIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJqZWN0LnByb3RvdHlwZS5fc3Vic2NyaWJlID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3JfMS5PYmplY3RVbnN1YnNjcmliZWRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuaGFzRXJyb3IpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IodGhpcy50aHJvd25FcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gU3Vic2NyaXB0aW9uXzEuU3Vic2NyaXB0aW9uLkVNUFRZO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICByZXR1cm4gU3Vic2NyaXB0aW9uXzEuU3Vic2NyaXB0aW9uLkVNUFRZO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlcnMucHVzaChzdWJzY3JpYmVyKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU3ViamVjdFN1YnNjcmlwdGlvbl8xLlN1YmplY3RTdWJzY3JpcHRpb24odGhpcywgc3Vic2NyaWJlcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLmFzT2JzZXJ2YWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZV8xLk9ic2VydmFibGUoKTtcbiAgICAgICAgb2JzZXJ2YWJsZS5zb3VyY2UgPSB0aGlzO1xuICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZTtcbiAgICB9O1xuICAgIFN1YmplY3QuY3JlYXRlID0gZnVuY3Rpb24gKGRlc3RpbmF0aW9uLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBbm9ueW1vdXNTdWJqZWN0KGRlc3RpbmF0aW9uLCBzb3VyY2UpO1xuICAgIH07XG4gICAgcmV0dXJuIFN1YmplY3Q7XG59KE9ic2VydmFibGVfMS5PYnNlcnZhYmxlKSk7XG5leHBvcnRzLlN1YmplY3QgPSBTdWJqZWN0O1xuLyoqXG4gKiBAY2xhc3MgQW5vbnltb3VzU3ViamVjdDxUPlxuICovXG52YXIgQW5vbnltb3VzU3ViamVjdCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFub255bW91c1N1YmplY3QsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQW5vbnltb3VzU3ViamVjdChkZXN0aW5hdGlvbiwgc291cmNlKSB7XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uID0gZGVzdGluYXRpb247XG4gICAgICAgIHRoaXMuc291cmNlID0gc291cmNlO1xuICAgIH1cbiAgICBBbm9ueW1vdXNTdWJqZWN0LnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHRoaXMuZGVzdGluYXRpb247XG4gICAgICAgIGlmIChkZXN0aW5hdGlvbiAmJiBkZXN0aW5hdGlvbi5uZXh0KSB7XG4gICAgICAgICAgICBkZXN0aW5hdGlvbi5uZXh0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQW5vbnltb3VzU3ViamVjdC5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHRoaXMuZGVzdGluYXRpb247XG4gICAgICAgIGlmIChkZXN0aW5hdGlvbiAmJiBkZXN0aW5hdGlvbi5lcnJvcikge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBbm9ueW1vdXNTdWJqZWN0LnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRlc3RpbmF0aW9uID0gdGhpcy5kZXN0aW5hdGlvbjtcbiAgICAgICAgaWYgKGRlc3RpbmF0aW9uICYmIGRlc3RpbmF0aW9uLmNvbXBsZXRlKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFub255bW91c1N1YmplY3QucHJvdG90eXBlLl9zdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgc291cmNlID0gdGhpcy5zb3VyY2U7XG4gICAgICAgIGlmIChzb3VyY2UpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNvdXJjZS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gU3Vic2NyaXB0aW9uXzEuU3Vic2NyaXB0aW9uLkVNUFRZO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQW5vbnltb3VzU3ViamVjdDtcbn0oU3ViamVjdCkpO1xuZXhwb3J0cy5Bbm9ueW1vdXNTdWJqZWN0ID0gQW5vbnltb3VzU3ViamVjdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN1YmplY3QuanMubWFwXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3J4anMvU3ViamVjdC5qc1xuLy8gbW9kdWxlIGlkID0gNDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xufTtcbi8qKlxuICogQW4gZXJyb3IgdGhyb3duIHdoZW4gYW4gYWN0aW9uIGlzIGludmFsaWQgYmVjYXVzZSB0aGUgb2JqZWN0IGhhcyBiZWVuXG4gKiB1bnN1YnNjcmliZWQuXG4gKlxuICogQHNlZSB7QGxpbmsgU3ViamVjdH1cbiAqIEBzZWUge0BsaW5rIEJlaGF2aW9yU3ViamVjdH1cbiAqXG4gKiBAY2xhc3MgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3JcbiAqL1xudmFyIE9iamVjdFVuc3Vic2NyaWJlZEVycm9yID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IoKSB7XG4gICAgICAgIHZhciBlcnIgPSBfc3VwZXIuY2FsbCh0aGlzLCAnb2JqZWN0IHVuc3Vic2NyaWJlZCcpO1xuICAgICAgICB0aGlzLm5hbWUgPSBlcnIubmFtZSA9ICdPYmplY3RVbnN1YnNjcmliZWRFcnJvcic7XG4gICAgICAgIHRoaXMuc3RhY2sgPSBlcnIuc3RhY2s7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IGVyci5tZXNzYWdlO1xuICAgIH1cbiAgICByZXR1cm4gT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3I7XG59KEVycm9yKSk7XG5leHBvcnRzLk9iamVjdFVuc3Vic2NyaWJlZEVycm9yID0gT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PYmplY3RVbnN1YnNjcmliZWRFcnJvci5qcy5tYXBcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcnhqcy91dGlsL09iamVjdFVuc3Vic2NyaWJlZEVycm9yLmpzXG4vLyBtb2R1bGUgaWQgPSA0M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG59O1xudmFyIFN1YnNjcmlwdGlvbl8xID0gcmVxdWlyZSgnLi9TdWJzY3JpcHRpb24nKTtcbi8qKlxuICogV2UgbmVlZCB0aGlzIEpTRG9jIGNvbW1lbnQgZm9yIGFmZmVjdGluZyBFU0RvYy5cbiAqIEBpZ25vcmVcbiAqIEBleHRlbmRzIHtJZ25vcmVkfVxuICovXG52YXIgU3ViamVjdFN1YnNjcmlwdGlvbiA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFN1YmplY3RTdWJzY3JpcHRpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3ViamVjdFN1YnNjcmlwdGlvbihzdWJqZWN0LCBzdWJzY3JpYmVyKSB7XG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLnN1YmplY3QgPSBzdWJqZWN0O1xuICAgICAgICB0aGlzLnN1YnNjcmliZXIgPSBzdWJzY3JpYmVyO1xuICAgICAgICB0aGlzLmNsb3NlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBTdWJqZWN0U3Vic2NyaXB0aW9uLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jbG9zZWQgPSB0cnVlO1xuICAgICAgICB2YXIgc3ViamVjdCA9IHRoaXMuc3ViamVjdDtcbiAgICAgICAgdmFyIG9ic2VydmVycyA9IHN1YmplY3Qub2JzZXJ2ZXJzO1xuICAgICAgICB0aGlzLnN1YmplY3QgPSBudWxsO1xuICAgICAgICBpZiAoIW9ic2VydmVycyB8fCBvYnNlcnZlcnMubGVuZ3RoID09PSAwIHx8IHN1YmplY3QuaXNTdG9wcGVkIHx8IHN1YmplY3QuY2xvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN1YnNjcmliZXJJbmRleCA9IG9ic2VydmVycy5pbmRleE9mKHRoaXMuc3Vic2NyaWJlcik7XG4gICAgICAgIGlmIChzdWJzY3JpYmVySW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICBvYnNlcnZlcnMuc3BsaWNlKHN1YnNjcmliZXJJbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBTdWJqZWN0U3Vic2NyaXB0aW9uO1xufShTdWJzY3JpcHRpb25fMS5TdWJzY3JpcHRpb24pKTtcbmV4cG9ydHMuU3ViamVjdFN1YnNjcmlwdGlvbiA9IFN1YmplY3RTdWJzY3JpcHRpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdWJqZWN0U3Vic2NyaXB0aW9uLmpzLm1hcFxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9yeGpzL1N1YmplY3RTdWJzY3JpcHRpb24uanNcbi8vIG1vZHVsZSBpZCA9IDQ0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCBmdW5jdGlvbiAoZCwgYikge1xuICAgIGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbn07XG52YXIgU3Vic2NyaWJlcl8xID0gcmVxdWlyZSgnLi4vU3Vic2NyaWJlcicpO1xuZnVuY3Rpb24gcmVmQ291bnQoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHJlZkNvdW50T3BlcmF0b3JGdW5jdGlvbihzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBSZWZDb3VudE9wZXJhdG9yKHNvdXJjZSkpO1xuICAgIH07XG59XG5leHBvcnRzLnJlZkNvdW50ID0gcmVmQ291bnQ7XG52YXIgUmVmQ291bnRPcGVyYXRvciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVmQ291bnRPcGVyYXRvcihjb25uZWN0YWJsZSkge1xuICAgICAgICB0aGlzLmNvbm5lY3RhYmxlID0gY29ubmVjdGFibGU7XG4gICAgfVxuICAgIFJlZkNvdW50T3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHZhciBjb25uZWN0YWJsZSA9IHRoaXMuY29ubmVjdGFibGU7XG4gICAgICAgIGNvbm5lY3RhYmxlLl9yZWZDb3VudCsrO1xuICAgICAgICB2YXIgcmVmQ291bnRlciA9IG5ldyBSZWZDb3VudFN1YnNjcmliZXIoc3Vic2NyaWJlciwgY29ubmVjdGFibGUpO1xuICAgICAgICB2YXIgc3Vic2NyaXB0aW9uID0gc291cmNlLnN1YnNjcmliZShyZWZDb3VudGVyKTtcbiAgICAgICAgaWYgKCFyZWZDb3VudGVyLmNsb3NlZCkge1xuICAgICAgICAgICAgcmVmQ291bnRlci5jb25uZWN0aW9uID0gY29ubmVjdGFibGUuY29ubmVjdCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgfTtcbiAgICByZXR1cm4gUmVmQ291bnRPcGVyYXRvcjtcbn0oKSk7XG52YXIgUmVmQ291bnRTdWJzY3JpYmVyID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUmVmQ291bnRTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFJlZkNvdW50U3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgY29ubmVjdGFibGUpIHtcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pO1xuICAgICAgICB0aGlzLmNvbm5lY3RhYmxlID0gY29ubmVjdGFibGU7XG4gICAgfVxuICAgIFJlZkNvdW50U3Vic2NyaWJlci5wcm90b3R5cGUuX3Vuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29ubmVjdGFibGUgPSB0aGlzLmNvbm5lY3RhYmxlO1xuICAgICAgICBpZiAoIWNvbm5lY3RhYmxlKSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29ubmVjdGFibGUgPSBudWxsO1xuICAgICAgICB2YXIgcmVmQ291bnQgPSBjb25uZWN0YWJsZS5fcmVmQ291bnQ7XG4gICAgICAgIGlmIChyZWZDb3VudCA8PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbm5lY3RhYmxlLl9yZWZDb3VudCA9IHJlZkNvdW50IC0gMTtcbiAgICAgICAgaWYgKHJlZkNvdW50ID4gMSkge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLy9cbiAgICAgICAgLy8gQ29tcGFyZSB0aGUgbG9jYWwgUmVmQ291bnRTdWJzY3JpYmVyJ3MgY29ubmVjdGlvbiBTdWJzY3JpcHRpb24gdG8gdGhlXG4gICAgICAgIC8vIGNvbm5lY3Rpb24gU3Vic2NyaXB0aW9uIG9uIHRoZSBzaGFyZWQgQ29ubmVjdGFibGVPYnNlcnZhYmxlLiBJbiBjYXNlc1xuICAgICAgICAvLyB3aGVyZSB0aGUgQ29ubmVjdGFibGVPYnNlcnZhYmxlIHNvdXJjZSBzeW5jaHJvbm91c2x5IGVtaXRzIHZhbHVlcywgYW5kXG4gICAgICAgIC8vIHRoZSBSZWZDb3VudFN1YnNjcmliZXIncyBkb3duc3RyZWFtIE9ic2VydmVycyBzeW5jaHJvbm91c2x5IHVuc3Vic2NyaWJlLFxuICAgICAgICAvLyBleGVjdXRpb24gY29udGludWVzIHRvIGhlcmUgYmVmb3JlIHRoZSBSZWZDb3VudE9wZXJhdG9yIGhhcyBhIGNoYW5jZSB0b1xuICAgICAgICAvLyBzdXBwbHkgdGhlIFJlZkNvdW50U3Vic2NyaWJlciB3aXRoIHRoZSBzaGFyZWQgY29ubmVjdGlvbiBTdWJzY3JpcHRpb24uXG4gICAgICAgIC8vIEZvciBleGFtcGxlOlxuICAgICAgICAvLyBgYGBcbiAgICAgICAgLy8gT2JzZXJ2YWJsZS5yYW5nZSgwLCAxMClcbiAgICAgICAgLy8gICAucHVibGlzaCgpXG4gICAgICAgIC8vICAgLnJlZkNvdW50KClcbiAgICAgICAgLy8gICAudGFrZSg1KVxuICAgICAgICAvLyAgIC5zdWJzY3JpYmUoKTtcbiAgICAgICAgLy8gYGBgXG4gICAgICAgIC8vIEluIG9yZGVyIHRvIGFjY291bnQgZm9yIHRoaXMgY2FzZSwgUmVmQ291bnRTdWJzY3JpYmVyIHNob3VsZCBvbmx5IGRpc3Bvc2VcbiAgICAgICAgLy8gdGhlIENvbm5lY3RhYmxlT2JzZXJ2YWJsZSdzIHNoYXJlZCBjb25uZWN0aW9uIFN1YnNjcmlwdGlvbiBpZiB0aGVcbiAgICAgICAgLy8gY29ubmVjdGlvbiBTdWJzY3JpcHRpb24gZXhpc3RzLCAqYW5kKiBlaXRoZXI6XG4gICAgICAgIC8vICAgYS4gUmVmQ291bnRTdWJzY3JpYmVyIGRvZXNuJ3QgaGF2ZSBhIHJlZmVyZW5jZSB0byB0aGUgc2hhcmVkIGNvbm5lY3Rpb25cbiAgICAgICAgLy8gICAgICBTdWJzY3JpcHRpb24geWV0LCBvcixcbiAgICAgICAgLy8gICBiLiBSZWZDb3VudFN1YnNjcmliZXIncyBjb25uZWN0aW9uIFN1YnNjcmlwdGlvbiByZWZlcmVuY2UgaXMgaWRlbnRpY2FsXG4gICAgICAgIC8vICAgICAgdG8gdGhlIHNoYXJlZCBjb25uZWN0aW9uIFN1YnNjcmlwdGlvblxuICAgICAgICAvLy9cbiAgICAgICAgdmFyIGNvbm5lY3Rpb24gPSB0aGlzLmNvbm5lY3Rpb247XG4gICAgICAgIHZhciBzaGFyZWRDb25uZWN0aW9uID0gY29ubmVjdGFibGUuX2Nvbm5lY3Rpb247XG4gICAgICAgIHRoaXMuY29ubmVjdGlvbiA9IG51bGw7XG4gICAgICAgIGlmIChzaGFyZWRDb25uZWN0aW9uICYmICghY29ubmVjdGlvbiB8fCBzaGFyZWRDb25uZWN0aW9uID09PSBjb25uZWN0aW9uKSkge1xuICAgICAgICAgICAgc2hhcmVkQ29ubmVjdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gUmVmQ291bnRTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyXzEuU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVmQ291bnQuanMubWFwXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3J4anMvb3BlcmF0b3JzL3JlZkNvdW50LmpzXG4vLyBtb2R1bGUgaWQgPSA0NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJkZWZpbmUoW1wicmVxdWlyZVwiLCBcImV4cG9ydHNcIl0sIGZ1bmN0aW9uIChyZXF1aXJlLCBleHBvcnRzKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuICAgIHZhciBGb3JtQmFzZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIEZvcm1CYXNlKCkge1xuICAgICAgICB9XG4gICAgICAgIEZvcm1CYXNlLnByb3RvdHlwZS5sb2NhbENoYW5nZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wYWdhdGVDaGFuZ2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvcGFnYXRlQ2hhbmdlKChlLmNoZWNrZWQgPT09IHVuZGVmaW5lZCA/IGUudmFsdWUgOiBlLmNoZWNrZWQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgRm9ybUJhc2UucHJvdG90eXBlLnJlZ2lzdGVyT25DaGFuZ2UgPSBmdW5jdGlvbiAocmVnaXN0ZXJGdW5jdGlvbikge1xuICAgICAgICAgICAgdGhpcy5wcm9wYWdhdGVDaGFuZ2UgPSByZWdpc3RlckZ1bmN0aW9uO1xuICAgICAgICB9O1xuICAgICAgICBGb3JtQmFzZS5wcm90b3R5cGUucmVnaXN0ZXJPblRvdWNoZWQgPSBmdW5jdGlvbiAocmVnaXN0ZXJGdW5jdGlvbikge1xuICAgICAgICAgICAgdGhpcy5wcm9wYWdhdGVUb3VjaCA9IHJlZ2lzdGVyRnVuY3Rpb247XG4gICAgICAgIH07XG4gICAgICAgIEZvcm1CYXNlLnByb3RvdHlwZS5uZ0FmdGVyVmlld0luaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLmFwcGVuZFRvKHRoaXMuZWxlbWVudCk7XG4gICAgICAgICAgICBpZiAodGhpcy5uZ0VsZS5uYXRpdmVFbGVtZW50Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgIT09ICdpbnB1dCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLm5nT25Gb2N1cy5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMubmdPbkJsdXIuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIEZvcm1CYXNlLnByb3RvdHlwZS53cml0ZVZhbHVlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIH07XG4gICAgICAgIEZvcm1CYXNlLnByb3RvdHlwZS5uZ09uRm9jdXMgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgdGhpcy5mb2N1cy5lbWl0KGUpO1xuICAgICAgICB9O1xuICAgICAgICBGb3JtQmFzZS5wcm90b3R5cGUubmdPbkJsdXIgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgdGhpcy5ibHVyLmVtaXQoZSk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBGb3JtQmFzZTtcbiAgICB9KCkpO1xuICAgIGV4cG9ydHMuRm9ybUJhc2UgPSBGb3JtQmFzZTtcbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvZm9ybS1iYXNlLmpzXG4vLyBtb2R1bGUgaWQgPSA0NlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJkZWZpbmUoW1wicmVxdWlyZVwiLCBcImV4cG9ydHNcIiwgXCJAc3luY2Z1c2lvbi9lajItYmFzZVwiLCBcIkBzeW5jZnVzaW9uL2VqMi1iYXNlXCJdLCBmdW5jdGlvbiAocmVxdWlyZSwgZXhwb3J0cywgZWoyX2Jhc2VfMSwgZWoyX2Jhc2VfMikge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbiAgICB2YXIgc3RyaW5nQ29tcGlsZXIgPSBlajJfYmFzZV8xLmdldFRlbXBsYXRlRW5naW5lKCk7XG4gICAgZnVuY3Rpb24gY29tcGlsZSh0ZW1wbGF0ZUVsZSwgaGVscGVyKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGVtcGxhdGVFbGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RyaW5nQ29tcGlsZXIodGVtcGxhdGVFbGUsIGhlbHBlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgY29udFJlZl8xID0gdGVtcGxhdGVFbGUuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50Ll92aWV3Q29udGFpbmVyUmVmO1xuICAgICAgICAgICAgdmFyIHBOYW1lXzEgPSB0ZW1wbGF0ZUVsZS5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQucHJvcE5hbWU7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGRhdGEsIGNvbXBvbmVudCwgcHJvcE5hbWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgY29udGV4dCA9IHsgJGltcGxpY2l0OiBkYXRhIH07XG4gICAgICAgICAgICAgICAgdmFyIGNvblJlZiA9IGNvbnRSZWZfMSA/IGNvbnRSZWZfMSA6IGNvbXBvbmVudC52aWV3Q29udGFpbmVyUmVmO1xuICAgICAgICAgICAgICAgIHZhciB2aWV3UmVmID0gY29uUmVmLmNyZWF0ZUVtYmVkZGVkVmlldyh0ZW1wbGF0ZUVsZSwgY29udGV4dCk7XG4gICAgICAgICAgICAgICAgdmFyIHZpZXdDb2xsZWN0aW9uID0gY29tcG9uZW50ID9cbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50LnJlZ2lzdGVyZWRUZW1wbGF0ZSA6IGVqMl9iYXNlXzIuZ2V0VmFsdWUoJ2N1cnJlbnRJbnN0YW5jZS5yZWdpc3RlcmVkVGVtcGxhdGUnLCBjb25SZWYpO1xuICAgICAgICAgICAgICAgIHByb3BOYW1lID0gcHJvcE5hbWUgPyBwcm9wTmFtZSA6IHBOYW1lXzE7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2aWV3Q29sbGVjdGlvbltwcm9wTmFtZV0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHZpZXdDb2xsZWN0aW9uW3Byb3BOYW1lXSA9IFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2aWV3Q29sbGVjdGlvbltwcm9wTmFtZV0ucHVzaCh2aWV3UmVmKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmlld1JlZi5yb290Tm9kZXM7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGV4cG9ydHMuY29tcGlsZSA9IGNvbXBpbGU7XG4gICAgZnVuY3Rpb24gVGVtcGxhdGUoZGVmYXVsdFZhbHVlKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHtcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eURlc2NyaXB0b3IgPSB7XG4gICAgICAgICAgICAgICAgc2V0OiBzZXR0ZXIoa2V5KSxcbiAgICAgICAgICAgICAgICBnZXQ6IGdldHRlcihrZXksIGRlZmF1bHRWYWx1ZSksXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHByb3BlcnR5RGVzY3JpcHRvcik7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGV4cG9ydHMuVGVtcGxhdGUgPSBUZW1wbGF0ZTtcbiAgICBmdW5jdGlvbiBzZXR0ZXIoa2V5KSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgICAgICBpZiAodmFsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlajJfYmFzZV8yLnNldFZhbHVlKGtleSArICdSZWYnLCB2YWwsIHRoaXMpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWwgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgdmFsLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudC5fdmlld0NvbnRhaW5lclJlZiA9IHRoaXMudmlld0NvbnRhaW5lclJlZjtcbiAgICAgICAgICAgICAgICB2YWwuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50LnByb3BOYW1lID0ga2V5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2F2ZUNoYW5nZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zYXZlQ2hhbmdlcyhrZXksIHZhbCwgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhQmluZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0dGVyKGtleSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZWoyX2Jhc2VfMi5nZXRWYWx1ZShrZXkgKyAnUmVmJywgdGhpcykgfHwgZGVmYXVsdFZhbHVlO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBlajJfYmFzZV8xLnNldFRlbXBsYXRlRW5naW5lKHsgY29tcGlsZTogY29tcGlsZSB9KTtcbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvdGVtcGxhdGUuanNcbi8vIG1vZHVsZSBpZCA9IDQ3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0="]}